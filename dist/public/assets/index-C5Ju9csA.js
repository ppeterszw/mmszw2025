var zL=Object.defineProperty;var DN=t=>{throw TypeError(t)};var UL=(t,s,r)=>s in t?zL(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r;var T=(t,s,r)=>UL(t,typeof s!="symbol"?s+"":s,r),Sg=(t,s,r)=>s.has(t)||DN("Cannot "+r);var C=(t,s,r)=>(Sg(t,s,"read from private field"),r?r.call(t):s.get(t)),de=(t,s,r)=>s.has(t)?DN("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,r),me=(t,s,r,n)=>(Sg(t,s,"write to private field"),n?n.call(t,r):s.set(t,r),r),xe=(t,s,r)=>(Sg(t,s,"access private method"),r);var kh=(t,s,r,n)=>({set _(a){me(t,s,a,r)},get _(){return C(t,s,n)}});function $L(t,s){for(var r=0;r<s.length;r++){const n=s[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ji(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ZP={exports:{}},Cx={},XP={exports:{}},Ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var th=Symbol.for("react.element"),VL=Symbol.for("react.portal"),BL=Symbol.for("react.fragment"),qL=Symbol.for("react.strict_mode"),WL=Symbol.for("react.profiler"),HL=Symbol.for("react.provider"),KL=Symbol.for("react.context"),GL=Symbol.for("react.forward_ref"),QL=Symbol.for("react.suspense"),YL=Symbol.for("react.memo"),ZL=Symbol.for("react.lazy"),MN=Symbol.iterator;function XL(t){return t===null||typeof t!="object"?null:(t=MN&&t[MN]||t["@@iterator"],typeof t=="function"?t:null)}var JP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eE=Object.assign,tE={};function Rd(t,s,r){this.props=t,this.context=s,this.refs=tE,this.updater=r||JP}Rd.prototype.isReactComponent={};Rd.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};Rd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sE(){}sE.prototype=Rd.prototype;function qv(t,s,r){this.props=t,this.context=s,this.refs=tE,this.updater=r||JP}var Wv=qv.prototype=new sE;Wv.constructor=qv;eE(Wv,Rd.prototype);Wv.isPureReactComponent=!0;var ON=Array.isArray,rE=Object.prototype.hasOwnProperty,Hv={current:null},nE={key:!0,ref:!0,__self:!0,__source:!0};function aE(t,s,r){var n,a={},i=null,l=null;if(s!=null)for(n in s.ref!==void 0&&(l=s.ref),s.key!==void 0&&(i=""+s.key),s)rE.call(s,n)&&!nE.hasOwnProperty(n)&&(a[n]=s[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:th,type:t,key:i,ref:l,props:a,_owner:Hv.current}}function JL(t,s){return{$$typeof:th,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function Kv(t){return typeof t=="object"&&t!==null&&t.$$typeof===th}function e8(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return s[r]})}var IN=/\/+/g;function _g(t,s){return typeof t=="object"&&t!==null&&t.key!=null?e8(""+t.key):s.toString(36)}function Np(t,s,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case th:case VL:l=!0}}if(l)return l=t,a=a(l),t=n===""?"."+_g(l,0):n,ON(a)?(r="",t!=null&&(r=t.replace(IN,"$&/")+"/"),Np(a,s,r,"",function(d){return d})):a!=null&&(Kv(a)&&(a=JL(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(IN,"$&/")+"/")+t)),s.push(a)),1;if(l=0,n=n===""?".":n+":",ON(t))for(var o=0;o<t.length;o++){i=t[o];var c=n+_g(i,o);l+=Np(i,s,r,c,a)}else if(c=XL(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=n+_g(i,o++),l+=Np(i,s,r,c,a);else if(i==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return l}function Eh(t,s,r){if(t==null)return t;var n=[],a=0;return Np(t,n,"","",function(i){return s.call(r,i,a++)}),n}function t8(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var Or={current:null},Cp={transition:null},s8={ReactCurrentDispatcher:Or,ReactCurrentBatchConfig:Cp,ReactCurrentOwner:Hv};function iE(){throw Error("act(...) is not supported in production builds of React.")}Ct.Children={map:Eh,forEach:function(t,s,r){Eh(t,function(){s.apply(this,arguments)},r)},count:function(t){var s=0;return Eh(t,function(){s++}),s},toArray:function(t){return Eh(t,function(s){return s})||[]},only:function(t){if(!Kv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ct.Component=Rd;Ct.Fragment=BL;Ct.Profiler=WL;Ct.PureComponent=qv;Ct.StrictMode=qL;Ct.Suspense=QL;Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s8;Ct.act=iE;Ct.cloneElement=function(t,s,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=eE({},t.props),a=t.key,i=t.ref,l=t._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,l=Hv.current),s.key!==void 0&&(a=""+s.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in s)rE.call(s,c)&&!nE.hasOwnProperty(c)&&(n[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:th,type:t.type,key:a,ref:i,props:n,_owner:l}};Ct.createContext=function(t){return t={$$typeof:KL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HL,_context:t},t.Consumer=t};Ct.createElement=aE;Ct.createFactory=function(t){var s=aE.bind(null,t);return s.type=t,s};Ct.createRef=function(){return{current:null}};Ct.forwardRef=function(t){return{$$typeof:GL,render:t}};Ct.isValidElement=Kv;Ct.lazy=function(t){return{$$typeof:ZL,_payload:{_status:-1,_result:t},_init:t8}};Ct.memo=function(t,s){return{$$typeof:YL,type:t,compare:s===void 0?null:s}};Ct.startTransition=function(t){var s=Cp.transition;Cp.transition={};try{t()}finally{Cp.transition=s}};Ct.unstable_act=iE;Ct.useCallback=function(t,s){return Or.current.useCallback(t,s)};Ct.useContext=function(t){return Or.current.useContext(t)};Ct.useDebugValue=function(){};Ct.useDeferredValue=function(t){return Or.current.useDeferredValue(t)};Ct.useEffect=function(t,s){return Or.current.useEffect(t,s)};Ct.useId=function(){return Or.current.useId()};Ct.useImperativeHandle=function(t,s,r){return Or.current.useImperativeHandle(t,s,r)};Ct.useInsertionEffect=function(t,s){return Or.current.useInsertionEffect(t,s)};Ct.useLayoutEffect=function(t,s){return Or.current.useLayoutEffect(t,s)};Ct.useMemo=function(t,s){return Or.current.useMemo(t,s)};Ct.useReducer=function(t,s,r){return Or.current.useReducer(t,s,r)};Ct.useRef=function(t){return Or.current.useRef(t)};Ct.useState=function(t){return Or.current.useState(t)};Ct.useSyncExternalStore=function(t,s,r){return Or.current.useSyncExternalStore(t,s,r)};Ct.useTransition=function(){return Or.current.useTransition()};Ct.version="18.3.1";XP.exports=Ct;var p=XP.exports;const ne=ji(p),lE=$L({__proto__:null,default:ne},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r8=p,n8=Symbol.for("react.element"),a8=Symbol.for("react.fragment"),i8=Object.prototype.hasOwnProperty,l8=r8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o8={key:!0,ref:!0,__self:!0,__source:!0};function oE(t,s,r){var n,a={},i=null,l=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(l=s.ref);for(n in s)i8.call(s,n)&&!o8.hasOwnProperty(n)&&(a[n]=s[n]);if(t&&t.defaultProps)for(n in s=t.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:n8,type:t,key:i,ref:l,props:a,_owner:l8.current}}Cx.Fragment=a8;Cx.jsx=oE;Cx.jsxs=oE;ZP.exports=Cx;var e=ZP.exports,cE={exports:{}},dn={},dE={exports:{}},uE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(q,R){var ie=q.length;q.push(R);e:for(;0<ie;){var O=ie-1>>>1,te=q[O];if(0<a(te,R))q[O]=R,q[ie]=te,ie=O;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var R=q[0],ie=q.pop();if(ie!==R){q[0]=ie;e:for(var O=0,te=q.length,se=te>>>1;O<se;){var Te=2*(O+1)-1,Ke=q[Te],ot=Te+1,ce=q[ot];if(0>a(Ke,ie))ot<te&&0>a(ce,Ke)?(q[O]=ce,q[ot]=ie,O=ot):(q[O]=Ke,q[Te]=ie,O=Te);else if(ot<te&&0>a(ce,ie))q[O]=ce,q[ot]=ie,O=ot;else break e}}return R}function a(q,R){var ie=q.sortIndex-R.sortIndex;return ie!==0?ie:q.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,m=null,h=3,f=!1,b=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(q){for(var R=r(d);R!==null;){if(R.callback===null)n(d);else if(R.startTime<=q)n(d),R.sortIndex=R.expirationTime,s(c,R);else break;R=r(d)}}function w(q){if(x=!1,j(q),!b)if(r(c)!==null)b=!0,E(N);else{var R=r(d);R!==null&&M(w,R.startTime-q)}}function N(q,R){b=!1,x&&(x=!1,g(S),S=-1),f=!0;var ie=h;try{for(j(R),m=r(c);m!==null&&(!(m.expirationTime>R)||q&&!re());){var O=m.callback;if(typeof O=="function"){m.callback=null,h=m.priorityLevel;var te=O(m.expirationTime<=R);R=t.unstable_now(),typeof te=="function"?m.callback=te:m===r(c)&&n(c),j(R)}else n(c);m=r(c)}if(m!==null)var se=!0;else{var Te=r(d);Te!==null&&M(w,Te.startTime-R),se=!1}return se}finally{m=null,h=ie,f=!1}}var _=!1,k=null,S=-1,A=5,z=-1;function re(){return!(t.unstable_now()-z<A)}function F(){if(k!==null){var q=t.unstable_now();z=q;var R=!0;try{R=k(!0,q)}finally{R?B():(_=!1,k=null)}}else _=!1}var B;if(typeof y=="function")B=function(){y(F)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=F,B=function(){W.postMessage(null)}}else B=function(){v(F,0)};function E(q){k=q,_||(_=!0,B())}function M(q,R){S=v(function(){q(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){b||f||(b=!0,E(N))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(q){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var ie=h;h=R;try{return q()}finally{h=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,R){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ie=h;h=q;try{return R()}finally{h=ie}},t.unstable_scheduleCallback=function(q,R,ie){var O=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?O+ie:O):ie=O,q){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ie+te,q={id:u++,callback:R,priorityLevel:q,startTime:ie,expirationTime:te,sortIndex:-1},ie>O?(q.sortIndex=ie,s(d,q),r(c)===null&&q===r(d)&&(x?(g(S),S=-1):x=!0,M(w,ie-O))):(q.sortIndex=te,s(c,q),b||f||(b=!0,E(N))),q},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(q){var R=h;return function(){var ie=h;h=R;try{return q.apply(this,arguments)}finally{h=ie}}}})(uE);dE.exports=uE;var c8=dE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d8=p,on=c8;function je(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mE=new Set,Bu={};function Mo(t,s){dd(t,s),dd(t+"Capture",s)}function dd(t,s){for(Bu[t]=s,t=0;t<s.length;t++)mE.add(s[t])}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lb=Object.prototype.hasOwnProperty,u8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FN={},LN={};function m8(t){return lb.call(LN,t)?!0:lb.call(FN,t)?!1:u8.test(t)?LN[t]=!0:(FN[t]=!0,!1)}function h8(t,s,r,n){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function p8(t,s,r,n){if(s===null||typeof s>"u"||h8(t,s,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function Ir(t,s,r,n,a,i,l){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=s,this.sanitizeURL=i,this.removeEmptyString=l}var sr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){sr[t]=new Ir(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];sr[s]=new Ir(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){sr[t]=new Ir(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){sr[t]=new Ir(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){sr[t]=new Ir(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){sr[t]=new Ir(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){sr[t]=new Ir(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){sr[t]=new Ir(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){sr[t]=new Ir(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gv=/[\-:]([a-z])/g;function Qv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(Gv,Qv);sr[s]=new Ir(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(Gv,Qv);sr[s]=new Ir(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(Gv,Qv);sr[s]=new Ir(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){sr[t]=new Ir(t,1,!1,t.toLowerCase(),null,!1,!1)});sr.xlinkHref=new Ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){sr[t]=new Ir(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yv(t,s,r,n){var a=sr.hasOwnProperty(s)?sr[s]:null;(a!==null?a.type!==0:n||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(p8(s,r,a,n)&&(r=null),n||a===null?m8(s)&&(r===null?t.removeAttribute(s):t.setAttribute(s,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(s=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(s):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,s,r):t.setAttribute(s,r))))}var wi=d8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ah=Symbol.for("react.element"),Zo=Symbol.for("react.portal"),Xo=Symbol.for("react.fragment"),Zv=Symbol.for("react.strict_mode"),ob=Symbol.for("react.profiler"),hE=Symbol.for("react.provider"),pE=Symbol.for("react.context"),Xv=Symbol.for("react.forward_ref"),cb=Symbol.for("react.suspense"),db=Symbol.for("react.suspense_list"),Jv=Symbol.for("react.memo"),Mi=Symbol.for("react.lazy"),fE=Symbol.for("react.offscreen"),zN=Symbol.iterator;function Wd(t){return t===null||typeof t!="object"?null:(t=zN&&t[zN]||t["@@iterator"],typeof t=="function"?t:null)}var bs=Object.assign,kg;function cu(t){if(kg===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);kg=s&&s[1]||""}return`
`+kg+t}var Pg=!1;function Eg(t,s){if(!t||Pg)return"";Pg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(d){var n=d}Reflect.construct(t,[],s)}else{try{s.call()}catch(d){n=d}t.call(s.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=o);break}}}finally{Pg=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?cu(t):""}function f8(t){switch(t.tag){case 5:return cu(t.type);case 16:return cu("Lazy");case 13:return cu("Suspense");case 19:return cu("SuspenseList");case 0:case 2:case 15:return t=Eg(t.type,!1),t;case 11:return t=Eg(t.type.render,!1),t;case 1:return t=Eg(t.type,!0),t;default:return""}}function ub(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xo:return"Fragment";case Zo:return"Portal";case ob:return"Profiler";case Zv:return"StrictMode";case cb:return"Suspense";case db:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pE:return(t.displayName||"Context")+".Consumer";case hE:return(t._context.displayName||"Context")+".Provider";case Xv:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jv:return s=t.displayName||null,s!==null?s:ub(t.type)||"Memo";case Mi:s=t._payload,t=t._init;try{return ub(t(s))}catch{}}return null}function x8(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ub(s);case 8:return s===Zv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function hl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xE(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function g8(t){var s=xE(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),n=""+t[s];if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Th(t){t._valueTracker||(t._valueTracker=g8(t))}function gE(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),n="";return t&&(n=xE(t)?t.checked?"true":"false":t.value),t=n,t!==r?(s.setValue(t),!0):!1}function ef(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mb(t,s){var r=s.checked;return bs({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function UN(t,s){var r=s.defaultValue==null?"":s.defaultValue,n=s.checked!=null?s.checked:s.defaultChecked;r=hl(s.value!=null?s.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function bE(t,s){s=s.checked,s!=null&&Yv(t,"checked",s,!1)}function hb(t,s){bE(t,s);var r=hl(s.value),n=s.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?pb(t,s.type,r):s.hasOwnProperty("defaultValue")&&pb(t,s.type,hl(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function $N(t,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var n=s.type;if(!(n!=="submit"&&n!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,r||s===t.value||(t.value=s),t.defaultValue=s}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function pb(t,s,r){(s!=="number"||ef(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var du=Array.isArray;function hc(t,s,r,n){if(t=t.options,s){s={};for(var a=0;a<r.length;a++)s["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=s.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+hl(r),s=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}s!==null||t[a].disabled||(s=t[a])}s!==null&&(s.selected=!0)}}function fb(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(je(91));return bs({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function VN(t,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(je(92));if(du(r)){if(1<r.length)throw Error(je(93));r=r[0]}s=r}s==null&&(s=""),r=s}t._wrapperState={initialValue:hl(r)}}function yE(t,s){var r=hl(s.value),n=hl(s.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),s.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function BN(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function vE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xb(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?vE(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rh,jE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(s,r,n,a)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Rh=Rh||document.createElement("div"),Rh.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Rh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function qu(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var Su={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},b8=["Webkit","ms","Moz","O"];Object.keys(Su).forEach(function(t){b8.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Su[s]=Su[t]})});function wE(t,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||Su.hasOwnProperty(t)&&Su[t]?(""+s).trim():s+"px"}function NE(t,s){t=t.style;for(var r in s)if(s.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=wE(r,s[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var y8=bs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gb(t,s){if(s){if(y8[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(je(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(je(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(je(61))}if(s.style!=null&&typeof s.style!="object")throw Error(je(62))}}function bb(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yb=null;function ej(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vb=null,pc=null,fc=null;function qN(t){if(t=nh(t)){if(typeof vb!="function")throw Error(je(280));var s=t.stateNode;s&&(s=Ex(s),vb(t.stateNode,t.type,s))}}function CE(t){pc?fc?fc.push(t):fc=[t]:pc=t}function SE(){if(pc){var t=pc,s=fc;if(fc=pc=null,qN(t),s)for(t=0;t<s.length;t++)qN(s[t])}}function _E(t,s){return t(s)}function kE(){}var Ag=!1;function PE(t,s,r){if(Ag)return t(s,r);Ag=!0;try{return _E(t,s,r)}finally{Ag=!1,(pc!==null||fc!==null)&&(kE(),SE())}}function Wu(t,s){var r=t.stateNode;if(r===null)return null;var n=Ex(r);if(n===null)return null;r=n[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(je(231,s,typeof r));return r}var jb=!1;if(hi)try{var Hd={};Object.defineProperty(Hd,"passive",{get:function(){jb=!0}}),window.addEventListener("test",Hd,Hd),window.removeEventListener("test",Hd,Hd)}catch{jb=!1}function v8(t,s,r,n,a,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{s.apply(r,d)}catch(u){this.onError(u)}}var _u=!1,tf=null,sf=!1,wb=null,j8={onError:function(t){_u=!0,tf=t}};function w8(t,s,r,n,a,i,l,o,c){_u=!1,tf=null,v8.apply(j8,arguments)}function N8(t,s,r,n,a,i,l,o,c){if(w8.apply(this,arguments),_u){if(_u){var d=tf;_u=!1,tf=null}else throw Error(je(198));sf||(sf=!0,wb=d)}}function Oo(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function EE(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function WN(t){if(Oo(t)!==t)throw Error(je(188))}function C8(t){var s=t.alternate;if(!s){if(s=Oo(t),s===null)throw Error(je(188));return s!==t?null:t}for(var r=t,n=s;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return WN(a),t;if(i===n)return WN(a),s;i=i.sibling}throw Error(je(188))}if(r.return!==n.return)r=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l)throw Error(je(189))}}if(r.alternate!==n)throw Error(je(190))}if(r.tag!==3)throw Error(je(188));return r.stateNode.current===r?t:s}function AE(t){return t=C8(t),t!==null?TE(t):null}function TE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=TE(t);if(s!==null)return s;t=t.sibling}return null}var RE=on.unstable_scheduleCallback,HN=on.unstable_cancelCallback,S8=on.unstable_shouldYield,_8=on.unstable_requestPaint,Ss=on.unstable_now,k8=on.unstable_getCurrentPriorityLevel,tj=on.unstable_ImmediatePriority,DE=on.unstable_UserBlockingPriority,rf=on.unstable_NormalPriority,P8=on.unstable_LowPriority,ME=on.unstable_IdlePriority,Sx=null,Ea=null;function E8(t){if(Ea&&typeof Ea.onCommitFiberRoot=="function")try{Ea.onCommitFiberRoot(Sx,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:R8,A8=Math.log,T8=Math.LN2;function R8(t){return t>>>=0,t===0?32:31-(A8(t)/T8|0)|0}var Dh=64,Mh=4194304;function uu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nf(t,s){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?n=uu(o):(i&=l,i!==0&&(n=uu(i)))}else l=r&~a,l!==0?n=uu(l):i!==0&&(n=uu(i));if(n===0)return 0;if(s!==0&&s!==n&&!(s&a)&&(a=n&-n,i=s&-s,a>=i||a===16&&(i&4194240)!==0))return s;if(n&4&&(n|=r&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=n;0<s;)r=31-Yn(s),a=1<<r,n|=t[r],s&=~a;return n}function D8(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M8(t,s){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-Yn(i),o=1<<l,c=a[l];c===-1?(!(o&r)||o&n)&&(a[l]=D8(o,s)):c<=s&&(t.expiredLanes|=o),i&=~o}}function Nb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function OE(){var t=Dh;return Dh<<=1,!(Dh&4194240)&&(Dh=64),t}function Tg(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function sh(t,s,r){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Yn(s),t[s]=r}function O8(t,s){var r=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-Yn(r),i=1<<a;s[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function sj(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var n=31-Yn(r),a=1<<n;a&s|t[n]&s&&(t[n]|=s),r&=~a}}var qt=0;function IE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var FE,rj,LE,zE,UE,Cb=!1,Oh=[],nl=null,al=null,il=null,Hu=new Map,Ku=new Map,zi=[],I8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KN(t,s){switch(t){case"focusin":case"focusout":nl=null;break;case"dragenter":case"dragleave":al=null;break;case"mouseover":case"mouseout":il=null;break;case"pointerover":case"pointerout":Hu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ku.delete(s.pointerId)}}function Kd(t,s,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:s,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},s!==null&&(s=nh(s),s!==null&&rj(s)),t):(t.eventSystemFlags|=n,s=t.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),t)}function F8(t,s,r,n,a){switch(s){case"focusin":return nl=Kd(nl,t,s,r,n,a),!0;case"dragenter":return al=Kd(al,t,s,r,n,a),!0;case"mouseover":return il=Kd(il,t,s,r,n,a),!0;case"pointerover":var i=a.pointerId;return Hu.set(i,Kd(Hu.get(i)||null,t,s,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Ku.set(i,Kd(Ku.get(i)||null,t,s,r,n,a)),!0}return!1}function $E(t){var s=Ul(t.target);if(s!==null){var r=Oo(s);if(r!==null){if(s=r.tag,s===13){if(s=EE(r),s!==null){t.blockedOn=s,UE(t.priority,function(){LE(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sp(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=Sb(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);yb=n,r.target.dispatchEvent(n),yb=null}else return s=nh(r),s!==null&&rj(s),t.blockedOn=r,!1;s.shift()}return!0}function GN(t,s,r){Sp(t)&&r.delete(s)}function L8(){Cb=!1,nl!==null&&Sp(nl)&&(nl=null),al!==null&&Sp(al)&&(al=null),il!==null&&Sp(il)&&(il=null),Hu.forEach(GN),Ku.forEach(GN)}function Gd(t,s){t.blockedOn===s&&(t.blockedOn=null,Cb||(Cb=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,L8)))}function Gu(t){function s(a){return Gd(a,t)}if(0<Oh.length){Gd(Oh[0],t);for(var r=1;r<Oh.length;r++){var n=Oh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(nl!==null&&Gd(nl,t),al!==null&&Gd(al,t),il!==null&&Gd(il,t),Hu.forEach(s),Ku.forEach(s),r=0;r<zi.length;r++)n=zi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<zi.length&&(r=zi[0],r.blockedOn===null);)$E(r),r.blockedOn===null&&zi.shift()}var xc=wi.ReactCurrentBatchConfig,af=!0;function z8(t,s,r,n){var a=qt,i=xc.transition;xc.transition=null;try{qt=1,nj(t,s,r,n)}finally{qt=a,xc.transition=i}}function U8(t,s,r,n){var a=qt,i=xc.transition;xc.transition=null;try{qt=4,nj(t,s,r,n)}finally{qt=a,xc.transition=i}}function nj(t,s,r,n){if(af){var a=Sb(t,s,r,n);if(a===null)$g(t,s,n,lf,r),KN(t,n);else if(F8(a,t,s,r,n))n.stopPropagation();else if(KN(t,n),s&4&&-1<I8.indexOf(t)){for(;a!==null;){var i=nh(a);if(i!==null&&FE(i),i=Sb(t,s,r,n),i===null&&$g(t,s,n,lf,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else $g(t,s,n,null,r)}}var lf=null;function Sb(t,s,r,n){if(lf=null,t=ej(n),t=Ul(t),t!==null)if(s=Oo(t),s===null)t=null;else if(r=s.tag,r===13){if(t=EE(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return lf=t,null}function VE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(k8()){case tj:return 1;case DE:return 4;case rf:case P8:return 16;case ME:return 536870912;default:return 16}default:return 16}}var Ji=null,aj=null,_p=null;function BE(){if(_p)return _p;var t,s=aj,r=s.length,n,a="value"in Ji?Ji.value:Ji.textContent,i=a.length;for(t=0;t<r&&s[t]===a[t];t++);var l=r-t;for(n=1;n<=l&&s[r-n]===a[i-n];n++);return _p=a.slice(t,1<n?1-n:void 0)}function kp(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Ih(){return!0}function QN(){return!1}function un(t){function s(r,n,a,i,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ih:QN,this.isPropagationStopped=QN,this}return bs(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ih)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ih)},persist:function(){},isPersistent:Ih}),s}var Dd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ij=un(Dd),rh=bs({},Dd,{view:0,detail:0}),$8=un(rh),Rg,Dg,Qd,_x=bs({},rh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lj,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qd&&(Qd&&t.type==="mousemove"?(Rg=t.screenX-Qd.screenX,Dg=t.screenY-Qd.screenY):Dg=Rg=0,Qd=t),Rg)},movementY:function(t){return"movementY"in t?t.movementY:Dg}}),YN=un(_x),V8=bs({},_x,{dataTransfer:0}),B8=un(V8),q8=bs({},rh,{relatedTarget:0}),Mg=un(q8),W8=bs({},Dd,{animationName:0,elapsedTime:0,pseudoElement:0}),H8=un(W8),K8=bs({},Dd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),G8=un(K8),Q8=bs({},Dd,{data:0}),ZN=un(Q8),Y8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J8(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=X8[t])?!!s[t]:!1}function lj(){return J8}var ez=bs({},rh,{key:function(t){if(t.key){var s=Y8[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=kp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Z8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lj,charCode:function(t){return t.type==="keypress"?kp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tz=un(ez),sz=bs({},_x,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XN=un(sz),rz=bs({},rh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lj}),nz=un(rz),az=bs({},Dd,{propertyName:0,elapsedTime:0,pseudoElement:0}),iz=un(az),lz=bs({},_x,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oz=un(lz),cz=[9,13,27,32],oj=hi&&"CompositionEvent"in window,ku=null;hi&&"documentMode"in document&&(ku=document.documentMode);var dz=hi&&"TextEvent"in window&&!ku,qE=hi&&(!oj||ku&&8<ku&&11>=ku),JN=" ",e1=!1;function WE(t,s){switch(t){case"keyup":return cz.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jo=!1;function uz(t,s){switch(t){case"compositionend":return HE(s);case"keypress":return s.which!==32?null:(e1=!0,JN);case"textInput":return t=s.data,t===JN&&e1?null:t;default:return null}}function mz(t,s){if(Jo)return t==="compositionend"||!oj&&WE(t,s)?(t=BE(),_p=aj=Ji=null,Jo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return qE&&s.locale!=="ko"?null:s.data;default:return null}}var hz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t1(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!hz[t.type]:s==="textarea"}function KE(t,s,r,n){CE(n),s=of(s,"onChange"),0<s.length&&(r=new ij("onChange","change",null,r,n),t.push({event:r,listeners:s}))}var Pu=null,Qu=null;function pz(t){nA(t,0)}function kx(t){var s=sc(t);if(gE(s))return t}function fz(t,s){if(t==="change")return s}var GE=!1;if(hi){var Og;if(hi){var Ig="oninput"in document;if(!Ig){var s1=document.createElement("div");s1.setAttribute("oninput","return;"),Ig=typeof s1.oninput=="function"}Og=Ig}else Og=!1;GE=Og&&(!document.documentMode||9<document.documentMode)}function r1(){Pu&&(Pu.detachEvent("onpropertychange",QE),Qu=Pu=null)}function QE(t){if(t.propertyName==="value"&&kx(Qu)){var s=[];KE(s,Qu,t,ej(t)),PE(pz,s)}}function xz(t,s,r){t==="focusin"?(r1(),Pu=s,Qu=r,Pu.attachEvent("onpropertychange",QE)):t==="focusout"&&r1()}function gz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kx(Qu)}function bz(t,s){if(t==="click")return kx(s)}function yz(t,s){if(t==="input"||t==="change")return kx(s)}function vz(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var ea=typeof Object.is=="function"?Object.is:vz;function Yu(t,s){if(ea(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),n=Object.keys(s);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!lb.call(s,a)||!ea(t[a],s[a]))return!1}return!0}function n1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function a1(t,s){var r=n1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=s&&n>=s)return{node:r,offset:s-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=n1(r)}}function YE(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?YE(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function ZE(){for(var t=window,s=ef();s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=ef(t.document)}return s}function cj(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function jz(t){var s=ZE(),r=t.focusedElem,n=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&YE(r.ownerDocument.documentElement,r)){if(n!==null&&cj(r)){if(s=n.start,t=n.end,t===void 0&&(t=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(t,r.value.length);else if(t=(s=r.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=a1(r,i);var l=a1(r,n);a&&l&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(s),t.extend(l.node,l.offset)):(s.setEnd(l.node,l.offset),t.addRange(s)))}}for(s=[],t=r;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)t=s[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wz=hi&&"documentMode"in document&&11>=document.documentMode,ec=null,_b=null,Eu=null,kb=!1;function i1(t,s,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kb||ec==null||ec!==ef(n)||(n=ec,"selectionStart"in n&&cj(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Eu&&Yu(Eu,n)||(Eu=n,n=of(_b,"onSelect"),0<n.length&&(s=new ij("onSelect","select",null,s,r),t.push({event:s,listeners:n}),s.target=ec)))}function Fh(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var tc={animationend:Fh("Animation","AnimationEnd"),animationiteration:Fh("Animation","AnimationIteration"),animationstart:Fh("Animation","AnimationStart"),transitionend:Fh("Transition","TransitionEnd")},Fg={},XE={};hi&&(XE=document.createElement("div").style,"AnimationEvent"in window||(delete tc.animationend.animation,delete tc.animationiteration.animation,delete tc.animationstart.animation),"TransitionEvent"in window||delete tc.transitionend.transition);function Px(t){if(Fg[t])return Fg[t];if(!tc[t])return t;var s=tc[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in XE)return Fg[t]=s[r];return t}var JE=Px("animationend"),eA=Px("animationiteration"),tA=Px("animationstart"),sA=Px("transitionend"),rA=new Map,l1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sl(t,s){rA.set(t,s),Mo(s,[t])}for(var Lg=0;Lg<l1.length;Lg++){var zg=l1[Lg],Nz=zg.toLowerCase(),Cz=zg[0].toUpperCase()+zg.slice(1);Sl(Nz,"on"+Cz)}Sl(JE,"onAnimationEnd");Sl(eA,"onAnimationIteration");Sl(tA,"onAnimationStart");Sl("dblclick","onDoubleClick");Sl("focusin","onFocus");Sl("focusout","onBlur");Sl(sA,"onTransitionEnd");dd("onMouseEnter",["mouseout","mouseover"]);dd("onMouseLeave",["mouseout","mouseover"]);dd("onPointerEnter",["pointerout","pointerover"]);dd("onPointerLeave",["pointerout","pointerover"]);Mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sz=new Set("cancel close invalid load scroll toggle".split(" ").concat(mu));function o1(t,s,r){var n=t.type||"unknown-event";t.currentTarget=r,N8(n,s,void 0,t),t.currentTarget=null}function nA(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(s)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;o1(a,o,d),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;o1(a,o,d),i=c}}}if(sf)throw t=wb,sf=!1,wb=null,t}function ts(t,s){var r=s[Rb];r===void 0&&(r=s[Rb]=new Set);var n=t+"__bubble";r.has(n)||(aA(s,t,2,!1),r.add(n))}function Ug(t,s,r){var n=0;s&&(n|=4),aA(r,t,n,s)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function Zu(t){if(!t[Lh]){t[Lh]=!0,mE.forEach(function(r){r!=="selectionchange"&&(Sz.has(r)||Ug(r,!1,t),Ug(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Lh]||(s[Lh]=!0,Ug("selectionchange",!1,s))}}function aA(t,s,r,n){switch(VE(s)){case 1:var a=z8;break;case 4:a=U8;break;default:a=nj}r=a.bind(null,s,r,t),a=void 0,!jb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(s,r,{capture:!0,passive:a}):t.addEventListener(s,r,!0):a!==void 0?t.addEventListener(s,r,{passive:a}):t.addEventListener(s,r,!1)}function $g(t,s,r,n,a){var i=n;if(!(s&1)&&!(s&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=Ul(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}PE(function(){var d=i,u=ej(r),m=[];e:{var h=rA.get(t);if(h!==void 0){var f=ij,b=t;switch(t){case"keypress":if(kp(r)===0)break e;case"keydown":case"keyup":f=tz;break;case"focusin":b="focus",f=Mg;break;case"focusout":b="blur",f=Mg;break;case"beforeblur":case"afterblur":f=Mg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=YN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=B8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=nz;break;case JE:case eA:case tA:f=H8;break;case sA:f=iz;break;case"scroll":f=$8;break;case"wheel":f=oz;break;case"copy":case"cut":case"paste":f=G8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=XN}var x=(s&4)!==0,v=!x&&t==="scroll",g=x?h!==null?h+"Capture":null:h;x=[];for(var y=d,j;y!==null;){j=y;var w=j.stateNode;if(j.tag===5&&w!==null&&(j=w,g!==null&&(w=Wu(y,g),w!=null&&x.push(Xu(y,w,j)))),v)break;y=y.return}0<x.length&&(h=new f(h,b,null,r,u),m.push({event:h,listeners:x}))}}if(!(s&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&r!==yb&&(b=r.relatedTarget||r.fromElement)&&(Ul(b)||b[pi]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(b=r.relatedTarget||r.toElement,f=d,b=b?Ul(b):null,b!==null&&(v=Oo(b),b!==v||b.tag!==5&&b.tag!==6)&&(b=null)):(f=null,b=d),f!==b)){if(x=YN,w="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(x=XN,w="onPointerLeave",g="onPointerEnter",y="pointer"),v=f==null?h:sc(f),j=b==null?h:sc(b),h=new x(w,y+"leave",f,r,u),h.target=v,h.relatedTarget=j,w=null,Ul(u)===d&&(x=new x(g,y+"enter",b,r,u),x.target=j,x.relatedTarget=v,w=x),v=w,f&&b)t:{for(x=f,g=b,y=0,j=x;j;j=$o(j))y++;for(j=0,w=g;w;w=$o(w))j++;for(;0<y-j;)x=$o(x),y--;for(;0<j-y;)g=$o(g),j--;for(;y--;){if(x===g||g!==null&&x===g.alternate)break t;x=$o(x),g=$o(g)}x=null}else x=null;f!==null&&c1(m,h,f,x,!1),b!==null&&v!==null&&c1(m,v,b,x,!0)}}e:{if(h=d?sc(d):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var N=fz;else if(t1(h))if(GE)N=yz;else{N=gz;var _=xz}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=bz);if(N&&(N=N(t,d))){KE(m,N,r,u);break e}_&&_(t,h,d),t==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&pb(h,"number",h.value)}switch(_=d?sc(d):window,t){case"focusin":(t1(_)||_.contentEditable==="true")&&(ec=_,_b=d,Eu=null);break;case"focusout":Eu=_b=ec=null;break;case"mousedown":kb=!0;break;case"contextmenu":case"mouseup":case"dragend":kb=!1,i1(m,r,u);break;case"selectionchange":if(wz)break;case"keydown":case"keyup":i1(m,r,u)}var k;if(oj)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Jo?WE(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(qE&&r.locale!=="ko"&&(Jo||S!=="onCompositionStart"?S==="onCompositionEnd"&&Jo&&(k=BE()):(Ji=u,aj="value"in Ji?Ji.value:Ji.textContent,Jo=!0)),_=of(d,S),0<_.length&&(S=new ZN(S,t,null,r,u),m.push({event:S,listeners:_}),k?S.data=k:(k=HE(r),k!==null&&(S.data=k)))),(k=dz?uz(t,r):mz(t,r))&&(d=of(d,"onBeforeInput"),0<d.length&&(u=new ZN("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:d}),u.data=k))}nA(m,s)})}function Xu(t,s,r){return{instance:t,listener:s,currentTarget:r}}function of(t,s){for(var r=s+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Wu(t,r),i!=null&&n.unshift(Xu(t,i,a)),i=Wu(t,s),i!=null&&n.push(Xu(t,i,a))),t=t.return}return n}function $o(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function c1(t,s,r,n,a){for(var i=s._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=Wu(r,i),c!=null&&l.unshift(Xu(r,c,o))):a||(c=Wu(r,i),c!=null&&l.push(Xu(r,c,o)))),r=r.return}l.length!==0&&t.push({event:s,listeners:l})}var _z=/\r\n?/g,kz=/\u0000|\uFFFD/g;function d1(t){return(typeof t=="string"?t:""+t).replace(_z,`
`).replace(kz,"")}function zh(t,s,r){if(s=d1(s),d1(t)!==s&&r)throw Error(je(425))}function cf(){}var Pb=null,Eb=null;function Ab(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Tb=typeof setTimeout=="function"?setTimeout:void 0,Pz=typeof clearTimeout=="function"?clearTimeout:void 0,u1=typeof Promise=="function"?Promise:void 0,Ez=typeof queueMicrotask=="function"?queueMicrotask:typeof u1<"u"?function(t){return u1.resolve(null).then(t).catch(Az)}:Tb;function Az(t){setTimeout(function(){throw t})}function Vg(t,s){var r=s,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),Gu(s);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Gu(s)}function ll(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function m1(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return t;s--}else r==="/$"&&s++}t=t.previousSibling}return null}var Md=Math.random().toString(36).slice(2),Na="__reactFiber$"+Md,Ju="__reactProps$"+Md,pi="__reactContainer$"+Md,Rb="__reactEvents$"+Md,Tz="__reactListeners$"+Md,Rz="__reactHandles$"+Md;function Ul(t){var s=t[Na];if(s)return s;for(var r=t.parentNode;r;){if(s=r[pi]||r[Na]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=m1(t);t!==null;){if(r=t[Na])return r;t=m1(t)}return s}t=r,r=t.parentNode}return null}function nh(t){return t=t[Na]||t[pi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(je(33))}function Ex(t){return t[Ju]||null}var Db=[],rc=-1;function _l(t){return{current:t}}function ns(t){0>rc||(t.current=Db[rc],Db[rc]=null,rc--)}function Jt(t,s){rc++,Db[rc]=t.current,t.current=s}var pl={},fr=_l(pl),Wr=_l(!1),fo=pl;function ud(t,s){var r=t.type.contextTypes;if(!r)return pl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===s)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=s[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),a}function Hr(t){return t=t.childContextTypes,t!=null}function df(){ns(Wr),ns(fr)}function h1(t,s,r){if(fr.current!==pl)throw Error(je(168));Jt(fr,s),Jt(Wr,r)}function iA(t,s,r){var n=t.stateNode;if(s=s.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(je(108,x8(t)||"Unknown",a));return bs({},r,n)}function uf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pl,fo=fr.current,Jt(fr,t),Jt(Wr,Wr.current),!0}function p1(t,s,r){var n=t.stateNode;if(!n)throw Error(je(169));r?(t=iA(t,s,fo),n.__reactInternalMemoizedMergedChildContext=t,ns(Wr),ns(fr),Jt(fr,t)):ns(Wr),Jt(Wr,r)}var Xa=null,Ax=!1,Bg=!1;function lA(t){Xa===null?Xa=[t]:Xa.push(t)}function Dz(t){Ax=!0,lA(t)}function kl(){if(!Bg&&Xa!==null){Bg=!0;var t=0,s=qt;try{var r=Xa;for(qt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Xa=null,Ax=!1}catch(a){throw Xa!==null&&(Xa=Xa.slice(t+1)),RE(tj,kl),a}finally{qt=s,Bg=!1}}return null}var nc=[],ac=0,mf=null,hf=0,yn=[],vn=0,xo=null,ii=1,li="";function Dl(t,s){nc[ac++]=hf,nc[ac++]=mf,mf=t,hf=s}function oA(t,s,r){yn[vn++]=ii,yn[vn++]=li,yn[vn++]=xo,xo=t;var n=ii;t=li;var a=32-Yn(n)-1;n&=~(1<<a),r+=1;var i=32-Yn(s)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,ii=1<<32-Yn(s)+a|r<<a|n,li=i+t}else ii=1<<i|r<<a|n,li=t}function dj(t){t.return!==null&&(Dl(t,1),oA(t,1,0))}function uj(t){for(;t===mf;)mf=nc[--ac],nc[ac]=null,hf=nc[--ac],nc[ac]=null;for(;t===xo;)xo=yn[--vn],yn[vn]=null,li=yn[--vn],yn[vn]=null,ii=yn[--vn],yn[vn]=null}var nn=null,rn=null,cs=!1,Bn=null;function cA(t,s){var r=Nn(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=t,s=t.deletions,s===null?(t.deletions=[r],t.flags|=16):s.push(r)}function f1(t,s){switch(t.tag){case 5:var r=t.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,nn=t,rn=ll(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,nn=t,rn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=xo!==null?{id:ii,overflow:li}:null,t.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=Nn(18,null,null,0),r.stateNode=s,r.return=t,t.child=r,nn=t,rn=null,!0):!1;default:return!1}}function Mb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ob(t){if(cs){var s=rn;if(s){var r=s;if(!f1(t,s)){if(Mb(t))throw Error(je(418));s=ll(r.nextSibling);var n=nn;s&&f1(t,s)?cA(n,r):(t.flags=t.flags&-4097|2,cs=!1,nn=t)}}else{if(Mb(t))throw Error(je(418));t.flags=t.flags&-4097|2,cs=!1,nn=t}}}function x1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nn=t}function Uh(t){if(t!==nn)return!1;if(!cs)return x1(t),cs=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!Ab(t.type,t.memoizedProps)),s&&(s=rn)){if(Mb(t))throw dA(),Error(je(418));for(;s;)cA(t,s),s=ll(s.nextSibling)}if(x1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(s===0){rn=ll(t.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}t=t.nextSibling}rn=null}}else rn=nn?ll(t.stateNode.nextSibling):null;return!0}function dA(){for(var t=rn;t;)t=ll(t.nextSibling)}function md(){rn=nn=null,cs=!1}function mj(t){Bn===null?Bn=[t]:Bn.push(t)}var Mz=wi.ReactCurrentBatchConfig;function Yd(t,s,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(je(309));var n=r.stateNode}if(!n)throw Error(je(147,t));var a=n,i=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},s._stringRef=i,s)}if(typeof t!="string")throw Error(je(284));if(!r._owner)throw Error(je(290,t))}return t}function $h(t,s){throw t=Object.prototype.toString.call(s),Error(je(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function g1(t){var s=t._init;return s(t._payload)}function uA(t){function s(g,y){if(t){var j=g.deletions;j===null?(g.deletions=[y],g.flags|=16):j.push(y)}}function r(g,y){if(!t)return null;for(;y!==null;)s(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function a(g,y){return g=ul(g,y),g.index=0,g.sibling=null,g}function i(g,y,j){return g.index=j,t?(j=g.alternate,j!==null?(j=j.index,j<y?(g.flags|=2,y):j):(g.flags|=2,y)):(g.flags|=1048576,y)}function l(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,y,j,w){return y===null||y.tag!==6?(y=Yg(j,g.mode,w),y.return=g,y):(y=a(y,j),y.return=g,y)}function c(g,y,j,w){var N=j.type;return N===Xo?u(g,y,j.props.children,w,j.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Mi&&g1(N)===y.type)?(w=a(y,j.props),w.ref=Yd(g,y,j),w.return=g,w):(w=Mp(j.type,j.key,j.props,null,g.mode,w),w.ref=Yd(g,y,j),w.return=g,w)}function d(g,y,j,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==j.containerInfo||y.stateNode.implementation!==j.implementation?(y=Zg(j,g.mode,w),y.return=g,y):(y=a(y,j.children||[]),y.return=g,y)}function u(g,y,j,w,N){return y===null||y.tag!==7?(y=uo(j,g.mode,w,N),y.return=g,y):(y=a(y,j),y.return=g,y)}function m(g,y,j){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Yg(""+y,g.mode,j),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ah:return j=Mp(y.type,y.key,y.props,null,g.mode,j),j.ref=Yd(g,null,y),j.return=g,j;case Zo:return y=Zg(y,g.mode,j),y.return=g,y;case Mi:var w=y._init;return m(g,w(y._payload),j)}if(du(y)||Wd(y))return y=uo(y,g.mode,j,null),y.return=g,y;$h(g,y)}return null}function h(g,y,j,w){var N=y!==null?y.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return N!==null?null:o(g,y,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ah:return j.key===N?c(g,y,j,w):null;case Zo:return j.key===N?d(g,y,j,w):null;case Mi:return N=j._init,h(g,y,N(j._payload),w)}if(du(j)||Wd(j))return N!==null?null:u(g,y,j,w,null);$h(g,j)}return null}function f(g,y,j,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(j)||null,o(y,g,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ah:return g=g.get(w.key===null?j:w.key)||null,c(y,g,w,N);case Zo:return g=g.get(w.key===null?j:w.key)||null,d(y,g,w,N);case Mi:var _=w._init;return f(g,y,j,_(w._payload),N)}if(du(w)||Wd(w))return g=g.get(j)||null,u(y,g,w,N,null);$h(y,w)}return null}function b(g,y,j,w){for(var N=null,_=null,k=y,S=y=0,A=null;k!==null&&S<j.length;S++){k.index>S?(A=k,k=null):A=k.sibling;var z=h(g,k,j[S],w);if(z===null){k===null&&(k=A);break}t&&k&&z.alternate===null&&s(g,k),y=i(z,y,S),_===null?N=z:_.sibling=z,_=z,k=A}if(S===j.length)return r(g,k),cs&&Dl(g,S),N;if(k===null){for(;S<j.length;S++)k=m(g,j[S],w),k!==null&&(y=i(k,y,S),_===null?N=k:_.sibling=k,_=k);return cs&&Dl(g,S),N}for(k=n(g,k);S<j.length;S++)A=f(k,g,S,j[S],w),A!==null&&(t&&A.alternate!==null&&k.delete(A.key===null?S:A.key),y=i(A,y,S),_===null?N=A:_.sibling=A,_=A);return t&&k.forEach(function(re){return s(g,re)}),cs&&Dl(g,S),N}function x(g,y,j,w){var N=Wd(j);if(typeof N!="function")throw Error(je(150));if(j=N.call(j),j==null)throw Error(je(151));for(var _=N=null,k=y,S=y=0,A=null,z=j.next();k!==null&&!z.done;S++,z=j.next()){k.index>S?(A=k,k=null):A=k.sibling;var re=h(g,k,z.value,w);if(re===null){k===null&&(k=A);break}t&&k&&re.alternate===null&&s(g,k),y=i(re,y,S),_===null?N=re:_.sibling=re,_=re,k=A}if(z.done)return r(g,k),cs&&Dl(g,S),N;if(k===null){for(;!z.done;S++,z=j.next())z=m(g,z.value,w),z!==null&&(y=i(z,y,S),_===null?N=z:_.sibling=z,_=z);return cs&&Dl(g,S),N}for(k=n(g,k);!z.done;S++,z=j.next())z=f(k,g,S,z.value,w),z!==null&&(t&&z.alternate!==null&&k.delete(z.key===null?S:z.key),y=i(z,y,S),_===null?N=z:_.sibling=z,_=z);return t&&k.forEach(function(F){return s(g,F)}),cs&&Dl(g,S),N}function v(g,y,j,w){if(typeof j=="object"&&j!==null&&j.type===Xo&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Ah:e:{for(var N=j.key,_=y;_!==null;){if(_.key===N){if(N=j.type,N===Xo){if(_.tag===7){r(g,_.sibling),y=a(_,j.props.children),y.return=g,g=y;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Mi&&g1(N)===_.type){r(g,_.sibling),y=a(_,j.props),y.ref=Yd(g,_,j),y.return=g,g=y;break e}r(g,_);break}else s(g,_);_=_.sibling}j.type===Xo?(y=uo(j.props.children,g.mode,w,j.key),y.return=g,g=y):(w=Mp(j.type,j.key,j.props,null,g.mode,w),w.ref=Yd(g,y,j),w.return=g,g=w)}return l(g);case Zo:e:{for(_=j.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===j.containerInfo&&y.stateNode.implementation===j.implementation){r(g,y.sibling),y=a(y,j.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else s(g,y);y=y.sibling}y=Zg(j,g.mode,w),y.return=g,g=y}return l(g);case Mi:return _=j._init,v(g,y,_(j._payload),w)}if(du(j))return b(g,y,j,w);if(Wd(j))return x(g,y,j,w);$h(g,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,y!==null&&y.tag===6?(r(g,y.sibling),y=a(y,j),y.return=g,g=y):(r(g,y),y=Yg(j,g.mode,w),y.return=g,g=y),l(g)):r(g,y)}return v}var hd=uA(!0),mA=uA(!1),pf=_l(null),ff=null,ic=null,hj=null;function pj(){hj=ic=ff=null}function fj(t){var s=pf.current;ns(pf),t._currentValue=s}function Ib(t,s,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,n!==null&&(n.childLanes|=s)):n!==null&&(n.childLanes&s)!==s&&(n.childLanes|=s),t===r)break;t=t.return}}function gc(t,s){ff=t,hj=ic=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(Br=!0),t.firstContext=null)}function kn(t){var s=t._currentValue;if(hj!==t)if(t={context:t,memoizedValue:s,next:null},ic===null){if(ff===null)throw Error(je(308));ic=t,ff.dependencies={lanes:0,firstContext:t}}else ic=ic.next=t;return s}var $l=null;function xj(t){$l===null?$l=[t]:$l.push(t)}function hA(t,s,r,n){var a=s.interleaved;return a===null?(r.next=r,xj(s)):(r.next=a.next,a.next=r),s.interleaved=r,fi(t,n)}function fi(t,s){t.lanes|=s;var r=t.alternate;for(r!==null&&(r.lanes|=s),r=t,t=t.return;t!==null;)t.childLanes|=s,r=t.alternate,r!==null&&(r.childLanes|=s),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Oi=!1;function gj(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pA(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function di(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function ol(t,s,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Mt&2){var a=n.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s,fi(t,r)}return a=n.interleaved,a===null?(s.next=s,xj(n)):(s.next=a.next,a.next=s),n.interleaved=s,fi(t,r)}function Pp(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,sj(t,r)}}function b1(t,s){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?a=i=s:i=i.next=s}else a=i=s;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}function xf(t,s,r,n){var a=t.updateQueue;Oi=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;l=0,u=d=c=null,o=i;do{var h=o.lane,f=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=t,x=o;switch(h=s,f=r,x.tag){case 1:if(b=x.payload,typeof b=="function"){m=b.call(f,m,h);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,h=typeof b=="function"?b.call(f,m,h):b,h==null)break e;m=bs({},m,h);break e;case 2:Oi=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=f,c=m):u=u.next=f,l|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,s=a.shared.interleaved,s!==null){a=s;do l|=a.lane,a=a.next;while(a!==s)}else i===null&&(a.shared.lanes=0);bo|=l,t.lanes=l,t.memoizedState=m}}function y1(t,s,r){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var n=t[s],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(je(191,a));a.call(n)}}}var ah={},Aa=_l(ah),em=_l(ah),tm=_l(ah);function Vl(t){if(t===ah)throw Error(je(174));return t}function bj(t,s){switch(Jt(tm,s),Jt(em,t),Jt(Aa,ah),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:xb(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=xb(s,t)}ns(Aa),Jt(Aa,s)}function pd(){ns(Aa),ns(em),ns(tm)}function fA(t){Vl(tm.current);var s=Vl(Aa.current),r=xb(s,t.type);s!==r&&(Jt(em,t),Jt(Aa,r))}function yj(t){em.current===t&&(ns(Aa),ns(em))}var fs=_l(0);function gf(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var qg=[];function vj(){for(var t=0;t<qg.length;t++)qg[t]._workInProgressVersionPrimary=null;qg.length=0}var Ep=wi.ReactCurrentDispatcher,Wg=wi.ReactCurrentBatchConfig,go=0,xs=null,Ms=null,Bs=null,bf=!1,Au=!1,sm=0,Oz=0;function ir(){throw Error(je(321))}function jj(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!ea(t[r],s[r]))return!1;return!0}function wj(t,s,r,n,a,i){if(go=i,xs=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ep.current=t===null||t.memoizedState===null?zz:Uz,t=r(n,a),Au){i=0;do{if(Au=!1,sm=0,25<=i)throw Error(je(301));i+=1,Bs=Ms=null,s.updateQueue=null,Ep.current=$z,t=r(n,a)}while(Au)}if(Ep.current=yf,s=Ms!==null&&Ms.next!==null,go=0,Bs=Ms=xs=null,bf=!1,s)throw Error(je(300));return t}function Nj(){var t=sm!==0;return sm=0,t}function ma(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bs===null?xs.memoizedState=Bs=t:Bs=Bs.next=t,Bs}function Pn(){if(Ms===null){var t=xs.alternate;t=t!==null?t.memoizedState:null}else t=Ms.next;var s=Bs===null?xs.memoizedState:Bs.next;if(s!==null)Bs=s,Ms=t;else{if(t===null)throw Error(je(310));Ms=t,t={memoizedState:Ms.memoizedState,baseState:Ms.baseState,baseQueue:Ms.baseQueue,queue:Ms.queue,next:null},Bs===null?xs.memoizedState=Bs=t:Bs=Bs.next=t}return Bs}function rm(t,s){return typeof s=="function"?s(t):s}function Hg(t){var s=Pn(),r=s.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=t;var n=Ms,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((go&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=m,l=n):c=c.next=m,xs.lanes|=u,bo|=u}d=d.next}while(d!==null&&d!==i);c===null?l=n:c.next=o,ea(n,s.memoizedState)||(Br=!0),s.memoizedState=n,s.baseState=l,s.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,xs.lanes|=i,bo|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function Kg(t){var s=Pn(),r=s.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=s.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do i=t(i,l.action),l=l.next;while(l!==a);ea(i,s.memoizedState)||(Br=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),r.lastRenderedState=i}return[i,n]}function xA(){}function gA(t,s){var r=xs,n=Pn(),a=s(),i=!ea(n.memoizedState,a);if(i&&(n.memoizedState=a,Br=!0),n=n.queue,Cj(vA.bind(null,r,n,t),[t]),n.getSnapshot!==s||i||Bs!==null&&Bs.memoizedState.tag&1){if(r.flags|=2048,nm(9,yA.bind(null,r,n,a,s),void 0,null),qs===null)throw Error(je(349));go&30||bA(r,s,a)}return a}function bA(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=xs.updateQueue,s===null?(s={lastEffect:null,stores:null},xs.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function yA(t,s,r,n){s.value=r,s.getSnapshot=n,jA(s)&&wA(t)}function vA(t,s,r){return r(function(){jA(s)&&wA(t)})}function jA(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!ea(t,r)}catch{return!0}}function wA(t){var s=fi(t,1);s!==null&&Zn(s,t,1,-1)}function v1(t){var s=ma();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rm,lastRenderedState:t},s.queue=t,t=t.dispatch=Lz.bind(null,xs,t),[s.memoizedState,t]}function nm(t,s,r,n){return t={tag:t,create:s,destroy:r,deps:n,next:null},s=xs.updateQueue,s===null?(s={lastEffect:null,stores:null},xs.updateQueue=s,s.lastEffect=t.next=t):(r=s.lastEffect,r===null?s.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,s.lastEffect=t)),t}function NA(){return Pn().memoizedState}function Ap(t,s,r,n){var a=ma();xs.flags|=t,a.memoizedState=nm(1|s,r,void 0,n===void 0?null:n)}function Tx(t,s,r,n){var a=Pn();n=n===void 0?null:n;var i=void 0;if(Ms!==null){var l=Ms.memoizedState;if(i=l.destroy,n!==null&&jj(n,l.deps)){a.memoizedState=nm(s,r,i,n);return}}xs.flags|=t,a.memoizedState=nm(1|s,r,i,n)}function j1(t,s){return Ap(8390656,8,t,s)}function Cj(t,s){return Tx(2048,8,t,s)}function CA(t,s){return Tx(4,2,t,s)}function SA(t,s){return Tx(4,4,t,s)}function _A(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function kA(t,s,r){return r=r!=null?r.concat([t]):null,Tx(4,4,_A.bind(null,s,t),r)}function Sj(){}function PA(t,s){var r=Pn();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&jj(s,n[1])?n[0]:(r.memoizedState=[t,s],t)}function EA(t,s){var r=Pn();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&jj(s,n[1])?n[0]:(t=t(),r.memoizedState=[t,s],t)}function AA(t,s,r){return go&21?(ea(r,s)||(r=OE(),xs.lanes|=r,bo|=r,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,Br=!0),t.memoizedState=r)}function Iz(t,s){var r=qt;qt=r!==0&&4>r?r:4,t(!0);var n=Wg.transition;Wg.transition={};try{t(!1),s()}finally{qt=r,Wg.transition=n}}function TA(){return Pn().memoizedState}function Fz(t,s,r){var n=dl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},RA(t))DA(s,r);else if(r=hA(t,s,r,n),r!==null){var a=Ar();Zn(r,t,n,a),MA(r,s,n)}}function Lz(t,s,r){var n=dl(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(RA(t))DA(s,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var l=s.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,ea(o,l)){var c=s.interleaved;c===null?(a.next=a,xj(s)):(a.next=c.next,c.next=a),s.interleaved=a;return}}catch{}finally{}r=hA(t,s,a,n),r!==null&&(a=Ar(),Zn(r,t,n,a),MA(r,s,n))}}function RA(t){var s=t.alternate;return t===xs||s!==null&&s===xs}function DA(t,s){Au=bf=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function MA(t,s,r){if(r&4194240){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,sj(t,r)}}var yf={readContext:kn,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useInsertionEffect:ir,useLayoutEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useMutableSource:ir,useSyncExternalStore:ir,useId:ir,unstable_isNewReconciler:!1},zz={readContext:kn,useCallback:function(t,s){return ma().memoizedState=[t,s===void 0?null:s],t},useContext:kn,useEffect:j1,useImperativeHandle:function(t,s,r){return r=r!=null?r.concat([t]):null,Ap(4194308,4,_A.bind(null,s,t),r)},useLayoutEffect:function(t,s){return Ap(4194308,4,t,s)},useInsertionEffect:function(t,s){return Ap(4,2,t,s)},useMemo:function(t,s){var r=ma();return s=s===void 0?null:s,t=t(),r.memoizedState=[t,s],t},useReducer:function(t,s,r){var n=ma();return s=r!==void 0?r(s):s,n.memoizedState=n.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},n.queue=t,t=t.dispatch=Fz.bind(null,xs,t),[n.memoizedState,t]},useRef:function(t){var s=ma();return t={current:t},s.memoizedState=t},useState:v1,useDebugValue:Sj,useDeferredValue:function(t){return ma().memoizedState=t},useTransition:function(){var t=v1(!1),s=t[0];return t=Iz.bind(null,t[1]),ma().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,r){var n=xs,a=ma();if(cs){if(r===void 0)throw Error(je(407));r=r()}else{if(r=s(),qs===null)throw Error(je(349));go&30||bA(n,s,r)}a.memoizedState=r;var i={value:r,getSnapshot:s};return a.queue=i,j1(vA.bind(null,n,i,t),[t]),n.flags|=2048,nm(9,yA.bind(null,n,i,r,s),void 0,null),r},useId:function(){var t=ma(),s=qs.identifierPrefix;if(cs){var r=li,n=ii;r=(n&~(1<<32-Yn(n)-1)).toString(32)+r,s=":"+s+"R"+r,r=sm++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=Oz++,s=":"+s+"r"+r.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},Uz={readContext:kn,useCallback:PA,useContext:kn,useEffect:Cj,useImperativeHandle:kA,useInsertionEffect:CA,useLayoutEffect:SA,useMemo:EA,useReducer:Hg,useRef:NA,useState:function(){return Hg(rm)},useDebugValue:Sj,useDeferredValue:function(t){var s=Pn();return AA(s,Ms.memoizedState,t)},useTransition:function(){var t=Hg(rm)[0],s=Pn().memoizedState;return[t,s]},useMutableSource:xA,useSyncExternalStore:gA,useId:TA,unstable_isNewReconciler:!1},$z={readContext:kn,useCallback:PA,useContext:kn,useEffect:Cj,useImperativeHandle:kA,useInsertionEffect:CA,useLayoutEffect:SA,useMemo:EA,useReducer:Kg,useRef:NA,useState:function(){return Kg(rm)},useDebugValue:Sj,useDeferredValue:function(t){var s=Pn();return Ms===null?s.memoizedState=t:AA(s,Ms.memoizedState,t)},useTransition:function(){var t=Kg(rm)[0],s=Pn().memoizedState;return[t,s]},useMutableSource:xA,useSyncExternalStore:gA,useId:TA,unstable_isNewReconciler:!1};function Rn(t,s){if(t&&t.defaultProps){s=bs({},s),t=t.defaultProps;for(var r in t)s[r]===void 0&&(s[r]=t[r]);return s}return s}function Fb(t,s,r,n){s=t.memoizedState,r=r(n,s),r=r==null?s:bs({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Rx={isMounted:function(t){return(t=t._reactInternals)?Oo(t)===t:!1},enqueueSetState:function(t,s,r){t=t._reactInternals;var n=Ar(),a=dl(t),i=di(n,a);i.payload=s,r!=null&&(i.callback=r),s=ol(t,i,a),s!==null&&(Zn(s,t,a,n),Pp(s,t,a))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var n=Ar(),a=dl(t),i=di(n,a);i.tag=1,i.payload=s,r!=null&&(i.callback=r),s=ol(t,i,a),s!==null&&(Zn(s,t,a,n),Pp(s,t,a))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=Ar(),n=dl(t),a=di(r,n);a.tag=2,s!=null&&(a.callback=s),s=ol(t,a,n),s!==null&&(Zn(s,t,n,r),Pp(s,t,n))}};function w1(t,s,r,n,a,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,l):s.prototype&&s.prototype.isPureReactComponent?!Yu(r,n)||!Yu(a,i):!0}function OA(t,s,r){var n=!1,a=pl,i=s.contextType;return typeof i=="object"&&i!==null?i=kn(i):(a=Hr(s)?fo:fr.current,n=s.contextTypes,i=(n=n!=null)?ud(t,a):pl),s=new s(r,i),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Rx,t.stateNode=s,s._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),s}function N1(t,s,r,n){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,n),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,n),s.state!==t&&Rx.enqueueReplaceState(s,s.state,null)}function Lb(t,s,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},gj(t);var i=s.contextType;typeof i=="object"&&i!==null?a.context=kn(i):(i=Hr(s)?fo:fr.current,a.context=ud(t,i)),a.state=t.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&(Fb(t,s,i,r),a.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Rx.enqueueReplaceState(a,a.state,null),xf(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function fd(t,s){try{var r="",n=s;do r+=f8(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:s,stack:a,digest:null}}function Gg(t,s,r){return{value:t,source:null,stack:r??null,digest:s??null}}function zb(t,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var Vz=typeof WeakMap=="function"?WeakMap:Map;function IA(t,s,r){r=di(-1,r),r.tag=3,r.payload={element:null};var n=s.value;return r.callback=function(){jf||(jf=!0,Qb=n),zb(t,s)},r}function FA(t,s,r){r=di(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=s.value;r.payload=function(){return n(a)},r.callback=function(){zb(t,s)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){zb(t,s),typeof n!="function"&&(cl===null?cl=new Set([this]):cl.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})}),r}function C1(t,s,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Vz;var a=new Set;n.set(s,a)}else a=n.get(s),a===void 0&&(a=new Set,n.set(s,a));a.has(r)||(a.add(r),t=sU.bind(null,t,s,r),s.then(t,t))}function S1(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function _1(t,s,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===s?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=di(-1,1),s.tag=2,ol(r,s,1))),r.lanes|=1),t)}var Bz=wi.ReactCurrentOwner,Br=!1;function Cr(t,s,r,n){s.child=t===null?mA(s,null,r,n):hd(s,t.child,r,n)}function k1(t,s,r,n,a){r=r.render;var i=s.ref;return gc(s,a),n=wj(t,s,r,n,i,a),r=Nj(),t!==null&&!Br?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,xi(t,s,a)):(cs&&r&&dj(s),s.flags|=1,Cr(t,s,n,a),s.child)}function P1(t,s,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!Dj(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=i,LA(t,s,i,n,a)):(t=Mp(r.type,null,n,s,s.mode,a),t.ref=s.ref,t.return=s,s.child=t)}if(i=t.child,!(t.lanes&a)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:Yu,r(l,n)&&t.ref===s.ref)return xi(t,s,a)}return s.flags|=1,t=ul(i,n),t.ref=s.ref,t.return=s,s.child=t}function LA(t,s,r,n,a){if(t!==null){var i=t.memoizedProps;if(Yu(i,n)&&t.ref===s.ref)if(Br=!1,s.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(Br=!0);else return s.lanes=t.lanes,xi(t,s,a)}return Ub(t,s,r,n,a)}function zA(t,s,r){var n=s.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jt(oc,Jr),Jr|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Jt(oc,Jr),Jr|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Jt(oc,Jr),Jr|=n}else i!==null?(n=i.baseLanes|r,s.memoizedState=null):n=r,Jt(oc,Jr),Jr|=n;return Cr(t,s,a,r),s.child}function UA(t,s){var r=s.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function Ub(t,s,r,n,a){var i=Hr(r)?fo:fr.current;return i=ud(s,i),gc(s,a),r=wj(t,s,r,n,i,a),n=Nj(),t!==null&&!Br?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,xi(t,s,a)):(cs&&n&&dj(s),s.flags|=1,Cr(t,s,r,a),s.child)}function E1(t,s,r,n,a){if(Hr(r)){var i=!0;uf(s)}else i=!1;if(gc(s,a),s.stateNode===null)Tp(t,s),OA(s,r,n),Lb(s,r,n,a),n=!0;else if(t===null){var l=s.stateNode,o=s.memoizedProps;l.props=o;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=kn(d):(d=Hr(r)?fo:fr.current,d=ud(s,d));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&N1(s,l,n,d),Oi=!1;var h=s.memoizedState;l.state=h,xf(s,n,l,a),c=s.memoizedState,o!==n||h!==c||Wr.current||Oi?(typeof u=="function"&&(Fb(s,r,u,n),c=s.memoizedState),(o=Oi||w1(s,r,o,n,h,c,d))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(s.flags|=4194308)):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=n,s.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),n=!1)}else{l=s.stateNode,pA(t,s),o=s.memoizedProps,d=s.type===s.elementType?o:Rn(s.type,o),l.props=d,m=s.pendingProps,h=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=kn(c):(c=Hr(r)?fo:fr.current,c=ud(s,c));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==m||h!==c)&&N1(s,l,n,c),Oi=!1,h=s.memoizedState,l.state=h,xf(s,n,l,a);var b=s.memoizedState;o!==m||h!==b||Wr.current||Oi?(typeof f=="function"&&(Fb(s,r,f,n),b=s.memoizedState),(d=Oi||w1(s,r,d,n,h,b,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,b,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,b,c)),typeof l.componentDidUpdate=="function"&&(s.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(s.flags|=1024),s.memoizedProps=n,s.memoizedState=b),l.props=n,l.state=b,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(s.flags|=1024),n=!1)}return $b(t,s,r,n,i,a)}function $b(t,s,r,n,a,i){UA(t,s);var l=(s.flags&128)!==0;if(!n&&!l)return a&&p1(s,r,!1),xi(t,s,i);n=s.stateNode,Bz.current=s;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return s.flags|=1,t!==null&&l?(s.child=hd(s,t.child,null,i),s.child=hd(s,null,o,i)):Cr(t,s,o,i),s.memoizedState=n.state,a&&p1(s,r,!0),s.child}function $A(t){var s=t.stateNode;s.pendingContext?h1(t,s.pendingContext,s.pendingContext!==s.context):s.context&&h1(t,s.context,!1),bj(t,s.containerInfo)}function A1(t,s,r,n,a){return md(),mj(a),s.flags|=256,Cr(t,s,r,n),s.child}var Vb={dehydrated:null,treeContext:null,retryLane:0};function Bb(t){return{baseLanes:t,cachePool:null,transitions:null}}function VA(t,s,r){var n=s.pendingProps,a=fs.current,i=!1,l=(s.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(i=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Jt(fs,a&1),t===null)return Ob(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(l=n.children,t=n.fallback,i?(n=s.mode,i=s.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ox(l,n,0,null),t=uo(t,n,r,null),i.return=s,t.return=s,i.sibling=t,s.child=i,s.child.memoizedState=Bb(r),s.memoizedState=Vb,t):_j(s,l));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return qz(t,s,l,n,o,a,r);if(i){i=n.fallback,l=s.mode,a=t.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&s.child!==a?(n=s.child,n.childLanes=0,n.pendingProps=c,s.deletions=null):(n=ul(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=ul(o,i):(i=uo(i,l,r,null),i.flags|=2),i.return=s,n.return=s,n.sibling=i,s.child=n,n=i,i=s.child,l=t.child.memoizedState,l=l===null?Bb(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~r,s.memoizedState=Vb,n}return i=t.child,t=i.sibling,n=ul(i,{mode:"visible",children:n.children}),!(s.mode&1)&&(n.lanes=r),n.return=s,n.sibling=null,t!==null&&(r=s.deletions,r===null?(s.deletions=[t],s.flags|=16):r.push(t)),s.child=n,s.memoizedState=null,n}function _j(t,s){return s=Ox({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Vh(t,s,r,n){return n!==null&&mj(n),hd(s,t.child,null,r),t=_j(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function qz(t,s,r,n,a,i,l){if(r)return s.flags&256?(s.flags&=-257,n=Gg(Error(je(422))),Vh(t,s,l,n)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(i=n.fallback,a=s.mode,n=Ox({mode:"visible",children:n.children},a,0,null),i=uo(i,a,l,null),i.flags|=2,n.return=s,i.return=s,n.sibling=i,s.child=n,s.mode&1&&hd(s,t.child,null,l),s.child.memoizedState=Bb(l),s.memoizedState=Vb,i);if(!(s.mode&1))return Vh(t,s,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(je(419)),n=Gg(i,n,void 0),Vh(t,s,l,n)}if(o=(l&t.childLanes)!==0,Br||o){if(n=qs,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,fi(t,a),Zn(n,t,a,-1))}return Rj(),n=Gg(Error(je(421))),Vh(t,s,l,n)}return a.data==="$?"?(s.flags|=128,s.child=t.child,s=rU.bind(null,t),a._reactRetry=s,null):(t=i.treeContext,rn=ll(a.nextSibling),nn=s,cs=!0,Bn=null,t!==null&&(yn[vn++]=ii,yn[vn++]=li,yn[vn++]=xo,ii=t.id,li=t.overflow,xo=s),s=_j(s,n.children),s.flags|=4096,s)}function T1(t,s,r){t.lanes|=s;var n=t.alternate;n!==null&&(n.lanes|=s),Ib(t.return,s,r)}function Qg(t,s,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function BA(t,s,r){var n=s.pendingProps,a=n.revealOrder,i=n.tail;if(Cr(t,s,n.children,r),n=fs.current,n&2)n=n&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&T1(t,r,s);else if(t.tag===19)T1(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Jt(fs,n),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(r=s.child,a=null;r!==null;)t=r.alternate,t!==null&&gf(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=s.child,s.child=null):(a=r.sibling,r.sibling=null),Qg(s,!1,a,r,i);break;case"backwards":for(r=null,a=s.child,s.child=null;a!==null;){if(t=a.alternate,t!==null&&gf(t)===null){s.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Qg(s,!0,r,null,i);break;case"together":Qg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Tp(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function xi(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),bo|=s.lanes,!(r&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(je(153));if(s.child!==null){for(t=s.child,r=ul(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=ul(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function Wz(t,s,r){switch(s.tag){case 3:$A(s),md();break;case 5:fA(s);break;case 1:Hr(s.type)&&uf(s);break;case 4:bj(s,s.stateNode.containerInfo);break;case 10:var n=s.type._context,a=s.memoizedProps.value;Jt(pf,n._currentValue),n._currentValue=a;break;case 13:if(n=s.memoizedState,n!==null)return n.dehydrated!==null?(Jt(fs,fs.current&1),s.flags|=128,null):r&s.child.childLanes?VA(t,s,r):(Jt(fs,fs.current&1),t=xi(t,s,r),t!==null?t.sibling:null);Jt(fs,fs.current&1);break;case 19:if(n=(r&s.childLanes)!==0,t.flags&128){if(n)return BA(t,s,r);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Jt(fs,fs.current),n)break;return null;case 22:case 23:return s.lanes=0,zA(t,s,r)}return xi(t,s,r)}var qA,qb,WA,HA;qA=function(t,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qb=function(){};WA=function(t,s,r,n){var a=t.memoizedProps;if(a!==n){t=s.stateNode,Vl(Aa.current);var i=null;switch(r){case"input":a=mb(t,a),n=mb(t,n),i=[];break;case"select":a=bs({},a,{value:void 0}),n=bs({},n,{value:void 0}),i=[];break;case"textarea":a=fb(t,a),n=fb(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=cf)}gb(r,n);var l;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Bu.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Bu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ts("scroll",t),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(s.updateQueue=d)&&(s.flags|=4)}};HA=function(t,s,r,n){r!==n&&(s.flags|=4)};function Zd(t,s){if(!cs)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function lr(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(s)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,s}function Hz(t,s,r){var n=s.pendingProps;switch(uj(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lr(s),null;case 1:return Hr(s.type)&&df(),lr(s),null;case 3:return n=s.stateNode,pd(),ns(Wr),ns(fr),vj(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Uh(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Bn!==null&&(Xb(Bn),Bn=null))),qb(t,s),lr(s),null;case 5:yj(s);var a=Vl(tm.current);if(r=s.type,t!==null&&s.stateNode!=null)WA(t,s,r,n,a),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!n){if(s.stateNode===null)throw Error(je(166));return lr(s),null}if(t=Vl(Aa.current),Uh(s)){n=s.stateNode,r=s.type;var i=s.memoizedProps;switch(n[Na]=s,n[Ju]=i,t=(s.mode&1)!==0,r){case"dialog":ts("cancel",n),ts("close",n);break;case"iframe":case"object":case"embed":ts("load",n);break;case"video":case"audio":for(a=0;a<mu.length;a++)ts(mu[a],n);break;case"source":ts("error",n);break;case"img":case"image":case"link":ts("error",n),ts("load",n);break;case"details":ts("toggle",n);break;case"input":UN(n,i),ts("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ts("invalid",n);break;case"textarea":VN(n,i),ts("invalid",n)}gb(r,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&zh(n.textContent,o,t),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&zh(n.textContent,o,t),a=["children",""+o]):Bu.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ts("scroll",n)}switch(r){case"input":Th(n),$N(n,i,!0);break;case"textarea":Th(n),BN(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=cf)}n=a,s.updateQueue=n,n!==null&&(s.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vE(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=l.createElement(r,{is:n.is}):(t=l.createElement(r),r==="select"&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,r),t[Na]=s,t[Ju]=n,qA(t,s,!1,!1),s.stateNode=t;e:{switch(l=bb(r,n),r){case"dialog":ts("cancel",t),ts("close",t),a=n;break;case"iframe":case"object":case"embed":ts("load",t),a=n;break;case"video":case"audio":for(a=0;a<mu.length;a++)ts(mu[a],t);a=n;break;case"source":ts("error",t),a=n;break;case"img":case"image":case"link":ts("error",t),ts("load",t),a=n;break;case"details":ts("toggle",t),a=n;break;case"input":UN(t,n),a=mb(t,n),ts("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=bs({},n,{value:void 0}),ts("invalid",t);break;case"textarea":VN(t,n),a=fb(t,n),ts("invalid",t);break;default:a=n}gb(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?NE(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&jE(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&qu(t,c):typeof c=="number"&&qu(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ts("scroll",t):c!=null&&Yv(t,i,c,l))}switch(r){case"input":Th(t),$N(t,n,!1);break;case"textarea":Th(t),BN(t);break;case"option":n.value!=null&&t.setAttribute("value",""+hl(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?hc(t,!!n.multiple,i,!1):n.defaultValue!=null&&hc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=cf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return lr(s),null;case 6:if(t&&s.stateNode!=null)HA(t,s,t.memoizedProps,n);else{if(typeof n!="string"&&s.stateNode===null)throw Error(je(166));if(r=Vl(tm.current),Vl(Aa.current),Uh(s)){if(n=s.stateNode,r=s.memoizedProps,n[Na]=s,(i=n.nodeValue!==r)&&(t=nn,t!==null))switch(t.tag){case 3:zh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zh(n.nodeValue,r,(t.mode&1)!==0)}i&&(s.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Na]=s,s.stateNode=n}return lr(s),null;case 13:if(ns(fs),n=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(cs&&rn!==null&&s.mode&1&&!(s.flags&128))dA(),md(),s.flags|=98560,i=!1;else if(i=Uh(s),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(je(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(je(317));i[Na]=s}else md(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;lr(s),i=!1}else Bn!==null&&(Xb(Bn),Bn=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(s.child.flags|=8192,s.mode&1&&(t===null||fs.current&1?Ls===0&&(Ls=3):Rj())),s.updateQueue!==null&&(s.flags|=4),lr(s),null);case 4:return pd(),qb(t,s),t===null&&Zu(s.stateNode.containerInfo),lr(s),null;case 10:return fj(s.type._context),lr(s),null;case 17:return Hr(s.type)&&df(),lr(s),null;case 19:if(ns(fs),i=s.memoizedState,i===null)return lr(s),null;if(n=(s.flags&128)!==0,l=i.rendering,l===null)if(n)Zd(i,!1);else{if(Ls!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(l=gf(t),l!==null){for(s.flags|=128,Zd(i,!1),n=l.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),s.subtreeFlags=0,n=r,r=s.child;r!==null;)i=r,t=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Jt(fs,fs.current&1|2),s.child}t=t.sibling}i.tail!==null&&Ss()>xd&&(s.flags|=128,n=!0,Zd(i,!1),s.lanes=4194304)}else{if(!n)if(t=gf(l),t!==null){if(s.flags|=128,n=!0,r=t.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),Zd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!cs)return lr(s),null}else 2*Ss()-i.renderingStartTime>xd&&r!==1073741824&&(s.flags|=128,n=!0,Zd(i,!1),s.lanes=4194304);i.isBackwards?(l.sibling=s.child,s.child=l):(r=i.last,r!==null?r.sibling=l:s.child=l,i.last=l)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=Ss(),s.sibling=null,r=fs.current,Jt(fs,n?r&1|2:r&1),s):(lr(s),null);case 22:case 23:return Tj(),n=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(s.flags|=8192),n&&s.mode&1?Jr&1073741824&&(lr(s),s.subtreeFlags&6&&(s.flags|=8192)):lr(s),null;case 24:return null;case 25:return null}throw Error(je(156,s.tag))}function Kz(t,s){switch(uj(s),s.tag){case 1:return Hr(s.type)&&df(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return pd(),ns(Wr),ns(fr),vj(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return yj(s),null;case 13:if(ns(fs),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(je(340));md()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return ns(fs),null;case 4:return pd(),null;case 10:return fj(s.type._context),null;case 22:case 23:return Tj(),null;case 24:return null;default:return null}}var Bh=!1,mr=!1,Gz=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function lc(t,s){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){vs(t,s,n)}else r.current=null}function Wb(t,s,r){try{r()}catch(n){vs(t,s,n)}}var R1=!1;function Qz(t,s){if(Pb=af,t=ZE(),cj(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,d=0,u=0,m=t,h=null;t:for(;;){for(var f;m!==r||a!==0&&m.nodeType!==3||(o=l+a),m!==i||n!==0&&m.nodeType!==3||(c=l+n),m.nodeType===3&&(l+=m.nodeValue.length),(f=m.firstChild)!==null;)h=m,m=f;for(;;){if(m===t)break t;if(h===r&&++d===a&&(o=l),h===i&&++u===n&&(c=l),(f=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=f}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Eb={focusedElem:t,selectionRange:r},af=!1,Ve=s;Ve!==null;)if(s=Ve,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Ve=t;else for(;Ve!==null;){s=Ve;try{var b=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,v=b.memoizedState,g=s.stateNode,y=g.getSnapshotBeforeUpdate(s.elementType===s.type?x:Rn(s.type,x),v);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(w){vs(s,s.return,w)}if(t=s.sibling,t!==null){t.return=s.return,Ve=t;break}Ve=s.return}return b=R1,R1=!1,b}function Tu(t,s,r){var n=s.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&Wb(s,r,i)}a=a.next}while(a!==n)}}function Dx(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==s)}}function Hb(t){var s=t.ref;if(s!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof s=="function"?s(t):s.current=t}}function KA(t){var s=t.alternate;s!==null&&(t.alternate=null,KA(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[Na],delete s[Ju],delete s[Rb],delete s[Tz],delete s[Rz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function GA(t){return t.tag===5||t.tag===3||t.tag===4}function D1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||GA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kb(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(t,s):r.insertBefore(t,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(t,r)):(s=r,s.appendChild(t)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=cf));else if(n!==4&&(t=t.child,t!==null))for(Kb(t,s,r),t=t.sibling;t!==null;)Kb(t,s,r),t=t.sibling}function Gb(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Gb(t,s,r),t=t.sibling;t!==null;)Gb(t,s,r),t=t.sibling}var Ys=null,Un=!1;function Si(t,s,r){for(r=r.child;r!==null;)QA(t,s,r),r=r.sibling}function QA(t,s,r){if(Ea&&typeof Ea.onCommitFiberUnmount=="function")try{Ea.onCommitFiberUnmount(Sx,r)}catch{}switch(r.tag){case 5:mr||lc(r,s);case 6:var n=Ys,a=Un;Ys=null,Si(t,s,r),Ys=n,Un=a,Ys!==null&&(Un?(t=Ys,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ys.removeChild(r.stateNode));break;case 18:Ys!==null&&(Un?(t=Ys,r=r.stateNode,t.nodeType===8?Vg(t.parentNode,r):t.nodeType===1&&Vg(t,r),Gu(t)):Vg(Ys,r.stateNode));break;case 4:n=Ys,a=Un,Ys=r.stateNode.containerInfo,Un=!0,Si(t,s,r),Ys=n,Un=a;break;case 0:case 11:case 14:case 15:if(!mr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Wb(r,s,l),a=a.next}while(a!==n)}Si(t,s,r);break;case 1:if(!mr&&(lc(r,s),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){vs(r,s,o)}Si(t,s,r);break;case 21:Si(t,s,r);break;case 22:r.mode&1?(mr=(n=mr)||r.memoizedState!==null,Si(t,s,r),mr=n):Si(t,s,r);break;default:Si(t,s,r)}}function M1(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Gz),s.forEach(function(n){var a=nU.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function An(t,s){var r=s.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,l=s,o=l;e:for(;o!==null;){switch(o.tag){case 5:Ys=o.stateNode,Un=!1;break e;case 3:Ys=o.stateNode.containerInfo,Un=!0;break e;case 4:Ys=o.stateNode.containerInfo,Un=!0;break e}o=o.return}if(Ys===null)throw Error(je(160));QA(i,l,a),Ys=null,Un=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){vs(a,s,d)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)YA(s,t),s=s.sibling}function YA(t,s){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(An(s,t),da(t),n&4){try{Tu(3,t,t.return),Dx(3,t)}catch(x){vs(t,t.return,x)}try{Tu(5,t,t.return)}catch(x){vs(t,t.return,x)}}break;case 1:An(s,t),da(t),n&512&&r!==null&&lc(r,r.return);break;case 5:if(An(s,t),da(t),n&512&&r!==null&&lc(r,r.return),t.flags&32){var a=t.stateNode;try{qu(a,"")}catch(x){vs(t,t.return,x)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,l=r!==null?r.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&bE(a,i),bb(o,l);var d=bb(o,i);for(l=0;l<c.length;l+=2){var u=c[l],m=c[l+1];u==="style"?NE(a,m):u==="dangerouslySetInnerHTML"?jE(a,m):u==="children"?qu(a,m):Yv(a,u,m,d)}switch(o){case"input":hb(a,i);break;case"textarea":yE(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?hc(a,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?hc(a,!!i.multiple,i.defaultValue,!0):hc(a,!!i.multiple,i.multiple?[]:"",!1))}a[Ju]=i}catch(x){vs(t,t.return,x)}}break;case 6:if(An(s,t),da(t),n&4){if(t.stateNode===null)throw Error(je(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(x){vs(t,t.return,x)}}break;case 3:if(An(s,t),da(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Gu(s.containerInfo)}catch(x){vs(t,t.return,x)}break;case 4:An(s,t),da(t);break;case 13:An(s,t),da(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Ej=Ss())),n&4&&M1(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(mr=(d=mr)||u,An(s,t),mr=d):An(s,t),da(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(Ve=t,u=t.child;u!==null;){for(m=Ve=u;Ve!==null;){switch(h=Ve,f=h.child,h.tag){case 0:case 11:case 14:case 15:Tu(4,h,h.return);break;case 1:lc(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){n=h,r=h.return;try{s=n,b.props=s.memoizedProps,b.state=s.memoizedState,b.componentWillUnmount()}catch(x){vs(n,r,x)}}break;case 5:lc(h,h.return);break;case 22:if(h.memoizedState!==null){I1(m);continue}}f!==null?(f.return=h,Ve=f):I1(m)}u=u.sibling}e:for(u=null,m=t;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=wE("display",l))}catch(x){vs(t,t.return,x)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(x){vs(t,t.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:An(s,t),da(t),n&4&&M1(t);break;case 21:break;default:An(s,t),da(t)}}function da(t){var s=t.flags;if(s&2){try{e:{for(var r=t.return;r!==null;){if(GA(r)){var n=r;break e}r=r.return}throw Error(je(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(qu(a,""),n.flags&=-33);var i=D1(t);Gb(t,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=D1(t);Kb(t,o,l);break;default:throw Error(je(161))}}catch(c){vs(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Yz(t,s,r){Ve=t,ZA(t)}function ZA(t,s,r){for(var n=(t.mode&1)!==0;Ve!==null;){var a=Ve,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||Bh;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||mr;o=Bh;var d=mr;if(Bh=l,(mr=c)&&!d)for(Ve=a;Ve!==null;)l=Ve,c=l.child,l.tag===22&&l.memoizedState!==null?F1(a):c!==null?(c.return=l,Ve=c):F1(a);for(;i!==null;)Ve=i,ZA(i),i=i.sibling;Ve=a,Bh=o,mr=d}O1(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ve=i):O1(t)}}function O1(t){for(;Ve!==null;){var s=Ve;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:mr||Dx(5,s);break;case 1:var n=s.stateNode;if(s.flags&4&&!mr)if(r===null)n.componentDidMount();else{var a=s.elementType===s.type?r.memoizedProps:Rn(s.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&y1(s,i,n);break;case 3:var l=s.updateQueue;if(l!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}y1(s,l,r)}break;case 5:var o=s.stateNode;if(r===null&&s.flags&4){r=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var d=s.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Gu(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}mr||s.flags&512&&Hb(s)}catch(h){vs(s,s.return,h)}}if(s===t){Ve=null;break}if(r=s.sibling,r!==null){r.return=s.return,Ve=r;break}Ve=s.return}}function I1(t){for(;Ve!==null;){var s=Ve;if(s===t){Ve=null;break}var r=s.sibling;if(r!==null){r.return=s.return,Ve=r;break}Ve=s.return}}function F1(t){for(;Ve!==null;){var s=Ve;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{Dx(4,s)}catch(c){vs(s,r,c)}break;case 1:var n=s.stateNode;if(typeof n.componentDidMount=="function"){var a=s.return;try{n.componentDidMount()}catch(c){vs(s,a,c)}}var i=s.return;try{Hb(s)}catch(c){vs(s,i,c)}break;case 5:var l=s.return;try{Hb(s)}catch(c){vs(s,l,c)}}}catch(c){vs(s,s.return,c)}if(s===t){Ve=null;break}var o=s.sibling;if(o!==null){o.return=s.return,Ve=o;break}Ve=s.return}}var Zz=Math.ceil,vf=wi.ReactCurrentDispatcher,kj=wi.ReactCurrentOwner,Sn=wi.ReactCurrentBatchConfig,Mt=0,qs=null,Ts=null,tr=0,Jr=0,oc=_l(0),Ls=0,am=null,bo=0,Mx=0,Pj=0,Ru=null,$r=null,Ej=0,xd=1/0,Za=null,jf=!1,Qb=null,cl=null,qh=!1,el=null,wf=0,Du=0,Yb=null,Rp=-1,Dp=0;function Ar(){return Mt&6?Ss():Rp!==-1?Rp:Rp=Ss()}function dl(t){return t.mode&1?Mt&2&&tr!==0?tr&-tr:Mz.transition!==null?(Dp===0&&(Dp=OE()),Dp):(t=qt,t!==0||(t=window.event,t=t===void 0?16:VE(t.type)),t):1}function Zn(t,s,r,n){if(50<Du)throw Du=0,Yb=null,Error(je(185));sh(t,r,n),(!(Mt&2)||t!==qs)&&(t===qs&&(!(Mt&2)&&(Mx|=r),Ls===4&&Ui(t,tr)),Kr(t,n),r===1&&Mt===0&&!(s.mode&1)&&(xd=Ss()+500,Ax&&kl()))}function Kr(t,s){var r=t.callbackNode;M8(t,s);var n=nf(t,t===qs?tr:0);if(n===0)r!==null&&HN(r),t.callbackNode=null,t.callbackPriority=0;else if(s=n&-n,t.callbackPriority!==s){if(r!=null&&HN(r),s===1)t.tag===0?Dz(L1.bind(null,t)):lA(L1.bind(null,t)),Ez(function(){!(Mt&6)&&kl()}),r=null;else{switch(IE(n)){case 1:r=tj;break;case 4:r=DE;break;case 16:r=rf;break;case 536870912:r=ME;break;default:r=rf}r=a5(r,XA.bind(null,t))}t.callbackPriority=s,t.callbackNode=r}}function XA(t,s){if(Rp=-1,Dp=0,Mt&6)throw Error(je(327));var r=t.callbackNode;if(bc()&&t.callbackNode!==r)return null;var n=nf(t,t===qs?tr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||s)s=Nf(t,n);else{s=n;var a=Mt;Mt|=2;var i=e5();(qs!==t||tr!==s)&&(Za=null,xd=Ss()+500,co(t,s));do try{eU();break}catch(o){JA(t,o)}while(!0);pj(),vf.current=i,Mt=a,Ts!==null?s=0:(qs=null,tr=0,s=Ls)}if(s!==0){if(s===2&&(a=Nb(t),a!==0&&(n=a,s=Zb(t,a))),s===1)throw r=am,co(t,0),Ui(t,n),Kr(t,Ss()),r;if(s===6)Ui(t,n);else{if(a=t.current.alternate,!(n&30)&&!Xz(a)&&(s=Nf(t,n),s===2&&(i=Nb(t),i!==0&&(n=i,s=Zb(t,i))),s===1))throw r=am,co(t,0),Ui(t,n),Kr(t,Ss()),r;switch(t.finishedWork=a,t.finishedLanes=n,s){case 0:case 1:throw Error(je(345));case 2:Ml(t,$r,Za);break;case 3:if(Ui(t,n),(n&130023424)===n&&(s=Ej+500-Ss(),10<s)){if(nf(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Ar(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=Tb(Ml.bind(null,t,$r,Za),s);break}Ml(t,$r,Za);break;case 4:if(Ui(t,n),(n&4194240)===n)break;for(s=t.eventTimes,a=-1;0<n;){var l=31-Yn(n);i=1<<l,l=s[l],l>a&&(a=l),n&=~i}if(n=a,n=Ss()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Zz(n/1960))-n,10<n){t.timeoutHandle=Tb(Ml.bind(null,t,$r,Za),n);break}Ml(t,$r,Za);break;case 5:Ml(t,$r,Za);break;default:throw Error(je(329))}}}return Kr(t,Ss()),t.callbackNode===r?XA.bind(null,t):null}function Zb(t,s){var r=Ru;return t.current.memoizedState.isDehydrated&&(co(t,s).flags|=256),t=Nf(t,s),t!==2&&(s=$r,$r=r,s!==null&&Xb(s)),t}function Xb(t){$r===null?$r=t:$r.push.apply($r,t)}function Xz(t){for(var s=t;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!ea(i(),a))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ui(t,s){for(s&=~Pj,s&=~Mx,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var r=31-Yn(s),n=1<<r;t[r]=-1,s&=~n}}function L1(t){if(Mt&6)throw Error(je(327));bc();var s=nf(t,0);if(!(s&1))return Kr(t,Ss()),null;var r=Nf(t,s);if(t.tag!==0&&r===2){var n=Nb(t);n!==0&&(s=n,r=Zb(t,n))}if(r===1)throw r=am,co(t,0),Ui(t,s),Kr(t,Ss()),r;if(r===6)throw Error(je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Ml(t,$r,Za),Kr(t,Ss()),null}function Aj(t,s){var r=Mt;Mt|=1;try{return t(s)}finally{Mt=r,Mt===0&&(xd=Ss()+500,Ax&&kl())}}function yo(t){el!==null&&el.tag===0&&!(Mt&6)&&bc();var s=Mt;Mt|=1;var r=Sn.transition,n=qt;try{if(Sn.transition=null,qt=1,t)return t()}finally{qt=n,Sn.transition=r,Mt=s,!(Mt&6)&&kl()}}function Tj(){Jr=oc.current,ns(oc)}function co(t,s){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Pz(r)),Ts!==null)for(r=Ts.return;r!==null;){var n=r;switch(uj(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&df();break;case 3:pd(),ns(Wr),ns(fr),vj();break;case 5:yj(n);break;case 4:pd();break;case 13:ns(fs);break;case 19:ns(fs);break;case 10:fj(n.type._context);break;case 22:case 23:Tj()}r=r.return}if(qs=t,Ts=t=ul(t.current,null),tr=Jr=s,Ls=0,am=null,Pj=Mx=bo=0,$r=Ru=null,$l!==null){for(s=0;s<$l.length;s++)if(r=$l[s],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}r.pending=n}$l=null}return t}function JA(t,s){do{var r=Ts;try{if(pj(),Ep.current=yf,bf){for(var n=xs.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}bf=!1}if(go=0,Bs=Ms=xs=null,Au=!1,sm=0,kj.current=null,r===null||r.return===null){Ls=1,am=s,Ts=null;break}e:{var i=t,l=r.return,o=r,c=s;if(s=tr,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=S1(l);if(f!==null){f.flags&=-257,_1(f,l,o,i,s),f.mode&1&&C1(i,d,s),s=f,c=d;var b=s.updateQueue;if(b===null){var x=new Set;x.add(c),s.updateQueue=x}else b.add(c);break e}else{if(!(s&1)){C1(i,d,s),Rj();break e}c=Error(je(426))}}else if(cs&&o.mode&1){var v=S1(l);if(v!==null){!(v.flags&65536)&&(v.flags|=256),_1(v,l,o,i,s),mj(fd(c,o));break e}}i=c=fd(c,o),Ls!==4&&(Ls=2),Ru===null?Ru=[i]:Ru.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var g=IA(i,c,s);b1(i,g);break e;case 1:o=c;var y=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(cl===null||!cl.has(j)))){i.flags|=65536,s&=-s,i.lanes|=s;var w=FA(i,o,s);b1(i,w);break e}}i=i.return}while(i!==null)}s5(r)}catch(N){s=N,Ts===r&&r!==null&&(Ts=r=r.return);continue}break}while(!0)}function e5(){var t=vf.current;return vf.current=yf,t===null?yf:t}function Rj(){(Ls===0||Ls===3||Ls===2)&&(Ls=4),qs===null||!(bo&268435455)&&!(Mx&268435455)||Ui(qs,tr)}function Nf(t,s){var r=Mt;Mt|=2;var n=e5();(qs!==t||tr!==s)&&(Za=null,co(t,s));do try{Jz();break}catch(a){JA(t,a)}while(!0);if(pj(),Mt=r,vf.current=n,Ts!==null)throw Error(je(261));return qs=null,tr=0,Ls}function Jz(){for(;Ts!==null;)t5(Ts)}function eU(){for(;Ts!==null&&!S8();)t5(Ts)}function t5(t){var s=n5(t.alternate,t,Jr);t.memoizedProps=t.pendingProps,s===null?s5(t):Ts=s,kj.current=null}function s5(t){var s=t;do{var r=s.alternate;if(t=s.return,s.flags&32768){if(r=Kz(r,s),r!==null){r.flags&=32767,Ts=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ls=6,Ts=null;return}}else if(r=Hz(r,s,Jr),r!==null){Ts=r;return}if(s=s.sibling,s!==null){Ts=s;return}Ts=s=t}while(s!==null);Ls===0&&(Ls=5)}function Ml(t,s,r){var n=qt,a=Sn.transition;try{Sn.transition=null,qt=1,tU(t,s,r,n)}finally{Sn.transition=a,qt=n}return null}function tU(t,s,r,n){do bc();while(el!==null);if(Mt&6)throw Error(je(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(je(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(O8(t,i),t===qs&&(Ts=qs=null,tr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||qh||(qh=!0,a5(rf,function(){return bc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Sn.transition,Sn.transition=null;var l=qt;qt=1;var o=Mt;Mt|=4,kj.current=null,Qz(t,r),YA(r,t),jz(Eb),af=!!Pb,Eb=Pb=null,t.current=r,Yz(r),_8(),Mt=o,qt=l,Sn.transition=i}else t.current=r;if(qh&&(qh=!1,el=t,wf=a),i=t.pendingLanes,i===0&&(cl=null),E8(r.stateNode),Kr(t,Ss()),s!==null)for(n=t.onRecoverableError,r=0;r<s.length;r++)a=s[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(jf)throw jf=!1,t=Qb,Qb=null,t;return wf&1&&t.tag!==0&&bc(),i=t.pendingLanes,i&1?t===Yb?Du++:(Du=0,Yb=t):Du=0,kl(),null}function bc(){if(el!==null){var t=IE(wf),s=Sn.transition,r=qt;try{if(Sn.transition=null,qt=16>t?16:t,el===null)var n=!1;else{if(t=el,el=null,wf=0,Mt&6)throw Error(je(331));var a=Mt;for(Mt|=4,Ve=t.current;Ve!==null;){var i=Ve,l=i.child;if(Ve.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(Ve=d;Ve!==null;){var u=Ve;switch(u.tag){case 0:case 11:case 15:Tu(8,u,i)}var m=u.child;if(m!==null)m.return=u,Ve=m;else for(;Ve!==null;){u=Ve;var h=u.sibling,f=u.return;if(KA(u),u===d){Ve=null;break}if(h!==null){h.return=f,Ve=h;break}Ve=f}}}var b=i.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}Ve=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,Ve=l;else e:for(;Ve!==null;){if(i=Ve,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Tu(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Ve=g;break e}Ve=i.return}}var y=t.current;for(Ve=y;Ve!==null;){l=Ve;var j=l.child;if(l.subtreeFlags&2064&&j!==null)j.return=l,Ve=j;else e:for(l=y;Ve!==null;){if(o=Ve,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Dx(9,o)}}catch(N){vs(o,o.return,N)}if(o===l){Ve=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,Ve=w;break e}Ve=o.return}}if(Mt=a,kl(),Ea&&typeof Ea.onPostCommitFiberRoot=="function")try{Ea.onPostCommitFiberRoot(Sx,t)}catch{}n=!0}return n}finally{qt=r,Sn.transition=s}}return!1}function z1(t,s,r){s=fd(r,s),s=IA(t,s,1),t=ol(t,s,1),s=Ar(),t!==null&&(sh(t,1,s),Kr(t,s))}function vs(t,s,r){if(t.tag===3)z1(t,t,r);else for(;s!==null;){if(s.tag===3){z1(s,t,r);break}else if(s.tag===1){var n=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(cl===null||!cl.has(n))){t=fd(r,t),t=FA(s,t,1),s=ol(s,t,1),t=Ar(),s!==null&&(sh(s,1,t),Kr(s,t));break}}s=s.return}}function sU(t,s,r){var n=t.pingCache;n!==null&&n.delete(s),s=Ar(),t.pingedLanes|=t.suspendedLanes&r,qs===t&&(tr&r)===r&&(Ls===4||Ls===3&&(tr&130023424)===tr&&500>Ss()-Ej?co(t,0):Pj|=r),Kr(t,s)}function r5(t,s){s===0&&(t.mode&1?(s=Mh,Mh<<=1,!(Mh&130023424)&&(Mh=4194304)):s=1);var r=Ar();t=fi(t,s),t!==null&&(sh(t,s,r),Kr(t,r))}function rU(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),r5(t,r)}function nU(t,s){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(je(314))}n!==null&&n.delete(s),r5(t,r)}var n5;n5=function(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps||Wr.current)Br=!0;else{if(!(t.lanes&r)&&!(s.flags&128))return Br=!1,Wz(t,s,r);Br=!!(t.flags&131072)}else Br=!1,cs&&s.flags&1048576&&oA(s,hf,s.index);switch(s.lanes=0,s.tag){case 2:var n=s.type;Tp(t,s),t=s.pendingProps;var a=ud(s,fr.current);gc(s,r),a=wj(null,s,n,t,a,r);var i=Nj();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Hr(n)?(i=!0,uf(s)):i=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,gj(s),a.updater=Rx,s.stateNode=a,a._reactInternals=s,Lb(s,n,t,r),s=$b(null,s,n,!0,i,r)):(s.tag=0,cs&&i&&dj(s),Cr(null,s,a,r),s=s.child),s;case 16:n=s.elementType;e:{switch(Tp(t,s),t=s.pendingProps,a=n._init,n=a(n._payload),s.type=n,a=s.tag=iU(n),t=Rn(n,t),a){case 0:s=Ub(null,s,n,t,r);break e;case 1:s=E1(null,s,n,t,r);break e;case 11:s=k1(null,s,n,t,r);break e;case 14:s=P1(null,s,n,Rn(n.type,t),r);break e}throw Error(je(306,n,""))}return s;case 0:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:Rn(n,a),Ub(t,s,n,a,r);case 1:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:Rn(n,a),E1(t,s,n,a,r);case 3:e:{if($A(s),t===null)throw Error(je(387));n=s.pendingProps,i=s.memoizedState,a=i.element,pA(t,s),xf(s,n,null,r);var l=s.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){a=fd(Error(je(423)),s),s=A1(t,s,n,r,a);break e}else if(n!==a){a=fd(Error(je(424)),s),s=A1(t,s,n,r,a);break e}else for(rn=ll(s.stateNode.containerInfo.firstChild),nn=s,cs=!0,Bn=null,r=mA(s,null,n,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(md(),n===a){s=xi(t,s,r);break e}Cr(t,s,n,r)}s=s.child}return s;case 5:return fA(s),t===null&&Ob(s),n=s.type,a=s.pendingProps,i=t!==null?t.memoizedProps:null,l=a.children,Ab(n,a)?l=null:i!==null&&Ab(n,i)&&(s.flags|=32),UA(t,s),Cr(t,s,l,r),s.child;case 6:return t===null&&Ob(s),null;case 13:return VA(t,s,r);case 4:return bj(s,s.stateNode.containerInfo),n=s.pendingProps,t===null?s.child=hd(s,null,n,r):Cr(t,s,n,r),s.child;case 11:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:Rn(n,a),k1(t,s,n,a,r);case 7:return Cr(t,s,s.pendingProps,r),s.child;case 8:return Cr(t,s,s.pendingProps.children,r),s.child;case 12:return Cr(t,s,s.pendingProps.children,r),s.child;case 10:e:{if(n=s.type._context,a=s.pendingProps,i=s.memoizedProps,l=a.value,Jt(pf,n._currentValue),n._currentValue=l,i!==null)if(ea(i.value,l)){if(i.children===a.children&&!Wr.current){s=xi(t,s,r);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=di(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Ib(i.return,r,s),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===s.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(je(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Ib(l,r,s),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===s){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Cr(t,s,a.children,r),s=s.child}return s;case 9:return a=s.type,n=s.pendingProps.children,gc(s,r),a=kn(a),n=n(a),s.flags|=1,Cr(t,s,n,r),s.child;case 14:return n=s.type,a=Rn(n,s.pendingProps),a=Rn(n.type,a),P1(t,s,n,a,r);case 15:return LA(t,s,s.type,s.pendingProps,r);case 17:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:Rn(n,a),Tp(t,s),s.tag=1,Hr(n)?(t=!0,uf(s)):t=!1,gc(s,r),OA(s,n,a),Lb(s,n,a,r),$b(null,s,n,!0,t,r);case 19:return BA(t,s,r);case 22:return zA(t,s,r)}throw Error(je(156,s.tag))};function a5(t,s){return RE(t,s)}function aU(t,s,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,s,r,n){return new aU(t,s,r,n)}function Dj(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iU(t){if(typeof t=="function")return Dj(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xv)return 11;if(t===Jv)return 14}return 2}function ul(t,s){var r=t.alternate;return r===null?(r=Nn(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Mp(t,s,r,n,a,i){var l=2;if(n=t,typeof t=="function")Dj(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Xo:return uo(r.children,a,i,s);case Zv:l=8,a|=8;break;case ob:return t=Nn(12,r,s,a|2),t.elementType=ob,t.lanes=i,t;case cb:return t=Nn(13,r,s,a),t.elementType=cb,t.lanes=i,t;case db:return t=Nn(19,r,s,a),t.elementType=db,t.lanes=i,t;case fE:return Ox(r,a,i,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hE:l=10;break e;case pE:l=9;break e;case Xv:l=11;break e;case Jv:l=14;break e;case Mi:l=16,n=null;break e}throw Error(je(130,t==null?t:typeof t,""))}return s=Nn(l,r,s,a),s.elementType=t,s.type=n,s.lanes=i,s}function uo(t,s,r,n){return t=Nn(7,t,n,s),t.lanes=r,t}function Ox(t,s,r,n){return t=Nn(22,t,n,s),t.elementType=fE,t.lanes=r,t.stateNode={isHidden:!1},t}function Yg(t,s,r){return t=Nn(6,t,null,s),t.lanes=r,t}function Zg(t,s,r){return s=Nn(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function lU(t,s,r,n,a){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tg(0),this.expirationTimes=Tg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tg(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Mj(t,s,r,n,a,i,l,o,c){return t=new lU(t,s,r,o,c),s===1?(s=1,i===!0&&(s|=8)):s=0,i=Nn(3,null,null,s),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},gj(i),t}function oU(t,s,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zo,key:n==null?null:""+n,children:t,containerInfo:s,implementation:r}}function i5(t){if(!t)return pl;t=t._reactInternals;e:{if(Oo(t)!==t||t.tag!==1)throw Error(je(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Hr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(je(171))}if(t.tag===1){var r=t.type;if(Hr(r))return iA(t,r,s)}return s}function l5(t,s,r,n,a,i,l,o,c){return t=Mj(r,n,!0,t,a,i,l,o,c),t.context=i5(null),r=t.current,n=Ar(),a=dl(r),i=di(n,a),i.callback=s??null,ol(r,i,a),t.current.lanes=a,sh(t,a,n),Kr(t,n),t}function Ix(t,s,r,n){var a=s.current,i=Ar(),l=dl(a);return r=i5(r),s.context===null?s.context=r:s.pendingContext=r,s=di(i,l),s.payload={element:t},n=n===void 0?null:n,n!==null&&(s.callback=n),t=ol(a,s,l),t!==null&&(Zn(t,a,l,i),Pp(t,a,l)),l}function Cf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function U1(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function Oj(t,s){U1(t,s),(t=t.alternate)&&U1(t,s)}function cU(){return null}var o5=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ij(t){this._internalRoot=t}Fx.prototype.render=Ij.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(je(409));Ix(t,s,null,null)};Fx.prototype.unmount=Ij.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;yo(function(){Ix(null,t,null,null)}),s[pi]=null}};function Fx(t){this._internalRoot=t}Fx.prototype.unstable_scheduleHydration=function(t){if(t){var s=zE();t={blockedOn:null,target:t,priority:s};for(var r=0;r<zi.length&&s!==0&&s<zi[r].priority;r++);zi.splice(r,0,t),r===0&&$E(t)}};function Fj(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $1(){}function dU(t,s,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Cf(l);i.call(d)}}var l=l5(s,n,t,0,null,!1,!1,"",$1);return t._reactRootContainer=l,t[pi]=l.current,Zu(t.nodeType===8?t.parentNode:t),yo(),l}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=Cf(c);o.call(d)}}var c=Mj(t,0,!1,null,null,!1,!1,"",$1);return t._reactRootContainer=c,t[pi]=c.current,Zu(t.nodeType===8?t.parentNode:t),yo(function(){Ix(s,c,r,n)}),c}function zx(t,s,r,n,a){var i=r._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=Cf(l);o.call(c)}}Ix(s,l,t,a)}else l=dU(r,s,t,a,n);return Cf(l)}FE=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var r=uu(s.pendingLanes);r!==0&&(sj(s,r|1),Kr(s,Ss()),!(Mt&6)&&(xd=Ss()+500,kl()))}break;case 13:yo(function(){var n=fi(t,1);if(n!==null){var a=Ar();Zn(n,t,1,a)}}),Oj(t,1)}};rj=function(t){if(t.tag===13){var s=fi(t,134217728);if(s!==null){var r=Ar();Zn(s,t,134217728,r)}Oj(t,134217728)}};LE=function(t){if(t.tag===13){var s=dl(t),r=fi(t,s);if(r!==null){var n=Ar();Zn(r,t,s,n)}Oj(t,s)}};zE=function(){return qt};UE=function(t,s){var r=qt;try{return qt=t,s()}finally{qt=r}};vb=function(t,s,r){switch(s){case"input":if(hb(t,r),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var n=r[s];if(n!==t&&n.form===t.form){var a=Ex(n);if(!a)throw Error(je(90));gE(n),hb(n,a)}}}break;case"textarea":yE(t,r);break;case"select":s=r.value,s!=null&&hc(t,!!r.multiple,s,!1)}};_E=Aj;kE=yo;var uU={usingClientEntryPoint:!1,Events:[nh,sc,Ex,CE,SE,Aj]},Xd={findFiberByHostInstance:Ul,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mU={bundleType:Xd.bundleType,version:Xd.version,rendererPackageName:Xd.rendererPackageName,rendererConfig:Xd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AE(t),t===null?null:t.stateNode},findFiberByHostInstance:Xd.findFiberByHostInstance||cU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wh.isDisabled&&Wh.supportsFiber)try{Sx=Wh.inject(mU),Ea=Wh}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uU;dn.createPortal=function(t,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fj(s))throw Error(je(200));return oU(t,s,null,r)};dn.createRoot=function(t,s){if(!Fj(t))throw Error(je(299));var r=!1,n="",a=o5;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=Mj(t,1,!1,null,null,r,!1,n,a),t[pi]=s.current,Zu(t.nodeType===8?t.parentNode:t),new Ij(s)};dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(je(188)):(t=Object.keys(t).join(","),Error(je(268,t)));return t=AE(s),t=t===null?null:t.stateNode,t};dn.flushSync=function(t){return yo(t)};dn.hydrate=function(t,s,r){if(!Lx(s))throw Error(je(200));return zx(null,t,s,!0,r)};dn.hydrateRoot=function(t,s,r){if(!Fj(t))throw Error(je(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",l=o5;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),s=l5(s,null,t,1,r??null,a,!1,i,l),t[pi]=s.current,Zu(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,a]:s.mutableSourceEagerHydrationData.push(r,a);return new Fx(s)};dn.render=function(t,s,r){if(!Lx(s))throw Error(je(200));return zx(null,t,s,!1,r)};dn.unmountComponentAtNode=function(t){if(!Lx(t))throw Error(je(40));return t._reactRootContainer?(yo(function(){zx(null,null,t,!1,function(){t._reactRootContainer=null,t[pi]=null})}),!0):!1};dn.unstable_batchedUpdates=Aj;dn.unstable_renderSubtreeIntoContainer=function(t,s,r,n){if(!Lx(r))throw Error(je(200));if(t==null||t._reactInternals===void 0)throw Error(je(38));return zx(t,s,r,!1,n)};dn.version="18.3.1-next-f1338f8080-20240426";function c5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c5)}catch(t){console.error(t)}}c5(),cE.exports=dn;var Pl=cE.exports;const hU=ji(Pl);var d5,V1=Pl;d5=V1.createRoot,V1.hydrateRoot;var pU=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function u5({packageName:t,customMessages:s}){let r=t;function n(i,l){if(!l)return`${r}: ${i}`;let o=i;const c=i.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const d of c){const u=(l[d[1]]||"").toString();o=o.replace(`{{${d[1]}}}`,u)}return`${r}: ${o}`}const a={...pU,...s};return{setPackageName({packageName:i}){return typeof i=="string"&&(r=i),this},setMessages({customMessages:i}){return Object.assign(a,i||{}),this},throwInvalidPublishableKeyError(i){throw new Error(n(a.InvalidPublishableKeyErrorMessage,i))},throwInvalidProxyUrl(i){throw new Error(n(a.InvalidProxyUrlErrorMessage,i))},throwMissingPublishableKeyError(){throw new Error(n(a.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(n(a.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(i){throw new Error(n(a.MissingClerkProvider,i))},throw(i){throw new Error(n(i))}}}var m5=class h5 extends Error{constructor(s,{code:r,cause:n}){const a="🔒 Clerk:",i=new RegExp(a.replace(" ","\\s*"),"i"),l=s.replace(i,""),o=`${a} ${l.trim()}

(code="${r}")
`;super(o),this.toString=()=>`[${this.name}]
Message:${this.message}`,Object.setPrototypeOf(this,h5.prototype),this.cause=n,this.code=r,this.message=o,this.clerkRuntimeError=!0,this.name="ClerkRuntimeError"}},p5=Object.defineProperty,fU=Object.getOwnPropertyDescriptor,xU=Object.getOwnPropertyNames,gU=Object.prototype.hasOwnProperty,bU=(t,s)=>{for(var r in s)p5(t,r,{get:s[r],enumerable:!0})},yU=(t,s,r,n)=>{if(s&&typeof s=="object"||typeof s=="function")for(let a of xU(s))!gU.call(t,a)&&a!==r&&p5(t,a,{get:()=>s[a],enumerable:!(n=fU(s,a))||n.enumerable});return t},vU=(t,s,r)=>(yU(t,s,"default"),r),f5=t=>typeof atob<"u"&&typeof atob=="function"?atob(t):typeof global<"u"&&global.Buffer?new global.Buffer(t,"base64").toString():t,jU=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],x5="pk_live_",wU="pk_test_";function g5(t){if(!t.endsWith("$"))return!1;const s=t.slice(0,-1);return s.includes("$")?!1:s.includes(".")}function B1(t,s={}){if(t=t||"",!t||!q1(t)){if(s.fatal&&!t)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(s.fatal&&!q1(t))throw new Error("Publishable key not valid.");return null}const r=t.startsWith(x5)?"production":"development";let n;try{n=f5(t.split("_")[2])}catch{if(s.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!g5(n)){if(s.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let a=n.slice(0,-1);return s.proxyUrl?a=s.proxyUrl:r!=="development"&&s.domain&&s.isSatellite&&(a=`clerk.${s.domain}`),{instanceType:r,frontendApi:a}}function q1(t=""){try{if(!(t.startsWith(x5)||t.startsWith(wU)))return!1;const r=t.split("_");if(r.length!==3)return!1;const n=r[2];if(!n)return!1;const a=f5(n);return g5(a)}catch{return!1}}function NU(){const t=new Map;return{isDevOrStagingUrl:s=>{if(!s)return!1;const r=typeof s=="string"?s:s.hostname;let n=t.get(r);return n===void 0&&(n=jU.some(a=>r.endsWith(a)),t.set(r,n)),n}}}var b5={exports:{}},y5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd=p;function CU(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var SU=typeof Object.is=="function"?Object.is:CU,_U=gd.useState,kU=gd.useEffect,PU=gd.useLayoutEffect,EU=gd.useDebugValue;function AU(t,s){var r=s(),n=_U({inst:{value:r,getSnapshot:s}}),a=n[0].inst,i=n[1];return PU(function(){a.value=r,a.getSnapshot=s,Xg(a)&&i({inst:a})},[t,r,s]),kU(function(){return Xg(a)&&i({inst:a}),t(function(){Xg(a)&&i({inst:a})})},[t]),EU(r),r}function Xg(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!SU(t,r)}catch{return!0}}function TU(t,s){return s()}var RU=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?TU:AU;y5.useSyncExternalStore=gd.useSyncExternalStore!==void 0?gd.useSyncExternalStore:RU;b5.exports=y5;var Lj=b5.exports;const v5=0,j5=1,w5=2,W1=3;var H1=Object.prototype.hasOwnProperty;function Jb(t,s){var r,n;if(t===s)return!0;if(t&&s&&(r=t.constructor)===s.constructor){if(r===Date)return t.getTime()===s.getTime();if(r===RegExp)return t.toString()===s.toString();if(r===Array){if((n=t.length)===s.length)for(;n--&&Jb(t[n],s[n]););return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(H1.call(t,r)&&++n&&!H1.call(s,r)||!(r in s)||!Jb(t[r],s[r]))return!1;return Object.keys(s).length===n}}return t!==t&&s!==s}const Wn=new WeakMap,tl=()=>{},Is=tl(),Sf=Object,xt=t=>t===Is,jn=t=>typeof t=="function",gi=(t,s)=>({...t,...s}),N5=t=>jn(t.then),Jg={},Hh={},zj="undefined",ih=typeof window!=zj,ey=typeof document!=zj,DU=ih&&"Deno"in window,MU=()=>ih&&typeof window.requestAnimationFrame!=zj,Ii=(t,s)=>{const r=Wn.get(t);return[()=>!xt(s)&&t.get(s)||Jg,n=>{if(!xt(s)){const a=t.get(s);s in Hh||(Hh[s]=a),r[5](s,gi(a,n),a||Jg)}},r[6],()=>!xt(s)&&s in Hh?Hh[s]:!xt(s)&&t.get(s)||Jg]};let ty=!0;const OU=()=>ty,[sy,ry]=ih&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[tl,tl],IU=()=>{const t=ey&&document.visibilityState;return xt(t)||t!=="hidden"},FU=t=>(ey&&document.addEventListener("visibilitychange",t),sy("focus",t),()=>{ey&&document.removeEventListener("visibilitychange",t),ry("focus",t)}),LU=t=>{const s=()=>{ty=!0,t()},r=()=>{ty=!1};return sy("online",s),sy("offline",r),()=>{ry("online",s),ry("offline",r)}},zU={isOnline:OU,isVisible:IU},UU={initFocus:FU,initReconnect:LU},K1=!ne.useId,im=!ih||DU,$U=t=>MU()?window.requestAnimationFrame(t):setTimeout(t,1),Mu=im?p.useEffect:p.useLayoutEffect,e0=typeof navigator<"u"&&navigator.connection,G1=!im&&e0&&(["slow-2g","2g"].includes(e0.effectiveType)||e0.saveData),Kh=new WeakMap,VU=t=>Sf.prototype.toString.call(t),t0=(t,s)=>t===`[object ${s}]`;let BU=0;const ny=t=>{const s=typeof t,r=VU(t),n=t0(r,"Date"),a=t0(r,"RegExp"),i=t0(r,"Object");let l,o;if(Sf(t)===t&&!n&&!a){if(l=Kh.get(t),l)return l;if(l=++BU+"~",Kh.set(t,l),Array.isArray(t)){for(l="@",o=0;o<t.length;o++)l+=ny(t[o])+",";Kh.set(t,l)}if(i){l="#";const c=Sf.keys(t).sort();for(;!xt(o=c.pop());)xt(t[o])||(l+=o+":"+ny(t[o])+",");Kh.set(t,l)}}else l=n?t.toJSON():s=="symbol"?t.toString():s=="string"?JSON.stringify(t):""+t;return l},bd=t=>{if(jn(t))try{t=t()}catch{t=""}const s=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?ny(t):"",[t,s]};let qU=0;const ay=()=>++qU;async function C5(...t){const[s,r,n,a]=t,i=gi({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let l=i.populateCache;const o=i.rollbackOnError;let c=i.optimisticData;const d=h=>typeof o=="function"?o(h):o!==!1,u=i.throwOnError;if(jn(r)){const h=r,f=[],b=s.keys();for(const x of b)!/^\$(inf|sub)\$/.test(x)&&h(s.get(x)._k)&&f.push(x);return Promise.all(f.map(m))}return m(r);async function m(h){const[f]=bd(h);if(!f)return;const[b,x]=Ii(s,f),[v,g,y,j]=Wn.get(s),w=()=>{const U=v[f];return(jn(i.revalidate)?i.revalidate(b().data,h):i.revalidate!==!1)&&(delete y[f],delete j[f],U&&U[0])?U[0](w5).then(()=>b().data):b().data};if(t.length<3)return w();let N=n,_,k=!1;const S=ay();g[f]=[S,0];const A=!xt(c),z=b(),re=z.data,F=z._c,B=xt(F)?re:F;if(A&&(c=jn(c)?c(B,re):c,x({data:c,_c:B})),jn(N))try{N=N(B)}catch(U){_=U,k=!0}if(N&&N5(N))if(N=await N.catch(U=>{_=U,k=!0}),S!==g[f][0]){if(k)throw _;return N}else k&&A&&d(_)&&(l=!0,x({data:B,_c:Is}));if(l&&!k)if(jn(l)){const U=l(N,B);x({data:U,error:Is,_c:Is})}else x({data:N,error:Is,_c:Is});if(g[f][1]=ay(),Promise.resolve(w()).then(()=>{x({_c:Is})}),k){if(u)throw _;return}return N}}const Q1=(t,s)=>{for(const r in t)t[r][0]&&t[r][0](s)},S5=(t,s)=>{if(!Wn.has(t)){const r=gi(UU,s),n=Object.create(null),a=C5.bind(Is,t);let i=tl;const l=Object.create(null),o=(u,m)=>{const h=l[u]||[];return l[u]=h,h.push(m),()=>h.splice(h.indexOf(m),1)},c=(u,m,h)=>{t.set(u,m);const f=l[u];if(f)for(const b of f)b(m,h)},d=()=>{if(!Wn.has(t)&&(Wn.set(t,[n,Object.create(null),Object.create(null),Object.create(null),a,c,o]),!im)){const u=r.initFocus(setTimeout.bind(Is,Q1.bind(Is,n,v5))),m=r.initReconnect(setTimeout.bind(Is,Q1.bind(Is,n,j5)));i=()=>{u&&u(),m&&m(),Wn.delete(t)}}};return d(),[t,a,d,i]}return[t,Wn.get(t)[4]]},WU=(t,s,r,n,a)=>{const i=r.errorRetryCount,l=a.retryCount,o=~~((Math.random()+.5)*(1<<(l<8?l:8)))*r.errorRetryInterval;!xt(i)&&l>i||setTimeout(n,o,a)},HU=Jb,[lh,_5]=S5(new Map),k5=gi({onLoadingSlow:tl,onSuccess:tl,onError:tl,onErrorRetry:WU,onDiscarded:tl,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:G1?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:G1?5e3:3e3,compare:HU,isPaused:()=>!1,cache:lh,mutate:_5,fallback:{}},zU),P5=(t,s)=>{const r=gi(t,s);if(s){const{use:n,fallback:a}=t,{use:i,fallback:l}=s;n&&i&&(r.use=n.concat(i)),a&&l&&(r.fallback=gi(a,l))}return r},iy=p.createContext({}),KU=t=>{const{value:s}=t,r=p.useContext(iy),n=jn(s),a=p.useMemo(()=>n?s(r):s,[n,r,s]),i=p.useMemo(()=>n?a:P5(r,a),[n,r,a]),l=a&&a.provider,o=p.useRef(Is);l&&!o.current&&(o.current=S5(l(i.cache||lh),a));const c=o.current;return c&&(i.cache=c[0],i.mutate=c[1]),Mu(()=>{if(c)return c[2]&&c[2](),c[3]},[]),p.createElement(iy.Provider,gi(t,{value:i}))},E5="$inf$",A5=ih&&window.__SWR_DEVTOOLS_USE__,GU=A5?window.__SWR_DEVTOOLS_USE__:[],QU=()=>{A5&&(window.__SWR_DEVTOOLS_REACT__=ne)},T5=t=>jn(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],R5=()=>gi(k5,p.useContext(iy)),YU=(t,s)=>{const[r,n]=bd(t),[,,,a]=Wn.get(lh);if(a[r])return a[r];const i=s(n);return a[r]=i,i},ZU=t=>(s,r,n)=>t(s,r&&((...i)=>{const[l]=bd(s),[,,,o]=Wn.get(lh);if(l.startsWith(E5))return r(...i);const c=o[l];return xt(c)?r(...i):(delete o[l],c)}),n),XU=GU.concat(ZU),JU=t=>function(...r){const n=R5(),[a,i,l]=T5(r),o=P5(n,l);let c=t;const{use:d}=o,u=(d||[]).concat(XU);for(let m=u.length;m--;)c=u[m](c);return c(a,i||o.fetcher||null,o)},e$=(t,s,r)=>{const n=s[t]||(s[t]=[]);return n.push(r),()=>{const a=n.indexOf(r);a>=0&&(n[a]=n[n.length-1],n.pop())}},t$=(t,s)=>(...r)=>{const[n,a,i]=T5(r),l=(i.use||[]).concat(s);return t(n,a,{...i,use:l})};QU();const s$=()=>{},r$=s$(),ly=Object,Y1=t=>t===r$,n$=t=>typeof t=="function",Gh=new WeakMap,a$=t=>ly.prototype.toString.call(t),s0=(t,s)=>t===`[object ${s}]`;let i$=0;const oy=t=>{const s=typeof t,r=a$(t),n=s0(r,"Date"),a=s0(r,"RegExp"),i=s0(r,"Object");let l,o;if(ly(t)===t&&!n&&!a){if(l=Gh.get(t),l)return l;if(l=++i$+"~",Gh.set(t,l),Array.isArray(t)){for(l="@",o=0;o<t.length;o++)l+=oy(t[o])+",";Gh.set(t,l)}if(i){l="#";const c=ly.keys(t).sort();for(;!Y1(o=c.pop());)Y1(t[o])||(l+=o+":"+oy(t[o])+",");Gh.set(t,l)}}else l=n?t.toJSON():s=="symbol"?t.toString():s=="string"?JSON.stringify(t):""+t;return l},l$=t=>{if(n$(t))try{t=t()}catch{t=""}const s=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?oy(t):"",[t,s]},o$=t=>l$(t)[0],r0=ne.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(s=>{t.status="fulfilled",t.value=s},s=>{t.status="rejected",t.reason=s}),t}}),n0={dedupe:!0},c$=(t,s,r)=>{const{cache:n,compare:a,suspense:i,fallbackData:l,revalidateOnMount:o,revalidateIfStale:c,refreshInterval:d,refreshWhenHidden:u,refreshWhenOffline:m,keepPreviousData:h}=r,[f,b,x,v]=Wn.get(n),[g,y]=bd(t),j=p.useRef(!1),w=p.useRef(!1),N=p.useRef(g),_=p.useRef(s),k=p.useRef(r),S=()=>k.current,A=()=>S().isVisible()&&S().isOnline(),[z,re,F,B]=Ii(n,g),U=p.useRef({}).current,W=xt(l)?xt(r.fallback)?Is:r.fallback[g]:l,E=(be,ct)=>{for(const bt in U){const zt=bt;if(zt==="data"){if(!a(be[zt],ct[zt])&&(!xt(be[zt])||!a(Ke,ct[zt])))return!1}else if(ct[zt]!==be[zt])return!1}return!0},M=p.useMemo(()=>{const be=!g||!s?!1:xt(o)?S().isPaused()||i?!1:c!==!1:o,ct=nr=>{const hn=gi(nr);return delete hn._k,be?{isValidating:!0,isLoading:!0,...hn}:hn},bt=z(),zt=B(),ks=ct(bt),ca=bt===zt?ks:ct(zt);let ls=ks;return[()=>{const nr=ct(z());return E(nr,ls)?(ls.data=nr.data,ls.isLoading=nr.isLoading,ls.isValidating=nr.isValidating,ls.error=nr.error,ls):(ls=nr,nr)},()=>ca]},[n,g]),q=Lj.useSyncExternalStore(p.useCallback(be=>F(g,(ct,bt)=>{E(bt,ct)||be()}),[n,g]),M[0],M[1]),R=!j.current,ie=f[g]&&f[g].length>0,O=q.data,te=xt(O)?W&&N5(W)?r0(W):W:O,se=q.error,Te=p.useRef(te),Ke=h?xt(O)?xt(Te.current)?te:Te.current:O:te,ot=ie&&!xt(se)?!1:R&&!xt(o)?o:S().isPaused()?!1:i?xt(te)?!1:c:xt(te)||c,ce=!!(g&&s&&R&&ot),Ze=xt(q.isValidating)?ce:q.isValidating,rt=xt(q.isLoading)?ce:q.isLoading,We=p.useCallback(async be=>{const ct=_.current;if(!g||!ct||w.current||S().isPaused())return!1;let bt,zt,ks=!0;const ca=be||{},ls=!x[g]||!ca.dedupe,nr=()=>K1?!w.current&&g===N.current&&j.current:g===N.current,hn={isValidating:!1,isLoading:!1},H=()=>{re(hn)},ae=()=>{const Pe=x[g];Pe&&Pe[1]===zt&&delete x[g]},fe={isValidating:!0};xt(z().data)&&(fe.isLoading=!0);try{if(ls&&(re(fe),r.loadingTimeout&&xt(z().data)&&setTimeout(()=>{ks&&nr()&&S().onLoadingSlow(g,r)},r.loadingTimeout),x[g]=[ct(y),ay()]),[bt,zt]=x[g],bt=await bt,ls&&setTimeout(ae,r.dedupingInterval),!x[g]||x[g][1]!==zt)return ls&&nr()&&S().onDiscarded(g),!1;hn.error=Is;const Pe=b[g];if(!xt(Pe)&&(zt<=Pe[0]||zt<=Pe[1]||Pe[1]===0))return H(),ls&&nr()&&S().onDiscarded(g),!1;const Se=z().data;hn.data=a(Se,bt)?Se:bt,ls&&nr()&&S().onSuccess(bt,g,r)}catch(Pe){ae();const Se=S(),{shouldRetryOnError:Ne}=Se;Se.isPaused()||(hn.error=Pe,ls&&nr()&&(Se.onError(Pe,g,Se),(Ne===!0||jn(Ne)&&Ne(Pe))&&(!S().revalidateOnFocus||!S().revalidateOnReconnect||A())&&Se.onErrorRetry(Pe,g,Se,He=>{const _t=f[g];_t&&_t[0]&&_t[0](W1,He)},{retryCount:(ca.retryCount||0)+1,dedupe:!0})))}return ks=!1,H(),!0},[g,n]),ze=p.useCallback((...be)=>C5(n,N.current,...be),[]);if(Mu(()=>{_.current=s,k.current=r,xt(O)||(Te.current=O)}),Mu(()=>{if(!g)return;const be=We.bind(Is,n0);let ct=0;S().revalidateOnFocus&&(ct=Date.now()+S().focusThrottleInterval);const zt=e$(g,f,(ks,ca={})=>{if(ks==v5){const ls=Date.now();S().revalidateOnFocus&&ls>ct&&A()&&(ct=ls+S().focusThrottleInterval,be())}else if(ks==j5)S().revalidateOnReconnect&&A()&&be();else{if(ks==w5)return We();if(ks==W1)return We(ca)}});return w.current=!1,N.current=g,j.current=!0,re({_k:y}),ot&&(x[g]||(xt(te)||im?be():$U(be))),()=>{w.current=!0,zt()}},[g]),Mu(()=>{let be;function ct(){const zt=jn(d)?d(z().data):d;zt&&be!==-1&&(be=setTimeout(bt,zt))}function bt(){!z().error&&(u||S().isVisible())&&(m||S().isOnline())?We(n0).then(ct):ct()}return ct(),()=>{be&&(clearTimeout(be),be=-1)}},[d,u,m,g]),p.useDebugValue(Ke),i&&xt(te)&&g){if(!K1&&im)throw new Error("Fallback data is required when using Suspense in SSR.");_.current=s,k.current=r,w.current=!1;const be=v[g];if(!xt(be)){const ct=ze(be);r0(ct)}if(xt(se)){const ct=We(n0);xt(Ke)||(ct.status="fulfilled",ct.value=!0),r0(ct)}else throw se}return{mutate:ze,get data(){return U.data=!0,Ke},get error(){return U.error=!0,se},get isValidating(){return U.isValidating=!0,Ze},get isLoading(){return U.isLoading=!0,rt}}},d$=Sf.defineProperty(KU,"defaultValue",{value:k5}),Uj=JU(c$),u$=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:d$,default:Uj,mutate:_5,preload:YU,unstable_serialize:o$,useSWRConfig:R5},Symbol.toStringTag,{value:"Module"})),m$=()=>{},h$=m$(),cy=Object,Z1=t=>t===h$,p$=t=>typeof t=="function",Qh=new WeakMap,f$=t=>cy.prototype.toString.call(t),a0=(t,s)=>t===`[object ${s}]`;let x$=0;const dy=t=>{const s=typeof t,r=f$(t),n=a0(r,"Date"),a=a0(r,"RegExp"),i=a0(r,"Object");let l,o;if(cy(t)===t&&!n&&!a){if(l=Qh.get(t),l)return l;if(l=++x$+"~",Qh.set(t,l),Array.isArray(t)){for(l="@",o=0;o<t.length;o++)l+=dy(t[o])+",";Qh.set(t,l)}if(i){l="#";const c=cy.keys(t).sort();for(;!Z1(o=c.pop());)Z1(t[o])||(l+=o+":"+dy(t[o])+",");Qh.set(t,l)}}else l=n?t.toJSON():s=="symbol"?t.toString():s=="string"?JSON.stringify(t):""+t;return l},g$=t=>{if(p$(t))try{t=t()}catch{t=""}const s=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?dy(t):"",[t,s]},b$=t=>g$(t?t(0,null):null)[0],i0=Promise.resolve(),y$=t=>(s,r,n)=>{const a=p.useRef(!1),{cache:i,initialSize:l=1,revalidateAll:o=!1,persistSize:c=!1,revalidateFirstPage:d=!0,revalidateOnMount:u=!1,parallel:m=!1}=n,[,,,h]=Wn.get(lh);let f;try{f=b$(s),f&&(f=E5+f)}catch{}const[b,x,v]=Ii(i,f),g=p.useCallback(()=>xt(b()._l)?l:b()._l,[i,f,l]);Lj.useSyncExternalStore(p.useCallback(S=>f?v(f,()=>{S()}):()=>{},[i,f]),g,g);const y=p.useCallback(()=>{const S=b()._l;return xt(S)?l:S},[f,l]),j=p.useRef(y());Mu(()=>{if(!a.current){a.current=!0;return}f&&x({_l:c?j.current:y()})},[f,i]);const w=u&&!a.current,N=t(f,async S=>{const A=b()._i,z=b()._r;x({_r:Is});const re=[],F=y(),[B]=Ii(i,S),U=B().data,W=[];let E=null;for(let M=0;M<F;++M){const[q,R]=bd(s(M,m?null:E));if(!q)break;const[ie,O]=Ii(i,q);let te=ie().data;const se=o||A||xt(te)||d&&!M&&!xt(U)||w||U&&!xt(U[M])&&!n.compare(U[M],te);if(r&&(typeof z=="function"?z(te,R):se)){const Te=async()=>{if(!(q in h))te=await r(R);else{const ot=h[q];delete h[q],te=await ot}O({data:te,_k:R}),re[M]=te};m?W.push(Te):await Te()}else re[M]=te;m||(E=te)}return m&&await Promise.all(W.map(M=>M())),x({_i:Is}),re},n),_=p.useCallback(function(S,A){const z=typeof A=="boolean"?{revalidate:A}:A||{},re=z.revalidate!==!1;return f?(re&&(xt(S)?x({_i:!0,_r:z.revalidate}):x({_i:!1,_r:z.revalidate})),arguments.length?N.mutate(S,{...z,revalidate:re}):N.mutate()):i0},[f,i]),k=p.useCallback(S=>{if(!f)return i0;const[,A]=Ii(i,f);let z;if(jn(S)?z=S(y()):typeof S=="number"&&(z=S),typeof z!="number")return i0;A({_l:z}),j.current=z;const re=[],[F]=Ii(i,f);let B=null;for(let U=0;U<z;++U){const[W]=bd(s(U,B)),[E]=Ii(i,W),M=W?E().data:Is;if(xt(M))return _(F().data);re.push(M),B=M}return _(re)},[f,i,_,y]);return{size:y(),setSize:k,mutate:_,get data(){return N.data},get error(){return N.error},get isValidating(){return N.isValidating},get isLoading(){return N.isLoading}}},v$=t$(Uj,y$);var X1=Object.prototype.hasOwnProperty;function J1(t,s,r){for(r of t.keys())if(Ou(r,s))return r}function Ou(t,s){var r,n,a;if(t===s)return!0;if(t&&s&&(r=t.constructor)===s.constructor){if(r===Date)return t.getTime()===s.getTime();if(r===RegExp)return t.toString()===s.toString();if(r===Array){if((n=t.length)===s.length)for(;n--&&Ou(t[n],s[n]););return n===-1}if(r===Set){if(t.size!==s.size)return!1;for(n of t)if(a=n,a&&typeof a=="object"&&(a=J1(s,a),!a)||!s.has(a))return!1;return!0}if(r===Map){if(t.size!==s.size)return!1;for(n of t)if(a=n[0],a&&typeof a=="object"&&(a=J1(s,a),!a)||!Ou(n[1],s.get(a)))return!1;return!0}if(r===ArrayBuffer)t=new Uint8Array(t),s=new Uint8Array(s);else if(r===DataView){if((n=t.byteLength)===s.byteLength)for(;n--&&t.getInt8(n)===s.getInt8(n););return n===-1}if(ArrayBuffer.isView(t)){if((n=t.byteLength)===s.byteLength)for(;n--&&t[n]===s[n];);return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(X1.call(t,r)&&++n&&!X1.call(s,r)||!(r in s)||!Ou(t[r],s[r]))return!1;return Object.keys(s).length===n}}return t!==t&&s!==s}function j$(t,s){if(!t)throw typeof s=="string"?new Error(s):new Error(`${s.displayName} not found`)}var Ba=(t,s)=>{const{assertCtxFn:r=j$}={},n=ne.createContext(void 0);return n.displayName=t,[n,()=>{const l=ne.useContext(n);return r(l,`${t} not found`),l.value},()=>{const l=ne.useContext(n);return l?l.value:{}}]},D5={};bU(D5,{useSWR:()=>Uj,useSWRInfinite:()=>v$});vU(D5,u$);var[w$,N$]=Ba("ClerkInstanceContext");Ba("UserContext");Ba("ClientContext");Ba("SessionContext");ne.createContext({});Ba("CheckoutContext");Ba("OrganizationContext");function C$(t){if(!ne.useContext(w$)){if(typeof t=="function"){t();return}throw new Error(`${t} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?ne.useLayoutEffect:ne.useEffect;var e2=Ou,S$=t=>{const s=p.useRef(t);return p.useEffect(()=>{s.current=t},[t]),s.current},Zr=(t,s,r)=>{const n=!!r,a=p.useRef(r);p.useEffect(()=>{a.current=r},[r]),p.useEffect(()=>{if(!n||!t)return()=>{};const i=(...l)=>{a.current&&a.current(...l)};return t.on(s,i),()=>{t.off(s,i)}},[n,s,t,a])},M5=ne.createContext(null);M5.displayName="ElementsContext";var _$=(t,s)=>{if(!t)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${s} in an <Elements> provider.`);return t},_f=t=>t!==null&&typeof t=="object",k$=(t,s,r)=>_f(t)?Object.keys(t).reduce((n,a)=>{const i=!_f(s)||!O5(t[a],s[a]);return r.includes(a)?(i&&console.warn(`Unsupported prop change: options.${a} is not a mutable property.`),n):i?{...n||{},[a]:t[a]}:n},null):null,t2="[object Object]",O5=(t,s)=>{if(!_f(t)||!_f(s))return t===s;const r=Array.isArray(t),n=Array.isArray(s);if(r!==n)return!1;const a=Object.prototype.toString.call(t)===t2,i=Object.prototype.toString.call(s)===t2;if(a!==i)return!1;if(!a&&!r)return t===s;const l=Object.keys(t),o=Object.keys(s);if(l.length!==o.length)return!1;const c={};for(let f=0;f<l.length;f+=1)c[l[f]]=!0;for(let f=0;f<o.length;f+=1)c[o[f]]=!0;const d=Object.keys(c);if(d.length!==l.length)return!1;const u=t,m=s,h=f=>O5(u[f],m[f]);return d.every(h)},s2=t=>{const s=ne.useContext(M5);return _$(s,t)},P$=t=>t.charAt(0).toUpperCase()+t.slice(1),E$=(t,s)=>{const r=`${P$(t)}Element`,i=s?l=>{s2(`mounts <${r}>`);const{id:o,className:c}=l;return ne.createElement("div",{id:o,className:c})}:({id:l,className:o,fallback:c,options:d={},onBlur:u,onFocus:m,onReady:h,onChange:f,onEscape:b,onClick:x,onLoadError:v,onLoaderStart:g,onNetworksChange:y,onConfirm:j,onCancel:w,onShippingAddressChange:N,onShippingRateChange:_})=>{const k=s2(`mounts <${r}>`),S="elements"in k?k.elements:null,[A,z]=ne.useState(null),re=ne.useRef(null),F=ne.useRef(null),[B,U]=p.useState(!1);Zr(A,"blur",u),Zr(A,"focus",m),Zr(A,"escape",b),Zr(A,"click",x),Zr(A,"loaderror",v),Zr(A,"loaderstart",g),Zr(A,"networkschange",y),Zr(A,"confirm",j),Zr(A,"cancel",w),Zr(A,"shippingaddresschange",N),Zr(A,"shippingratechange",_),Zr(A,"change",f);let W;h&&(W=()=>{U(!0),h(A)}),Zr(A,"ready",W),ne.useLayoutEffect(()=>{if(re.current===null&&F.current!==null&&S){let M=null;S&&(M=S.create(t,d)),re.current=M,z(M),M&&M.mount(F.current)}},[S,d]);const E=S$(d);return ne.useEffect(()=>{if(!re.current)return;const M=k$(d,E,["paymentRequest"]);M&&"update"in re.current&&re.current.update(M)},[d,E]),ne.useLayoutEffect(()=>()=>{if(re.current&&typeof re.current.destroy=="function")try{re.current.destroy(),re.current=null}catch{}},[]),ne.createElement(ne.Fragment,null,!B&&c,ne.createElement("div",{id:l,style:{height:B?"unset":"0px",visibility:B?"visible":"hidden"},className:o,ref:F}))};return i.displayName=r,i.__elementType=t,i},A$=typeof window>"u";E$("payment",A$);Ba("StripeLibsContext");Ba("PaymentElementContext");Ba("StripeUtilsContext");var mo=u5({packageName:"@clerk/clerk-react"});function T$(t){mo.setMessages(t).setPackageName(t)}Ba("AuthContext");var R$=N$,D$=t=>`You've passed multiple children components to <${t}/>. You can only pass a single child component or text.`,l0="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",M$="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",O$="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",I$="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",F$="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",L$=t=>`<${t} /> can only accept <${t}.Page /> and <${t}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,z$=t=>`Missing props. <${t}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,U$=t=>`Missing props. <${t}.Link /> component requires the following props: url, label and labelIcon.`,$$="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",V$="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",B$="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",q$="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",W$="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",H$="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",K$="Missing props. <UserButton.Action /> component requires the following props: label.",G$=t=>{C$(()=>{mo.throwMissingClerkProviderError({source:t})})},as=(t,s)=>{const n=(typeof s=="string"?s:s==null?void 0:s.component)||t.displayName||t.name||"Component";t.displayName=n;const a=typeof s=="string"?void 0:s,i=l=>{G$(n||"withClerk");const o=R$();return!o.loaded&&!(a!=null&&a.renderWhileLoading)?null:ne.createElement(t,{...l,component:n,clerk:o})};return i.displayName=`withClerk(${n})`,i},Q$=()=>{try{return!1}catch{}return!1},Y$=()=>{try{return!1}catch{}return!1},Z$=()=>{try{return!0}catch{}return!1},r2=new Set,$j=(t,s,r)=>{const n=Y$()||Z$(),a=t;r2.has(a)||n||(r2.add(a),console.warn(`Clerk - DEPRECATION WARNING: "${t}" is deprecated and will be removed in the next major release.
${s}`))};as(({clerk:t,...s})=>{const{client:r,session:n}=t,a=r.signedInSessions?r.signedInSessions.length>0:r.activeSessions&&r.activeSessions.length>0;return ne.useEffect(()=>{n===null&&a?t.redirectToAfterSignOut():t.redirectToSignIn(s)},[]),null},"RedirectToSignIn");as(({clerk:t,...s})=>(ne.useEffect(()=>{t.redirectToSignUp(s)},[]),null),"RedirectToSignUp");as(({clerk:t,...s})=>(ne.useEffect(()=>{t.redirectToTasks(s)},[]),null),"RedirectToTasks");as(({clerk:t})=>(ne.useEffect(()=>{$j("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),t.redirectToUserProfile()},[]),null),"RedirectToUserProfile");as(({clerk:t})=>(ne.useEffect(()=>{$j("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),t.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");as(({clerk:t})=>(ne.useEffect(()=>{$j("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),t.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");as(({clerk:t,...s})=>(ne.useEffect(()=>{t.handleRedirectCallback(s)},[]),null),"AuthenticateWithRedirectCallback");var Pr=t=>{Q$()&&console.error(`Clerk: ${t}`)};function o0(t,s,r){if(typeof t=="function")return t(s);if(typeof t<"u")return t;if(typeof r<"u")return r}var n2=(t,...s)=>{const r={...t};for(const n of s)delete r[n];return r},Ux=t=>s=>{try{return ne.Children.only(t)}catch{return mo.throw(D$(s))}},$x=(t,s)=>(t||(t=s),typeof t=="string"&&(t=ne.createElement("button",null,t)),t),Vx=t=>(...s)=>{if(t&&typeof t=="function")return t(...s)};function X$(t){return typeof t=="function"}var Iu=t=>{const[s,r]=p.useState(new Map);return t.map(n=>({id:n.id,mount:a=>r(i=>new Map(i).set(String(n.id),a)),unmount:()=>r(a=>{const i=new Map(a);return i.set(String(n.id),null),i}),portal:()=>{const a=s.get(String(n.id));return a?Pl.createPortal(n.component,a):null}}))},Sr=(t,s)=>!!t&&ne.isValidElement(t)&&(t==null?void 0:t.type)===s,I5=(t,s)=>z5({children:t,reorderItemsLabels:["account","security"],LinkComponent:ch,PageComponent:oh,MenuItemsComponent:qx,componentName:"UserProfile"},s),F5=(t,s)=>z5({children:t,reorderItemsLabels:["general","members"],LinkComponent:Hx,PageComponent:Wx,componentName:"OrganizationProfile"},s),L5=t=>{const s=[],r=[Hx,Wx,qx,oh,ch];return ne.Children.forEach(t,n=>{r.some(a=>Sr(n,a))||s.push(n)}),s},z5=(t,s)=>{const{children:r,LinkComponent:n,PageComponent:a,MenuItemsComponent:i,reorderItemsLabels:l,componentName:o}=t,{allowForAnyChildren:c=!1}=s||{},d=[];ne.Children.forEach(r,y=>{if(!Sr(y,a)&&!Sr(y,n)&&!Sr(y,i)){y&&!c&&Pr(L$(o));return}const{props:j}=y,{children:w,label:N,url:_,labelIcon:k}=j;if(Sr(y,a))if(a2(j,l))d.push({label:N});else if(c0(j))d.push({label:N,labelIcon:k,children:w,url:_});else{Pr(z$(o));return}if(Sr(y,n))if(d0(j))d.push({label:N,labelIcon:k,url:_});else{Pr(U$(o));return}});const u=[],m=[],h=[];d.forEach((y,j)=>{if(c0(y)){u.push({component:y.children,id:j}),m.push({component:y.labelIcon,id:j});return}d0(y)&&h.push({component:y.labelIcon,id:j})});const f=Iu(u),b=Iu(m),x=Iu(h),v=[],g=[];return d.forEach((y,j)=>{if(a2(y,l)){v.push({label:y.label});return}if(c0(y)){const{portal:w,mount:N,unmount:_}=f.find(z=>z.id===j),{portal:k,mount:S,unmount:A}=b.find(z=>z.id===j);v.push({label:y.label,url:y.url,mount:N,unmount:_,mountIcon:S,unmountIcon:A}),g.push(w),g.push(k);return}if(d0(y)){const{portal:w,mount:N,unmount:_}=x.find(k=>k.id===j);v.push({label:y.label,url:y.url,mountIcon:N,unmountIcon:_}),g.push(w);return}}),{customPages:v,customPagesPortals:g}},a2=(t,s)=>{const{children:r,label:n,url:a,labelIcon:i}=t;return!r&&!a&&!i&&s.some(l=>l===n)},c0=t=>{const{children:s,label:r,url:n,labelIcon:a}=t;return!!s&&!!n&&!!a&&!!r},d0=t=>{const{children:s,label:r,url:n,labelIcon:a}=t;return!s&&!!n&&!!a&&!!r},J$=(t,s)=>{var r;return eV({children:t,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:qx,MenuActionComponent:$5,MenuLinkComponent:V5,UserProfileLinkComponent:ch,UserProfilePageComponent:oh,allowForAnyChildren:(r=s==null?void 0:s.allowForAnyChildren)!=null?r:!1})},eV=({children:t,MenuItemsComponent:s,MenuActionComponent:r,MenuLinkComponent:n,UserProfileLinkComponent:a,UserProfilePageComponent:i,reorderItemsLabels:l,allowForAnyChildren:o=!1})=>{const c=[],d=[],u=[];ne.Children.forEach(t,x=>{if(!Sr(x,s)&&!Sr(x,a)&&!Sr(x,i)){x&&!o&&Pr($$);return}if(Sr(x,a)||Sr(x,i))return;const{props:v}=x;ne.Children.forEach(v.children,g=>{if(!Sr(g,r)&&!Sr(g,n)){g&&Pr(V$);return}const{props:y}=g,{label:j,labelIcon:w,href:N,onClick:_,open:k}=y;if(Sr(g,r))if(i2(y,l))c.push({label:j});else if(u0(y)){const S={label:j,labelIcon:w};if(_!==void 0)c.push({...S,onClick:_});else if(k!==void 0)c.push({...S,open:k.startsWith("/")?k:`/${k}`});else{Pr("Custom menu item must have either onClick or open property");return}}else{Pr(K$);return}if(Sr(g,n))if(m0(y))c.push({label:j,labelIcon:w,href:N});else{Pr(H$);return}})});const m=[],h=[];c.forEach((x,v)=>{u0(x)&&m.push({component:x.labelIcon,id:v}),m0(x)&&h.push({component:x.labelIcon,id:v})});const f=Iu(m),b=Iu(h);return c.forEach((x,v)=>{if(i2(x,l)&&d.push({label:x.label}),u0(x)){const{portal:g,mount:y,unmount:j}=f.find(N=>N.id===v),w={label:x.label,mountIcon:y,unmountIcon:j};"onClick"in x?w.onClick=x.onClick:"open"in x&&(w.open=x.open),d.push(w),u.push(g)}if(m0(x)){const{portal:g,mount:y,unmount:j}=b.find(w=>w.id===v);d.push({label:x.label,href:x.href,mountIcon:y,unmountIcon:j}),u.push(g)}}),{customMenuItems:d,customMenuItemsPortals:u}},i2=(t,s)=>{const{children:r,label:n,onClick:a,labelIcon:i}=t;return!r&&!a&&!i&&s.some(l=>l===n)},u0=t=>{const{label:s,labelIcon:r,onClick:n,open:a}=t;return!!r&&!!s&&(typeof n=="function"||typeof a=="string")},m0=t=>{const{label:s,href:r,labelIcon:n}=t;return!!r&&!!n&&!!s},tV=t=>{const s=t==null?void 0:t.isReady;return r=>new Promise((n,a)=>{const{root:i=document==null?void 0:document.body,selector:l,timeout:o=0}=r;if(!i){a(new Error("No root element provided"));return}let c=i;if(l&&(c=i==null?void 0:i.querySelector(l)),s(c,l)){n();return}const d=new MutationObserver(u=>{for(const m of u)if(!c&&l&&(c=i==null?void 0:i.querySelector(l)),(t.childList&&m.type==="childList"||t.attributes&&m.type==="attributes")&&s(c,l)){d.disconnect(),n();return}});d.observe(i,t),o>0&&setTimeout(()=>{d.disconnect(),a(new Error(`Timeout waiting for ${l}`))},o)})},sV=tV({childList:!0,subtree:!0,isReady:(t,s)=>{var r;return!!(t!=null&&t.childElementCount)&&((r=t==null?void 0:t.matches)==null?void 0:r.call(t,s))&&t.childElementCount>0}});function Qr(t,s){const r=p.useRef(),[n,a]=p.useState("rendering");return p.useEffect(()=>{if(!t)throw new Error("Clerk: no component name provided, unable to detect mount.");if(typeof window<"u"&&!r.current){const i=`[data-clerk-component="${t}"]`,l=s==null?void 0:s.selector;r.current=sV({selector:l?i+l:i}).then(()=>{a("rendered")}).catch(()=>{a("error")})}},[t,s==null?void 0:s.selector]),n}var Yh=t=>"mount"in t,l2=t=>"open"in t,o2=t=>t==null?void 0:t.map(({mountIcon:s,unmountIcon:r,...n})=>n),yr=class extends ne.PureComponent{constructor(){super(...arguments),this.rootRef=ne.createRef()}componentDidUpdate(t){var s,r,n,a;if(!Yh(t)||!Yh(this.props))return;const i=n2(t.props,"customPages","customMenuItems","children"),l=n2(this.props.props,"customPages","customMenuItems","children"),o=((s=i.customPages)==null?void 0:s.length)!==((r=l.customPages)==null?void 0:r.length),c=((n=i.customMenuItems)==null?void 0:n.length)!==((a=l.customMenuItems)==null?void 0:a.length),d=o2(t.props.customMenuItems),u=o2(this.props.props.customMenuItems);(!e2(i,l)||!e2(d,u)||o||c)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&(Yh(this.props)&&this.props.mount(this.rootRef.current,this.props.props),l2(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&(Yh(this.props)&&this.props.unmount(this.rootRef.current),l2(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:t=!1}=this.props,s={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return ne.createElement(ne.Fragment,null,!t&&ne.createElement("div",{...s}),this.props.children)}},Bx=t=>{var s,r;return ne.createElement(ne.Fragment,null,(s=t==null?void 0:t.customPagesPortals)==null?void 0:s.map((n,a)=>p.createElement(n,{key:a})),(r=t==null?void 0:t.customMenuItemsPortals)==null?void 0:r.map((n,a)=>p.createElement(n,{key:a})))};as(({clerk:t,component:s,fallback:r,...n})=>{const i=Qr(s)==="rendering"||!t.loaded,l={...i&&r&&{style:{display:"none"}}};return ne.createElement(ne.Fragment,null,i&&r,t.loaded&&ne.createElement(yr,{component:s,mount:t.mountSignIn,unmount:t.unmountSignIn,updateProps:t.__unstable__updateProps,props:n,rootProps:l}))},{component:"SignIn",renderWhileLoading:!0});as(({clerk:t,component:s,fallback:r,...n})=>{const i=Qr(s)==="rendering"||!t.loaded,l={...i&&r&&{style:{display:"none"}}};return ne.createElement(ne.Fragment,null,i&&r,t.loaded&&ne.createElement(yr,{component:s,mount:t.mountSignUp,unmount:t.unmountSignUp,updateProps:t.__unstable__updateProps,props:n,rootProps:l}))},{component:"SignUp",renderWhileLoading:!0});function oh({children:t}){return Pr(M$),ne.createElement(ne.Fragment,null,t)}function ch({children:t}){return Pr(O$),ne.createElement(ne.Fragment,null,t)}var rV=as(({clerk:t,component:s,fallback:r,...n})=>{const i=Qr(s)==="rendering"||!t.loaded,l={...i&&r&&{style:{display:"none"}}},{customPages:o,customPagesPortals:c}=I5(n.children);return ne.createElement(ne.Fragment,null,i&&r,ne.createElement(yr,{component:s,mount:t.mountUserProfile,unmount:t.unmountUserProfile,updateProps:t.__unstable__updateProps,props:{...n,customPages:o},rootProps:l},ne.createElement(Bx,{customPagesPortals:c})))},{component:"UserProfile",renderWhileLoading:!0});Object.assign(rV,{Page:oh,Link:ch});var U5=p.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),nV=as(({clerk:t,component:s,fallback:r,...n})=>{const i=Qr(s)==="rendering"||!t.loaded,l={...i&&r&&{style:{display:"none"}}},{customPages:o,customPagesPortals:c}=I5(n.children,{allowForAnyChildren:!!n.__experimental_asProvider}),d=Object.assign(n.userProfileProps||{},{customPages:o}),{customMenuItems:u,customMenuItemsPortals:m}=J$(n.children,{allowForAnyChildren:!!n.__experimental_asProvider}),h=L5(n.children),f={mount:t.mountUserButton,unmount:t.unmountUserButton,updateProps:t.__unstable__updateProps,props:{...n,userProfileProps:d,customMenuItems:u}},b={customPagesPortals:c,customMenuItemsPortals:m};return ne.createElement(U5.Provider,{value:f},i&&r,t.loaded&&ne.createElement(yr,{component:s,...f,hideRootHtmlElement:!!n.__experimental_asProvider,rootProps:l},n.__experimental_asProvider?h:null,ne.createElement(Bx,{...b})))},{component:"UserButton",renderWhileLoading:!0});function qx({children:t}){return Pr(B$),ne.createElement(ne.Fragment,null,t)}function $5({children:t}){return Pr(q$),ne.createElement(ne.Fragment,null,t)}function V5({children:t}){return Pr(W$),ne.createElement(ne.Fragment,null,t)}function aV(t){const s=p.useContext(U5),r={...s,props:{...s.props,...t}};return ne.createElement(yr,{...r})}Object.assign(nV,{UserProfilePage:oh,UserProfileLink:ch,MenuItems:qx,Action:$5,Link:V5,__experimental_Outlet:aV});function Wx({children:t}){return Pr(I$),ne.createElement(ne.Fragment,null,t)}function Hx({children:t}){return Pr(F$),ne.createElement(ne.Fragment,null,t)}var iV=as(({clerk:t,component:s,fallback:r,...n})=>{const i=Qr(s)==="rendering"||!t.loaded,l={...i&&r&&{style:{display:"none"}}},{customPages:o,customPagesPortals:c}=F5(n.children);return ne.createElement(ne.Fragment,null,i&&r,t.loaded&&ne.createElement(yr,{component:s,mount:t.mountOrganizationProfile,unmount:t.unmountOrganizationProfile,updateProps:t.__unstable__updateProps,props:{...n,customPages:o},rootProps:l},ne.createElement(Bx,{customPagesPortals:c})))},{component:"OrganizationProfile",renderWhileLoading:!0});Object.assign(iV,{Page:Wx,Link:Hx});as(({clerk:t,component:s,fallback:r,...n})=>{const i=Qr(s)==="rendering"||!t.loaded,l={...i&&r&&{style:{display:"none"}}};return ne.createElement(ne.Fragment,null,i&&r,t.loaded&&ne.createElement(yr,{component:s,mount:t.mountCreateOrganization,unmount:t.unmountCreateOrganization,updateProps:t.__unstable__updateProps,props:n,rootProps:l}))},{component:"CreateOrganization",renderWhileLoading:!0});var B5=p.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),lV=as(({clerk:t,component:s,fallback:r,...n})=>{const i=Qr(s)==="rendering"||!t.loaded,l={...i&&r&&{style:{display:"none"}}},{customPages:o,customPagesPortals:c}=F5(n.children,{allowForAnyChildren:!!n.__experimental_asProvider}),d=Object.assign(n.organizationProfileProps||{},{customPages:o}),u=L5(n.children),m={mount:t.mountOrganizationSwitcher,unmount:t.unmountOrganizationSwitcher,updateProps:t.__unstable__updateProps,props:{...n,organizationProfileProps:d},rootProps:l,component:s};return t.__experimental_prefetchOrganizationSwitcher(),ne.createElement(B5.Provider,{value:m},ne.createElement(ne.Fragment,null,i&&r,t.loaded&&ne.createElement(yr,{...m,hideRootHtmlElement:!!n.__experimental_asProvider},n.__experimental_asProvider?u:null,ne.createElement(Bx,{customPagesPortals:c}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function oV(t){const s=p.useContext(B5),r={...s,props:{...s.props,...t}};return ne.createElement(yr,{...r})}Object.assign(lV,{OrganizationProfilePage:Wx,OrganizationProfileLink:Hx,__experimental_Outlet:oV});as(({clerk:t,component:s,fallback:r,...n})=>{const i=Qr(s)==="rendering"||!t.loaded,l={...i&&r&&{style:{display:"none"}}};return ne.createElement(ne.Fragment,null,i&&r,t.loaded&&ne.createElement(yr,{component:s,mount:t.mountOrganizationList,unmount:t.unmountOrganizationList,updateProps:t.__unstable__updateProps,props:n,rootProps:l}))},{component:"OrganizationList",renderWhileLoading:!0});as(({clerk:t,component:s,fallback:r,...n})=>{const i=Qr(s)==="rendering"||!t.loaded,l={...i&&r&&{style:{display:"none"}}};return ne.createElement(ne.Fragment,null,i&&r,t.loaded&&ne.createElement(yr,{component:s,open:t.openGoogleOneTap,close:t.closeGoogleOneTap,updateProps:t.__unstable__updateProps,props:n,rootProps:l}))},{component:"GoogleOneTap",renderWhileLoading:!0});as(({clerk:t,component:s,fallback:r,...n})=>{const i=Qr(s)==="rendering"||!t.loaded,l={...i&&r&&{style:{display:"none"}}};return ne.createElement(ne.Fragment,null,i&&r,t.loaded&&ne.createElement(yr,{component:s,mount:t.mountWaitlist,unmount:t.unmountWaitlist,updateProps:t.__unstable__updateProps,props:n,rootProps:l}))},{component:"Waitlist",renderWhileLoading:!0});as(({clerk:t,component:s,fallback:r,...n})=>{const i=Qr(s,{selector:'[data-component-status="ready"]'})==="rendering"||!t.loaded,l={...i&&r&&{style:{display:"none"}}};return ne.createElement(ne.Fragment,null,i&&r,t.loaded&&ne.createElement(yr,{component:s,mount:t.mountPricingTable,unmount:t.unmountPricingTable,updateProps:t.__unstable__updateProps,props:n,rootProps:l}))},{component:"PricingTable",renderWhileLoading:!0});as(({clerk:t,component:s,fallback:r,...n})=>{const i=Qr(s)==="rendering"||!t.loaded,l={...i&&r&&{style:{display:"none"}}};return ne.createElement(ne.Fragment,null,i&&r,t.loaded&&ne.createElement(yr,{component:s,mount:t.mountApiKeys,unmount:t.unmountApiKeys,updateProps:t.__unstable__updateProps,props:n,rootProps:l}))},{component:"ApiKeys",renderWhileLoading:!0});as(({clerk:t,component:s,fallback:r,...n})=>{const i=Qr(s)==="rendering"||!t.loaded,l={...i&&r&&{style:{display:"none"}}};return ne.createElement(ne.Fragment,null,i&&r,t.loaded&&ne.createElement(yr,{component:s,mount:t.mountUserAvatar,unmount:t.unmountUserAvatar,updateProps:t.__unstable__updateProps,props:n,rootProps:l}))},{component:"UserAvatar",renderWhileLoading:!0});as(({clerk:t,component:s,fallback:r,...n})=>{const i=Qr(s)==="rendering"||!t.loaded,l={...i&&r&&{style:{display:"none"}}};return ne.createElement(ne.Fragment,null,i&&r,t.loaded&&ne.createElement(yr,{component:s,mount:t.mountTaskChooseOrganization,unmount:t.unmountTaskChooseOrganization,updateProps:t.__unstable__updateProps,props:n,rootProps:l}))},{component:"TaskChooseOrganization",renderWhileLoading:!0});var q5=t=>{throw TypeError(t)},Vj=(t,s,r)=>s.has(t)||q5("Cannot "+r),os=(t,s,r)=>(Vj(t,s,"read from private field"),r?r.call(t):s.get(t)),Ei=(t,s,r)=>s.has(t)?q5("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,r),Rl=(t,s,r,n)=>(Vj(t,s,"write to private field"),s.set(t,r),r),h0=(t,s,r)=>(Vj(t,s,"access private method"),r),cV=(t,s="5.97.0")=>{if(t)return t;const r=dV(s);return r?r==="snapshot"?"5.97.0":r:uV(s)},dV=t=>{var s;return(s=t.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/))==null?void 0:s[1]},uV=t=>t.trim().replace(/^v/,"").split(".")[0];function mV(t){return t?hV(t)||W5(t):!0}function hV(t){return/^http(s)?:\/\//.test(t||"")}function W5(t){return t.startsWith("/")}function pV(t){return t?W5(t)?new URL(t,window.location.origin).toString():t:""}function fV(t){if(!t)return"";let s;if(t.match(/^(clerk\.)+\w*$/))s=/(clerk\.)*(?=clerk\.)/;else{if(t.match(/\.clerk.accounts/))return t;s=/^(clerk\.)*/gi}return`clerk.${t.replace(s,"")}`}var xV={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(t,s)=>s<5,retryImmediately:!1,jitter:!0},gV=100,H5=async t=>new Promise(s=>setTimeout(s,t)),K5=(t,s)=>s?t*(1+Math.random()):t,bV=t=>{let s=0;const r=()=>{const n=t.initialDelay,a=t.factor;let i=n*Math.pow(a,s);return i=K5(i,t.jitter),Math.min(t.maxDelayBetweenRetries||i,i)};return async()=>{await H5(r()),s++}},yV=async(t,s={})=>{let r=0;const{shouldRetry:n,initialDelay:a,maxDelayBetweenRetries:i,factor:l,retryImmediately:o,jitter:c,onBeforeRetry:d}={...xV,...s},u=bV({initialDelay:a,maxDelayBetweenRetries:i,factor:l,jitter:c});for(;;)try{return await t()}catch(m){if(r++,!n(m,r))throw m;d&&await d(r),o&&r===1?await H5(K5(gV,c)):await u()}},vV="loadScript cannot be called when document does not exist",jV="loadScript cannot be called without a src";async function wV(t="",s){const{async:r,defer:n,beforeLoad:a,crossOrigin:i,nonce:l}=s||{};return yV(()=>new Promise((c,d)=>{t||d(new Error(jV)),(!document||!document.body)&&d(new Error(vV));const u=document.createElement("script");i&&u.setAttribute("crossorigin",i),u.async=r||!1,u.defer=n||!1,u.addEventListener("load",()=>{u.remove(),c(u)}),u.addEventListener("error",m=>{u.remove(),d(m.error??new Error(`failed to load script: ${t}`))}),u.src=t,u.nonce=l,a==null||a(u),document.body.appendChild(u)}),{shouldRetry:(c,d)=>d<=5})}var NV="failed_to_load_clerk_js",CV="failed_to_load_clerk_js_timeout",G5="Failed to load Clerk",{isDevOrStagingUrl:SV}=NU(),Q5=u5({packageName:"@clerk/shared"});function _V(t){Q5.setPackageName({packageName:t})}function uy(){if(typeof window>"u"||!window.Clerk)return!1;const t=window.Clerk;return typeof t=="object"&&typeof t.load=="function"}function c2(t){return new Promise((s,r)=>{let n=!1;const a=(d,u)=>{clearTimeout(d),clearInterval(u)},i=()=>{n||uy()&&(n=!0,a(o,c),s(null))},o=setTimeout(()=>{n||(n=!0,a(o,c),uy()?s(null):r(new m5(G5,{code:CV})))},t);i();const c=setInterval(()=>{if(n){clearInterval(c);return}i()},100)})}var kV=async t=>{const s=(t==null?void 0:t.scriptLoadTimeout)??15e3;if(uy())return null;if(document.querySelector("script[data-clerk-js-script]"))return c2(s);if(!(t!=null&&t.publishableKey))return Q5.throwMissingPublishableKeyError(),null;const n=c2(s);return wV(PV(t),{async:!0,crossOrigin:"anonymous",nonce:t.nonce,beforeLoad:AV(t)}).catch(a=>{throw new m5(G5+(a.message?`, ${a.message}`:""),{code:NV,cause:a})}),n},PV=t=>{var u,m;const{clerkJSUrl:s,clerkJSVariant:r,clerkJSVersion:n,proxyUrl:a,domain:i,publishableKey:l}=t;if(s)return s;let o="";a&&mV(a)?o=pV(a).replace(/http(s)?:\/\//,""):i&&!SV(((u=B1(l))==null?void 0:u.frontendApi)||"")?o=fV(i):o=((m=B1(l))==null?void 0:m.frontendApi)||"";const c=r?`${r.replace(/\.+$/,"")}.`:"",d=cV(n);return`https://${o}/npm/@clerk/clerk-js@${d}/dist/clerk.${c}browser.js`},EV=t=>{const s={};return t.publishableKey&&(s["data-clerk-publishable-key"]=t.publishableKey),t.proxyUrl&&(s["data-clerk-proxy-url"]=t.proxyUrl),t.domain&&(s["data-clerk-domain"]=t.domain),t.nonce&&(s.nonce=t.nonce),s},AV=t=>s=>{const r=EV(t);for(const n in r)s.setAttribute(n,r[n])};function kf(){return typeof window<"u"}var d2=(t,s,r,n,a)=>{const{notify:i}=a||{};let l=t.get(r);l||(l=[],t.set(r,l)),l.push(n),i&&s.has(r)&&n(s.get(r))},u2=(t,s,r)=>(t.get(s)||[]).map(n=>n(r)),m2=(t,s,r)=>{const n=t.get(s);n&&(r?n.splice(n.indexOf(r)>>>0,1):t.set(s,[]))},TV=()=>{const t=new Map,s=new Map,r=new Map;return{on:(...a)=>d2(t,s,...a),prioritizedOn:(...a)=>d2(r,s,...a),emit:(a,i)=>{s.set(a,i),u2(r,a,i),u2(t,a,i)},off:(...a)=>m2(t,...a),prioritizedOff:(...a)=>m2(r,...a),internal:{retrieveListeners:a=>t.get(a)||[]}}},Zh={Status:"status"},RV=()=>TV();typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);as(({clerk:t,children:s,...r})=>{const{signUpFallbackRedirectUrl:n,forceRedirectUrl:a,fallbackRedirectUrl:i,signUpForceRedirectUrl:l,mode:o,initialValues:c,withSignUp:d,oauthFlow:u,...m}=r;s=$x(s,"Sign in");const h=Ux(s)("SignInButton"),f=()=>{const v={forceRedirectUrl:a,fallbackRedirectUrl:i,signUpFallbackRedirectUrl:n,signUpForceRedirectUrl:l,initialValues:c,withSignUp:d,oauthFlow:u};return o==="modal"?t.openSignIn({...v,appearance:r.appearance}):t.redirectToSignIn({...v,signInFallbackRedirectUrl:i,signInForceRedirectUrl:a})},x={...m,onClick:async v=>(h&&typeof h=="object"&&"props"in h&&await Vx(h.props.onClick)(v),f())};return ne.cloneElement(h,x)},{component:"SignInButton",renderWhileLoading:!0});as(({clerk:t,children:s,...r})=>{const{redirectUrl:n,...a}=r;s=$x(s,"Sign in with Metamask");const i=Ux(s)("SignInWithMetamaskButton"),l=async()=>{async function d(){await t.authenticateWithMetamask({redirectUrl:n||void 0})}d()},c={...a,onClick:async d=>(await Vx(i.props.onClick)(d),l())};return ne.cloneElement(i,c)},{component:"SignInWithMetamask",renderWhileLoading:!0});as(({clerk:t,children:s,...r})=>{const{redirectUrl:n="/",signOutOptions:a,...i}=r;s=$x(s,"Sign out");const l=Ux(s)("SignOutButton"),o=()=>t.signOut({redirectUrl:n,...a}),d={...i,onClick:async u=>(await Vx(l.props.onClick)(u),o())};return ne.cloneElement(l,d)},{component:"SignOutButton",renderWhileLoading:!0});as(({clerk:t,children:s,...r})=>{const{fallbackRedirectUrl:n,forceRedirectUrl:a,signInFallbackRedirectUrl:i,signInForceRedirectUrl:l,mode:o,initialValues:c,oauthFlow:d,...u}=r;s=$x(s,"Sign up");const m=Ux(s)("SignUpButton"),h=()=>{const x={fallbackRedirectUrl:n,forceRedirectUrl:a,signInFallbackRedirectUrl:i,signInForceRedirectUrl:l,initialValues:c,oauthFlow:d};return o==="modal"?t.openSignUp({...x,appearance:r.appearance,unsafeMetadata:r.unsafeMetadata}):t.redirectToSignUp({...x,signUpFallbackRedirectUrl:n,signUpForceRedirectUrl:a})},b={...u,onClick:async x=>(m&&typeof m=="object"&&"props"in m&&await Vx(m.props.onClick)(x),h())};return ne.cloneElement(m,b)},{component:"SignUpButton",renderWhileLoading:!0});var h2=()=>({fields:{firstName:null,lastName:null,emailAddress:null,identifier:null,phoneNumber:null,password:null,username:null,code:null,captcha:null,legalAccepted:null},raw:null,global:null}),DV=class{constructor(t){this.isomorphicClerk=t,this.signInSignalProxy=this.buildSignInProxy(),this.signUpSignalProxy=this.buildSignUpProxy()}signInSignal(){return this.signInSignalProxy}signUpSignal(){return this.signUpSignalProxy}buildSignInProxy(){const t=this.gateProperty.bind(this),s=()=>this.client.signIn.__internal_future;return{errors:h2(),fetchStatus:"idle",signIn:{status:"needs_identifier",availableStrategies:[],isTransferable:!1,get firstFactorVerification(){return t(s,"firstFactorVerification",{status:null,error:null,expireAt:null,externalVerificationRedirectURL:null,nonce:null,attempts:null,message:null,strategy:null,verifiedAtClient:null,verifiedFromTheSameClient:()=>!1,__internal_toSnapshot:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")},pathRoot:"",reload:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")}})},create:this.gateMethod(s,"create"),password:this.gateMethod(s,"password"),sso:this.gateMethod(s,"sso"),finalize:this.gateMethod(s,"finalize"),emailCode:this.wrapMethods(()=>s().emailCode,["sendCode","verifyCode"]),emailLink:this.wrapStruct(()=>s().emailLink,["sendLink","waitForVerification"],["verification"],{verification:null}),resetPasswordEmailCode:this.wrapMethods(()=>s().resetPasswordEmailCode,["sendCode","verifyCode","submitPassword"]),phoneCode:this.wrapMethods(()=>s().phoneCode,["sendCode","verifyCode"]),mfa:this.wrapMethods(()=>s().mfa,["sendPhoneCode","verifyPhoneCode","verifyTOTP","verifyBackupCode"]),ticket:this.gateMethod(s,"ticket")}}}buildSignUpProxy(){const t=this.gateProperty.bind(this),s=this.gateMethod.bind(this),r=this.wrapMethods.bind(this),n=()=>this.client.signUp.__internal_future;return{errors:h2(),fetchStatus:"idle",signUp:{get status(){return t(n,"status","missing_requirements")},get unverifiedFields(){return t(n,"unverifiedFields",[])},get isTransferable(){return t(n,"isTransferable",!1)},create:s(n,"create"),update:s(n,"update"),sso:s(n,"sso"),password:s(n,"password"),ticket:s(n,"ticket"),finalize:s(n,"finalize"),verifications:r(()=>n().verifications,["sendEmailCode","verifyEmailCode","sendPhoneCode","verifyPhoneCode"])}}}__internal_effect(t){throw new Error("__internal_effect called before Clerk is loaded")}__internal_computed(t){throw new Error("__internal_computed called before Clerk is loaded")}get client(){const t=this.isomorphicClerk.client;if(!t)throw new Error("Clerk client not ready");return t}gateProperty(t,s,r){return!kf()||!this.isomorphicClerk.loaded?r:t()[s]}gateMethod(t,s){return async(...r)=>{if(!kf())return mo.throw(`Attempted to call a method (${s}) that is not supported on the server.`);this.isomorphicClerk.loaded||await new Promise(a=>this.isomorphicClerk.addOnLoaded(a));const n=t();return n[s].apply(n,r)}}wrapMethods(t,s){return Object.fromEntries(s.map(r=>[r,this.gateMethod(t,r)]))}wrapStruct(t,s,r,n){const a={};for(const i of s)a[i]=this.gateMethod(t,i);for(const i of r)Object.defineProperty(a,i,{get:()=>this.gateProperty(t,i,n[i]),enumerable:!0});return a}};typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var MV={name:"@clerk/clerk-react",version:"5.49.0",environment:"production"},Op,Go,Qo,Ai,Ga,Ip,Fi,hu,Fp,OV=class Y5{constructor(s){Ei(this,hu),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserAvatarNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountApiKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskChooseOrganizationNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],Ei(this,Op,"loading"),Ei(this,Go),Ei(this,Qo),Ei(this,Ai),Ei(this,Ga,RV()),Ei(this,Ip),this.buildSignInUrl=a=>{const i=()=>{var l;return((l=this.clerkjs)==null?void 0:l.buildSignInUrl(a))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignInUrl",i)},this.buildSignUpUrl=a=>{const i=()=>{var l;return((l=this.clerkjs)==null?void 0:l.buildSignUpUrl(a))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignUpUrl",i)},this.buildAfterSignInUrl=(...a)=>{const i=()=>{var l;return((l=this.clerkjs)==null?void 0:l.buildAfterSignInUrl(...a))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignInUrl",i)},this.buildAfterSignUpUrl=(...a)=>{const i=()=>{var l;return((l=this.clerkjs)==null?void 0:l.buildAfterSignUpUrl(...a))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignUpUrl",i)},this.buildAfterSignOutUrl=()=>{const a=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildAfterSignOutUrl",a)},this.buildNewSubscriptionRedirectUrl=()=>{const a=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",a)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const a=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",a)},this.buildUserProfileUrl=()=>{const a=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildUserProfileUrl",a)},this.buildCreateOrganizationUrl=()=>{const a=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildCreateOrganizationUrl",a)},this.buildOrganizationProfileUrl=()=>{const a=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildOrganizationProfileUrl",a)},this.buildWaitlistUrl=()=>{const a=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildWaitlistUrl",a)},this.buildTasksUrl=()=>{const a=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildTasksUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildTasksUrl",a)},this.buildUrlWithAuth=a=>{const i=()=>{var l;return((l=this.clerkjs)==null?void 0:l.buildUrlWithAuth(a))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildUrlWithAuth",i)},this.handleUnauthenticated=async()=>{const a=()=>{var i;return(i=this.clerkjs)==null?void 0:i.handleUnauthenticated()};this.clerkjs&&this.loaded?a():this.premountMethodCalls.set("handleUnauthenticated",a)},this.on=(...a)=>{var i;if((i=this.clerkjs)!=null&&i.on)return this.clerkjs.on(...a);os(this,Ga).on(...a)},this.off=(...a)=>{var i;if((i=this.clerkjs)!=null&&i.off)return this.clerkjs.off(...a);os(this,Ga).off(...a)},this.addOnLoaded=a=>{this.loadedListeners.push(a),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(a=>a()),this.loadedListeners=[]},this.beforeLoad=a=>{if(!a)throw new Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=a=>{var i;if(!a)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=a,this.premountMethodCalls.forEach(l=>l()),this.premountAddListenerCalls.forEach((l,o)=>{l.nativeUnsubscribe=a.addListener(o)}),(i=os(this,Ga).internal.retrieveListeners("status"))==null||i.forEach(l=>{this.on("status",l,{notify:!0})}),this.preopenSignIn!==null&&a.openSignIn(this.preopenSignIn),this.preopenCheckout!==null&&a.__internal_openCheckout(this.preopenCheckout),this.preopenPlanDetails!==null&&a.__internal_openPlanDetails(this.preopenPlanDetails),this.preopenSubscriptionDetails!==null&&a.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),this.preopenSignUp!==null&&a.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&a.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&a.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&a.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&a.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&a.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&a.openWaitlist(this.preOpenWaitlist),this.premountSignInNodes.forEach((l,o)=>{a.mountSignIn(o,l)}),this.premountSignUpNodes.forEach((l,o)=>{a.mountSignUp(o,l)}),this.premountUserProfileNodes.forEach((l,o)=>{a.mountUserProfile(o,l)}),this.premountUserAvatarNodes.forEach((l,o)=>{a.mountUserAvatar(o,l)}),this.premountUserButtonNodes.forEach((l,o)=>{a.mountUserButton(o,l)}),this.premountOrganizationListNodes.forEach((l,o)=>{a.mountOrganizationList(o,l)}),this.premountWaitlistNodes.forEach((l,o)=>{a.mountWaitlist(o,l)}),this.premountPricingTableNodes.forEach((l,o)=>{a.mountPricingTable(o,l)}),this.premountApiKeysNodes.forEach((l,o)=>{a.mountApiKeys(o,l)}),this.premountOAuthConsentNodes.forEach((l,o)=>{a.__internal_mountOAuthConsent(o,l)}),this.premountTaskChooseOrganizationNodes.forEach((l,o)=>{a.mountTaskChooseOrganization(o,l)}),typeof this.clerkjs.status>"u"&&os(this,Ga).emit(Zh.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...a)=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_checkout(...a)},this.__unstable__updateProps=async a=>{const i=await h0(this,hu,Fp).call(this);if(i&&"__unstable__updateProps"in i)return i.__unstable__updateProps(a)},this.setActive=a=>this.clerkjs?this.clerkjs.setActive(a):Promise.reject(),this.openSignIn=a=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(a):this.preopenSignIn=a},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=a=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(a):this.preopenCheckout=a},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=a=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(a):this.preopenPlanDetails=a},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=a=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(a):this.preopenSubscriptionDetails=a??null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=a=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(a):this.preopenUserVerification=a},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.openGoogleOneTap=a=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(a):this.preopenOneTap=a},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=a=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(a):this.preopenUserProfile=a},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=a=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(a):this.preopenOrganizationProfile=a},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=a=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(a):this.preopenCreateOrganization=a},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=a=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(a):this.preOpenWaitlist=a},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=a=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(a):this.preopenSignUp=a},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(a,i):this.premountSignInNodes.set(a,i)},this.unmountSignIn=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(a):this.premountSignInNodes.delete(a)},this.mountSignUp=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(a,i):this.premountSignUpNodes.set(a,i)},this.unmountSignUp=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(a):this.premountSignUpNodes.delete(a)},this.mountUserAvatar=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserAvatar(a,i):this.premountUserAvatarNodes.set(a,i)},this.unmountUserAvatar=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserAvatar(a):this.premountUserAvatarNodes.delete(a)},this.mountUserProfile=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(a,i):this.premountUserProfileNodes.set(a,i)},this.unmountUserProfile=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(a):this.premountUserProfileNodes.delete(a)},this.mountOrganizationProfile=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(a,i):this.premountOrganizationProfileNodes.set(a,i)},this.unmountOrganizationProfile=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(a):this.premountOrganizationProfileNodes.delete(a)},this.mountCreateOrganization=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(a,i):this.premountCreateOrganizationNodes.set(a,i)},this.unmountCreateOrganization=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(a):this.premountCreateOrganizationNodes.delete(a)},this.mountOrganizationSwitcher=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(a,i):this.premountOrganizationSwitcherNodes.set(a,i)},this.unmountOrganizationSwitcher=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(a):this.premountOrganizationSwitcherNodes.delete(a)},this.__experimental_prefetchOrganizationSwitcher=()=>{const a=()=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?a():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",a)},this.mountOrganizationList=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(a,i):this.premountOrganizationListNodes.set(a,i)},this.unmountOrganizationList=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(a):this.premountOrganizationListNodes.delete(a)},this.mountUserButton=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(a,i):this.premountUserButtonNodes.set(a,i)},this.unmountUserButton=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(a):this.premountUserButtonNodes.delete(a)},this.mountWaitlist=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(a,i):this.premountWaitlistNodes.set(a,i)},this.unmountWaitlist=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(a):this.premountWaitlistNodes.delete(a)},this.mountPricingTable=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(a,i):this.premountPricingTableNodes.set(a,i)},this.unmountPricingTable=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(a):this.premountPricingTableNodes.delete(a)},this.mountApiKeys=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountApiKeys(a,i):this.premountApiKeysNodes.set(a,i)},this.unmountApiKeys=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountApiKeys(a):this.premountApiKeysNodes.delete(a)},this.__internal_mountOAuthConsent=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(a,i):this.premountOAuthConsentNodes.set(a,i)},this.__internal_unmountOAuthConsent=a=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(a):this.premountOAuthConsentNodes.delete(a)},this.mountTaskChooseOrganization=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskChooseOrganization(a,i):this.premountTaskChooseOrganizationNodes.set(a,i)},this.unmountTaskChooseOrganization=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskChooseOrganization(a):this.premountTaskChooseOrganizationNodes.delete(a)},this.addListener=a=>{if(this.clerkjs)return this.clerkjs.addListener(a);{const i=()=>{var l;const o=this.premountAddListenerCalls.get(a);o&&((l=o.nativeUnsubscribe)==null||l.call(o),this.premountAddListenerCalls.delete(a))};return this.premountAddListenerCalls.set(a,{unsubscribe:i,nativeUnsubscribe:void 0}),i}},this.navigate=a=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.navigate(a)};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("navigate",i)},this.redirectWithAuth=async(...a)=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.redirectWithAuth(...a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectWithAuth",i)},this.redirectToSignIn=async a=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.redirectToSignIn(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignIn",i)},this.redirectToSignUp=async a=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.redirectToSignUp(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignUp",i)},this.redirectToUserProfile=async()=>{const a=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToUserProfile()};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToUserProfile",a)},this.redirectToAfterSignUp=()=>{const a=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToAfterSignUp",a)},this.redirectToAfterSignIn=()=>{const a=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignIn()};this.clerkjs&&this.loaded?a():this.premountMethodCalls.set("redirectToAfterSignIn",a)},this.redirectToAfterSignOut=()=>{const a=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignOut()};this.clerkjs&&this.loaded?a():this.premountMethodCalls.set("redirectToAfterSignOut",a)},this.redirectToOrganizationProfile=async()=>{const a=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToOrganizationProfile()};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToOrganizationProfile",a)},this.redirectToCreateOrganization=async()=>{const a=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToCreateOrganization()};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToCreateOrganization",a)},this.redirectToWaitlist=async()=>{const a=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToWaitlist()};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToWaitlist",a)},this.redirectToTasks=async a=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.redirectToTasks(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToTasks",i)},this.handleRedirectCallback=async a=>{var i;const l=()=>{var o;return(o=this.clerkjs)==null?void 0:o.handleRedirectCallback(a)};this.clerkjs&&this.loaded?(i=l())==null||i.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",l)},this.handleGoogleOneTapCallback=async(a,i)=>{var l;const o=()=>{var c;return(c=this.clerkjs)==null?void 0:c.handleGoogleOneTapCallback(a,i)};this.clerkjs&&this.loaded?(l=o())==null||l.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",o)},this.handleEmailLinkVerification=async a=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.handleEmailLinkVerification(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("handleEmailLinkVerification",i)},this.authenticateWithMetamask=async a=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.authenticateWithMetamask(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithMetamask",i)},this.authenticateWithCoinbaseWallet=async a=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.authenticateWithCoinbaseWallet(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",i)},this.authenticateWithBase=async a=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.authenticateWithBase(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithBase",i)},this.authenticateWithOKXWallet=async a=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.authenticateWithOKXWallet(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithOKXWallet",i)},this.authenticateWithWeb3=async a=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.authenticateWithWeb3(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithWeb3",i)},this.authenticateWithGoogleOneTap=async a=>(await h0(this,hu,Fp).call(this)).authenticateWithGoogleOneTap(a),this.__internal_loadStripeJs=async()=>(await h0(this,hu,Fp).call(this)).__internal_loadStripeJs(),this.createOrganization=async a=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.createOrganization(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("createOrganization",i)},this.getOrganization=async a=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.getOrganization(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("getOrganization",i)},this.joinWaitlist=async a=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.joinWaitlist(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("joinWaitlist",i)},this.signOut=async(...a)=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.signOut(...a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("signOut",i)};const{Clerk:r=null,publishableKey:n}=s||{};Rl(this,Ai,n),Rl(this,Qo,s==null?void 0:s.proxyUrl),Rl(this,Go,s==null?void 0:s.domain),this.options=s,this.Clerk=r,this.mode=kf()?"browser":"server",Rl(this,Ip,new DV(this)),this.options.sdkMetadata||(this.options.sdkMetadata=MV),os(this,Ga).emit(Zh.Status,"loading"),os(this,Ga).prioritizedOn(Zh.Status,a=>Rl(this,Op,a)),os(this,Ai)&&this.loadClerkJS()}get publishableKey(){return os(this,Ai)}get loaded(){var s;return((s=this.clerkjs)==null?void 0:s.loaded)||!1}get status(){var s;return this.clerkjs?((s=this.clerkjs)==null?void 0:s.status)||(this.clerkjs.loaded?"ready":"loading"):os(this,Op)}static getOrCreateInstance(s){return(!kf()||!os(this,Fi)||s.Clerk&&os(this,Fi).Clerk!==s.Clerk||os(this,Fi).publishableKey!==s.publishableKey)&&Rl(this,Fi,new Y5(s)),os(this,Fi)}static clearInstance(){Rl(this,Fi,null)}get domain(){return typeof window<"u"&&window.location?o0(os(this,Go),new URL(window.location.href),""):typeof os(this,Go)=="function"?mo.throw(l0):os(this,Go)||""}get proxyUrl(){return typeof window<"u"&&window.location?o0(os(this,Qo),new URL(window.location.href),""):typeof os(this,Qo)=="function"?mo.throw(l0):os(this,Qo)||""}__internal_getOption(s){var r,n;return(r=this.clerkjs)!=null&&r.__internal_getOption?(n=this.clerkjs)==null?void 0:n.__internal_getOption(s):this.options[s]}get sdkMetadata(){var s;return((s=this.clerkjs)==null?void 0:s.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var s;return(s=this.clerkjs)==null?void 0:s.instanceType}get frontendApi(){var s;return((s=this.clerkjs)==null?void 0:s.frontendApi)||""}get isStandardBrowser(){var s;return((s=this.clerkjs)==null?void 0:s.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){return typeof window<"u"&&window.location?o0(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?mo.throw(l0):!1}async loadClerkJS(){var s;if(!(this.mode!=="browser"||this.loaded)){typeof window<"u"&&(window.__clerk_publishable_key=os(this,Ai),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let r;X$(this.Clerk)?(r=new this.Clerk(os(this,Ai),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(r),await r.load(this.options)):(r=this.Clerk,r.loaded||(this.beforeLoad(r),await r.load(this.options))),global.Clerk=r}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await kV({...this.options,publishableKey:os(this,Ai),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}return(s=global.Clerk)!=null&&s.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(r){const n=r;os(this,Ga).emit(Zh.Status,"error"),console.error(n.stack||n.message||n);return}}}get version(){var s;return(s=this.clerkjs)==null?void 0:s.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get billing(){var s;return(s=this.clerkjs)==null?void 0:s.billing}get __internal_state(){return this.loaded&&this.clerkjs?this.clerkjs.__internal_state:os(this,Ip)}get apiKeys(){var s;return(s=this.clerkjs)==null?void 0:s.apiKeys}__unstable__setEnvironment(...s){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(s);else return}};Op=new WeakMap;Go=new WeakMap;Qo=new WeakMap;Ai=new WeakMap;Ga=new WeakMap;Ip=new WeakMap;Fi=new WeakMap;hu=new WeakSet;Fp=function(){return new Promise(t=>{this.addOnLoaded(()=>t(this.clerkjs))})};Ei(OV,Fi);T$({packageName:"@clerk/clerk-react"});_V("@clerk/clerk-react");function IV(t,s){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,a,i,l=[],o="",c=t.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(l.push(r),o+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),i=a.indexOf(".",1),l.push(a.substring(1,~n?n:~i?i:a.length)),o+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~n?"?":"")+"\\"+a.substring(i))):o+="/"+a;return{keys:l,pattern:new RegExp("^"+o+(s?"(?=$|/)":"/?$"),"i")}}const FV=lE.useInsertionEffect,LV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Z5=LV?p.useLayoutEffect:p.useEffect,zV=FV||Z5,Bj=t=>{const s=p.useRef([t,(...r)=>s[0](...r)]).current;return zV(()=>{s[0]=t}),s[1]},UV="popstate",qj="pushState",Wj="replaceState",$V="hashchange",p2=[UV,qj,Wj,$V],VV=t=>{for(const s of p2)addEventListener(s,t);return()=>{for(const s of p2)removeEventListener(s,t)}},X5=(t,s)=>Lj.useSyncExternalStore(VV,t,s),BV=()=>location.search,qV=({ssrSearch:t=""}={})=>X5(BV,()=>t),f2=()=>location.pathname,WV=({ssrPath:t}={})=>X5(f2,t?()=>t:f2),HV=(t,{replace:s=!1,state:r=null}={})=>history[s?Wj:qj](r,"",t),KV=(t={})=>[WV(t),HV],x2=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[x2]>"u"){for(const t of[qj,Wj]){const s=history[t];history[t]=function(){const r=s.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,x2,{value:!0})}const GV=(t,s)=>s.toLowerCase().indexOf(t.toLowerCase())?"~"+s:s.slice(t.length)||"/",J5=(t="")=>t==="/"?"":t,QV=(t,s)=>t[0]==="~"?t.slice(1):J5(s)+t,YV=(t="",s)=>GV(g2(J5(t)),g2(s)),g2=t=>{try{return decodeURI(t)}catch{return t}},eT={hook:KV,searchHook:qV,parser:IV,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},tT=p.createContext(eT),dh=()=>p.useContext(tT),sT={},rT=p.createContext(sT),ZV=()=>p.useContext(rT),Kx=t=>{const[s,r]=t.hook(t);return[YV(t.base,s),Bj((n,a)=>r(QV(n,t.base),a))]},Xe=()=>Kx(dh()),nT=(t,s,r,n)=>{const{pattern:a,keys:i}=s instanceof RegExp?{keys:!1,pattern:s}:t(s||"*",n),l=a.exec(r)||[],[o,...c]=l;return o!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((m,h)=>[m,c[h]])):l.groups;let u={...c};return d&&Object.assign(u,d),u})(),...n?[o]:[]]:[!1,null]},XV=({children:t,...s})=>{var u,m;const r=dh(),n=s.hook?eT:r;let a=n;const[i,l]=((u=s.ssrPath)==null?void 0:u.split("?"))??[];l&&(s.ssrSearch=l,s.ssrPath=i),s.hrefs=s.hrefs??((m=s.hook)==null?void 0:m.hrefs);let o=p.useRef({}),c=o.current,d=c;for(let h in n){const f=h==="base"?n[h]+(s[h]||""):s[h]||n[h];c===d&&f!==d[h]&&(o.current=d={...d}),d[h]=f,f!==n[h]&&(a=d)}return p.createElement(tT.Provider,{value:a,children:t})},b2=({children:t,component:s},r)=>s?p.createElement(s,{params:r}):typeof t=="function"?t(r):t,JV=t=>{let s=p.useRef(sT),r=s.current;for(const n in t)t[n]!==r[n]&&(r=t);return Object.keys(t).length===0&&(r=t),s.current=r},ss=({path:t,nest:s,match:r,...n})=>{const a=dh(),[i]=Kx(a),[l,o,c]=r??nT(a.parser,t,i,s),d=JV({...ZV(),...o});if(!l)return null;const u=c?p.createElement(XV,{base:c},b2(n,d)):b2(n,d);return p.createElement(rT.Provider,{value:d,children:u})};p.forwardRef((t,s)=>{const r=dh(),[n,a]=Kx(r),{to:i="",href:l=i,onClick:o,asChild:c,children:d,className:u,replace:m,state:h,...f}=t,b=Bj(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(o==null||o(v),v.defaultPrevented||(v.preventDefault(),a(l,t)))}),x=r.hrefs(l[0]==="~"?l.slice(1):r.base+l,r);return c&&p.isValidElement(d)?p.cloneElement(d,{onClick:b,href:x}):p.createElement("a",{...f,onClick:b,href:x,className:u!=null&&u.call?u(n===l):u,children:d,ref:s})});const aT=t=>Array.isArray(t)?t.flatMap(s=>aT(s&&s.type===p.Fragment?s.props.children:s)):[t],e7=({children:t,location:s})=>{const r=dh(),[n]=Kx(r);for(const a of aT(t)){let i=0;if(p.isValidElement(a)&&(i=nT(r.parser,a.props.path,s||n,a.props.nest))[0])return p.cloneElement(a,{match:i})}return null},iT=t=>{const{to:s,href:r=s}=t,[,n]=Xe(),a=Bj(()=>n(s||r,t));return Z5(()=>{a()},[]),null};var Od=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vo=typeof window>"u"||"Deno"in globalThis;function gn(){}function t7(t,s){return typeof t=="function"?t(s):t}function my(t){return typeof t=="number"&&t>=0&&t!==1/0}function lT(t,s){return Math.max(t+(s||0)-Date.now(),0)}function yc(t,s){return typeof t=="function"?t(s):t}function qn(t,s){return typeof t=="function"?t(s):t}function y2(t,s){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:o}=t;if(l){if(n){if(s.queryHash!==Hj(l,s.options))return!1}else if(!lm(s.queryKey,l))return!1}if(r!=="all"){const c=s.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&s.isStale()!==o||a&&a!==s.state.fetchStatus||i&&!i(s))}function v2(t,s){const{exact:r,status:n,predicate:a,mutationKey:i}=t;if(i){if(!s.options.mutationKey)return!1;if(r){if(jo(s.options.mutationKey)!==jo(i))return!1}else if(!lm(s.options.mutationKey,i))return!1}return!(n&&s.state.status!==n||a&&!a(s))}function Hj(t,s){return((s==null?void 0:s.queryKeyHashFn)||jo)(t)}function jo(t){return JSON.stringify(t,(s,r)=>hy(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function lm(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?!Object.keys(s).some(r=>!lm(t[r],s[r])):!1}function oT(t,s){if(t===s)return t;const r=j2(t)&&j2(s);if(r||hy(t)&&hy(s)){const n=r?t:Object.keys(t),a=n.length,i=r?s:Object.keys(s),l=i.length,o=r?[]:{};let c=0;for(let d=0;d<l;d++){const u=r?d:i[d];(!r&&n.includes(u)||r)&&t[u]===void 0&&s[u]===void 0?(o[u]=void 0,c++):(o[u]=oT(t[u],s[u]),o[u]===t[u]&&t[u]!==void 0&&c++)}return a===l&&c===a?t:o}return s}function Pf(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}function j2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function hy(t){if(!w2(t))return!1;const s=t.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!w2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function w2(t){return Object.prototype.toString.call(t)==="[object Object]"}function s7(t){return new Promise(s=>{setTimeout(s,t)})}function py(t,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,s):r.structuralSharing!==!1?oT(t,s):s}function r7(t,s,r=0){const n=[...t,s];return r&&n.length>r?n.slice(1):n}function n7(t,s,r=0){const n=[s,...t];return r&&n.length>r?n.slice(0,-1):n}var Kj=Symbol();function cT(t,s){return!t.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!t.queryFn||t.queryFn===Kj?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Wl,Vi,Tc,t_,a7=(t_=class extends Od{constructor(){super();de(this,Wl);de(this,Vi);de(this,Tc);me(this,Tc,s=>{if(!vo&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){C(this,Vi)||this.setEventListener(C(this,Tc))}onUnsubscribe(){var s;this.hasListeners()||((s=C(this,Vi))==null||s.call(this),me(this,Vi,void 0))}setEventListener(s){var r;me(this,Tc,s),(r=C(this,Vi))==null||r.call(this),me(this,Vi,s(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(s){C(this,Wl)!==s&&(me(this,Wl,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){var s;return typeof C(this,Wl)=="boolean"?C(this,Wl):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},Wl=new WeakMap,Vi=new WeakMap,Tc=new WeakMap,t_),Gj=new a7,Rc,Bi,Dc,s_,i7=(s_=class extends Od{constructor(){super();de(this,Rc,!0);de(this,Bi);de(this,Dc);me(this,Dc,s=>{if(!vo&&window.addEventListener){const r=()=>s(!0),n=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){C(this,Bi)||this.setEventListener(C(this,Dc))}onUnsubscribe(){var s;this.hasListeners()||((s=C(this,Bi))==null||s.call(this),me(this,Bi,void 0))}setEventListener(s){var r;me(this,Dc,s),(r=C(this,Bi))==null||r.call(this),me(this,Bi,s(this.setOnline.bind(this)))}setOnline(s){C(this,Rc)!==s&&(me(this,Rc,s),this.listeners.forEach(n=>{n(s)}))}isOnline(){return C(this,Rc)}},Rc=new WeakMap,Bi=new WeakMap,Dc=new WeakMap,s_),Ef=new i7;function fy(){let t,s;const r=new Promise((a,i)=>{t=a,s=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),s(a)},r}function l7(t){return Math.min(1e3*2**t,3e4)}function dT(t){return(t??"online")==="online"?Ef.isOnline():!0}var uT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function p0(t){return t instanceof uT}function mT(t){let s=!1,r=0,n=!1,a;const i=fy(),l=x=>{var v;n||(h(new uT(x)),(v=t.abort)==null||v.call(t))},o=()=>{s=!0},c=()=>{s=!1},d=()=>Gj.isFocused()&&(t.networkMode==="always"||Ef.isOnline())&&t.canRun(),u=()=>dT(t.networkMode)&&t.canRun(),m=x=>{var v;n||(n=!0,(v=t.onSuccess)==null||v.call(t,x),a==null||a(),i.resolve(x))},h=x=>{var v;n||(n=!0,(v=t.onError)==null||v.call(t,x),a==null||a(),i.reject(x))},f=()=>new Promise(x=>{var v;a=g=>{(n||d())&&x(g)},(v=t.onPause)==null||v.call(t)}).then(()=>{var x;a=void 0,n||(x=t.onContinue)==null||x.call(t)}),b=()=>{if(n)return;let x;const v=r===0?t.initialPromise:void 0;try{x=v??t.fn()}catch(g){x=Promise.reject(g)}Promise.resolve(x).then(m).catch(g=>{var _;if(n)return;const y=t.retry??(vo?0:3),j=t.retryDelay??l7,w=typeof j=="function"?j(r,g):j,N=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,g);if(s||!N){h(g);return}r++,(_=t.onFail)==null||_.call(t,r,g),s7(w).then(()=>d()?void 0:f()).then(()=>{s?h(g):b()})})};return{promise:i,cancel:l,continue:()=>(a==null||a(),i),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?b():f().then(b),i)}}function o7(){let t=[],s=0,r=o=>{o()},n=o=>{o()},a=o=>setTimeout(o,0);const i=o=>{s?t.push(o):a(()=>{r(o)})},l=()=>{const o=t;t=[],o.length&&a(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;s++;try{c=o()}finally{s--,s||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var Fs=o7(),Hl,r_,hT=(r_=class{constructor(){de(this,Hl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),my(this.gcTime)&&me(this,Hl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(vo?1/0:5*60*1e3))}clearGcTimeout(){C(this,Hl)&&(clearTimeout(C(this,Hl)),me(this,Hl,void 0))}},Hl=new WeakMap,r_),Mc,Oc,fn,cr,Am,Kl,Dn,Qa,n_,c7=(n_=class extends hT{constructor(s){super();de(this,Dn);de(this,Mc);de(this,Oc);de(this,fn);de(this,cr);de(this,Am);de(this,Kl);me(this,Kl,!1),me(this,Am,s.defaultOptions),this.setOptions(s.options),this.observers=[],me(this,fn,s.cache),this.queryKey=s.queryKey,this.queryHash=s.queryHash,me(this,Mc,d7(this.options)),this.state=s.state??C(this,Mc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=C(this,cr))==null?void 0:s.promise}setOptions(s){this.options={...C(this,Am),...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,fn).remove(this)}setData(s,r){const n=py(this.state.data,s,this.options);return xe(this,Dn,Qa).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(s,r){xe(this,Dn,Qa).call(this,{type:"setState",state:s,setStateOptions:r})}cancel(s){var n,a;const r=(n=C(this,cr))==null?void 0:n.promise;return(a=C(this,cr))==null||a.cancel(s),r?r.then(gn).catch(gn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,Mc))}isActive(){return this.observers.some(s=>qn(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Kj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(s=0){return this.state.isInvalidated||this.state.data===void 0||!lT(this.state.dataUpdatedAt,s)}onFocus(){var r;const s=this.observers.find(n=>n.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(r=C(this,cr))==null||r.continue()}onOnline(){var r;const s=this.observers.find(n=>n.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(r=C(this,cr))==null||r.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),C(this,fn).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(C(this,cr)&&(C(this,Kl)?C(this,cr).cancel({revert:!0}):C(this,cr).cancelRetry()),this.scheduleGc()),C(this,fn).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xe(this,Dn,Qa).call(this,{type:"invalidate"})}fetch(s,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(C(this,cr))return C(this,cr).continueRetry(),C(this,cr).promise}if(s&&this.setOptions(s),!this.options.queryFn){const m=this.observers.find(h=>h.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(me(this,Kl,!0),n.signal)})},i=()=>{const m=cT(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),me(this,Kl,!1),this.options.persister?this.options.persister(m,h,this):m(h)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(l),(c=this.options.behavior)==null||c.onFetch(l,this),me(this,Oc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&xe(this,Dn,Qa).call(this,{type:"fetch",meta:(u=l.fetchOptions)==null?void 0:u.meta});const o=m=>{var h,f,b,x;p0(m)&&m.silent||xe(this,Dn,Qa).call(this,{type:"error",error:m}),p0(m)||((f=(h=C(this,fn).config).onError)==null||f.call(h,m,this),(x=(b=C(this,fn).config).onSettled)==null||x.call(b,this.state.data,m,this)),this.scheduleGc()};return me(this,cr,mT({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var h,f,b,x;if(m===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(v){o(v);return}(f=(h=C(this,fn).config).onSuccess)==null||f.call(h,m,this),(x=(b=C(this,fn).config).onSettled)==null||x.call(b,m,this.state.error,this),this.scheduleGc()},onError:o,onFail:(m,h)=>{xe(this,Dn,Qa).call(this,{type:"failed",failureCount:m,error:h})},onPause:()=>{xe(this,Dn,Qa).call(this,{type:"pause"})},onContinue:()=>{xe(this,Dn,Qa).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),C(this,cr).start()}},Mc=new WeakMap,Oc=new WeakMap,fn=new WeakMap,cr=new WeakMap,Am=new WeakMap,Kl=new WeakMap,Dn=new WeakSet,Qa=function(s){const r=n=>{switch(s.type){case"failed":return{...n,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...pT(n.data,this.options),fetchMeta:s.meta??null};case"success":return{...n,data:s.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=s.error;return p0(a)&&a.revert&&C(this,Oc)?{...C(this,Oc),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...s.state}}};this.state=r(this.state),Fs.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),C(this,fn).notify({query:this,type:"updated",action:s})})},n_);function pT(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dT(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function d7(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,r=s!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var pa,a_,u7=(a_=class extends Od{constructor(s={}){super();de(this,pa);this.config=s,me(this,pa,new Map)}build(s,r,n){const a=r.queryKey,i=r.queryHash??Hj(a,r);let l=this.get(i);return l||(l=new c7({cache:this,queryKey:a,queryHash:i,options:s.defaultQueryOptions(r),state:n,defaultOptions:s.getQueryDefaults(a)}),this.add(l)),l}add(s){C(this,pa).has(s.queryHash)||(C(this,pa).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=C(this,pa).get(s.queryHash);r&&(s.destroy(),r===s&&C(this,pa).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){Fs.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return C(this,pa).get(s)}getAll(){return[...C(this,pa).values()]}find(s){const r={exact:!0,...s};return this.getAll().find(n=>y2(r,n))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(n=>y2(s,n)):r}notify(s){Fs.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){Fs.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){Fs.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},pa=new WeakMap,a_),fa,jr,Gl,xa,Ti,i_,m7=(i_=class extends hT{constructor(s){super();de(this,xa);de(this,fa);de(this,jr);de(this,Gl);this.mutationId=s.mutationId,me(this,jr,s.mutationCache),me(this,fa,[]),this.state=s.state||fT(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){C(this,fa).includes(s)||(C(this,fa).push(s),this.clearGcTimeout(),C(this,jr).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){me(this,fa,C(this,fa).filter(r=>r!==s)),this.scheduleGc(),C(this,jr).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){C(this,fa).length||(this.state.status==="pending"?this.scheduleGc():C(this,jr).remove(this))}continue(){var s;return((s=C(this,Gl))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var a,i,l,o,c,d,u,m,h,f,b,x,v,g,y,j,w,N,_,k;me(this,Gl,mT({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(S,A)=>{xe(this,xa,Ti).call(this,{type:"failed",failureCount:S,error:A})},onPause:()=>{xe(this,xa,Ti).call(this,{type:"pause"})},onContinue:()=>{xe(this,xa,Ti).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,jr).canRun(this)}));const r=this.state.status==="pending",n=!C(this,Gl).canStart();try{if(!r){xe(this,xa,Ti).call(this,{type:"pending",variables:s,isPaused:n}),await((i=(a=C(this,jr).config).onMutate)==null?void 0:i.call(a,s,this));const A=await((o=(l=this.options).onMutate)==null?void 0:o.call(l,s));A!==this.state.context&&xe(this,xa,Ti).call(this,{type:"pending",context:A,variables:s,isPaused:n})}const S=await C(this,Gl).start();return await((d=(c=C(this,jr).config).onSuccess)==null?void 0:d.call(c,S,s,this.state.context,this)),await((m=(u=this.options).onSuccess)==null?void 0:m.call(u,S,s,this.state.context)),await((f=(h=C(this,jr).config).onSettled)==null?void 0:f.call(h,S,null,this.state.variables,this.state.context,this)),await((x=(b=this.options).onSettled)==null?void 0:x.call(b,S,null,s,this.state.context)),xe(this,xa,Ti).call(this,{type:"success",data:S}),S}catch(S){try{throw await((g=(v=C(this,jr).config).onError)==null?void 0:g.call(v,S,s,this.state.context,this)),await((j=(y=this.options).onError)==null?void 0:j.call(y,S,s,this.state.context)),await((N=(w=C(this,jr).config).onSettled)==null?void 0:N.call(w,void 0,S,this.state.variables,this.state.context,this)),await((k=(_=this.options).onSettled)==null?void 0:k.call(_,void 0,S,s,this.state.context)),S}finally{xe(this,xa,Ti).call(this,{type:"error",error:S})}}finally{C(this,jr).runNext(this)}}},fa=new WeakMap,jr=new WeakMap,Gl=new WeakMap,xa=new WeakSet,Ti=function(s){const r=n=>{switch(s.type){case"failed":return{...n,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...n,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:s.error,failureCount:n.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Fs.batch(()=>{C(this,fa).forEach(n=>{n.onMutationUpdate(s)}),C(this,jr).notify({mutation:this,type:"updated",action:s})})},i_);function fT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xr,Tm,l_,h7=(l_=class extends Od{constructor(s={}){super();de(this,Xr);de(this,Tm);this.config=s,me(this,Xr,new Map),me(this,Tm,Date.now())}build(s,r,n){const a=new m7({mutationCache:this,mutationId:++kh(this,Tm)._,options:s.defaultMutationOptions(r),state:n});return this.add(a),a}add(s){const r=Xh(s),n=C(this,Xr).get(r)??[];n.push(s),C(this,Xr).set(r,n),this.notify({type:"added",mutation:s})}remove(s){var n;const r=Xh(s);if(C(this,Xr).has(r)){const a=(n=C(this,Xr).get(r))==null?void 0:n.filter(i=>i!==s);a&&(a.length===0?C(this,Xr).delete(r):C(this,Xr).set(r,a))}this.notify({type:"removed",mutation:s})}canRun(s){var n;const r=(n=C(this,Xr).get(Xh(s)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===s}runNext(s){var n;const r=(n=C(this,Xr).get(Xh(s)))==null?void 0:n.find(a=>a!==s&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Fs.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}getAll(){return[...C(this,Xr).values()].flat()}find(s){const r={exact:!0,...s};return this.getAll().find(n=>v2(r,n))}findAll(s={}){return this.getAll().filter(r=>v2(s,r))}notify(s){Fs.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return Fs.batch(()=>Promise.all(s.map(r=>r.continue().catch(gn))))}},Xr=new WeakMap,Tm=new WeakMap,l_);function Xh(t){var s;return((s=t.options.scope)==null?void 0:s.id)??String(t.mutationId)}function N2(t){return{onFetch:(s,r)=>{var u,m,h,f,b;const n=s.options,a=(h=(m=(u=s.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,i=((f=s.state.data)==null?void 0:f.pages)||[],l=((b=s.state.data)==null?void 0:b.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const v=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(s.signal.aborted?x=!0:s.signal.addEventListener("abort",()=>{x=!0}),s.signal)})},g=cT(s.options,s.fetchOptions),y=async(j,w,N)=>{if(x)return Promise.reject();if(w==null&&j.pages.length)return Promise.resolve(j);const _={queryKey:s.queryKey,pageParam:w,direction:N?"backward":"forward",meta:s.options.meta};v(_);const k=await g(_),{maxPages:S}=s.options,A=N?n7:r7;return{pages:A(j.pages,k,S),pageParams:A(j.pageParams,w,S)}};if(a&&i.length){const j=a==="backward",w=j?p7:C2,N={pages:i,pageParams:l},_=w(n,N);o=await y(N,_,j)}else{const j=t??i.length;do{const w=c===0?l[0]??n.initialPageParam:C2(n,o);if(c>0&&w==null)break;o=await y(o,w),c++}while(c<j)}return o};s.options.persister?s.fetchFn=()=>{var x,v;return(v=(x=s.options).persister)==null?void 0:v.call(x,d,{queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r)}:s.fetchFn=d}}}function C2(t,{pages:s,pageParams:r}){const n=s.length-1;return s.length>0?t.getNextPageParam(s[n],s,r[n],r):void 0}function p7(t,{pages:s,pageParams:r}){var n;return s.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,s[0],s,r[0],r):void 0}var ys,qi,Wi,Ic,Fc,Hi,Lc,zc,o_,f7=(o_=class{constructor(t={}){de(this,ys);de(this,qi);de(this,Wi);de(this,Ic);de(this,Fc);de(this,Hi);de(this,Lc);de(this,zc);me(this,ys,t.queryCache||new u7),me(this,qi,t.mutationCache||new h7),me(this,Wi,t.defaultOptions||{}),me(this,Ic,new Map),me(this,Fc,new Map),me(this,Hi,0)}mount(){kh(this,Hi)._++,C(this,Hi)===1&&(me(this,Lc,Gj.subscribe(async t=>{t&&(await this.resumePausedMutations(),C(this,ys).onFocus())})),me(this,zc,Ef.subscribe(async t=>{t&&(await this.resumePausedMutations(),C(this,ys).onOnline())})))}unmount(){var t,s;kh(this,Hi)._--,C(this,Hi)===0&&((t=C(this,Lc))==null||t.call(this),me(this,Lc,void 0),(s=C(this,zc))==null||s.call(this),me(this,zc,void 0))}isFetching(t){return C(this,ys).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return C(this,qi).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=C(this,ys).get(s.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const s=this.getQueryData(t.queryKey);if(s===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=C(this,ys).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(yc(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(s)}}getQueriesData(t){return C(this,ys).findAll(t).map(({queryKey:s,state:r})=>{const n=r.data;return[s,n]})}setQueryData(t,s,r){const n=this.defaultQueryOptions({queryKey:t}),a=C(this,ys).get(n.queryHash),i=a==null?void 0:a.state.data,l=t7(s,i);if(l!==void 0)return C(this,ys).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(t,s,r){return Fs.batch(()=>C(this,ys).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,s,r)]))}getQueryState(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=C(this,ys).get(s.queryHash))==null?void 0:r.state}removeQueries(t){const s=C(this,ys);Fs.batch(()=>{s.findAll(t).forEach(r=>{s.remove(r)})})}resetQueries(t,s){const r=C(this,ys),n={type:"active",...t};return Fs.batch(()=>(r.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries(n,s)))}cancelQueries(t={},s={}){const r={revert:!0,...s},n=Fs.batch(()=>C(this,ys).findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then(gn).catch(gn)}invalidateQueries(t={},s={}){return Fs.batch(()=>{if(C(this,ys).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,s)})}refetchQueries(t={},s){const r={...s,cancelRefetch:(s==null?void 0:s.cancelRefetch)??!0},n=Fs.batch(()=>C(this,ys).findAll(t).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(gn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(gn)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const r=C(this,ys).build(this,s);return r.isStaleByTime(yc(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(gn).catch(gn)}fetchInfiniteQuery(t){return t.behavior=N2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(gn).catch(gn)}ensureInfiniteQueryData(t){return t.behavior=N2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ef.isOnline()?C(this,qi).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,ys)}getMutationCache(){return C(this,qi)}getDefaultOptions(){return C(this,Wi)}setDefaultOptions(t){me(this,Wi,t)}setQueryDefaults(t,s){C(this,Ic).set(jo(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...C(this,Ic).values()];let r={};return s.forEach(n=>{lm(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,s){C(this,Fc).set(jo(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...C(this,Fc).values()];let r={};return s.forEach(n=>{lm(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const s={...C(this,Wi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=Hj(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.enabled!==!0&&s.queryFn===Kj&&(s.enabled=!1),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...C(this,Wi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){C(this,ys).clear(),C(this,qi).clear()}},ys=new WeakMap,qi=new WeakMap,Wi=new WeakMap,Ic=new WeakMap,Fc=new WeakMap,Hi=new WeakMap,Lc=new WeakMap,zc=new WeakMap,o_),zr,Pt,Rm,wr,Ql,Uc,Ki,ga,Dm,$c,Vc,Yl,Zl,Gi,Bc,$t,pu,xy,gy,by,yy,vy,jy,wy,xT,c_,x7=(c_=class extends Od{constructor(s,r){super();de(this,$t);de(this,zr);de(this,Pt);de(this,Rm);de(this,wr);de(this,Ql);de(this,Uc);de(this,Ki);de(this,ga);de(this,Dm);de(this,$c);de(this,Vc);de(this,Yl);de(this,Zl);de(this,Gi);de(this,Bc,new Set);this.options=r,me(this,zr,s),me(this,ga,null),me(this,Ki,fy()),this.options.experimental_prefetchInRender||C(this,Ki).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,Pt).addObserver(this),S2(C(this,Pt),this.options)?xe(this,$t,pu).call(this):this.updateResult(),xe(this,$t,yy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ny(C(this,Pt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ny(C(this,Pt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,xe(this,$t,vy).call(this),xe(this,$t,jy).call(this),C(this,Pt).removeObserver(this)}setOptions(s,r){const n=this.options,a=C(this,Pt);if(this.options=C(this,zr).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qn(this.options.enabled,C(this,Pt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");xe(this,$t,wy).call(this),C(this,Pt).setOptions(this.options),n._defaulted&&!Pf(this.options,n)&&C(this,zr).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,Pt),observer:this});const i=this.hasListeners();i&&_2(C(this,Pt),a,this.options,n)&&xe(this,$t,pu).call(this),this.updateResult(r),i&&(C(this,Pt)!==a||qn(this.options.enabled,C(this,Pt))!==qn(n.enabled,C(this,Pt))||yc(this.options.staleTime,C(this,Pt))!==yc(n.staleTime,C(this,Pt)))&&xe(this,$t,xy).call(this);const l=xe(this,$t,gy).call(this);i&&(C(this,Pt)!==a||qn(this.options.enabled,C(this,Pt))!==qn(n.enabled,C(this,Pt))||l!==C(this,Gi))&&xe(this,$t,by).call(this,l)}getOptimisticResult(s){const r=C(this,zr).getQueryCache().build(C(this,zr),s),n=this.createResult(r,s);return b7(this,n)&&(me(this,wr,n),me(this,Uc,this.options),me(this,Ql,C(this,Pt).state)),n}getCurrentResult(){return C(this,wr)}trackResult(s,r){const n={};return Object.keys(s).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),s[a])})}),n}trackProp(s){C(this,Bc).add(s)}getCurrentQuery(){return C(this,Pt)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const r=C(this,zr).defaultQueryOptions(s),n=C(this,zr).getQueryCache().build(C(this,zr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(s){return xe(this,$t,pu).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,wr)))}createResult(s,r){var S;const n=C(this,Pt),a=this.options,i=C(this,wr),l=C(this,Ql),o=C(this,Uc),d=s!==n?s.state:C(this,Rm),{state:u}=s;let m={...u},h=!1,f;if(r._optimisticResults){const A=this.hasListeners(),z=!A&&S2(s,r),re=A&&_2(s,n,r,a);(z||re)&&(m={...m,...pT(u.data,s.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:b,errorUpdatedAt:x,status:v}=m;if(r.select&&m.data!==void 0)if(i&&m.data===(l==null?void 0:l.data)&&r.select===C(this,Dm))f=C(this,$c);else try{me(this,Dm,r.select),f=r.select(m.data),f=py(i==null?void 0:i.data,f,r),me(this,$c,f),me(this,ga,null)}catch(A){me(this,ga,A)}else f=m.data;if(r.placeholderData!==void 0&&f===void 0&&v==="pending"){let A;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData))A=i.data;else if(A=typeof r.placeholderData=="function"?r.placeholderData((S=C(this,Vc))==null?void 0:S.state.data,C(this,Vc)):r.placeholderData,r.select&&A!==void 0)try{A=r.select(A),me(this,ga,null)}catch(z){me(this,ga,z)}A!==void 0&&(v="success",f=py(i==null?void 0:i.data,A,r),h=!0)}C(this,ga)&&(b=C(this,ga),f=C(this,$c),x=Date.now(),v="error");const g=m.fetchStatus==="fetching",y=v==="pending",j=v==="error",w=y&&g,N=f!==void 0,k={status:v,fetchStatus:m.fetchStatus,isPending:y,isSuccess:v==="success",isError:j,isInitialLoading:w,isLoading:w,data:f,dataUpdatedAt:m.dataUpdatedAt,error:b,errorUpdatedAt:x,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:g,isRefetching:g&&!y,isLoadingError:j&&!N,isPaused:m.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&N,isStale:Qj(s,r),refetch:this.refetch,promise:C(this,Ki)};if(this.options.experimental_prefetchInRender){const A=F=>{k.status==="error"?F.reject(k.error):k.data!==void 0&&F.resolve(k.data)},z=()=>{const F=me(this,Ki,k.promise=fy());A(F)},re=C(this,Ki);switch(re.status){case"pending":s.queryHash===n.queryHash&&A(re);break;case"fulfilled":(k.status==="error"||k.data!==re.value)&&z();break;case"rejected":(k.status!=="error"||k.error!==re.reason)&&z();break}}return k}updateResult(s){const r=C(this,wr),n=this.createResult(C(this,Pt),this.options);if(me(this,Ql,C(this,Pt).state),me(this,Uc,this.options),C(this,Ql).data!==void 0&&me(this,Vc,C(this,Pt)),Pf(n,r))return;me(this,wr,n);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:l}=this.options,o=typeof l=="function"?l():l;if(o==="all"||!o&&!C(this,Bc).size)return!0;const c=new Set(o??C(this,Bc));return this.options.throwOnError&&c.add("error"),Object.keys(C(this,wr)).some(d=>{const u=d;return C(this,wr)[u]!==r[u]&&c.has(u)})};(s==null?void 0:s.listeners)!==!1&&i()&&(a.listeners=!0),xe(this,$t,xT).call(this,{...a,...s})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&xe(this,$t,yy).call(this)}},zr=new WeakMap,Pt=new WeakMap,Rm=new WeakMap,wr=new WeakMap,Ql=new WeakMap,Uc=new WeakMap,Ki=new WeakMap,ga=new WeakMap,Dm=new WeakMap,$c=new WeakMap,Vc=new WeakMap,Yl=new WeakMap,Zl=new WeakMap,Gi=new WeakMap,Bc=new WeakMap,$t=new WeakSet,pu=function(s){xe(this,$t,wy).call(this);let r=C(this,Pt).fetch(this.options,s);return s!=null&&s.throwOnError||(r=r.catch(gn)),r},xy=function(){xe(this,$t,vy).call(this);const s=yc(this.options.staleTime,C(this,Pt));if(vo||C(this,wr).isStale||!my(s))return;const n=lT(C(this,wr).dataUpdatedAt,s)+1;me(this,Yl,setTimeout(()=>{C(this,wr).isStale||this.updateResult()},n))},gy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,Pt)):this.options.refetchInterval)??!1},by=function(s){xe(this,$t,jy).call(this),me(this,Gi,s),!(vo||qn(this.options.enabled,C(this,Pt))===!1||!my(C(this,Gi))||C(this,Gi)===0)&&me(this,Zl,setInterval(()=>{(this.options.refetchIntervalInBackground||Gj.isFocused())&&xe(this,$t,pu).call(this)},C(this,Gi)))},yy=function(){xe(this,$t,xy).call(this),xe(this,$t,by).call(this,xe(this,$t,gy).call(this))},vy=function(){C(this,Yl)&&(clearTimeout(C(this,Yl)),me(this,Yl,void 0))},jy=function(){C(this,Zl)&&(clearInterval(C(this,Zl)),me(this,Zl,void 0))},wy=function(){const s=C(this,zr).getQueryCache().build(C(this,zr),this.options);if(s===C(this,Pt))return;const r=C(this,Pt);me(this,Pt,s),me(this,Rm,s.state),this.hasListeners()&&(r==null||r.removeObserver(this),s.addObserver(this))},xT=function(s){Fs.batch(()=>{s.listeners&&this.listeners.forEach(r=>{r(C(this,wr))}),C(this,zr).getQueryCache().notify({query:C(this,Pt),type:"observerResultsUpdated"})})},c_);function g7(t,s){return qn(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function S2(t,s){return g7(t,s)||t.state.data!==void 0&&Ny(t,s,s.refetchOnMount)}function Ny(t,s,r){if(qn(s.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Qj(t,s)}return!1}function _2(t,s,r,n){return(t!==s||qn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Qj(t,r)}function Qj(t,s){return qn(s.enabled,t)!==!1&&t.isStaleByTime(yc(s.staleTime,t))}function b7(t,s){return!Pf(t.getCurrentResult(),s)}var Qi,Yi,Ur,ei,mi,Lp,Cy,d_,y7=(d_=class extends Od{constructor(r,n){super();de(this,mi);de(this,Qi);de(this,Yi);de(this,Ur);de(this,ei);me(this,Qi,r),this.setOptions(n),this.bindMethods(),xe(this,mi,Lp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=C(this,Qi).defaultMutationOptions(r),Pf(this.options,n)||C(this,Qi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,Ur),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&jo(n.mutationKey)!==jo(this.options.mutationKey)?this.reset():((a=C(this,Ur))==null?void 0:a.state.status)==="pending"&&C(this,Ur).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=C(this,Ur))==null||r.removeObserver(this)}onMutationUpdate(r){xe(this,mi,Lp).call(this),xe(this,mi,Cy).call(this,r)}getCurrentResult(){return C(this,Yi)}reset(){var r;(r=C(this,Ur))==null||r.removeObserver(this),me(this,Ur,void 0),xe(this,mi,Lp).call(this),xe(this,mi,Cy).call(this)}mutate(r,n){var a;return me(this,ei,n),(a=C(this,Ur))==null||a.removeObserver(this),me(this,Ur,C(this,Qi).getMutationCache().build(C(this,Qi),this.options)),C(this,Ur).addObserver(this),C(this,Ur).execute(r)}},Qi=new WeakMap,Yi=new WeakMap,Ur=new WeakMap,ei=new WeakMap,mi=new WeakSet,Lp=function(){var n;const r=((n=C(this,Ur))==null?void 0:n.state)??fT();me(this,Yi,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Cy=function(r){Fs.batch(()=>{var n,a,i,l,o,c,d,u;if(C(this,ei)&&this.hasListeners()){const m=C(this,Yi).variables,h=C(this,Yi).context;(r==null?void 0:r.type)==="success"?((a=(n=C(this,ei)).onSuccess)==null||a.call(n,r.data,m,h),(l=(i=C(this,ei)).onSettled)==null||l.call(i,r.data,null,m,h)):(r==null?void 0:r.type)==="error"&&((c=(o=C(this,ei)).onError)==null||c.call(o,r.error,m,h),(u=(d=C(this,ei)).onSettled)==null||u.call(d,void 0,r.error,m,h))}this.listeners.forEach(m=>{m(C(this,Yi))})})},d_),gT=p.createContext(void 0),Yj=t=>{const s=p.useContext(gT);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},v7=({client:t,children:s})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(gT.Provider,{value:t,children:s})),bT=p.createContext(!1),j7=()=>p.useContext(bT);bT.Provider;function w7(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var N7=p.createContext(w7()),C7=()=>p.useContext(N7);function yT(t,s){return typeof t=="function"?t(...s):!!t}function Sy(){}var S7=(t,s)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(s.isReset()||(t.retryOnMount=!1))},_7=t=>{p.useEffect(()=>{t.clearReset()},[t])},k7=({result:t,errorResetBoundary:s,throwOnError:r,query:n})=>t.isError&&!s.isReset()&&!t.isFetching&&n&&yT(r,[t.error,n]),P7=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},E7=(t,s)=>t.isLoading&&t.isFetching&&!s,A7=(t,s)=>(t==null?void 0:t.suspense)&&s.isPending,k2=(t,s,r)=>s.fetchOptimistic(t).catch(()=>{r.clearReset()});function T7(t,s,r){var u,m,h,f,b;const n=Yj(),a=j7(),i=C7(),l=n.defaultQueryOptions(t);(m=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||m.call(u,l),l._optimisticResults=a?"isRestoring":"optimistic",P7(l),S7(l,i),_7(i);const o=!n.getQueryCache().get(l.queryHash),[c]=p.useState(()=>new s(n,l)),d=c.getOptimisticResult(l);if(p.useSyncExternalStore(p.useCallback(x=>{const v=a?Sy:c.subscribe(Fs.batchCalls(x));return c.updateResult(),v},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(l,{listeners:!1})},[l,c]),A7(l,d))throw k2(l,c,i);if(k7({result:d,errorResetBoundary:i,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash)}))throw d.error;if((f=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||f.call(h,l,d),l.experimental_prefetchInRender&&!vo&&E7(d,a)){const x=o?k2(l,c,i):(b=n.getQueryCache().get(l.queryHash))==null?void 0:b.promise;x==null||x.catch(Sy).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?d:c.trackResult(d)}function Ge(t,s){return T7(t,x7)}function $e(t,s){const r=Yj(),[n]=p.useState(()=>new y7(r,t));p.useEffect(()=>{n.setOptions(t)},[n,t]);const a=p.useSyncExternalStore(p.useCallback(l=>n.subscribe(Fs.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=p.useCallback((l,o)=>{n.mutate(l,o).catch(Sy)},[n]);if(a.error&&yT(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}async function vT(t){if(!t.ok){const s=await t.text()||t.statusText;throw new Error(`${t.status}: ${s}`)}}async function Be(t,s,r){const n=r instanceof FormData,a=await fetch(s,{method:t,headers:r&&!n?{"Content-Type":"application/json"}:{},body:n?r:r?JSON.stringify(r):void 0,credentials:"include"});return await vT(a),a}const jT=({on401:t})=>async({queryKey:s})=>{try{const r=await fetch(s.join("/"),{credentials:"include"});return t==="returnNull"&&r.status===401?null:(await vT(r),await r.json())}catch(r){throw console.error("[QueryClient] Fetch error for",s.join("/"),r),r}},st=new f7({defaultOptions:{queries:{queryFn:jT({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,refetchOnMount:!0,staleTime:5*60*1e3,retry:!1},mutations:{retry:!1}}}),R7=1,D7=1e6;let f0=0;function M7(){return f0=(f0+1)%Number.MAX_SAFE_INTEGER,f0.toString()}const x0=new Map,P2=t=>{if(x0.has(t))return;const s=setTimeout(()=>{x0.delete(t),Fu({type:"REMOVE_TOAST",toastId:t})},D7);x0.set(t,s)},O7=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,R7)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===s.toast.id?{...r,...s.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=s;return r?P2(r):t.toasts.forEach(n=>{P2(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==s.toastId)}}},zp=[];let Up={toasts:[]};function Fu(t){Up=O7(Up,t),zp.forEach(s=>{s(Up)})}function I7({...t}){const s=M7(),r=a=>Fu({type:"UPDATE_TOAST",toast:{...a,id:s}}),n=()=>Fu({type:"DISMISS_TOAST",toastId:s});return Fu({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:a=>{a||n()}}}),{id:s,dismiss:n,update:r}}function tt(){const[t,s]=p.useState(Up);return p.useEffect(()=>(zp.push(s),()=>{const r=zp.indexOf(s);r>-1&&zp.splice(r,1)}),[t]),{...t,toast:I7,dismiss:r=>Fu({type:"DISMISS_TOAST",toastId:r})}}function ke(t,s,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return s==null?void 0:s(a)}}function E2(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function Gx(...t){return s=>{let r=!1;const n=t.map(a=>{const i=E2(a,s);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():E2(t[a],null)}}}}function Nt(...t){return p.useCallback(Gx(...t),t)}function F7(t,s){const r=p.createContext(s),n=i=>{const{children:l,...o}=i,c=p.useMemo(()=>o,Object.values(o));return e.jsx(r.Provider,{value:c,children:l})};n.displayName=t+"Provider";function a(i){const l=p.useContext(r);if(l)return l;if(s!==void 0)return s;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,a]}function Gs(t,s=[]){let r=[];function n(i,l){const o=p.createContext(l),c=r.length;r=[...r,l];const d=m=>{var g;const{scope:h,children:f,...b}=m,x=((g=h==null?void 0:h[t])==null?void 0:g[c])||o,v=p.useMemo(()=>b,Object.values(b));return e.jsx(x.Provider,{value:v,children:f})};d.displayName=i+"Provider";function u(m,h){var x;const f=((x=h==null?void 0:h[t])==null?void 0:x[c])||o,b=p.useContext(f);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(l=>p.createContext(l));return function(o){const c=(o==null?void 0:o[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return a.scopeName=t,[n,L7(a,...s)]}function L7(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=n.reduce((o,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...o,...m}},{});return p.useMemo(()=>({[`__scope${s.scopeName}`]:l}),[l])}};return r.scopeName=s.scopeName,r}function wo(t){const s=z7(t),r=p.forwardRef((n,a)=>{const{children:i,...l}=n,o=p.Children.toArray(i),c=o.find(U7);if(c){const d=c.props.children,u=o.map(m=>m===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:m);return e.jsx(s,{...l,ref:a,children:p.isValidElement(d)?p.cloneElement(d,void 0,u):null})}return e.jsx(s,{...l,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}var Zj=wo("Slot");function z7(t){const s=p.forwardRef((r,n)=>{const{children:a,...i}=r;if(p.isValidElement(a)){const l=V7(a),o=$7(i,a.props);return a.type!==p.Fragment&&(o.ref=n?Gx(n,l):l),p.cloneElement(a,o)}return p.Children.count(a)>1?p.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var wT=Symbol("radix.slottable");function NT(t){const s=({children:r})=>e.jsx(e.Fragment,{children:r});return s.displayName=`${t}.Slottable`,s.__radixId=wT,s}function U7(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wT}function $7(t,s){const r={...s};for(const n in s){const a=t[n],i=s[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{i(...o),a(...o)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function V7(t){var n,a;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Qx(t){const s=t+"CollectionProvider",[r,n]=Gs(s),[a,i]=r(s,{collectionRef:{current:null},itemMap:new Map}),l=x=>{const{scope:v,children:g}=x,y=ne.useRef(null),j=ne.useRef(new Map).current;return e.jsx(a,{scope:v,itemMap:j,collectionRef:y,children:g})};l.displayName=s;const o=t+"CollectionSlot",c=wo(o),d=ne.forwardRef((x,v)=>{const{scope:g,children:y}=x,j=i(o,g),w=Nt(v,j.collectionRef);return e.jsx(c,{ref:w,children:y})});d.displayName=o;const u=t+"CollectionItemSlot",m="data-radix-collection-item",h=wo(u),f=ne.forwardRef((x,v)=>{const{scope:g,children:y,...j}=x,w=ne.useRef(null),N=Nt(v,w),_=i(u,g);return ne.useEffect(()=>(_.itemMap.set(w,{ref:w,...j}),()=>void _.itemMap.delete(w))),e.jsx(h,{[m]:"",ref:N,children:y})});f.displayName=u;function b(x){const v=i(t+"CollectionConsumer",x);return ne.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const j=Array.from(y.querySelectorAll(`[${m}]`));return Array.from(v.itemMap.values()).sort((_,k)=>j.indexOf(_.ref.current)-j.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:l,Slot:d,ItemSlot:f},b,n]}var B7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Qe=B7.reduce((t,s)=>{const r=wo(`Primitive.${s}`),n=p.forwardRef((a,i)=>{const{asChild:l,...o}=a,c=l?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...o,ref:i})});return n.displayName=`Primitive.${s}`,{...t,[s]:n}},{});function Xj(t,s){t&&Pl.flushSync(()=>t.dispatchEvent(s))}function rr(t){const s=p.useRef(t);return p.useEffect(()=>{s.current=t}),p.useMemo(()=>(...r)=>{var n;return(n=s.current)==null?void 0:n.call(s,...r)},[])}function q7(t,s=globalThis==null?void 0:globalThis.document){const r=rr(t);p.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return s.addEventListener("keydown",n,{capture:!0}),()=>s.removeEventListener("keydown",n,{capture:!0})},[r,s])}var W7="DismissableLayer",_y="dismissableLayer.update",H7="dismissableLayer.pointerDownOutside",K7="dismissableLayer.focusOutside",A2,CT=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Id=p.forwardRef((t,s)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:l,onDismiss:o,...c}=t,d=p.useContext(CT),[u,m]=p.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=p.useState({}),b=Nt(s,k=>m(k)),x=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(v),y=u?x.indexOf(u):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,w=y>=g,N=Q7(k=>{const S=k.target,A=[...d.branches].some(z=>z.contains(S));!w||A||(a==null||a(k),l==null||l(k),k.defaultPrevented||o==null||o())},h),_=Y7(k=>{const S=k.target;[...d.branches].some(z=>z.contains(S))||(i==null||i(k),l==null||l(k),k.defaultPrevented||o==null||o())},h);return q7(k=>{y===d.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&o&&(k.preventDefault(),o()))},h),p.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(A2=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),T2(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=A2)}},[u,h,r,d]),p.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),T2())},[u,d]),p.useEffect(()=>{const k=()=>f({});return document.addEventListener(_y,k),()=>document.removeEventListener(_y,k)},[]),e.jsx(Qe.div,{...c,ref:b,style:{pointerEvents:j?w?"auto":"none":void 0,...t.style},onFocusCapture:ke(t.onFocusCapture,_.onFocusCapture),onBlurCapture:ke(t.onBlurCapture,_.onBlurCapture),onPointerDownCapture:ke(t.onPointerDownCapture,N.onPointerDownCapture)})});Id.displayName=W7;var G7="DismissableLayerBranch",ST=p.forwardRef((t,s)=>{const r=p.useContext(CT),n=p.useRef(null),a=Nt(s,n);return p.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),e.jsx(Qe.div,{...t,ref:a})});ST.displayName=G7;function Q7(t,s=globalThis==null?void 0:globalThis.document){const r=rr(t),n=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const i=o=>{if(o.target&&!n.current){let c=function(){_T(H7,r,d,{discrete:!0})};const d={originalEvent:o};o.pointerType==="touch"?(s.removeEventListener("click",a.current),a.current=c,s.addEventListener("click",a.current,{once:!0})):c()}else s.removeEventListener("click",a.current);n.current=!1},l=window.setTimeout(()=>{s.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),s.removeEventListener("pointerdown",i),s.removeEventListener("click",a.current)}},[s,r]),{onPointerDownCapture:()=>n.current=!0}}function Y7(t,s=globalThis==null?void 0:globalThis.document){const r=rr(t),n=p.useRef(!1);return p.useEffect(()=>{const a=i=>{i.target&&!n.current&&_T(K7,r,{originalEvent:i},{discrete:!1})};return s.addEventListener("focusin",a),()=>s.removeEventListener("focusin",a)},[s,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function T2(){const t=new CustomEvent(_y);document.dispatchEvent(t)}function _T(t,s,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});s&&a.addEventListener(t,s,{once:!0}),n?Xj(a,i):a.dispatchEvent(i)}var Z7=Id,X7=ST,Rs=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},J7="Portal",uh=p.forwardRef((t,s)=>{var o;const{container:r,...n}=t,[a,i]=p.useState(!1);Rs(()=>i(!0),[]);const l=r||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return l?hU.createPortal(e.jsx(Qe.div,{...n,ref:s}),l):null});uh.displayName=J7;function e9(t,s){return p.useReducer((r,n)=>s[r][n]??r,t)}var Yr=t=>{const{present:s,children:r}=t,n=t9(s),a=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),i=Nt(n.ref,s9(a));return typeof r=="function"||n.isPresent?p.cloneElement(a,{ref:i}):null};Yr.displayName="Presence";function t9(t){const[s,r]=p.useState(),n=p.useRef({}),a=p.useRef(t),i=p.useRef("none"),l=t?"mounted":"unmounted",[o,c]=e9(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=Jh(n.current);i.current=o==="mounted"?d:"none"},[o]),Rs(()=>{const d=n.current,u=a.current;if(u!==t){const h=i.current,f=Jh(d);t?c("MOUNT"):f==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),Rs(()=>{if(s){let d;const u=s.ownerDocument.defaultView??window,m=f=>{const x=Jh(n.current).includes(f.animationName);if(f.target===s&&x&&(c("ANIMATION_END"),!a.current)){const v=s.style.animationFillMode;s.style.animationFillMode="forwards",d=u.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=v)})}},h=f=>{f.target===s&&(i.current=Jh(n.current))};return s.addEventListener("animationstart",h),s.addEventListener("animationcancel",m),s.addEventListener("animationend",m),()=>{u.clearTimeout(d),s.removeEventListener("animationstart",h),s.removeEventListener("animationcancel",m),s.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[s,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:p.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function Jh(t){return(t==null?void 0:t.animationName)||"none"}function s9(t){var n,a;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function ta({prop:t,defaultProp:s,onChange:r=()=>{}}){const[n,a]=r9({defaultProp:s,onChange:r}),i=t!==void 0,l=i?t:n,o=rr(r),c=p.useCallback(d=>{if(i){const m=typeof d=="function"?d(t):d;m!==t&&o(m)}else a(d)},[i,t,a,o]);return[l,c]}function r9({defaultProp:t,onChange:s}){const r=p.useState(t),[n]=r,a=p.useRef(n),i=rr(s);return p.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}var n9="VisuallyHidden",mh=p.forwardRef((t,s)=>e.jsx(Qe.span,{...t,ref:s,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));mh.displayName=n9;var a9=mh,Jj="ToastProvider",[ew,i9,l9]=Qx("Toast"),[kT,Voe]=Gs("Toast",[l9]),[o9,Yx]=kT(Jj),PT=t=>{const{__scopeToast:s,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:l}=t,[o,c]=p.useState(null),[d,u]=p.useState(0),m=p.useRef(!1),h=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Jj}\`. Expected non-empty \`string\`.`),e.jsx(ew.Provider,{scope:s,children:e.jsx(o9,{scope:s,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:o,onViewportChange:c,onToastAdd:p.useCallback(()=>u(f=>f+1),[]),onToastRemove:p.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:l})})};PT.displayName=Jj;var ET="ToastViewport",c9=["F8"],ky="toast.viewportPause",Py="toast.viewportResume",AT=p.forwardRef((t,s)=>{const{__scopeToast:r,hotkey:n=c9,label:a="Notifications ({hotkey})",...i}=t,l=Yx(ET,r),o=i9(r),c=p.useRef(null),d=p.useRef(null),u=p.useRef(null),m=p.useRef(null),h=Nt(s,m,l.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=l.toastCount>0;p.useEffect(()=>{const v=g=>{var j;n.length!==0&&n.every(w=>g[w]||g.code===w)&&((j=m.current)==null||j.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),p.useEffect(()=>{const v=c.current,g=m.current;if(b&&v&&g){const y=()=>{if(!l.isClosePausedRef.current){const _=new CustomEvent(ky);g.dispatchEvent(_),l.isClosePausedRef.current=!0}},j=()=>{if(l.isClosePausedRef.current){const _=new CustomEvent(Py);g.dispatchEvent(_),l.isClosePausedRef.current=!1}},w=_=>{!v.contains(_.relatedTarget)&&j()},N=()=>{v.contains(document.activeElement)||j()};return v.addEventListener("focusin",y),v.addEventListener("focusout",w),v.addEventListener("pointermove",y),v.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",j),()=>{v.removeEventListener("focusin",y),v.removeEventListener("focusout",w),v.removeEventListener("pointermove",y),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",j)}}},[b,l.isClosePausedRef]);const x=p.useCallback(({tabbingDirection:v})=>{const y=o().map(j=>{const w=j.ref.current,N=[w,...w9(w)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?y.reverse():y).flat()},[o]);return p.useEffect(()=>{const v=m.current;if(v){const g=y=>{var N,_,k;const j=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!j){const S=document.activeElement,A=y.shiftKey;if(y.target===v&&A){(N=d.current)==null||N.focus();return}const F=x({tabbingDirection:A?"backwards":"forwards"}),B=F.findIndex(U=>U===S);g0(F.slice(B+1))?y.preventDefault():A?(_=d.current)==null||_.focus():(k=u.current)==null||k.focus()}};return v.addEventListener("keydown",g),()=>v.removeEventListener("keydown",g)}},[o,x]),e.jsxs(X7,{ref:c,role:"region","aria-label":a.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&e.jsx(Ey,{ref:d,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"forwards"});g0(v)}}),e.jsx(ew.Slot,{scope:r,children:e.jsx(Qe.ol,{tabIndex:-1,...i,ref:h})}),b&&e.jsx(Ey,{ref:u,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"backwards"});g0(v)}})]})});AT.displayName=ET;var TT="ToastFocusProxy",Ey=p.forwardRef((t,s)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=t,i=Yx(TT,r);return e.jsx(mh,{"aria-hidden":!0,tabIndex:0,...a,ref:s,style:{position:"fixed"},onFocus:l=>{var d;const o=l.relatedTarget;!((d=i.viewport)!=null&&d.contains(o))&&n()}})});Ey.displayName=TT;var Zx="Toast",d9="toast.swipeStart",u9="toast.swipeMove",m9="toast.swipeCancel",h9="toast.swipeEnd",RT=p.forwardRef((t,s)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...l}=t,[o=!0,c]=ta({prop:n,defaultProp:a,onChange:i});return e.jsx(Yr,{present:r||o,children:e.jsx(x9,{open:o,...l,ref:s,onClose:()=>c(!1),onPause:rr(t.onPause),onResume:rr(t.onResume),onSwipeStart:ke(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ke(t.onSwipeMove,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:ke(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ke(t.onSwipeEnd,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});RT.displayName=Zx;var[p9,f9]=kT(Zx,{onClose(){}}),x9=p.forwardRef((t,s)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:l,onEscapeKeyDown:o,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:f,...b}=t,x=Yx(Zx,r),[v,g]=p.useState(null),y=Nt(s,U=>g(U)),j=p.useRef(null),w=p.useRef(null),N=a||x.duration,_=p.useRef(0),k=p.useRef(N),S=p.useRef(0),{onToastAdd:A,onToastRemove:z}=x,re=rr(()=>{var W;(v==null?void 0:v.contains(document.activeElement))&&((W=x.viewport)==null||W.focus()),l()}),F=p.useCallback(U=>{!U||U===1/0||(window.clearTimeout(S.current),_.current=new Date().getTime(),S.current=window.setTimeout(re,U))},[re]);p.useEffect(()=>{const U=x.viewport;if(U){const W=()=>{F(k.current),d==null||d()},E=()=>{const M=new Date().getTime()-_.current;k.current=k.current-M,window.clearTimeout(S.current),c==null||c()};return U.addEventListener(ky,E),U.addEventListener(Py,W),()=>{U.removeEventListener(ky,E),U.removeEventListener(Py,W)}}},[x.viewport,N,c,d,F]),p.useEffect(()=>{i&&!x.isClosePausedRef.current&&F(N)},[i,N,x.isClosePausedRef,F]),p.useEffect(()=>(A(),()=>z()),[A,z]);const B=p.useMemo(()=>v?zT(v):null,[v]);return x.viewport?e.jsxs(e.Fragment,{children:[B&&e.jsx(g9,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),e.jsx(p9,{scope:r,onClose:re,children:Pl.createPortal(e.jsx(ew.ItemSlot,{scope:r,children:e.jsx(Z7,{asChild:!0,onEscapeKeyDown:ke(o,()=>{x.isFocusedToastEscapeKeyDownRef.current||re(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Qe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...b,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ke(t.onKeyDown,U=>{U.key==="Escape"&&(o==null||o(U.nativeEvent),U.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,re()))}),onPointerDown:ke(t.onPointerDown,U=>{U.button===0&&(j.current={x:U.clientX,y:U.clientY})}),onPointerMove:ke(t.onPointerMove,U=>{if(!j.current)return;const W=U.clientX-j.current.x,E=U.clientY-j.current.y,M=!!w.current,q=["left","right"].includes(x.swipeDirection),R=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,ie=q?R(0,W):0,O=q?0:R(0,E),te=U.pointerType==="touch"?10:2,se={x:ie,y:O},Te={originalEvent:U,delta:se};M?(w.current=se,ep(u9,m,Te,{discrete:!1})):R2(se,x.swipeDirection,te)?(w.current=se,ep(d9,u,Te,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(W)>te||Math.abs(E)>te)&&(j.current=null)}),onPointerUp:ke(t.onPointerUp,U=>{const W=w.current,E=U.target;if(E.hasPointerCapture(U.pointerId)&&E.releasePointerCapture(U.pointerId),w.current=null,j.current=null,W){const M=U.currentTarget,q={originalEvent:U,delta:W};R2(W,x.swipeDirection,x.swipeThreshold)?ep(h9,f,q,{discrete:!0}):ep(m9,h,q,{discrete:!0}),M.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),g9=t=>{const{__scopeToast:s,children:r,...n}=t,a=Yx(Zx,s),[i,l]=p.useState(!1),[o,c]=p.useState(!1);return v9(()=>l(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),o?null:e.jsx(uh,{asChild:!0,children:e.jsx(mh,{...n,children:i&&e.jsxs(e.Fragment,{children:[a.label," ",r]})})})},b9="ToastTitle",DT=p.forwardRef((t,s)=>{const{__scopeToast:r,...n}=t;return e.jsx(Qe.div,{...n,ref:s})});DT.displayName=b9;var y9="ToastDescription",MT=p.forwardRef((t,s)=>{const{__scopeToast:r,...n}=t;return e.jsx(Qe.div,{...n,ref:s})});MT.displayName=y9;var OT="ToastAction",IT=p.forwardRef((t,s)=>{const{altText:r,...n}=t;return r.trim()?e.jsx(LT,{altText:r,asChild:!0,children:e.jsx(tw,{...n,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${OT}\`. Expected non-empty \`string\`.`),null)});IT.displayName=OT;var FT="ToastClose",tw=p.forwardRef((t,s)=>{const{__scopeToast:r,...n}=t,a=f9(FT,r);return e.jsx(LT,{asChild:!0,children:e.jsx(Qe.button,{type:"button",...n,ref:s,onClick:ke(t.onClick,a.onClose)})})});tw.displayName=FT;var LT=p.forwardRef((t,s)=>{const{__scopeToast:r,altText:n,...a}=t;return e.jsx(Qe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:s})});function zT(t){const s=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&s.push(n.textContent),j9(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const l=n.dataset.radixToastAnnounceAlt;l&&s.push(l)}else s.push(...zT(n))}}),s}function ep(t,s,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});s&&a.addEventListener(t,s,{once:!0}),n?Xj(a,i):a.dispatchEvent(i)}var R2=(t,s,r=0)=>{const n=Math.abs(t.x),a=Math.abs(t.y),i=n>a;return s==="left"||s==="right"?i&&n>r:!i&&a>r};function v9(t=()=>{}){const s=rr(t);Rs(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[s])}function j9(t){return t.nodeType===t.ELEMENT_NODE}function w9(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function g0(t){const s=document.activeElement;return t.some(r=>r===s?!0:(r.focus(),document.activeElement!==s))}var N9=PT,UT=AT,$T=RT,VT=DT,BT=MT,qT=IT,WT=tw;function HT(t){var s,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(s=0;s<a;s++)t[s]&&(r=HT(t[s]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function KT(){for(var t,s,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(s=HT(t))&&(n&&(n+=" "),n+=s);return n}const D2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,M2=KT,hh=(t,s)=>r=>{var n;if((s==null?void 0:s.variants)==null)return M2(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=s,l=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],m=i==null?void 0:i[d];if(u===null)return null;const h=D2(u)||D2(m);return a[d][h]}),o=r&&Object.entries(r).reduce((d,u)=>{let[m,h]=u;return h===void 0||(d[m]=h),d},{}),c=s==null||(n=s.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:m,className:h,...f}=u;return Object.entries(f).every(b=>{let[x,v]=b;return Array.isArray(v)?v.includes({...i,...o}[x]):{...i,...o}[x]===v})?[...d,m,h]:d},[]);return M2(t,l,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GT=(...t)=>t.filter((s,r,n)=>!!s&&n.indexOf(s)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=p.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...o},c)=>p.createElement("svg",{ref:c,...S9,width:s,height:s,stroke:t,strokeWidth:n?Number(r)*24/Number(s):r,className:GT("lucide",a),...o},[...l.map(([d,u])=>p.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(t,s)=>{const r=p.forwardRef(({className:n,...a},i)=>p.createElement(_9,{ref:i,iconNode:s,className:GT(`lucide-${C9(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=we("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=we("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=we("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=we("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=we("Badge",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=we("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=we("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=we("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=we("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=we("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=we("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=we("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=we("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=we("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=we("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=we("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=we("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=we("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=we("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=we("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=we("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=we("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=we("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=we("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=we("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=we("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=we("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=we("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=we("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=we("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=we("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=we("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=we("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=we("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=we("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=we("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=we("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=we("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=we("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=we("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=we("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=we("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=we("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=we("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=we("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=we("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=we("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=we("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=we("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=we("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=we("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=we("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=we("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=we("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=we("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=we("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=we("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=we("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=we("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=we("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=we("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=we("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=we("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=we("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=we("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=we("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=we("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=we("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=we("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=we("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=we("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=we("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=we("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),nw="-",G9=t=>{const s=Y9(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{const o=l.split(nw);return o[0]===""&&o.length!==1&&o.shift(),rR(o,s)||Q9(l)},getConflictingClassGroupIds:(l,o)=>{const c=r[l]||[];return o&&n[l]?[...c,...n[l]]:c}}},rR=(t,s)=>{var l;if(t.length===0)return s.classGroupId;const r=t[0],n=s.nextPart.get(r),a=n?rR(t.slice(1),n):void 0;if(a)return a;if(s.validators.length===0)return;const i=t.join(nw);return(l=s.validators.find(({validator:o})=>o(i)))==null?void 0:l.classGroupId},z2=/^\[(.+)\]$/,Q9=t=>{if(z2.test(t)){const s=z2.exec(t)[1],r=s==null?void 0:s.substring(0,s.indexOf(":"));if(r)return"arbitrary.."+r}},Y9=t=>{const{theme:s,prefix:r}=t,n={nextPart:new Map,validators:[]};return X9(Object.entries(t.classGroups),r).forEach(([i,l])=>{My(l,n,i,s)}),n},My=(t,s,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?s:U2(s,a);i.classGroupId=r;return}if(typeof a=="function"){if(Z9(a)){My(a(n),s,r,n);return}s.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,l])=>{My(l,U2(s,i),r,n)})})},U2=(t,s)=>{let r=t;return s.split(nw).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Z9=t=>t.isThemeGetter,X9=(t,s)=>s?t.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?s+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([l,o])=>[s+l,o])):i);return[r,a]}):t,J9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,r=new Map,n=new Map;const a=(i,l)=>{r.set(i,l),s++,s>t&&(s=0,n=r,r=new Map)};return{get(i){let l=r.get(i);if(l!==void 0)return l;if((l=n.get(i))!==void 0)return a(i,l),l},set(i,l){r.has(i)?r.set(i,l):a(i,l)}}},nR="!",eB=t=>{const{separator:s,experimentalParseClassName:r}=t,n=s.length===1,a=s[0],i=s.length,l=o=>{const c=[];let d=0,u=0,m;for(let v=0;v<o.length;v++){let g=o[v];if(d===0){if(g===a&&(n||o.slice(v,v+i)===s)){c.push(o.slice(u,v)),u=v+i;continue}if(g==="/"){m=v;continue}}g==="["?d++:g==="]"&&d--}const h=c.length===0?o:o.substring(u),f=h.startsWith(nR),b=f?h.substring(1):h,x=m&&m>u?m-u:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:b,maybePostfixModifierPosition:x}};return r?o=>r({className:o,parseClassName:l}):l},tB=t=>{if(t.length<=1)return t;const s=[];let r=[];return t.forEach(n=>{n[0]==="["?(s.push(...r.sort(),n),r=[]):r.push(n)}),s.push(...r.sort()),s},sB=t=>({cache:J9(t.cacheSize),parseClassName:eB(t),...G9(t)}),rB=/\s+/,nB=(t,s)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=s,i=[],l=t.trim().split(rB);let o="";for(let c=l.length-1;c>=0;c-=1){const d=l[c],{modifiers:u,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:f}=r(d);let b=!!f,x=n(b?h.substring(0,f):h);if(!x){if(!b){o=d+(o.length>0?" "+o:o);continue}if(x=n(h),!x){o=d+(o.length>0?" "+o:o);continue}b=!1}const v=tB(u).join(":"),g=m?v+nR:v,y=g+x;if(i.includes(y))continue;i.push(y);const j=a(x,b);for(let w=0;w<j.length;++w){const N=j[w];i.push(g+N)}o=d+(o.length>0?" "+o:o)}return o};function aB(){let t=0,s,r,n="";for(;t<arguments.length;)(s=arguments[t++])&&(r=aR(s))&&(n&&(n+=" "),n+=r);return n}const aR=t=>{if(typeof t=="string")return t;let s,r="";for(let n=0;n<t.length;n++)t[n]&&(s=aR(t[n]))&&(r&&(r+=" "),r+=s);return r};function iB(t,...s){let r,n,a,i=l;function l(c){const d=s.reduce((u,m)=>m(u),t());return r=sB(d),n=r.cache.get,a=r.cache.set,i=o,o(c)}function o(c){const d=n(c);if(d)return d;const u=nB(c,r);return a(c,u),u}return function(){return i(aB.apply(null,arguments))}}const es=t=>{const s=r=>r[t]||[];return s.isThemeGetter=!0,s},iR=/^\[(?:([a-z-]+):)?(.+)\]$/i,lB=/^\d+\/\d+$/,oB=new Set(["px","full","screen"]),cB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ha=t=>wc(t)||oB.has(t)||lB.test(t),_i=t=>Fd(t,"length",jB),wc=t=>!!t&&!Number.isNaN(Number(t)),y0=t=>Fd(t,"number",wc),Jd=t=>!!t&&Number.isInteger(Number(t)),pB=t=>t.endsWith("%")&&wc(t.slice(0,-1)),pt=t=>iR.test(t),ki=t=>cB.test(t),fB=new Set(["length","size","percentage"]),xB=t=>Fd(t,fB,lR),gB=t=>Fd(t,"position",lR),bB=new Set(["image","url"]),yB=t=>Fd(t,bB,NB),vB=t=>Fd(t,"",wB),eu=()=>!0,Fd=(t,s,r)=>{const n=iR.exec(t);return n?n[1]?typeof s=="string"?n[1]===s:s.has(n[1]):r(n[2]):!1},jB=t=>dB.test(t)&&!uB.test(t),lR=()=>!1,wB=t=>mB.test(t),NB=t=>hB.test(t),CB=()=>{const t=es("colors"),s=es("spacing"),r=es("blur"),n=es("brightness"),a=es("borderColor"),i=es("borderRadius"),l=es("borderSpacing"),o=es("borderWidth"),c=es("contrast"),d=es("grayscale"),u=es("hueRotate"),m=es("invert"),h=es("gap"),f=es("gradientColorStops"),b=es("gradientColorStopPositions"),x=es("inset"),v=es("margin"),g=es("opacity"),y=es("padding"),j=es("saturate"),w=es("scale"),N=es("sepia"),_=es("skew"),k=es("space"),S=es("translate"),A=()=>["auto","contain","none"],z=()=>["auto","hidden","clip","visible","scroll"],re=()=>["auto",pt,s],F=()=>[pt,s],B=()=>["",Ha,_i],U=()=>["auto",wc,pt],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],E=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",pt],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[wc,pt];return{cacheSize:500,separator:":",theme:{colors:[eu],spacing:[Ha,_i],blur:["none","",ki,pt],brightness:O(),borderColor:[t],borderRadius:["none","","full",ki,pt],borderSpacing:F(),borderWidth:B(),contrast:O(),grayscale:R(),hueRotate:O(),invert:R(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[pB,_i],inset:re(),margin:re(),opacity:O(),padding:F(),saturate:O(),scale:O(),sepia:R(),skew:O(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",pt]}],container:["container"],columns:[{columns:[ki]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),pt]}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jd,pt]}],basis:[{basis:re()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pt]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Jd,pt]}],"grid-cols":[{"grid-cols":[eu]}],"col-start-end":[{col:["auto",{span:["full",Jd,pt]},pt]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[eu]}],"row-start-end":[{row:["auto",{span:[Jd,pt]},pt]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pt,s]}],"min-w":[{"min-w":[pt,s,"min","max","fit"]}],"max-w":[{"max-w":[pt,s,"none","full","min","max","fit","prose",{screen:[ki]},ki]}],h:[{h:[pt,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pt,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pt,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pt,s,"auto","min","max","fit"]}],"font-size":[{text:["base",ki,_i]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",y0]}],"font-family":[{font:[eu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pt]}],"line-clamp":[{"line-clamp":["none",wc,y0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ha,pt]}],"list-image":[{"list-image":["none",pt]}],"list-style-type":[{list:["none","disc","decimal",pt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...E(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ha,_i]}],"underline-offset":[{"underline-offset":["auto",Ha,pt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),gB]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xB]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yB]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...E(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:E()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...E()]}],"outline-offset":[{"outline-offset":[Ha,pt]}],"outline-w":[{outline:[Ha,_i]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Ha,_i]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ki,vB]}],"shadow-color":[{shadow:[eu]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ki,pt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[j]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pt]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",pt]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",pt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Jd,pt]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ha,_i,y0]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},SB=iB(CB);function ye(...t){return SB(KT(t))}const _B=N9,oR=p.forwardRef(({className:t,...s},r)=>e.jsx(UT,{ref:r,className:ye("fixed top-20 right-6 z-[1000] flex max-h-screen w-full max-w-[420px] flex-col gap-2 p-4 pointer-events-none",t),...s}));oR.displayName=UT.displayName;const kB=hh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-lg border p-4 pr-8 shadow-xl backdrop-blur-sm transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-right-full data-[state=open]:fade-in-0",{variants:{variant:{default:"border-border/50 bg-background/95 text-foreground shadow-lg",destructive:"destructive group border-red-500/50 bg-red-50/95 dark:bg-red-900/95 text-red-900 dark:text-red-50",success:"border-green-500/50 bg-green-50/95 dark:bg-green-900/95 text-green-900 dark:text-green-50",warning:"border-yellow-500/50 bg-yellow-50/95 dark:bg-yellow-900/95 text-yellow-900 dark:text-yellow-50",info:"border-blue-500/50 bg-blue-50/95 dark:bg-blue-900/95 text-blue-900 dark:text-blue-50"}},defaultVariants:{variant:"default"}}),cR=p.forwardRef(({className:t,variant:s,...r},n)=>e.jsx($T,{ref:n,className:ye(kB({variant:s}),t),"data-testid":"toast-notification",...r}));cR.displayName=$T.displayName;const PB=p.forwardRef(({className:t,...s},r)=>e.jsx(qT,{ref:r,className:ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));PB.displayName=qT.displayName;const dR=p.forwardRef(({className:t,...s},r)=>e.jsx(WT,{ref:r,className:ye("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-100 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 pointer-events-auto",t),"toast-close":"","data-testid":"button-close-toast",...s,children:e.jsx(ui,{className:"h-4 w-4"})}));dR.displayName=WT.displayName;const uR=p.forwardRef(({className:t,...s},r)=>e.jsx(VT,{ref:r,className:ye("text-sm font-semibold leading-none tracking-tight",t),...s}));uR.displayName=VT.displayName;const mR=p.forwardRef(({className:t,...s},r)=>e.jsx(BT,{ref:r,className:ye("text-sm opacity-80 mt-1",t),...s}));mR.displayName=BT.displayName;function EB(){const{toasts:t}=tt();return e.jsxs(_B,{children:[t.map(function({id:s,title:r,description:n,action:a,...i}){return e.jsxs(cR,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[r&&e.jsx(uR,{children:r}),n&&e.jsx(mR,{children:n})]}),a,e.jsx(dR,{})]},s)}),e.jsx(oR,{})]})}var AB=lE[" useId ".trim().toString()]||(()=>{}),TB=0;function Xn(t){const[s,r]=p.useState(AB());return Rs(()=>{t||r(n=>n??String(TB++))},[t]),t||(s?`radix-${s}`:"")}const RB=["top","right","bottom","left"],fl=Math.min,sn=Math.max,Rf=Math.round,rp=Math.floor,Ta=t=>({x:t,y:t}),DB={left:"right",right:"left",bottom:"top",top:"bottom"},MB={start:"end",end:"start"};function Oy(t,s,r){return sn(t,fl(s,r))}function bi(t,s){return typeof t=="function"?t(s):t}function yi(t){return t.split("-")[0]}function Ld(t){return t.split("-")[1]}function aw(t){return t==="x"?"y":"x"}function iw(t){return t==="y"?"height":"width"}const OB=new Set(["top","bottom"]);function Sa(t){return OB.has(yi(t))?"y":"x"}function lw(t){return aw(Sa(t))}function IB(t,s,r){r===void 0&&(r=!1);const n=Ld(t),a=lw(t),i=iw(a);let l=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return s.reference[i]>s.floating[i]&&(l=Df(l)),[l,Df(l)]}function FB(t){const s=Df(t);return[Iy(t),s,Iy(s)]}function Iy(t){return t.replace(/start|end/g,s=>MB[s])}const $2=["left","right"],V2=["right","left"],LB=["top","bottom"],zB=["bottom","top"];function UB(t,s,r){switch(t){case"top":case"bottom":return r?s?V2:$2:s?$2:V2;case"left":case"right":return s?LB:zB;default:return[]}}function $B(t,s,r,n){const a=Ld(t);let i=UB(yi(t),r==="start",n);return a&&(i=i.map(l=>l+"-"+a),s&&(i=i.concat(i.map(Iy)))),i}function Df(t){return t.replace(/left|right|bottom|top/g,s=>DB[s])}function VB(t){return{top:0,right:0,bottom:0,left:0,...t}}function hR(t){return typeof t!="number"?VB(t):{top:t,right:t,bottom:t,left:t}}function Mf(t){const{x:s,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:s,right:s+n,bottom:r+a,x:s,y:r}}function B2(t,s,r){let{reference:n,floating:a}=t;const i=Sa(s),l=lw(s),o=iw(l),c=yi(s),d=i==="y",u=n.x+n.width/2-a.width/2,m=n.y+n.height/2-a.height/2,h=n[o]/2-a[o]/2;let f;switch(c){case"top":f={x:u,y:n.y-a.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:m};break;case"left":f={x:n.x-a.width,y:m};break;default:f={x:n.x,y:n.y}}switch(Ld(s)){case"start":f[l]-=h*(r&&d?-1:1);break;case"end":f[l]+=h*(r&&d?-1:1);break}return f}const BB=async(t,s,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:l}=r,o=i.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(s));let d=await l.getElementRects({reference:t,floating:s,strategy:a}),{x:u,y:m}=B2(d,n,c),h=n,f={},b=0;for(let x=0;x<o.length;x++){const{name:v,fn:g}=o[x],{x:y,y:j,data:w,reset:N}=await g({x:u,y:m,initialPlacement:n,placement:h,strategy:a,middlewareData:f,rects:d,platform:l,elements:{reference:t,floating:s}});u=y??u,m=j??m,f={...f,[v]:{...f[v],...w}},N&&b<=50&&(b++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(d=N.rects===!0?await l.getElementRects({reference:t,floating:s,strategy:a}):N.rects),{x:u,y:m}=B2(d,h,c)),x=-1)}return{x:u,y:m,placement:h,strategy:a,middlewareData:f}};async function cm(t,s){var r;s===void 0&&(s={});const{x:n,y:a,platform:i,rects:l,elements:o,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:h=!1,padding:f=0}=bi(s,t),b=hR(f),v=o[h?m==="floating"?"reference":"floating":m],g=Mf(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:d,rootBoundary:u,strategy:c})),y=m==="floating"?{x:n,y:a,width:l.floating.width,height:l.floating.height}:l.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),w=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},N=Mf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:j,strategy:c}):y);return{top:(g.top-N.top+b.top)/w.y,bottom:(N.bottom-g.bottom+b.bottom)/w.y,left:(g.left-N.left+b.left)/w.x,right:(N.right-g.right+b.right)/w.x}}const qB=t=>({name:"arrow",options:t,async fn(s){const{x:r,y:n,placement:a,rects:i,platform:l,elements:o,middlewareData:c}=s,{element:d,padding:u=0}=bi(t,s)||{};if(d==null)return{};const m=hR(u),h={x:r,y:n},f=lw(a),b=iw(f),x=await l.getDimensions(d),v=f==="y",g=v?"top":"left",y=v?"bottom":"right",j=v?"clientHeight":"clientWidth",w=i.reference[b]+i.reference[f]-h[f]-i.floating[b],N=h[f]-i.reference[f],_=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let k=_?_[j]:0;(!k||!await(l.isElement==null?void 0:l.isElement(_)))&&(k=o.floating[j]||i.floating[b]);const S=w/2-N/2,A=k/2-x[b]/2-1,z=fl(m[g],A),re=fl(m[y],A),F=z,B=k-x[b]-re,U=k/2-x[b]/2+S,W=Oy(F,U,B),E=!c.arrow&&Ld(a)!=null&&U!==W&&i.reference[b]/2-(U<F?z:re)-x[b]/2<0,M=E?U<F?U-F:U-B:0;return{[f]:h[f]+M,data:{[f]:W,centerOffset:U-W-M,...E&&{alignmentOffset:M}},reset:E}}}),WB=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var r,n;const{placement:a,middlewareData:i,rects:l,initialPlacement:o,platform:c,elements:d}=s,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...v}=bi(t,s);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=yi(a),y=Sa(o),j=yi(o)===o,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=h||(j||!x?[Df(o)]:FB(o)),_=b!=="none";!h&&_&&N.push(...$B(o,x,b,w));const k=[o,...N],S=await cm(s,v),A=[];let z=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&A.push(S[g]),m){const U=IB(a,l,w);A.push(S[U[0]],S[U[1]])}if(z=[...z,{placement:a,overflows:A}],!A.every(U=>U<=0)){var re,F;const U=(((re=i.flip)==null?void 0:re.index)||0)+1,W=k[U];if(W&&(!(m==="alignment"?y!==Sa(W):!1)||z.every(q=>Sa(q.placement)===y?q.overflows[0]>0:!0)))return{data:{index:U,overflows:z},reset:{placement:W}};let E=(F=z.filter(M=>M.overflows[0]<=0).sort((M,q)=>M.overflows[1]-q.overflows[1])[0])==null?void 0:F.placement;if(!E)switch(f){case"bestFit":{var B;const M=(B=z.filter(q=>{if(_){const R=Sa(q.placement);return R===y||R==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(R=>R>0).reduce((R,ie)=>R+ie,0)]).sort((q,R)=>q[1]-R[1])[0])==null?void 0:B[0];M&&(E=M);break}case"initialPlacement":E=o;break}if(a!==E)return{reset:{placement:E}}}return{}}}};function q2(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function W2(t){return RB.some(s=>t[s]>=0)}const HB=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:r}=s,{strategy:n="referenceHidden",...a}=bi(t,s);switch(n){case"referenceHidden":{const i=await cm(s,{...a,elementContext:"reference"}),l=q2(i,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:W2(l)}}}case"escaped":{const i=await cm(s,{...a,altBoundary:!0}),l=q2(i,r.floating);return{data:{escapedOffsets:l,escaped:W2(l)}}}default:return{}}}}},pR=new Set(["left","top"]);async function KB(t,s){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),l=yi(r),o=Ld(r),c=Sa(r)==="y",d=pR.has(l)?-1:1,u=i&&c?-1:1,m=bi(s,t);let{mainAxis:h,crossAxis:f,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return o&&typeof b=="number"&&(f=o==="end"?b*-1:b),c?{x:f*u,y:h*d}:{x:h*d,y:f*u}}const GB=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var r,n;const{x:a,y:i,placement:l,middlewareData:o}=s,c=await KB(s,t);return l===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:l}}}}},QB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:r,y:n,placement:a}=s,{mainAxis:i=!0,crossAxis:l=!1,limiter:o={fn:v=>{let{x:g,y}=v;return{x:g,y}}},...c}=bi(t,s),d={x:r,y:n},u=await cm(s,c),m=Sa(yi(a)),h=aw(m);let f=d[h],b=d[m];if(i){const v=h==="y"?"top":"left",g=h==="y"?"bottom":"right",y=f+u[v],j=f-u[g];f=Oy(y,f,j)}if(l){const v=m==="y"?"top":"left",g=m==="y"?"bottom":"right",y=b+u[v],j=b-u[g];b=Oy(y,b,j)}const x=o.fn({...s,[h]:f,[m]:b});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[h]:i,[m]:l}}}}}},YB=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:r,y:n,placement:a,rects:i,middlewareData:l}=s,{offset:o=0,mainAxis:c=!0,crossAxis:d=!0}=bi(t,s),u={x:r,y:n},m=Sa(a),h=aw(m);let f=u[h],b=u[m];const x=bi(o,s),v=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const j=h==="y"?"height":"width",w=i.reference[h]-i.floating[j]+v.mainAxis,N=i.reference[h]+i.reference[j]-v.mainAxis;f<w?f=w:f>N&&(f=N)}if(d){var g,y;const j=h==="y"?"width":"height",w=pR.has(yi(a)),N=i.reference[m]-i.floating[j]+(w&&((g=l.offset)==null?void 0:g[m])||0)+(w?0:v.crossAxis),_=i.reference[m]+i.reference[j]+(w?0:((y=l.offset)==null?void 0:y[m])||0)-(w?v.crossAxis:0);b<N?b=N:b>_&&(b=_)}return{[h]:f,[m]:b}}}},ZB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var r,n;const{placement:a,rects:i,platform:l,elements:o}=s,{apply:c=()=>{},...d}=bi(t,s),u=await cm(s,d),m=yi(a),h=Ld(a),f=Sa(a)==="y",{width:b,height:x}=i.floating;let v,g;m==="top"||m==="bottom"?(v=m,g=h===(await(l.isRTL==null?void 0:l.isRTL(o.floating))?"start":"end")?"left":"right"):(g=m,v=h==="end"?"top":"bottom");const y=x-u.top-u.bottom,j=b-u.left-u.right,w=fl(x-u[v],y),N=fl(b-u[g],j),_=!s.middlewareData.shift;let k=w,S=N;if((r=s.middlewareData.shift)!=null&&r.enabled.x&&(S=j),(n=s.middlewareData.shift)!=null&&n.enabled.y&&(k=y),_&&!h){const z=sn(u.left,0),re=sn(u.right,0),F=sn(u.top,0),B=sn(u.bottom,0);f?S=b-2*(z!==0||re!==0?z+re:sn(u.left,u.right)):k=x-2*(F!==0||B!==0?F+B:sn(u.top,u.bottom))}await c({...s,availableWidth:S,availableHeight:k});const A=await l.getDimensions(o.floating);return b!==A.width||x!==A.height?{reset:{rects:!0}}:{}}}};function eg(){return typeof window<"u"}function zd(t){return fR(t)?(t.nodeName||"").toLowerCase():"#document"}function an(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function qa(t){var s;return(s=(fR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function fR(t){return eg()?t instanceof Node||t instanceof an(t).Node:!1}function ra(t){return eg()?t instanceof Element||t instanceof an(t).Element:!1}function Ia(t){return eg()?t instanceof HTMLElement||t instanceof an(t).HTMLElement:!1}function H2(t){return!eg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof an(t).ShadowRoot}const XB=new Set(["inline","contents"]);function ph(t){const{overflow:s,overflowX:r,overflowY:n,display:a}=na(t);return/auto|scroll|overlay|hidden|clip/.test(s+n+r)&&!XB.has(a)}const JB=new Set(["table","td","th"]);function eq(t){return JB.has(zd(t))}const tq=[":popover-open",":modal"];function tg(t){return tq.some(s=>{try{return t.matches(s)}catch{return!1}})}const sq=["transform","translate","scale","rotate","perspective"],rq=["transform","translate","scale","rotate","perspective","filter"],nq=["paint","layout","strict","content"];function ow(t){const s=cw(),r=ra(t)?na(t):t;return sq.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!s&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!s&&(r.filter?r.filter!=="none":!1)||rq.some(n=>(r.willChange||"").includes(n))||nq.some(n=>(r.contain||"").includes(n))}function aq(t){let s=xl(t);for(;Ia(s)&&!vd(s);){if(ow(s))return s;if(tg(s))return null;s=xl(s)}return null}function cw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const iq=new Set(["html","body","#document"]);function vd(t){return iq.has(zd(t))}function na(t){return an(t).getComputedStyle(t)}function sg(t){return ra(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function xl(t){if(zd(t)==="html")return t;const s=t.assignedSlot||t.parentNode||H2(t)&&t.host||qa(t);return H2(s)?s.host:s}function xR(t){const s=xl(t);return vd(s)?t.ownerDocument?t.ownerDocument.body:t.body:Ia(s)&&ph(s)?s:xR(s)}function dm(t,s,r){var n;s===void 0&&(s=[]),r===void 0&&(r=!0);const a=xR(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),l=an(a);if(i){const o=Fy(l);return s.concat(l,l.visualViewport||[],ph(a)?a:[],o&&r?dm(o):[])}return s.concat(a,dm(a,[],r))}function Fy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function gR(t){const s=na(t);let r=parseFloat(s.width)||0,n=parseFloat(s.height)||0;const a=Ia(t),i=a?t.offsetWidth:r,l=a?t.offsetHeight:n,o=Rf(r)!==i||Rf(n)!==l;return o&&(r=i,n=l),{width:r,height:n,$:o}}function dw(t){return ra(t)?t:t.contextElement}function Nc(t){const s=dw(t);if(!Ia(s))return Ta(1);const r=s.getBoundingClientRect(),{width:n,height:a,$:i}=gR(s);let l=(i?Rf(r.width):r.width)/n,o=(i?Rf(r.height):r.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!o||!Number.isFinite(o))&&(o=1),{x:l,y:o}}const lq=Ta(0);function bR(t){const s=an(t);return!cw()||!s.visualViewport?lq:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function oq(t,s,r){return s===void 0&&(s=!1),!r||s&&r!==an(t)?!1:s}function _o(t,s,r,n){s===void 0&&(s=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=dw(t);let l=Ta(1);s&&(n?ra(n)&&(l=Nc(n)):l=Nc(t));const o=oq(i,r,n)?bR(i):Ta(0);let c=(a.left+o.x)/l.x,d=(a.top+o.y)/l.y,u=a.width/l.x,m=a.height/l.y;if(i){const h=an(i),f=n&&ra(n)?an(n):n;let b=h,x=Fy(b);for(;x&&n&&f!==b;){const v=Nc(x),g=x.getBoundingClientRect(),y=na(x),j=g.left+(x.clientLeft+parseFloat(y.paddingLeft))*v.x,w=g.top+(x.clientTop+parseFloat(y.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,m*=v.y,c+=j,d+=w,b=an(x),x=Fy(b)}}return Mf({width:u,height:m,x:c,y:d})}function rg(t,s){const r=sg(t).scrollLeft;return s?s.left+r:_o(qa(t)).left+r}function yR(t,s){const r=t.getBoundingClientRect(),n=r.left+s.scrollLeft-rg(t,r),a=r.top+s.scrollTop;return{x:n,y:a}}function cq(t){let{elements:s,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",l=qa(n),o=s?tg(s.floating):!1;if(n===l||o&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Ta(1);const u=Ta(0),m=Ia(n);if((m||!m&&!i)&&((zd(n)!=="body"||ph(l))&&(c=sg(n)),Ia(n))){const f=_o(n);d=Nc(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}const h=l&&!m&&!i?yR(l,c):Ta(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+h.x,y:r.y*d.y-c.scrollTop*d.y+u.y+h.y}}function dq(t){return Array.from(t.getClientRects())}function uq(t){const s=qa(t),r=sg(t),n=t.ownerDocument.body,a=sn(s.scrollWidth,s.clientWidth,n.scrollWidth,n.clientWidth),i=sn(s.scrollHeight,s.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+rg(t);const o=-r.scrollTop;return na(n).direction==="rtl"&&(l+=sn(s.clientWidth,n.clientWidth)-a),{width:a,height:i,x:l,y:o}}const K2=25;function mq(t,s){const r=an(t),n=qa(t),a=r.visualViewport;let i=n.clientWidth,l=n.clientHeight,o=0,c=0;if(a){i=a.width,l=a.height;const u=cw();(!u||u&&s==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}const d=rg(n);if(d<=0){const u=n.ownerDocument,m=u.body,h=getComputedStyle(m),f=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,b=Math.abs(n.clientWidth-m.clientWidth-f);b<=K2&&(i-=b)}else d<=K2&&(i+=d);return{width:i,height:l,x:o,y:c}}const hq=new Set(["absolute","fixed"]);function pq(t,s){const r=_o(t,!0,s==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=Ia(t)?Nc(t):Ta(1),l=t.clientWidth*i.x,o=t.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:l,height:o,x:c,y:d}}function G2(t,s,r){let n;if(s==="viewport")n=mq(t,r);else if(s==="document")n=uq(qa(t));else if(ra(s))n=pq(s,r);else{const a=bR(t);n={x:s.x-a.x,y:s.y-a.y,width:s.width,height:s.height}}return Mf(n)}function vR(t,s){const r=xl(t);return r===s||!ra(r)||vd(r)?!1:na(r).position==="fixed"||vR(r,s)}function fq(t,s){const r=s.get(t);if(r)return r;let n=dm(t,[],!1).filter(o=>ra(o)&&zd(o)!=="body"),a=null;const i=na(t).position==="fixed";let l=i?xl(t):t;for(;ra(l)&&!vd(l);){const o=na(l),c=ow(l);!c&&o.position==="fixed"&&(a=null),(i?!c&&!a:!c&&o.position==="static"&&!!a&&hq.has(a.position)||ph(l)&&!c&&vR(t,l))?n=n.filter(u=>u!==l):a=o,l=xl(l)}return s.set(t,n),n}function xq(t){let{element:s,boundary:r,rootBoundary:n,strategy:a}=t;const l=[...r==="clippingAncestors"?tg(s)?[]:fq(s,this._c):[].concat(r),n],o=l[0],c=l.reduce((d,u)=>{const m=G2(s,u,a);return d.top=sn(m.top,d.top),d.right=fl(m.right,d.right),d.bottom=fl(m.bottom,d.bottom),d.left=sn(m.left,d.left),d},G2(s,o,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function gq(t){const{width:s,height:r}=gR(t);return{width:s,height:r}}function bq(t,s,r){const n=Ia(s),a=qa(s),i=r==="fixed",l=_o(t,!0,i,s);let o={scrollLeft:0,scrollTop:0};const c=Ta(0);function d(){c.x=rg(a)}if(n||!n&&!i)if((zd(s)!=="body"||ph(a))&&(o=sg(s)),n){const f=_o(s,!0,i,s);c.x=f.x+s.clientLeft,c.y=f.y+s.clientTop}else a&&d();i&&!n&&a&&d();const u=a&&!n&&!i?yR(a,o):Ta(0),m=l.left+o.scrollLeft-c.x-u.x,h=l.top+o.scrollTop-c.y-u.y;return{x:m,y:h,width:l.width,height:l.height}}function v0(t){return na(t).position==="static"}function Q2(t,s){if(!Ia(t)||na(t).position==="fixed")return null;if(s)return s(t);let r=t.offsetParent;return qa(t)===r&&(r=r.ownerDocument.body),r}function jR(t,s){const r=an(t);if(tg(t))return r;if(!Ia(t)){let a=xl(t);for(;a&&!vd(a);){if(ra(a)&&!v0(a))return a;a=xl(a)}return r}let n=Q2(t,s);for(;n&&eq(n)&&v0(n);)n=Q2(n,s);return n&&vd(n)&&v0(n)&&!ow(n)?r:n||aq(t)||r}const yq=async function(t){const s=this.getOffsetParent||jR,r=this.getDimensions,n=await r(t.floating);return{reference:bq(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function vq(t){return na(t).direction==="rtl"}const jq={convertOffsetParentRelativeRectToViewportRelativeRect:cq,getDocumentElement:qa,getClippingRect:xq,getOffsetParent:jR,getElementRects:yq,getClientRects:dq,getDimensions:gq,getScale:Nc,isElement:ra,isRTL:vq};function wR(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function wq(t,s){let r=null,n;const a=qa(t);function i(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function l(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:u,top:m,width:h,height:f}=d;if(o||s(),!h||!f)return;const b=rp(m),x=rp(a.clientWidth-(u+h)),v=rp(a.clientHeight-(m+f)),g=rp(u),j={rootMargin:-b+"px "+-x+"px "+-v+"px "+-g+"px",threshold:sn(0,fl(1,c))||1};let w=!0;function N(_){const k=_[0].intersectionRatio;if(k!==c){if(!w)return l();k?l(!1,k):n=setTimeout(()=>{l(!1,1e-7)},1e3)}k===1&&!wR(d,t.getBoundingClientRect())&&l(),w=!1}try{r=new IntersectionObserver(N,{...j,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,j)}r.observe(t)}return l(!0),i}function Nq(t,s,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=dw(t),u=a||i?[...d?dm(d):[],...dm(s)]:[];u.forEach(g=>{a&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const m=d&&o?wq(d,r):null;let h=-1,f=null;l&&(f=new ResizeObserver(g=>{let[y]=g;y&&y.target===d&&f&&(f.unobserve(s),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var j;(j=f)==null||j.observe(s)})),r()}),d&&!c&&f.observe(d),f.observe(s));let b,x=c?_o(t):null;c&&v();function v(){const g=_o(t);x&&!wR(x,g)&&r(),x=g,b=requestAnimationFrame(v)}return r(),()=>{var g;u.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),m==null||m(),(g=f)==null||g.disconnect(),f=null,c&&cancelAnimationFrame(b)}}const Cq=GB,Sq=QB,_q=WB,kq=ZB,Pq=HB,Y2=qB,Eq=YB,Aq=(t,s,r)=>{const n=new Map,a={platform:jq,...r},i={...a.platform,_c:n};return BB(t,s,{...a,platform:i})};var Tq=typeof document<"u",Rq=function(){},Vp=Tq?p.useLayoutEffect:Rq;function Of(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let r,n,a;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==s.length)return!1;for(n=r;n--!==0;)if(!Of(t[n],s[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(s).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(s,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!Of(t[i],s[i]))return!1}return!0}return t!==t&&s!==s}function NR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Z2(t,s){const r=NR(t);return Math.round(s*r)/r}function j0(t){const s=p.useRef(t);return Vp(()=>{s.current=t}),s}function Dq(t){t===void 0&&(t={});const{placement:s="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:l}={},transform:o=!0,whileElementsMounted:c,open:d}=t,[u,m]=p.useState({x:0,y:0,strategy:r,placement:s,middlewareData:{},isPositioned:!1}),[h,f]=p.useState(n);Of(h,n)||f(n);const[b,x]=p.useState(null),[v,g]=p.useState(null),y=p.useCallback(q=>{q!==_.current&&(_.current=q,x(q))},[]),j=p.useCallback(q=>{q!==k.current&&(k.current=q,g(q))},[]),w=i||b,N=l||v,_=p.useRef(null),k=p.useRef(null),S=p.useRef(u),A=c!=null,z=j0(c),re=j0(a),F=j0(d),B=p.useCallback(()=>{if(!_.current||!k.current)return;const q={placement:s,strategy:r,middleware:h};re.current&&(q.platform=re.current),Aq(_.current,k.current,q).then(R=>{const ie={...R,isPositioned:F.current!==!1};U.current&&!Of(S.current,ie)&&(S.current=ie,Pl.flushSync(()=>{m(ie)}))})},[h,s,r,re,F]);Vp(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,m(q=>({...q,isPositioned:!1})))},[d]);const U=p.useRef(!1);Vp(()=>(U.current=!0,()=>{U.current=!1}),[]),Vp(()=>{if(w&&(_.current=w),N&&(k.current=N),w&&N){if(z.current)return z.current(w,N,B);B()}},[w,N,B,z,A]);const W=p.useMemo(()=>({reference:_,floating:k,setReference:y,setFloating:j}),[y,j]),E=p.useMemo(()=>({reference:w,floating:N}),[w,N]),M=p.useMemo(()=>{const q={position:r,left:0,top:0};if(!E.floating)return q;const R=Z2(E.floating,u.x),ie=Z2(E.floating,u.y);return o?{...q,transform:"translate("+R+"px, "+ie+"px)",...NR(E.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:ie}},[r,o,E.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:B,refs:W,elements:E,floatingStyles:M}),[u,B,W,E,M])}const Mq=t=>{function s(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&s(n)?n.current!=null?Y2({element:n.current,padding:a}).fn(r):{}:n?Y2({element:n,padding:a}).fn(r):{}}}},Oq=(t,s)=>({...Cq(t),options:[t,s]}),Iq=(t,s)=>({...Sq(t),options:[t,s]}),Fq=(t,s)=>({...Eq(t),options:[t,s]}),Lq=(t,s)=>({..._q(t),options:[t,s]}),zq=(t,s)=>({...kq(t),options:[t,s]}),Uq=(t,s)=>({...Pq(t),options:[t,s]}),$q=(t,s)=>({...Mq(t),options:[t,s]});var Vq="Arrow",CR=p.forwardRef((t,s)=>{const{children:r,width:n=10,height:a=5,...i}=t;return e.jsx(Qe.svg,{...i,ref:s,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});CR.displayName=Vq;var Bq=CR;function ng(t){const[s,r]=p.useState(void 0);return Rs(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let l,o;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;l=d.inlineSize,o=d.blockSize}else l=t.offsetWidth,o=t.offsetHeight;r({width:l,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),s}var uw="Popper",[SR,Ud]=Gs(uw),[qq,_R]=SR(uw),kR=t=>{const{__scopePopper:s,children:r}=t,[n,a]=p.useState(null);return e.jsx(qq,{scope:s,anchor:n,onAnchorChange:a,children:r})};kR.displayName=uw;var PR="PopperAnchor",ER=p.forwardRef((t,s)=>{const{__scopePopper:r,virtualRef:n,...a}=t,i=_R(PR,r),l=p.useRef(null),o=Nt(s,l);return p.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:e.jsx(Qe.div,{...a,ref:o})});ER.displayName=PR;var mw="PopperContent",[Wq,Hq]=SR(mw),AR=p.forwardRef((t,s)=>{var ce,Ze,rt,We,ze,he;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:l=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:b,...x}=t,v=_R(mw,r),[g,y]=p.useState(null),j=Nt(s,be=>y(be)),[w,N]=p.useState(null),_=ng(w),k=(_==null?void 0:_.width)??0,S=(_==null?void 0:_.height)??0,A=n+(i!=="center"?"-"+i:""),z=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},re=Array.isArray(d)?d:[d],F=re.length>0,B={padding:z,boundary:re.filter(Gq),altBoundary:F},{refs:U,floatingStyles:W,placement:E,isPositioned:M,middlewareData:q}=Dq({strategy:"fixed",placement:A,whileElementsMounted:(...be)=>Nq(...be,{animationFrame:f==="always"}),elements:{reference:v.anchor},middleware:[Oq({mainAxis:a+S,alignmentAxis:l}),c&&Iq({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Fq():void 0,...B}),c&&Lq({...B}),zq({...B,apply:({elements:be,rects:ct,availableWidth:bt,availableHeight:zt})=>{const{width:ks,height:ca}=ct.reference,ls=be.floating.style;ls.setProperty("--radix-popper-available-width",`${bt}px`),ls.setProperty("--radix-popper-available-height",`${zt}px`),ls.setProperty("--radix-popper-anchor-width",`${ks}px`),ls.setProperty("--radix-popper-anchor-height",`${ca}px`)}}),w&&$q({element:w,padding:o}),Qq({arrowWidth:k,arrowHeight:S}),h&&Uq({strategy:"referenceHidden",...B})]}),[R,ie]=DR(E),O=rr(b);Rs(()=>{M&&(O==null||O())},[M,O]);const te=(ce=q.arrow)==null?void 0:ce.x,se=(Ze=q.arrow)==null?void 0:Ze.y,Te=((rt=q.arrow)==null?void 0:rt.centerOffset)!==0,[Ke,ot]=p.useState();return Rs(()=>{g&&ot(window.getComputedStyle(g).zIndex)},[g]),e.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:M?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ke,"--radix-popper-transform-origin":[(We=q.transformOrigin)==null?void 0:We.x,(ze=q.transformOrigin)==null?void 0:ze.y].join(" "),...((he=q.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(Wq,{scope:r,placedSide:R,onArrowChange:N,arrowX:te,arrowY:se,shouldHideArrow:Te,children:e.jsx(Qe.div,{"data-side":R,"data-align":ie,...x,ref:j,style:{...x.style,animation:M?void 0:"none"}})})})});AR.displayName=mw;var TR="PopperArrow",Kq={top:"bottom",right:"left",bottom:"top",left:"right"},RR=p.forwardRef(function(s,r){const{__scopePopper:n,...a}=s,i=Hq(TR,n),l=Kq[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(Bq,{...a,ref:r,style:{...a.style,display:"block"}})})});RR.displayName=TR;function Gq(t){return t!==null}var Qq=t=>({name:"transformOrigin",options:t,fn(s){var v,g,y;const{placement:r,rects:n,middlewareData:a}=s,l=((v=a.arrow)==null?void 0:v.centerOffset)!==0,o=l?0:t.arrowWidth,c=l?0:t.arrowHeight,[d,u]=DR(r),m={start:"0%",center:"50%",end:"100%"}[u],h=(((g=a.arrow)==null?void 0:g.x)??0)+o/2,f=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let b="",x="";return d==="bottom"?(b=l?m:`${h}px`,x=`${-c}px`):d==="top"?(b=l?m:`${h}px`,x=`${n.floating.height+c}px`):d==="right"?(b=`${-c}px`,x=l?m:`${f}px`):d==="left"&&(b=`${n.floating.width+c}px`,x=l?m:`${f}px`),{data:{x:b,y:x}}}});function DR(t){const[s,r="center"]=t.split("-");return[s,r]}var MR=kR,hw=ER,pw=AR,fw=RR,[ag,Boe]=Gs("Tooltip",[Ud]),xw=Ud(),OR="TooltipProvider",Yq=700,X2="tooltip.open",[Zq,IR]=ag(OR),FR=t=>{const{__scopeTooltip:s,delayDuration:r=Yq,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=t,l=p.useRef(!0),o=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),e.jsx(Zq,{scope:s,isOpenDelayedRef:l,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),l.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:p.useCallback(d=>{o.current=d},[]),disableHoverableContent:a,children:i})};FR.displayName=OR;var LR="Tooltip",[qoe,ig]=ag(LR),Ly="TooltipTrigger",Xq=p.forwardRef((t,s)=>{const{__scopeTooltip:r,...n}=t,a=ig(Ly,r),i=IR(Ly,r),l=xw(r),o=p.useRef(null),c=Nt(s,o,a.onTriggerChange),d=p.useRef(!1),u=p.useRef(!1),m=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),e.jsx(hw,{asChild:!0,...l,children:e.jsx(Qe.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:ke(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:ke(t.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:ke(t.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ke(t.onFocus,()=>{d.current||a.onOpen()}),onBlur:ke(t.onBlur,a.onClose),onClick:ke(t.onClick,a.onClose)})})});Xq.displayName=Ly;var Jq="TooltipPortal",[Woe,eW]=ag(Jq,{forceMount:void 0}),jd="TooltipContent",zR=p.forwardRef((t,s)=>{const r=eW(jd,t.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=t,l=ig(jd,t.__scopeTooltip);return e.jsx(Yr,{present:n||l.open,children:l.disableHoverableContent?e.jsx(UR,{side:a,...i,ref:s}):e.jsx(tW,{side:a,...i,ref:s})})}),tW=p.forwardRef((t,s)=>{const r=ig(jd,t.__scopeTooltip),n=IR(jd,t.__scopeTooltip),a=p.useRef(null),i=Nt(s,a),[l,o]=p.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:m}=n,h=p.useCallback(()=>{o(null),m(!1)},[m]),f=p.useCallback((b,x)=>{const v=b.currentTarget,g={x:b.clientX,y:b.clientY},y=iW(g,v.getBoundingClientRect()),j=lW(g,y),w=oW(x.getBoundingClientRect()),N=dW([...j,...w]);o(N),m(!0)},[m]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&u){const b=v=>f(v,u),x=v=>f(v,c);return c.addEventListener("pointerleave",b),u.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",b),u.removeEventListener("pointerleave",x)}}},[c,u,f,h]),p.useEffect(()=>{if(l){const b=x=>{const v=x.target,g={x:x.clientX,y:x.clientY},y=(c==null?void 0:c.contains(v))||(u==null?void 0:u.contains(v)),j=!cW(g,l);y?h():j&&(h(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,u,l,d,h]),e.jsx(UR,{...t,ref:i})}),[sW,rW]=ag(LR,{isInside:!1}),nW=NT("TooltipContent"),UR=p.forwardRef((t,s)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:l,...o}=t,c=ig(jd,r),d=xw(r),{onClose:u}=c;return p.useEffect(()=>(document.addEventListener(X2,u),()=>document.removeEventListener(X2,u)),[u]),p.useEffect(()=>{if(c.trigger){const m=h=>{const f=h.target;f!=null&&f.contains(c.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,u]),e.jsx(Id,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:e.jsxs(pw,{"data-state":c.stateAttribute,...d,...o,ref:s,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(nW,{children:n}),e.jsx(sW,{scope:r,isInside:!0,children:e.jsx(a9,{id:c.contentId,role:"tooltip",children:a||n})})]})})});zR.displayName=jd;var $R="TooltipArrow",aW=p.forwardRef((t,s)=>{const{__scopeTooltip:r,...n}=t,a=xw(r);return rW($R,r).isInside?null:e.jsx(fw,{...a,...n,ref:s})});aW.displayName=$R;function iW(t,s){const r=Math.abs(s.top-t.y),n=Math.abs(s.bottom-t.y),a=Math.abs(s.right-t.x),i=Math.abs(s.left-t.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function lW(t,s,r=5){const n=[];switch(s){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function oW(t){const{top:s,right:r,bottom:n,left:a}=t;return[{x:a,y:s},{x:r,y:s},{x:r,y:n},{x:a,y:n}]}function cW(t,s){const{x:r,y:n}=t;let a=!1;for(let i=0,l=s.length-1;i<s.length;l=i++){const o=s[i].x,c=s[i].y,d=s[l].x,u=s[l].y;c>n!=u>n&&r<(d-o)*(n-c)/(u-c)+o&&(a=!a)}return a}function dW(t){const s=t.slice();return s.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),uW(s)}function uW(t){if(t.length<=1)return t.slice();const s=[];for(let n=0;n<t.length;n++){const a=t[n];for(;s.length>=2;){const i=s[s.length-1],l=s[s.length-2];if((i.x-l.x)*(a.y-l.y)>=(i.y-l.y)*(a.x-l.x))s.pop();else break}s.push(a)}s.pop();const r=[];for(let n=t.length-1;n>=0;n--){const a=t[n];for(;r.length>=2;){const i=r[r.length-1],l=r[r.length-2];if((i.x-l.x)*(a.y-l.y)>=(i.y-l.y)*(a.x-l.x))r.pop();else break}r.push(a)}return r.pop(),s.length===1&&r.length===1&&s[0].x===r[0].x&&s[0].y===r[0].y?s:s.concat(r)}var mW=FR,VR=zR;const hW=mW,pW=p.forwardRef(({className:t,sideOffset:s=4,...r},n)=>e.jsx(VR,{ref:n,sideOffset:s,className:ye("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));pW.displayName=VR.displayName;const gw=p.createContext(null);function fW({children:t}){const{toast:s}=tt(),{data:r,error:n,isLoading:a}=Ge({queryKey:["/api/user"],queryFn:jT({on401:"returnNull"}),refetchOnMount:!0,refetchOnWindowFocus:!1,staleTime:0,retry:!1});console.log("[AuthProvider] State:",{user:r,isLoading:a,error:n});const i=$e({mutationFn:async c=>await(await Be("POST","/api/login",c)).json(),onSuccess:c=>{st.setQueryData(["/api/user"],c),s({title:"Login successful",description:"Welcome back!"})},onError:c=>{s({title:"Login failed",description:c.message||"Please check your credentials and try again.",variant:"destructive"})}}),l=$e({mutationFn:async c=>await(await Be("POST","/api/register",c)).json(),onSuccess:c=>{st.setQueryData(["/api/user"],c)},onError:c=>{s({title:"Registration failed",description:c.message,variant:"destructive"})}}),o=$e({mutationFn:async()=>{await Be("POST","/api/logout")},onSuccess:()=>{st.setQueryData(["/api/user"],null)},onError:c=>{s({title:"Logout failed",description:c.message,variant:"destructive"})}});return e.jsx(gw.Provider,{value:{user:r??null,isLoading:a,error:n,loginMutation:i,logoutMutation:o,registerMutation:l},children:t})}function St(){const t=p.useContext(gw);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const BR=p.createContext(null);function xW({children:t}){const{toast:s}=tt(),r=()=>{try{const m=localStorage.getItem("currentApplicant");return m?JSON.parse(m):null}catch{return null}},n=m=>{m?localStorage.setItem("currentApplicant",JSON.stringify(m)):localStorage.removeItem("currentApplicant")},{data:a,error:i,isLoading:l}=Ge({queryKey:["/applicant/current"],queryFn:()=>Promise.resolve(r()),staleTime:1/0}),o=$e({mutationFn:async m=>{const f=await(await Be("POST","/api/applicants/login",m)).json();if(f.success)return f.applicant;throw new Error(f.error||"Login failed")},onSuccess:m=>{n(m),st.setQueryData(["/applicant/current"],m);const h=m.firstName&&m.surname?`${m.firstName} ${m.surname}`:m.email;s({title:"Login successful",description:`Welcome back, ${h}!`})},onError:m=>{s({title:"Login failed",description:m.message||"Please check your credentials and try again.",variant:"destructive"})}}),c=$e({mutationFn:async m=>await(await Be("POST",`/api/applicants/${m.applicantId}/save-draft`,{applicationData:m.applicationData})).json(),onSuccess:m=>{s({title:"Draft saved",description:"Your application progress has been saved successfully."})},onError:m=>{s({title:"Save failed",description:m.message||"Failed to save your application draft.",variant:"destructive"})}}),u={applicant:a||null,isLoading:l,error:i,loginMutation:o,saveDraftMutation:c,loadDraftQuery:m=>Ge({queryKey:["/applicant/draft",m],queryFn:async()=>await(await Be("GET",`/api/applicants/${m}/load-draft`)).json(),enabled:!!m,staleTime:30*1e3})};return e.jsx(BR.Provider,{value:u,children:t})}function lg(){const t=p.useContext(BR);if(!t)throw new Error("useApplicantAuth must be used within an ApplicantAuthProvider");return t}var w0="focusScope.autoFocusOnMount",N0="focusScope.autoFocusOnUnmount",J2={bubbles:!1,cancelable:!0},gW="FocusScope",og=p.forwardRef((t,s)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...l}=t,[o,c]=p.useState(null),d=rr(a),u=rr(i),m=p.useRef(null),h=Nt(s,x=>c(x)),f=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let x=function(j){if(f.paused||!o)return;const w=j.target;o.contains(w)?m.current=w:Ri(m.current,{select:!0})},v=function(j){if(f.paused||!o)return;const w=j.relatedTarget;w!==null&&(o.contains(w)||Ri(m.current,{select:!0}))},g=function(j){if(document.activeElement===document.body)for(const N of j)N.removedNodes.length>0&&Ri(o)};document.addEventListener("focusin",x),document.addEventListener("focusout",v);const y=new MutationObserver(g);return o&&y.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",v),y.disconnect()}}},[n,o,f.paused]),p.useEffect(()=>{if(o){tC.add(f);const x=document.activeElement;if(!o.contains(x)){const g=new CustomEvent(w0,J2);o.addEventListener(w0,d),o.dispatchEvent(g),g.defaultPrevented||(bW(NW(qR(o)),{select:!0}),document.activeElement===x&&Ri(o))}return()=>{o.removeEventListener(w0,d),setTimeout(()=>{const g=new CustomEvent(N0,J2);o.addEventListener(N0,u),o.dispatchEvent(g),g.defaultPrevented||Ri(x??document.body,{select:!0}),o.removeEventListener(N0,u),tC.remove(f)},0)}}},[o,d,u,f]);const b=p.useCallback(x=>{if(!r&&!n||f.paused)return;const v=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(v&&g){const y=x.currentTarget,[j,w]=yW(y);j&&w?!x.shiftKey&&g===w?(x.preventDefault(),r&&Ri(j,{select:!0})):x.shiftKey&&g===j&&(x.preventDefault(),r&&Ri(w,{select:!0})):g===y&&x.preventDefault()}},[r,n,f.paused]);return e.jsx(Qe.div,{tabIndex:-1,...l,ref:h,onKeyDown:b})});og.displayName=gW;function bW(t,{select:s=!1}={}){const r=document.activeElement;for(const n of t)if(Ri(n,{select:s}),document.activeElement!==r)return}function yW(t){const s=qR(t),r=eC(s,t),n=eC(s.reverse(),t);return[r,n]}function qR(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function eC(t,s){for(const r of t)if(!vW(r,{upTo:s}))return r}function vW(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function jW(t){return t instanceof HTMLInputElement&&"select"in t}function Ri(t,{select:s=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&jW(t)&&s&&t.select()}}var tC=wW();function wW(){let t=[];return{add(s){const r=t[0];s!==r&&(r==null||r.pause()),t=sC(t,s),t.unshift(s)},remove(s){var r;t=sC(t,s),(r=t[0])==null||r.resume()}}}function sC(t,s){const r=[...t],n=r.indexOf(s);return n!==-1&&r.splice(n,1),r}function NW(t){return t.filter(s=>s.tagName!=="A")}var C0=0;function bw(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??rC()),document.body.insertAdjacentElement("beforeend",t[1]??rC()),C0++,()=>{C0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),C0--}},[])}function rC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ca=function(){return Ca=Object.assign||function(s){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=r[i])}return s},Ca.apply(this,arguments)};function WR(t,s){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function CW(t,s,r){if(r||arguments.length===2)for(var n=0,a=s.length,i;n<a;n++)(i||!(n in s))&&(i||(i=Array.prototype.slice.call(s,0,n)),i[n]=s[n]);return t.concat(i||Array.prototype.slice.call(s))}var Bp="right-scroll-bar-position",qp="width-before-scroll-bar",SW="with-scroll-bars-hidden",_W="--removed-body-scroll-bar-size";function S0(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function kW(t,s){var r=p.useState(function(){return{value:t,callback:s,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=s,r.facade}var PW=typeof window<"u"?p.useLayoutEffect:p.useEffect,nC=new WeakMap;function EW(t,s){var r=kW(null,function(n){return t.forEach(function(a){return S0(a,n)})});return PW(function(){var n=nC.get(r);if(n){var a=new Set(n),i=new Set(t),l=r.current;a.forEach(function(o){i.has(o)||S0(o,null)}),i.forEach(function(o){a.has(o)||S0(o,l)})}nC.set(r,t)},[t]),r}function AW(t){return t}function TW(t,s){s===void 0&&(s=AW);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var l=s(i,n);return r.push(l),function(){r=r.filter(function(o){return o!==l})}},assignSyncMedium:function(i){for(n=!0;r.length;){var l=r;r=[],l.forEach(i)}r={push:function(o){return i(o)},filter:function(){return r}}},assignMedium:function(i){n=!0;var l=[];if(r.length){var o=r;r=[],o.forEach(i),l=r}var c=function(){var u=l;l=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){l.push(u),d()},filter:function(u){return l=l.filter(u),r}}}};return a}function RW(t){t===void 0&&(t={});var s=TW(null);return s.options=Ca({async:!0,ssr:!1},t),s}var HR=function(t){var s=t.sideCar,r=WR(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=s.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,Ca({},r))};HR.isSideCarExport=!0;function DW(t,s){return t.useMedium(s),HR}var KR=RW(),_0=function(){},cg=p.forwardRef(function(t,s){var r=p.useRef(null),n=p.useState({onScrollCapture:_0,onWheelCapture:_0,onTouchMoveCapture:_0}),a=n[0],i=n[1],l=t.forwardProps,o=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,m=t.shards,h=t.sideCar,f=t.noIsolation,b=t.inert,x=t.allowPinchZoom,v=t.as,g=v===void 0?"div":v,y=t.gapMode,j=WR(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,N=EW([r,s]),_=Ca(Ca({},j),a);return p.createElement(p.Fragment,null,u&&p.createElement(w,{sideCar:KR,removeScrollBar:d,shards:m,noIsolation:f,inert:b,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:y}),l?p.cloneElement(p.Children.only(o),Ca(Ca({},_),{ref:N})):p.createElement(g,Ca({},_,{className:c,ref:N}),o))});cg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};cg.classNames={fullWidth:qp,zeroRight:Bp};var MW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function OW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=MW();return s&&t.setAttribute("nonce",s),t}function IW(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function FW(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var LW=function(){var t=0,s=null;return{add:function(r){t==0&&(s=OW())&&(IW(s,r),FW(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},zW=function(){var t=LW();return function(s,r){p.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&r])}},GR=function(){var t=zW(),s=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return s},UW={left:0,top:0,right:0,gap:0},k0=function(t){return parseInt(t||"",10)||0},$W=function(t){var s=window.getComputedStyle(document.body),r=s[t==="padding"?"paddingLeft":"marginLeft"],n=s[t==="padding"?"paddingTop":"marginTop"],a=s[t==="padding"?"paddingRight":"marginRight"];return[k0(r),k0(n),k0(a)]},VW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return UW;var s=$W(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,n-r+s[2]-s[0])}},BW=GR(),Cc="data-scroll-locked",qW=function(t,s,r,n){var a=t.left,i=t.top,l=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(SW,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Cc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bp,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(qp,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Bp," .").concat(Bp,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(qp," .").concat(qp,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Cc,`] {
    `).concat(_W,": ").concat(o,`px;
  }
`)},aC=function(){var t=parseInt(document.body.getAttribute(Cc)||"0",10);return isFinite(t)?t:0},WW=function(){p.useEffect(function(){return document.body.setAttribute(Cc,(aC()+1).toString()),function(){var t=aC()-1;t<=0?document.body.removeAttribute(Cc):document.body.setAttribute(Cc,t.toString())}},[])},HW=function(t){var s=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;WW();var i=p.useMemo(function(){return VW(a)},[a]);return p.createElement(BW,{styles:qW(i,!s,a,r?"":"!important")})},zy=!1;if(typeof window<"u")try{var np=Object.defineProperty({},"passive",{get:function(){return zy=!0,!0}});window.addEventListener("test",np,np),window.removeEventListener("test",np,np)}catch{zy=!1}var Vo=zy?{passive:!1}:!1,KW=function(t){return t.tagName==="TEXTAREA"},QR=function(t,s){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[s]!=="hidden"&&!(r.overflowY===r.overflowX&&!KW(t)&&r[s]==="visible")},GW=function(t){return QR(t,"overflowY")},QW=function(t){return QR(t,"overflowX")},iC=function(t,s){var r=s.ownerDocument,n=s;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=YR(t,n);if(a){var i=ZR(t,n),l=i[1],o=i[2];if(l>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},YW=function(t){var s=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[s,r,n]},ZW=function(t){var s=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[s,r,n]},YR=function(t,s){return t==="v"?GW(s):QW(s)},ZR=function(t,s){return t==="v"?YW(s):ZW(s)},XW=function(t,s){return t==="h"&&s==="rtl"?-1:1},JW=function(t,s,r,n,a){var i=XW(t,window.getComputedStyle(s).direction),l=i*n,o=r.target,c=s.contains(o),d=!1,u=l>0,m=0,h=0;do{var f=ZR(t,o),b=f[0],x=f[1],v=f[2],g=x-v-i*b;(b||g)&&YR(t,o)&&(m+=g,h+=b),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(s.contains(o)||s===o));return(u&&(Math.abs(m)<1||!a)||!u&&(Math.abs(h)<1||!a))&&(d=!0),d},ap=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},lC=function(t){return[t.deltaX,t.deltaY]},oC=function(t){return t&&"current"in t?t.current:t},eH=function(t,s){return t[0]===s[0]&&t[1]===s[1]},tH=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},sH=0,Bo=[];function rH(t){var s=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),a=p.useState(sH++)[0],i=p.useState(GR)[0],l=p.useRef(t);p.useEffect(function(){l.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var x=CW([t.lockRef.current],(t.shards||[]).map(oC),!0).filter(Boolean);return x.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var o=p.useCallback(function(x,v){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!l.current.allowPinchZoom;var g=ap(x),y=r.current,j="deltaX"in x?x.deltaX:y[0]-g[0],w="deltaY"in x?x.deltaY:y[1]-g[1],N,_=x.target,k=Math.abs(j)>Math.abs(w)?"h":"v";if("touches"in x&&k==="h"&&_.type==="range")return!1;var S=iC(k,_);if(!S)return!0;if(S?N=k:(N=k==="v"?"h":"v",S=iC(k,_)),!S)return!1;if(!n.current&&"changedTouches"in x&&(j||w)&&(n.current=N),!N)return!0;var A=n.current||N;return JW(A,v,x,A==="h"?j:w,!0)},[]),c=p.useCallback(function(x){var v=x;if(!(!Bo.length||Bo[Bo.length-1]!==i)){var g="deltaY"in v?lC(v):ap(v),y=s.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&eH(N.delta,g)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var j=(l.current.shards||[]).map(oC).filter(Boolean).filter(function(N){return N.contains(v.target)}),w=j.length>0?o(v,j[0]):!l.current.noIsolation;w&&v.cancelable&&v.preventDefault()}}},[]),d=p.useCallback(function(x,v,g,y){var j={name:x,delta:v,target:g,should:y,shadowParent:nH(g)};s.current.push(j),setTimeout(function(){s.current=s.current.filter(function(w){return w!==j})},1)},[]),u=p.useCallback(function(x){r.current=ap(x),n.current=void 0},[]),m=p.useCallback(function(x){d(x.type,lC(x),x.target,o(x,t.lockRef.current))},[]),h=p.useCallback(function(x){d(x.type,ap(x),x.target,o(x,t.lockRef.current))},[]);p.useEffect(function(){return Bo.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Vo),document.addEventListener("touchmove",c,Vo),document.addEventListener("touchstart",u,Vo),function(){Bo=Bo.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,Vo),document.removeEventListener("touchmove",c,Vo),document.removeEventListener("touchstart",u,Vo)}},[]);var f=t.removeScrollBar,b=t.inert;return p.createElement(p.Fragment,null,b?p.createElement(i,{styles:tH(a)}):null,f?p.createElement(HW,{gapMode:t.gapMode}):null)}function nH(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const aH=DW(KR,rH);var dg=p.forwardRef(function(t,s){return p.createElement(cg,Ca({},t,{ref:s,sideCar:aH}))});dg.classNames=cg.classNames;var iH=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},qo=new WeakMap,ip=new WeakMap,lp={},P0=0,XR=function(t){return t&&(t.host||XR(t.parentNode))},lH=function(t,s){return s.map(function(r){if(t.contains(r))return r;var n=XR(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},oH=function(t,s,r,n){var a=lH(s,Array.isArray(t)?t:[t]);lp[r]||(lp[r]=new WeakMap);var i=lp[r],l=[],o=new Set,c=new Set(a),d=function(m){!m||o.has(m)||(o.add(m),d(m.parentNode))};a.forEach(d);var u=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(h){if(o.has(h))u(h);else try{var f=h.getAttribute(n),b=f!==null&&f!=="false",x=(qo.get(h)||0)+1,v=(i.get(h)||0)+1;qo.set(h,x),i.set(h,v),l.push(h),x===1&&b&&ip.set(h,!0),v===1&&h.setAttribute(r,"true"),b||h.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return u(s),o.clear(),P0++,function(){l.forEach(function(m){var h=qo.get(m)-1,f=i.get(m)-1;qo.set(m,h),i.set(m,f),h||(ip.has(m)||m.removeAttribute(n),ip.delete(m)),f||m.removeAttribute(r)}),P0--,P0||(qo=new WeakMap,qo=new WeakMap,ip=new WeakMap,lp={})}},yw=function(t,s,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=iH(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),oH(n,a,r,"aria-hidden")):function(){return null}},vw="Dialog",[JR,eD]=Gs(vw),[cH,oa]=JR(vw),tD=t=>{const{__scopeDialog:s,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:l=!0}=t,o=p.useRef(null),c=p.useRef(null),[d=!1,u]=ta({prop:n,defaultProp:a,onChange:i});return e.jsx(cH,{scope:s,triggerRef:o,contentRef:c,contentId:Xn(),titleId:Xn(),descriptionId:Xn(),open:d,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(m=>!m),[u]),modal:l,children:r})};tD.displayName=vw;var sD="DialogTrigger",rD=p.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=oa(sD,r),i=Nt(s,a.triggerRef);return e.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Nw(a.open),...n,ref:i,onClick:ke(t.onClick,a.onOpenToggle)})});rD.displayName=sD;var jw="DialogPortal",[dH,nD]=JR(jw,{forceMount:void 0}),aD=t=>{const{__scopeDialog:s,forceMount:r,children:n,container:a}=t,i=oa(jw,s);return e.jsx(dH,{scope:s,forceMount:r,children:p.Children.map(n,l=>e.jsx(Yr,{present:r||i.open,children:e.jsx(uh,{asChild:!0,container:a,children:l})}))})};aD.displayName=jw;var If="DialogOverlay",iD=p.forwardRef((t,s)=>{const r=nD(If,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=oa(If,t.__scopeDialog);return i.modal?e.jsx(Yr,{present:n||i.open,children:e.jsx(mH,{...a,ref:s})}):null});iD.displayName=If;var uH=wo("DialogOverlay.RemoveScroll"),mH=p.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=oa(If,r);return e.jsx(dg,{as:uH,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(Qe.div,{"data-state":Nw(a.open),...n,ref:s,style:{pointerEvents:"auto",...n.style}})})}),ko="DialogContent",lD=p.forwardRef((t,s)=>{const r=nD(ko,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=oa(ko,t.__scopeDialog);return e.jsx(Yr,{present:n||i.open,children:i.modal?e.jsx(hH,{...a,ref:s}):e.jsx(pH,{...a,ref:s})})});lD.displayName=ko;var hH=p.forwardRef((t,s)=>{const r=oa(ko,t.__scopeDialog),n=p.useRef(null),a=Nt(s,r.contentRef,n);return p.useEffect(()=>{const i=n.current;if(i)return yw(i)},[]),e.jsx(oD,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ke(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,o=l.button===0&&l.ctrlKey===!0;(l.button===2||o)&&i.preventDefault()}),onFocusOutside:ke(t.onFocusOutside,i=>i.preventDefault())})}),pH=p.forwardRef((t,s)=>{const r=oa(ko,t.__scopeDialog),n=p.useRef(!1),a=p.useRef(!1);return e.jsx(oD,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,o;(l=t.onCloseAutoFocus)==null||l.call(t,i),i.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),oD=p.forwardRef((t,s)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...l}=t,o=oa(ko,r),c=p.useRef(null),d=Nt(s,c);return bw(),e.jsxs(e.Fragment,{children:[e.jsx(og,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(Id,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Nw(o.open),...l,ref:d,onDismiss:()=>o.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(xH,{titleId:o.titleId}),e.jsx(bH,{contentRef:c,descriptionId:o.descriptionId})]})]})}),ww="DialogTitle",cD=p.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=oa(ww,r);return e.jsx(Qe.h2,{id:a.titleId,...n,ref:s})});cD.displayName=ww;var dD="DialogDescription",uD=p.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=oa(dD,r);return e.jsx(Qe.p,{id:a.descriptionId,...n,ref:s})});uD.displayName=dD;var mD="DialogClose",hD=p.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=oa(mD,r);return e.jsx(Qe.button,{type:"button",...n,ref:s,onClick:ke(t.onClick,()=>a.onOpenChange(!1))})});hD.displayName=mD;function Nw(t){return t?"open":"closed"}var pD="DialogTitleWarning",[fH,fD]=F7(pD,{contentName:ko,titleName:ww,docsSlug:"dialog"}),xH=({titleId:t})=>{const s=fD(pD),r=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},gH="DialogDescriptionWarning",bH=({contentRef:t,descriptionId:s})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fD(gH).contentName}}.`;return p.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");s&&a&&(document.getElementById(s)||console.warn(n))},[n,t,s]),null},xD=tD,gD=rD,bD=aD,Cw=iD,Sw=lD,_w=cD,kw=uD,Pw=hD,yD="AlertDialog",[yH,Hoe]=Gs(yD,[eD]),Ni=eD(),vD=t=>{const{__scopeAlertDialog:s,...r}=t,n=Ni(s);return e.jsx(xD,{...n,...r,modal:!0})};vD.displayName=yD;var vH="AlertDialogTrigger",jH=p.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...n}=t,a=Ni(r);return e.jsx(gD,{...a,...n,ref:s})});jH.displayName=vH;var wH="AlertDialogPortal",jD=t=>{const{__scopeAlertDialog:s,...r}=t,n=Ni(s);return e.jsx(bD,{...n,...r})};jD.displayName=wH;var NH="AlertDialogOverlay",wD=p.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...n}=t,a=Ni(r);return e.jsx(Cw,{...a,...n,ref:s})});wD.displayName=NH;var Sc="AlertDialogContent",[CH,SH]=yH(Sc),_H=NT("AlertDialogContent"),ND=p.forwardRef((t,s)=>{const{__scopeAlertDialog:r,children:n,...a}=t,i=Ni(r),l=p.useRef(null),o=Nt(s,l),c=p.useRef(null);return e.jsx(fH,{contentName:Sc,titleName:CD,docsSlug:"alert-dialog",children:e.jsx(CH,{scope:r,cancelRef:c,children:e.jsxs(Sw,{role:"alertdialog",...i,...a,ref:o,onOpenAutoFocus:ke(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[e.jsx(_H,{children:n}),e.jsx(PH,{contentRef:l})]})})})});ND.displayName=Sc;var CD="AlertDialogTitle",SD=p.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...n}=t,a=Ni(r);return e.jsx(_w,{...a,...n,ref:s})});SD.displayName=CD;var _D="AlertDialogDescription",kD=p.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...n}=t,a=Ni(r);return e.jsx(kw,{...a,...n,ref:s})});kD.displayName=_D;var kH="AlertDialogAction",PD=p.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...n}=t,a=Ni(r);return e.jsx(Pw,{...a,...n,ref:s})});PD.displayName=kH;var ED="AlertDialogCancel",AD=p.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:a}=SH(ED,r),i=Ni(r),l=Nt(s,a);return e.jsx(Pw,{...i,...n,ref:l})});AD.displayName=ED;var PH=({contentRef:t})=>{const s=`\`${Sc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Sc}\` by passing a \`${_D}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Sc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},EH=vD,AH=jD,TD=wD,RD=ND,DD=PD,MD=AD,OD=SD,ID=kD;const Ew=hh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-gradient-to-r from-egyptian-blue to-powder-blue text-white hover:from-egyptian-blue/90 hover:to-powder-blue/90 border-0 shadow-md hover:shadow-lg transition-all duration-200",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),P=p.forwardRef(({className:t,variant:s,size:r,asChild:n=!1,...a},i)=>{const l=n?Zj:"button";return e.jsx(l,{className:ye(Ew({variant:s,size:r,className:t})),ref:i,...a})});P.displayName="Button";const TH=EH,RH=AH,FD=p.forwardRef(({className:t,...s},r)=>e.jsx(TD,{className:ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:r}));FD.displayName=TD.displayName;const LD=p.forwardRef(({className:t,...s},r)=>e.jsxs(RH,{children:[e.jsx(FD,{}),e.jsx(RD,{ref:r,className:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));LD.displayName=RD.displayName;const zD=({className:t,...s})=>e.jsx("div",{className:ye("flex flex-col space-y-2 text-center sm:text-left",t),...s});zD.displayName="AlertDialogHeader";const UD=({className:t,...s})=>e.jsx("div",{className:ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});UD.displayName="AlertDialogFooter";const $D=p.forwardRef(({className:t,...s},r)=>e.jsx(OD,{ref:r,className:ye("text-lg font-semibold",t),...s}));$D.displayName=OD.displayName;const VD=p.forwardRef(({className:t,...s},r)=>e.jsx(ID,{ref:r,className:ye("text-sm text-muted-foreground",t),...s}));VD.displayName=ID.displayName;const DH=p.forwardRef(({className:t,...s},r)=>e.jsx(DD,{ref:r,className:ye(Ew(),t),...s}));DH.displayName=DD.displayName;const MH=p.forwardRef(({className:t,...s},r)=>e.jsx(MD,{ref:r,className:ye(Ew({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));MH.displayName=MD.displayName;const cC=5*60*1e3,dC=30*1e3,uC=10*60*1e3;function OH(){const t=ne.useContext(gw),{toast:s}=tt(),[r,n]=p.useState(!1),[a,i]=p.useState(30);if(!t)return null;const{user:l,logoutMutation:o}=t,c=p.useRef(null),d=p.useRef(null),u=p.useRef(null),m=p.useCallback(()=>{l&&(n(!1),o.mutate(void 0,{onSuccess:()=>{s({title:"Session Expired",description:"You have been logged out due to inactivity.",variant:"destructive"})}}))},[l,o,s]),h=p.useCallback(()=>{n(!1),i(30),c.current&&clearTimeout(c.current),d.current&&clearTimeout(d.current),u.current&&clearInterval(u.current),d.current=setTimeout(()=>{n(!0);let x=30;i(x),u.current=setInterval(()=>{x-=1,i(x),x<=0&&u.current&&clearInterval(u.current)},1e3)},uC-dC),c.current=setTimeout(()=>{m()},uC),s({title:"Session Extended",description:"Your session has been extended by 10 minutes."})},[m,s]),f=p.useCallback(()=>{n(!0);let x=30;i(x),u.current=setInterval(()=>{x-=1,i(x),x<=0&&u.current&&clearInterval(u.current)},1e3)},[]),b=p.useCallback(()=>{c.current&&clearTimeout(c.current),d.current&&clearTimeout(d.current),u.current&&clearInterval(u.current),n(!1),i(30),l&&(d.current=setTimeout(()=>{f()},cC-dC),c.current=setTimeout(()=>{m()},cC))},[l,m,f]);return p.useEffect(()=>{if(!l)return;const x=["mousedown","mousemove","keypress","scroll","touchstart","click"],v=()=>{b()};return b(),x.forEach(g=>{document.addEventListener(g,v,!0)}),()=>{x.forEach(g=>{document.removeEventListener(g,v,!0)}),c.current&&clearTimeout(c.current),d.current&&clearTimeout(d.current),u.current&&clearInterval(u.current)}},[l,b]),p.useEffect(()=>{l||(c.current&&clearTimeout(c.current),d.current&&clearTimeout(d.current),u.current&&clearInterval(u.current),n(!1))},[l]),e.jsx(TH,{open:r,onOpenChange:n,children:e.jsxs(LD,{className:"max-w-md border-2 border-egyptian-blue/20 shadow-2xl",children:[e.jsxs(zD,{children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-egyptian-blue to-powder-blue flex items-center justify-center shadow-xl",children:e.jsx(ft,{className:"w-8 h-8 text-white"})})}),e.jsx($D,{className:"text-2xl font-bold text-center bg-gradient-to-r from-egyptian-blue to-powder-blue bg-clip-text text-transparent",children:"Session Expiring Soon"}),e.jsxs(VD,{className:"text-center space-y-3",children:[e.jsxs("p",{className:"text-base text-gray-700 font-medium",children:["Your session will expire in ",e.jsxs("span",{className:"font-bold text-egyptian-blue text-lg",children:[a," seconds"]})," due to inactivity."]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Would you like to extend your session or log out now?"})]})]}),e.jsxs(UD,{className:"flex-col sm:flex-row gap-3 mt-4",children:[e.jsxs(P,{variant:"outline",onClick:m,className:"w-full sm:w-auto border-2 border-gray-300 text-gray-700 hover:bg-gray-50 font-semibold",children:[e.jsx(Jx,{className:"w-4 h-4 mr-2"}),"Log Out"]}),e.jsxs(P,{onClick:h,className:"w-full sm:w-auto bg-gradient-to-r from-egyptian-blue to-powder-blue hover:opacity-90 text-white border-0 font-bold shadow-xl hover:shadow-2xl transition-all",children:[e.jsx(ws,{className:"w-4 h-4 mr-2"}),"Extend Session (10 min)"]})]})]})})}function IH({children:t}){const s=OH();return e.jsxs(e.Fragment,{children:[t,s]})}function mt({path:t,component:s}){const{user:r,isLoading:n}=St();return console.log("[ProtectedRoute]",t,{user:r,isLoading:n}),e.jsx(ss,{path:t,children:n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(Lu,{className:"h-8 w-8 animate-spin text-border"})}):r?e.jsx(s,{}):e.jsx(iT,{to:"/auth"})})}function FH({path:t,component:s}){const{applicant:r,isLoading:n}=lg();return e.jsx(ss,{path:t,children:n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(Lu,{className:"h-8 w-8 animate-spin text-border"})}):!r||!r.emailVerified?e.jsx(iT,{to:"/apply/individual"}):e.jsx(s,{})})}const $=p.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:ye("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));$.displayName="Card";const J=p.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:ye("flex flex-col space-y-1.5 p-6",t),...s}));J.displayName="CardHeader";const ee=p.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:ye("text-2xl font-semibold leading-none tracking-tight",t),...s}));ee.displayName="CardTitle";const Gt=p.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:ye("text-sm text-muted-foreground",t),...s}));Gt.displayName="CardDescription";const V=p.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:ye("p-6 pt-0",t),...s}));V.displayName="CardContent";const LH=p.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:ye("flex items-center p-6 pt-0",t),...s}));LH.displayName="CardFooter";function zH(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx($,{className:"w-full max-w-md mx-4",children:e.jsxs(V,{className:"pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(Js,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function UH(){const{user:t}=St(),[,s]=Xe();return p.useEffect(()=>{t&&(t.role==="admin"||t.role==="member_manager"||t.role==="case_manager"||t.role==="super_admin"?s("/admin-dashboard"):s("/member-portal"))},[t,s]),e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Redirecting..."})}const cn="/assets/eaclogo_1756763778691-CuAtDFIr.png";function $H(){const[,t]=Xe(),s=[{title:"Verify Agent",description:"Check if an agent is registered and in good standing with the EACZ.",icon:Ks,action:()=>t("/verify"),buttonText:"Verify",buttonVariant:"outline"},{title:"Member Login",description:"Access your member dashboard and manage your account.",icon:jc,action:()=>t("/auth"),buttonText:"Sign In",buttonVariant:"default"},{title:"Report a Case",description:"Submit a complaint against a registered agent or firm.",icon:Le,action:()=>t("/cases/report"),buttonText:"Proceed to Report Case",buttonVariant:"destructive"}],r=[{title:"Apply for Membership",description:"Individual or Organization Registration",icon:Us,action:()=>t("/apply"),featured:!0}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-egyptian-blue via-powder-blue to-egyptian-blue",children:[e.jsx("nav",{className:"bg-white/10 backdrop-blur-sm border-b border-white/20",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center p-1",children:e.jsx("img",{src:cn,alt:"EACZ Logo",className:"w-full h-full object-contain"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-white font-bold text-[16px]",children:"Estate Agents Council of Zimbabwe"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Regulating Excellence in Real Estate"})]})]}),e.jsxs(P,{className:"bg-gradient-to-r from-egyptian-blue to-powder-blue hover:from-egyptian-blue/90 hover:to-powder-blue/90 text-white border-0 shadow-lg",onClick:()=>t("/auth"),children:[e.jsx(jc,{className:"w-4 h-4 mr-2"}),"Login"]})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-16",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 p-3",children:e.jsx("img",{src:cn,alt:"Estate Agents Council Logo",className:"w-full h-full object-contain"})}),e.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-4",children:"Estate Agents Council of Zimbabwe"}),e.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:"Join a community of certified professionals dedicated to upholding the highest standards in the real estate industry of Zimbabwe."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-16",children:[e.jsxs(P,{size:"lg",className:"bg-gradient-to-r from-egyptian-blue to-powder-blue hover:from-egyptian-blue/90 hover:to-powder-blue/90 text-white border-0 font-semibold px-12 py-6 text-lg transition-all duration-200 shadow-xl hover:shadow-2xl",onClick:()=>t("/auth"),"data-testid":"button-login-main",children:[e.jsx(jc,{className:"w-6 h-6 mr-2"}),"Login to Member Portal"]}),r.map((n,a)=>e.jsxs(P,{size:"lg",className:"bg-gradient-to-r from-egyptian-blue to-powder-blue hover:from-egyptian-blue/90 hover:to-powder-blue/90 text-white border-0 font-semibold px-8 py-6 text-lg shadow-xl hover:shadow-2xl transition-all duration-200",onClick:n.action,"data-testid":`button-${n.title.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx(n.icon,{className:"w-6 h-6 mr-2"}),n.title]},a))]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"What would you like to do?"}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Access our services quickly and easily."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto",children:s.map((n,a)=>e.jsxs($,{className:"bg-white/95 backdrop-blur hover:bg-white hover:shadow-2xl transition-all duration-300 border-2 border-white/50",children:[e.jsxs(J,{className:"text-center pb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-egyptian-blue to-powder-blue rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx(n.icon,{className:"w-8 h-8 text-white"})}),e.jsx(ee,{className:"text-xl text-gray-800",children:n.title}),e.jsx(Gt,{className:"text-gray-600 text-base",children:n.description})]}),e.jsx(V,{className:"text-center pb-6",children:e.jsx(P,{className:"w-full h-12 font-semibold text-base shadow-md hover:shadow-lg transition-all bg-gradient-to-r from-egyptian-blue to-powder-blue hover:from-egyptian-blue/90 hover:to-powder-blue/90 text-white border-0",onClick:n.action,"data-testid":`button-${n.title.toLowerCase().replace(/\s+/g,"-")}`,children:n.buttonText})})]},a))})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-lg p-6 max-w-md mx-auto border border-white/20",children:[e.jsx("h3",{className:"text-white font-semibold mb-4 text-lg",children:"Need Help?"}),e.jsxs("div",{className:"space-y-2 text-blue-100",children:[e.jsx(P,{variant:"link",className:"text-blue-100 hover:text-white p-0 h-auto font-medium",onClick:()=>t("/cases/track"),children:"Already have a case number? Track it here."}),e.jsx("br",{}),e.jsx(P,{variant:"link",className:"text-blue-100 hover:text-white p-0 h-auto font-medium",onClick:()=>t("/member-directory"),children:"Search our member directory"})]})]})})]}),e.jsx("footer",{className:"bg-black/20 backdrop-blur border-t border-white/20 py-8 mt-16",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"text-center text-blue-100",children:[e.jsx("p",{className:"mb-4",children:"© 2025 Estate Agents Council of Zimbabwe. All rights reserved."}),e.jsxs("div",{className:"flex justify-center space-x-6 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Rr,{className:"w-4 h-4 mr-1"}),"746 400 / 746 356"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(jt,{className:"w-4 h-4 mr-1"}),"info@eac.co.zw"]})]})]})})})]})}const Y=p.forwardRef(({className:t,type:s,...r},n)=>e.jsx("input",{type:s,className:ye("flex h-10 w-full rounded-none border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Y.displayName="Input";var VH=p.createContext(void 0);function fh(t){const s=p.useContext(VH);return t||s||"ltr"}var E0="rovingFocusGroup.onEntryFocus",BH={bubbles:!1,cancelable:!0},ug="RovingFocusGroup",[Uy,BD,qH]=Qx(ug),[WH,$d]=Gs(ug,[qH]),[HH,KH]=WH(ug),qD=p.forwardRef((t,s)=>e.jsx(Uy.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Uy.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(GH,{...t,ref:s})})}));qD.displayName=ug;var GH=p.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...m}=t,h=p.useRef(null),f=Nt(s,h),b=fh(i),[x=null,v]=ta({prop:l,defaultProp:o,onChange:c}),[g,y]=p.useState(!1),j=rr(d),w=BD(r),N=p.useRef(!1),[_,k]=p.useState(0);return p.useEffect(()=>{const S=h.current;if(S)return S.addEventListener(E0,j),()=>S.removeEventListener(E0,j)},[j]),e.jsx(HH,{scope:r,orientation:n,dir:b,loop:a,currentTabStopId:x,onItemFocus:p.useCallback(S=>v(S),[v]),onItemShiftTab:p.useCallback(()=>y(!0),[]),onFocusableItemAdd:p.useCallback(()=>k(S=>S+1),[]),onFocusableItemRemove:p.useCallback(()=>k(S=>S-1),[]),children:e.jsx(Qe.div,{tabIndex:g||_===0?-1:0,"data-orientation":n,...m,ref:f,style:{outline:"none",...t.style},onMouseDown:ke(t.onMouseDown,()=>{N.current=!0}),onFocus:ke(t.onFocus,S=>{const A=!N.current;if(S.target===S.currentTarget&&A&&!g){const z=new CustomEvent(E0,BH);if(S.currentTarget.dispatchEvent(z),!z.defaultPrevented){const re=w().filter(E=>E.focusable),F=re.find(E=>E.active),B=re.find(E=>E.id===x),W=[F,B,...re].filter(Boolean).map(E=>E.ref.current);KD(W,u)}}N.current=!1}),onBlur:ke(t.onBlur,()=>y(!1))})})}),WD="RovingFocusGroupItem",HD=p.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,...l}=t,o=Xn(),c=i||o,d=KH(WD,r),u=d.currentTabStopId===c,m=BD(r),{onFocusableItemAdd:h,onFocusableItemRemove:f}=d;return p.useEffect(()=>{if(n)return h(),()=>f()},[n,h,f]),e.jsx(Uy.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:e.jsx(Qe.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...l,ref:s,onMouseDown:ke(t.onMouseDown,b=>{n?d.onItemFocus(c):b.preventDefault()}),onFocus:ke(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:ke(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=ZH(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let g=m().filter(y=>y.focusable).map(y=>y.ref.current);if(x==="last")g.reverse();else if(x==="prev"||x==="next"){x==="prev"&&g.reverse();const y=g.indexOf(b.currentTarget);g=d.loop?XH(g,y+1):g.slice(y+1)}setTimeout(()=>KD(g))}})})})});HD.displayName=WD;var QH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function YH(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ZH(t,s,r){const n=YH(t.key,r);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return QH[n]}function KD(t,s=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:s}),document.activeElement!==r))return}function XH(t,s){return t.map((r,n)=>t[(s+n)%t.length])}var Aw=qD,Tw=HD,Rw="Tabs",[JH,Koe]=Gs(Rw,[$d]),GD=$d(),[eK,Dw]=JH(Rw),QD=p.forwardRef((t,s)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:l="horizontal",dir:o,activationMode:c="automatic",...d}=t,u=fh(o),[m,h]=ta({prop:n,onChange:a,defaultProp:i});return e.jsx(eK,{scope:r,baseId:Xn(),value:m,onValueChange:h,orientation:l,dir:u,activationMode:c,children:e.jsx(Qe.div,{dir:u,"data-orientation":l,...d,ref:s})})});QD.displayName=Rw;var YD="TabsList",ZD=p.forwardRef((t,s)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,i=Dw(YD,r),l=GD(r);return e.jsx(Aw,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:n,children:e.jsx(Qe.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:s})})});ZD.displayName=YD;var XD="TabsTrigger",JD=p.forwardRef((t,s)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=t,l=Dw(XD,r),o=GD(r),c=sM(l.baseId,n),d=rM(l.baseId,n),u=n===l.value;return e.jsx(Tw,{asChild:!0,...o,focusable:!a,active:u,children:e.jsx(Qe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:s,onMouseDown:ke(t.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?l.onValueChange(n):m.preventDefault()}),onKeyDown:ke(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(n)}),onFocus:ke(t.onFocus,()=>{const m=l.activationMode!=="manual";!u&&!a&&m&&l.onValueChange(n)})})})});JD.displayName=XD;var eM="TabsContent",tM=p.forwardRef((t,s)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...l}=t,o=Dw(eM,r),c=sM(o.baseId,n),d=rM(o.baseId,n),u=n===o.value,m=p.useRef(u);return p.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),e.jsx(Yr,{present:a||u,children:({present:h})=>e.jsx(Qe.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...l,ref:s,style:{...t.style,animationDuration:m.current?"0s":void 0},children:h&&i})})});tM.displayName=eM;function sM(t,s){return`${t}-trigger-${s}`}function rM(t,s){return`${t}-content-${s}`}var tK=QD,nM=ZD,aM=JD,iM=tM;const Zt=tK,Ht=p.forwardRef(({className:t,...s},r)=>e.jsx(nM,{ref:r,className:ye("inline-flex h-10 items-center justify-center rounded-md bg-muted/40 p-1 text-muted-foreground",t),...s}));Ht.displayName=nM.displayName;const Ae=p.forwardRef(({className:t,...s},r)=>e.jsx(aM,{ref:r,className:ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground",t),...s}));Ae.displayName=aM.displayName;const Oe=p.forwardRef(({className:t,...s},r)=>e.jsx(iM,{ref:r,className:ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));Oe.displayName=iM.displayName;var xh=t=>t.type==="checkbox",Bl=t=>t instanceof Date,_r=t=>t==null;const lM=t=>typeof t=="object";var _s=t=>!_r(t)&&!Array.isArray(t)&&lM(t)&&!Bl(t),oM=t=>_s(t)&&t.target?xh(t.target)?t.target.checked:t.target.value:t,sK=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,cM=(t,s)=>t.has(sK(s)),rK=t=>{const s=t.constructor&&t.constructor.prototype;return _s(s)&&s.hasOwnProperty("isPrototypeOf")},Mw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ms(t){let s;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)s=new Date(t);else if(t instanceof Set)s=new Set(t);else if(!(Mw&&(t instanceof Blob||n))&&(r||_s(t)))if(s=r?[]:{},!r&&!rK(t))s=t;else for(const a in t)t.hasOwnProperty(a)&&(s[a]=ms(t[a]));else return t;return s}var gh=t=>Array.isArray(t)?t.filter(Boolean):[],rs=t=>t===void 0,_e=(t,s,r)=>{if(!s||!_s(t))return r;const n=gh(s.split(/[,[\].]+?/)).reduce((a,i)=>_r(a)?a:a[i],t);return rs(n)||n===t?rs(t[s])?r:t[s]:n},tn=t=>typeof t=="boolean",Ow=t=>/^\w*$/.test(t),dM=t=>gh(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ot=(t,s,r)=>{let n=-1;const a=Ow(s)?[s]:dM(s),i=a.length,l=i-1;for(;++n<i;){const o=a[n];let c=r;if(n!==l){const d=t[o];c=_s(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const Ff={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},wn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ka={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},uM=ne.createContext(null),bh=()=>ne.useContext(uM),nK=t=>{const{children:s,...r}=t;return ne.createElement(uM.Provider,{value:r},s)};var mM=(t,s,r,n=!0)=>{const a={defaultValues:s._defaultValues};for(const i in t)Object.defineProperty(a,i,{get:()=>{const l=i;return s._proxyFormState[l]!==wn.all&&(s._proxyFormState[l]=!n||wn.all),r&&(r[l]=!0),t[l]}});return a};function aK(t){const s=bh(),{control:r=s.control,disabled:n,name:a,exact:i}=t||{},[l,o]=ne.useState(r._formState),c=ne.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=ne.useRef(a);return d.current=a,ne.useEffect(()=>r._subscribe({name:d.current,formState:c.current,exact:i,callback:u=>{!n&&o({...r._formState,...u})}}),[r,n,i]),ne.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),ne.useMemo(()=>mM(l,r,c.current,!1),[l,r])}var _a=t=>typeof t=="string",hM=(t,s,r,n,a)=>_a(t)?(n&&s.watch.add(t),_e(r,t,a)):Array.isArray(t)?t.map(i=>(n&&s.watch.add(i),_e(r,i))):(n&&(s.watchAll=!0),r);function iK(t){const s=bh(),{control:r=s.control,name:n,defaultValue:a,disabled:i,exact:l}=t||{},o=ne.useRef(n),c=ne.useRef(a);o.current=n,ne.useEffect(()=>r._subscribe({name:o.current,formState:{values:!0},exact:l,callback:m=>!i&&u(hM(o.current,r._names,m.values||r._formValues,!1,c.current))}),[r,i,l]);const[d,u]=ne.useState(r._getWatch(n,a));return ne.useEffect(()=>r._removeUnmounted()),d}function lK(t){const s=bh(),{name:r,disabled:n,control:a=s.control,shouldUnregister:i}=t,l=cM(a._names.array,r),o=iK({control:a,name:r,defaultValue:_e(a._formValues,r,_e(a._defaultValues,r,t.defaultValue)),exact:!0}),c=aK({control:a,name:r,exact:!0}),d=ne.useRef(t),u=ne.useRef(a.register(r,{...t.rules,value:o,...tn(t.disabled)?{disabled:t.disabled}:{}})),m=ne.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!_e(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!_e(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!_e(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!_e(c.validatingFields,r)},error:{enumerable:!0,get:()=>_e(c.errors,r)}}),[c,r]),h=ne.useCallback(v=>u.current.onChange({target:{value:oM(v),name:r},type:Ff.CHANGE}),[r]),f=ne.useCallback(()=>u.current.onBlur({target:{value:_e(a._formValues,r),name:r},type:Ff.BLUR}),[r,a._formValues]),b=ne.useCallback(v=>{const g=_e(a._fields,r);g&&v&&(g._f.ref={focus:()=>v.focus(),select:()=>v.select(),setCustomValidity:y=>v.setCustomValidity(y),reportValidity:()=>v.reportValidity()})},[a._fields,r]),x=ne.useMemo(()=>({name:r,value:o,...tn(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:h,onBlur:f,ref:b}),[r,n,c.disabled,h,f,b,o]);return ne.useEffect(()=>{const v=a._options.shouldUnregister||i;a.register(r,{...d.current.rules,...tn(d.current.disabled)?{disabled:d.current.disabled}:{}});const g=(y,j)=>{const w=_e(a._fields,y);w&&w._f&&(w._f.mount=j)};if(g(r,!0),v){const y=ms(_e(a._options.defaultValues,r));Ot(a._defaultValues,r,y),rs(_e(a._formValues,r))&&Ot(a._formValues,r,y)}return!l&&a.register(r),()=>{(l?v&&!a._state.action:v)?a.unregister(r):g(r,!1)}},[r,a,l,i]),ne.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),ne.useMemo(()=>({field:x,formState:c,fieldState:m}),[x,c,m])}const oK=t=>t.render(lK(t));var pM=(t,s,r,n,a)=>s?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:a||!0}}:{},qr=t=>Array.isArray(t)?t:[t],mC=()=>{let t=[];return{get observers(){return t},next:a=>{for(const i of t)i.next&&i.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(i=>i!==a)}}),unsubscribe:()=>{t=[]}}},$y=t=>_r(t)||!lM(t);function $i(t,s){if($y(t)||$y(s))return t===s;if(Bl(t)&&Bl(s))return t.getTime()===s.getTime();const r=Object.keys(t),n=Object.keys(s);if(r.length!==n.length)return!1;for(const a of r){const i=t[a];if(!n.includes(a))return!1;if(a!=="ref"){const l=s[a];if(Bl(i)&&Bl(l)||_s(i)&&_s(l)||Array.isArray(i)&&Array.isArray(l)?!$i(i,l):i!==l)return!1}}return!0}var dr=t=>_s(t)&&!Object.keys(t).length,Iw=t=>t.type==="file",Hn=t=>typeof t=="function",Lf=t=>{if(!Mw)return!1;const s=t?t.ownerDocument:0;return t instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},fM=t=>t.type==="select-multiple",Fw=t=>t.type==="radio",cK=t=>Fw(t)||xh(t),A0=t=>Lf(t)&&t.isConnected;function dK(t,s){const r=s.slice(0,-1).length;let n=0;for(;n<r;)t=rs(t)?n++:t[s[n++]];return t}function uK(t){for(const s in t)if(t.hasOwnProperty(s)&&!rs(t[s]))return!1;return!0}function Es(t,s){const r=Array.isArray(s)?s:Ow(s)?[s]:dM(s),n=r.length===1?t:dK(t,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(_s(n)&&dr(n)||Array.isArray(n)&&uK(n))&&Es(t,r.slice(0,-1)),t}var xM=t=>{for(const s in t)if(Hn(t[s]))return!0;return!1};function zf(t,s={}){const r=Array.isArray(t);if(_s(t)||r)for(const n in t)Array.isArray(t[n])||_s(t[n])&&!xM(t[n])?(s[n]=Array.isArray(t[n])?[]:{},zf(t[n],s[n])):_r(t[n])||(s[n]=!0);return s}function gM(t,s,r){const n=Array.isArray(t);if(_s(t)||n)for(const a in t)Array.isArray(t[a])||_s(t[a])&&!xM(t[a])?rs(s)||$y(r[a])?r[a]=Array.isArray(t[a])?zf(t[a],[]):{...zf(t[a])}:gM(t[a],_r(s)?{}:s[a],r[a]):r[a]=!$i(t[a],s[a]);return r}var tu=(t,s)=>gM(t,s,zf(s));const hC={value:!1,isValid:!1},pC={value:!0,isValid:!0};var bM=t=>{if(Array.isArray(t)){if(t.length>1){const s=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!rs(t[0].attributes.value)?rs(t[0].value)||t[0].value===""?pC:{value:t[0].value,isValid:!0}:pC:hC}return hC},yM=(t,{valueAsNumber:s,valueAsDate:r,setValueAs:n})=>rs(t)?t:s?t===""?NaN:t&&+t:r&&_a(t)?new Date(t):n?n(t):t;const fC={isValid:!1,value:null};var vM=t=>Array.isArray(t)?t.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,fC):fC;function xC(t){const s=t.ref;return Iw(s)?s.files:Fw(s)?vM(t.refs).value:fM(s)?[...s.selectedOptions].map(({value:r})=>r):xh(s)?bM(t.refs).value:yM(rs(s.value)?t.ref.value:s.value,t)}var mK=(t,s,r,n)=>{const a={};for(const i of t){const l=_e(s,i);l&&Ot(a,i,l._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:n}},Uf=t=>t instanceof RegExp,su=t=>rs(t)?t:Uf(t)?t.source:_s(t)?Uf(t.value)?t.value.source:t.value:t,cc=t=>({isOnSubmit:!t||t===wn.onSubmit,isOnBlur:t===wn.onBlur,isOnChange:t===wn.onChange,isOnAll:t===wn.all,isOnTouch:t===wn.onTouched});const gC="AsyncFunction";var hK=t=>!!t&&!!t.validate&&!!(Hn(t.validate)&&t.validate.constructor.name===gC||_s(t.validate)&&Object.values(t.validate).find(s=>s.constructor.name===gC)),pK=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Vy=(t,s,r)=>!r&&(s.watchAll||s.watch.has(t)||[...s.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const _c=(t,s,r,n)=>{for(const a of r||Object.keys(t)){const i=_e(t,a);if(i){const{_f:l,...o}=i;if(l){if(l.refs&&l.refs[0]&&s(l.refs[0],a)&&!n)return!0;if(l.ref&&s(l.ref,l.name)&&!n)return!0;if(_c(o,s))break}else if(_s(o)&&_c(o,s))break}}};function bC(t,s,r){const n=_e(t,r);if(n||Ow(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),l=_e(s,i),o=_e(t,i);if(l&&!Array.isArray(l)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};a.pop()}return{name:r}}var fK=(t,s,r,n)=>{r(t);const{name:a,...i}=t;return dr(i)||Object.keys(i).length>=Object.keys(s).length||Object.keys(i).find(l=>s[l]===(!n||wn.all))},xK=(t,s,r)=>!t||!s||t===s||qr(t).some(n=>n&&(r?n===s:n.startsWith(s)||s.startsWith(n))),gK=(t,s,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(s||t):(r?n.isOnBlur:a.isOnBlur)?!t:(r?n.isOnChange:a.isOnChange)?t:!0,bK=(t,s)=>!gh(_e(t,s)).length&&Es(t,s),jM=(t,s,r)=>{const n=qr(_e(t,r));return Ot(n,"root",s[r]),Ot(t,r,n),t},Wp=t=>_a(t);function yC(t,s,r="validate"){if(Wp(t)||Array.isArray(t)&&t.every(Wp)||tn(t)&&!t)return{type:r,message:Wp(t)?t:"",ref:s}}var Wo=t=>_s(t)&&!Uf(t)?t:{value:t,message:""},By=async(t,s,r,n,a,i)=>{const{ref:l,refs:o,required:c,maxLength:d,minLength:u,min:m,max:h,pattern:f,validate:b,name:x,valueAsNumber:v,mount:g}=t._f,y=_e(r,x);if(!g||s.has(x))return{};const j=o?o[0]:l,w=F=>{a&&j.reportValidity&&(j.setCustomValidity(tn(F)?"":F||""),j.reportValidity())},N={},_=Fw(l),k=xh(l),S=_||k,A=(v||Iw(l))&&rs(l.value)&&rs(y)||Lf(l)&&l.value===""||y===""||Array.isArray(y)&&!y.length,z=pM.bind(null,x,n,N),re=(F,B,U,W=Ka.maxLength,E=Ka.minLength)=>{const M=F?B:U;N[x]={type:F?W:E,message:M,ref:l,...z(F?W:E,M)}};if(i?!Array.isArray(y)||!y.length:c&&(!S&&(A||_r(y))||tn(y)&&!y||k&&!bM(o).isValid||_&&!vM(o).isValid)){const{value:F,message:B}=Wp(c)?{value:!!c,message:c}:Wo(c);if(F&&(N[x]={type:Ka.required,message:B,ref:j,...z(Ka.required,B)},!n))return w(B),N}if(!A&&(!_r(m)||!_r(h))){let F,B;const U=Wo(h),W=Wo(m);if(!_r(y)&&!isNaN(y)){const E=l.valueAsNumber||y&&+y;_r(U.value)||(F=E>U.value),_r(W.value)||(B=E<W.value)}else{const E=l.valueAsDate||new Date(y),M=ie=>new Date(new Date().toDateString()+" "+ie),q=l.type=="time",R=l.type=="week";_a(U.value)&&y&&(F=q?M(y)>M(U.value):R?y>U.value:E>new Date(U.value)),_a(W.value)&&y&&(B=q?M(y)<M(W.value):R?y<W.value:E<new Date(W.value))}if((F||B)&&(re(!!F,U.message,W.message,Ka.max,Ka.min),!n))return w(N[x].message),N}if((d||u)&&!A&&(_a(y)||i&&Array.isArray(y))){const F=Wo(d),B=Wo(u),U=!_r(F.value)&&y.length>+F.value,W=!_r(B.value)&&y.length<+B.value;if((U||W)&&(re(U,F.message,B.message),!n))return w(N[x].message),N}if(f&&!A&&_a(y)){const{value:F,message:B}=Wo(f);if(Uf(F)&&!y.match(F)&&(N[x]={type:Ka.pattern,message:B,ref:l,...z(Ka.pattern,B)},!n))return w(B),N}if(b){if(Hn(b)){const F=await b(y,r),B=yC(F,j);if(B&&(N[x]={...B,...z(Ka.validate,B.message)},!n))return w(B.message),N}else if(_s(b)){let F={};for(const B in b){if(!dr(F)&&!n)break;const U=yC(await b[B](y,r),j,B);U&&(F={...U,...z(B,U.message)},w(U.message),n&&(N[x]=F))}if(!dr(F)&&(N[x]={ref:j,...F},!n))return N}}return w(!0),N};const yK={mode:wn.onSubmit,reValidateMode:wn.onChange,shouldFocusError:!0};function vK(t={}){let s={...yK,...t},r={submitCount:0,isDirty:!1,isLoading:Hn(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1};const n={};let a=_s(s.defaultValues)||_s(s.values)?ms(s.values||s.defaultValues)||{}:{},i=s.shouldUnregister?{}:ms(a),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...u};const h={array:mC(),state:mC()},f=cc(s.mode),b=cc(s.reValidateMode),x=s.criteriaMode===wn.all,v=H=>ae=>{clearTimeout(d),d=setTimeout(H,ae)},g=async H=>{if(!s.disabled&&(u.isValid||m.isValid||H)){const ae=s.resolver?dr((await A()).errors):await re(n,!0);ae!==r.isValid&&h.state.next({isValid:ae})}},y=(H,ae)=>{!s.disabled&&(u.isValidating||u.validatingFields||m.isValidating||m.validatingFields)&&((H||Array.from(o.mount)).forEach(fe=>{fe&&(ae?Ot(r.validatingFields,fe,ae):Es(r.validatingFields,fe))}),h.state.next({validatingFields:r.validatingFields,isValidating:!dr(r.validatingFields)}))},j=(H,ae=[],fe,Pe,Se=!0,Ne=!0)=>{if(Pe&&fe&&!s.disabled){if(l.action=!0,Ne&&Array.isArray(_e(n,H))){const He=fe(_e(n,H),Pe.argA,Pe.argB);Se&&Ot(n,H,He)}if(Ne&&Array.isArray(_e(r.errors,H))){const He=fe(_e(r.errors,H),Pe.argA,Pe.argB);Se&&Ot(r.errors,H,He),bK(r.errors,H)}if((u.touchedFields||m.touchedFields)&&Ne&&Array.isArray(_e(r.touchedFields,H))){const He=fe(_e(r.touchedFields,H),Pe.argA,Pe.argB);Se&&Ot(r.touchedFields,H,He)}(u.dirtyFields||m.dirtyFields)&&(r.dirtyFields=tu(a,i)),h.state.next({name:H,isDirty:B(H,ae),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ot(i,H,ae)},w=(H,ae)=>{Ot(r.errors,H,ae),h.state.next({errors:r.errors})},N=H=>{r.errors=H,h.state.next({errors:r.errors,isValid:!1})},_=(H,ae,fe,Pe)=>{const Se=_e(n,H);if(Se){const Ne=_e(i,H,rs(fe)?_e(a,H):fe);rs(Ne)||Pe&&Pe.defaultChecked||ae?Ot(i,H,ae?Ne:xC(Se._f)):E(H,Ne),l.mount&&g()}},k=(H,ae,fe,Pe,Se)=>{let Ne=!1,He=!1;const _t={name:H};if(!s.disabled){if(!fe||Pe){(u.isDirty||m.isDirty)&&(He=r.isDirty,r.isDirty=_t.isDirty=B(),Ne=He!==_t.isDirty);const Ps=$i(_e(a,H),ae);He=!!_e(r.dirtyFields,H),Ps?Es(r.dirtyFields,H):Ot(r.dirtyFields,H,!0),_t.dirtyFields=r.dirtyFields,Ne=Ne||(u.dirtyFields||m.dirtyFields)&&He!==!Ps}if(fe){const Ps=_e(r.touchedFields,H);Ps||(Ot(r.touchedFields,H,fe),_t.touchedFields=r.touchedFields,Ne=Ne||(u.touchedFields||m.touchedFields)&&Ps!==fe)}Ne&&Se&&h.state.next(_t)}return Ne?_t:{}},S=(H,ae,fe,Pe)=>{const Se=_e(r.errors,H),Ne=(u.isValid||m.isValid)&&tn(ae)&&r.isValid!==ae;if(s.delayError&&fe?(c=v(()=>w(H,fe)),c(s.delayError)):(clearTimeout(d),c=null,fe?Ot(r.errors,H,fe):Es(r.errors,H)),(fe?!$i(Se,fe):Se)||!dr(Pe)||Ne){const He={...Pe,...Ne&&tn(ae)?{isValid:ae}:{},errors:r.errors,name:H};r={...r,...He},h.state.next(He)}},A=async H=>{y(H,!0);const ae=await s.resolver(i,s.context,mK(H||o.mount,n,s.criteriaMode,s.shouldUseNativeValidation));return y(H),ae},z=async H=>{const{errors:ae}=await A(H);if(H)for(const fe of H){const Pe=_e(ae,fe);Pe?Ot(r.errors,fe,Pe):Es(r.errors,fe)}else r.errors=ae;return ae},re=async(H,ae,fe={valid:!0})=>{for(const Pe in H){const Se=H[Pe];if(Se){const{_f:Ne,...He}=Se;if(Ne){const _t=o.array.has(Ne.name),Ps=Se._f&&hK(Se._f);Ps&&u.validatingFields&&y([Pe],!0);const ar=await By(Se,o.disabled,i,x,s.shouldUseNativeValidation&&!ae,_t);if(Ps&&u.validatingFields&&y([Pe]),ar[Ne.name]&&(fe.valid=!1,ae))break;!ae&&(_e(ar,Ne.name)?_t?jM(r.errors,ar,Ne.name):Ot(r.errors,Ne.name,ar[Ne.name]):Es(r.errors,Ne.name))}!dr(He)&&await re(He,ae,fe)}}return fe.valid},F=()=>{for(const H of o.unMount){const ae=_e(n,H);ae&&(ae._f.refs?ae._f.refs.every(fe=>!A0(fe)):!A0(ae._f.ref))&&rt(H)}o.unMount=new Set},B=(H,ae)=>!s.disabled&&(H&&ae&&Ot(i,H,ae),!$i(te(),a)),U=(H,ae,fe)=>hM(H,o,{...l.mount?i:rs(ae)?a:_a(H)?{[H]:ae}:ae},fe,ae),W=H=>gh(_e(l.mount?i:a,H,s.shouldUnregister?_e(a,H,[]):[])),E=(H,ae,fe={})=>{const Pe=_e(n,H);let Se=ae;if(Pe){const Ne=Pe._f;Ne&&(!Ne.disabled&&Ot(i,H,yM(ae,Ne)),Se=Lf(Ne.ref)&&_r(ae)?"":ae,fM(Ne.ref)?[...Ne.ref.options].forEach(He=>He.selected=Se.includes(He.value)):Ne.refs?xh(Ne.ref)?Ne.refs.length>1?Ne.refs.forEach(He=>(!He.defaultChecked||!He.disabled)&&(He.checked=Array.isArray(Se)?!!Se.find(_t=>_t===He.value):Se===He.value)):Ne.refs[0]&&(Ne.refs[0].checked=!!Se):Ne.refs.forEach(He=>He.checked=He.value===Se):Iw(Ne.ref)?Ne.ref.value="":(Ne.ref.value=Se,Ne.ref.type||h.state.next({name:H,values:ms(i)})))}(fe.shouldDirty||fe.shouldTouch)&&k(H,Se,fe.shouldTouch,fe.shouldDirty,!0),fe.shouldValidate&&O(H)},M=(H,ae,fe)=>{for(const Pe in ae){const Se=ae[Pe],Ne=`${H}.${Pe}`,He=_e(n,Ne);(o.array.has(H)||_s(Se)||He&&!He._f)&&!Bl(Se)?M(Ne,Se,fe):E(Ne,Se,fe)}},q=(H,ae,fe={})=>{const Pe=_e(n,H),Se=o.array.has(H),Ne=ms(ae);Ot(i,H,Ne),Se?(h.array.next({name:H,values:ms(i)}),(u.isDirty||u.dirtyFields||m.isDirty||m.dirtyFields)&&fe.shouldDirty&&h.state.next({name:H,dirtyFields:tu(a,i),isDirty:B(H,Ne)})):Pe&&!Pe._f&&!_r(Ne)?M(H,Ne,fe):E(H,Ne,fe),Vy(H,o)&&h.state.next({...r}),h.state.next({name:l.mount?H:void 0,values:ms(i)})},R=async H=>{l.mount=!0;const ae=H.target;let fe=ae.name,Pe=!0;const Se=_e(n,fe),Ne=He=>{Pe=Number.isNaN(He)||Bl(He)&&isNaN(He.getTime())||$i(He,_e(i,fe,He))};if(Se){let He,_t;const Ps=ae.type?xC(Se._f):oM(H),ar=H.type===Ff.BLUR||H.type===Ff.FOCUS_OUT,IL=!pK(Se._f)&&!s.resolver&&!_e(r.errors,fe)&&!Se._f.deps||gK(ar,_e(r.touchedFields,fe),r.isSubmitted,b,f),Ng=Vy(fe,o,ar);Ot(i,fe,Ps),ar?(Se._f.onBlur&&Se._f.onBlur(H),c&&c(0)):Se._f.onChange&&Se._f.onChange(H);const Cg=k(fe,Ps,ar),FL=!dr(Cg)||Ng;if(!ar&&h.state.next({name:fe,type:H.type,values:ms(i)}),IL)return(u.isValid||m.isValid)&&(s.mode==="onBlur"?ar&&g():ar||g()),FL&&h.state.next({name:fe,...Ng?{}:Cg});if(!ar&&Ng&&h.state.next({...r}),s.resolver){const{errors:TN}=await A([fe]);if(Ne(Ps),Pe){const LL=bC(r.errors,n,fe),RN=bC(TN,n,LL.name||fe);He=RN.error,fe=RN.name,_t=dr(TN)}}else y([fe],!0),He=(await By(Se,o.disabled,i,x,s.shouldUseNativeValidation))[fe],y([fe]),Ne(Ps),Pe&&(He?_t=!1:(u.isValid||m.isValid)&&(_t=await re(n,!0)));Pe&&(Se._f.deps&&O(Se._f.deps),S(fe,_t,He,Cg))}},ie=(H,ae)=>{if(_e(r.errors,ae)&&H.focus)return H.focus(),1},O=async(H,ae={})=>{let fe,Pe;const Se=qr(H);if(s.resolver){const Ne=await z(rs(H)?H:Se);fe=dr(Ne),Pe=H?!Se.some(He=>_e(Ne,He)):fe}else H?(Pe=(await Promise.all(Se.map(async Ne=>{const He=_e(n,Ne);return await re(He&&He._f?{[Ne]:He}:He)}))).every(Boolean),!(!Pe&&!r.isValid)&&g()):Pe=fe=await re(n);return h.state.next({...!_a(H)||(u.isValid||m.isValid)&&fe!==r.isValid?{}:{name:H},...s.resolver||!H?{isValid:fe}:{},errors:r.errors}),ae.shouldFocus&&!Pe&&_c(n,ie,H?Se:o.mount),Pe},te=H=>{const ae={...l.mount?i:a};return rs(H)?ae:_a(H)?_e(ae,H):H.map(fe=>_e(ae,fe))},se=(H,ae)=>({invalid:!!_e((ae||r).errors,H),isDirty:!!_e((ae||r).dirtyFields,H),error:_e((ae||r).errors,H),isValidating:!!_e(r.validatingFields,H),isTouched:!!_e((ae||r).touchedFields,H)}),Te=H=>{H&&qr(H).forEach(ae=>Es(r.errors,ae)),h.state.next({errors:H?r.errors:{}})},Ke=(H,ae,fe)=>{const Pe=(_e(n,H,{_f:{}})._f||{}).ref,Se=_e(r.errors,H)||{},{ref:Ne,message:He,type:_t,...Ps}=Se;Ot(r.errors,H,{...Ps,...ae,ref:Pe}),h.state.next({name:H,errors:r.errors,isValid:!1}),fe&&fe.shouldFocus&&Pe&&Pe.focus&&Pe.focus()},ot=(H,ae)=>Hn(H)?h.state.subscribe({next:fe=>H(U(void 0,ae),fe)}):U(H,ae,!0),ce=H=>h.state.subscribe({next:ae=>{xK(H.name,ae.name,H.exact)&&fK(ae,H.formState||u,ls,H.reRenderRoot)&&H.callback({values:{...i},...r,...ae})}}).unsubscribe,Ze=H=>(l.mount=!0,m={...m,...H.formState},ce({...H,formState:m})),rt=(H,ae={})=>{for(const fe of H?qr(H):o.mount)o.mount.delete(fe),o.array.delete(fe),ae.keepValue||(Es(n,fe),Es(i,fe)),!ae.keepError&&Es(r.errors,fe),!ae.keepDirty&&Es(r.dirtyFields,fe),!ae.keepTouched&&Es(r.touchedFields,fe),!ae.keepIsValidating&&Es(r.validatingFields,fe),!s.shouldUnregister&&!ae.keepDefaultValue&&Es(a,fe);h.state.next({values:ms(i)}),h.state.next({...r,...ae.keepDirty?{isDirty:B()}:{}}),!ae.keepIsValid&&g()},We=({disabled:H,name:ae})=>{(tn(H)&&l.mount||H||o.disabled.has(ae))&&(H?o.disabled.add(ae):o.disabled.delete(ae))},ze=(H,ae={})=>{let fe=_e(n,H);const Pe=tn(ae.disabled)||tn(s.disabled);return Ot(n,H,{...fe||{},_f:{...fe&&fe._f?fe._f:{ref:{name:H}},name:H,mount:!0,...ae}}),o.mount.add(H),fe?We({disabled:tn(ae.disabled)?ae.disabled:s.disabled,name:H}):_(H,!0,ae.value),{...Pe?{disabled:ae.disabled||s.disabled}:{},...s.progressive?{required:!!ae.required,min:su(ae.min),max:su(ae.max),minLength:su(ae.minLength),maxLength:su(ae.maxLength),pattern:su(ae.pattern)}:{},name:H,onChange:R,onBlur:R,ref:Se=>{if(Se){ze(H,ae),fe=_e(n,H);const Ne=rs(Se.value)&&Se.querySelectorAll&&Se.querySelectorAll("input,select,textarea")[0]||Se,He=cK(Ne),_t=fe._f.refs||[];if(He?_t.find(Ps=>Ps===Ne):Ne===fe._f.ref)return;Ot(n,H,{_f:{...fe._f,...He?{refs:[..._t.filter(A0),Ne,...Array.isArray(_e(a,H))?[{}]:[]],ref:{type:Ne.type,name:H}}:{ref:Ne}}}),_(H,!1,void 0,Ne)}else fe=_e(n,H,{}),fe._f&&(fe._f.mount=!1),(s.shouldUnregister||ae.shouldUnregister)&&!(cM(o.array,H)&&l.action)&&o.unMount.add(H)}}},he=()=>s.shouldFocusError&&_c(n,ie,o.mount),be=H=>{tn(H)&&(h.state.next({disabled:H}),_c(n,(ae,fe)=>{const Pe=_e(n,fe);Pe&&(ae.disabled=Pe._f.disabled||H,Array.isArray(Pe._f.refs)&&Pe._f.refs.forEach(Se=>{Se.disabled=Pe._f.disabled||H}))},0,!1))},ct=(H,ae)=>async fe=>{let Pe;fe&&(fe.preventDefault&&fe.preventDefault(),fe.persist&&fe.persist());let Se=ms(i);if(h.state.next({isSubmitting:!0}),s.resolver){const{errors:Ne,values:He}=await A();r.errors=Ne,Se=He}else await re(n);if(o.disabled.size)for(const Ne of o.disabled)Ot(Se,Ne,void 0);if(Es(r.errors,"root"),dr(r.errors)){h.state.next({errors:{}});try{await H(Se,fe)}catch(Ne){Pe=Ne}}else ae&&await ae({...r.errors},fe),he(),setTimeout(he);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:dr(r.errors)&&!Pe,submitCount:r.submitCount+1,errors:r.errors}),Pe)throw Pe},bt=(H,ae={})=>{_e(n,H)&&(rs(ae.defaultValue)?q(H,ms(_e(a,H))):(q(H,ae.defaultValue),Ot(a,H,ms(ae.defaultValue))),ae.keepTouched||Es(r.touchedFields,H),ae.keepDirty||(Es(r.dirtyFields,H),r.isDirty=ae.defaultValue?B(H,ms(_e(a,H))):B()),ae.keepError||(Es(r.errors,H),u.isValid&&g()),h.state.next({...r}))},zt=(H,ae={})=>{const fe=H?ms(H):a,Pe=ms(fe),Se=dr(H),Ne=Se?a:Pe;if(ae.keepDefaultValues||(a=fe),!ae.keepValues){if(ae.keepDirtyValues){const He=new Set([...o.mount,...Object.keys(tu(a,i))]);for(const _t of Array.from(He))_e(r.dirtyFields,_t)?Ot(Ne,_t,_e(i,_t)):q(_t,_e(Ne,_t))}else{if(Mw&&rs(H))for(const He of o.mount){const _t=_e(n,He);if(_t&&_t._f){const Ps=Array.isArray(_t._f.refs)?_t._f.refs[0]:_t._f.ref;if(Lf(Ps)){const ar=Ps.closest("form");if(ar){ar.reset();break}}}}for(const He of o.mount)q(He,_e(Ne,He))}i=ms(Ne),h.array.next({values:{...Ne}}),h.state.next({values:{...Ne}})}o={mount:ae.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!u.isValid||!!ae.keepIsValid||!!ae.keepDirtyValues,l.watch=!!s.shouldUnregister,h.state.next({submitCount:ae.keepSubmitCount?r.submitCount:0,isDirty:Se?!1:ae.keepDirty?r.isDirty:!!(ae.keepDefaultValues&&!$i(H,a)),isSubmitted:ae.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Se?{}:ae.keepDirtyValues?ae.keepDefaultValues&&i?tu(a,i):r.dirtyFields:ae.keepDefaultValues&&H?tu(a,H):ae.keepDirty?r.dirtyFields:{},touchedFields:ae.keepTouched?r.touchedFields:{},errors:ae.keepErrors?r.errors:{},isSubmitSuccessful:ae.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ks=(H,ae)=>zt(Hn(H)?H(i):H,ae),ca=(H,ae={})=>{const fe=_e(n,H),Pe=fe&&fe._f;if(Pe){const Se=Pe.refs?Pe.refs[0]:Pe.ref;Se.focus&&(Se.focus(),ae.shouldSelect&&Hn(Se.select)&&Se.select())}},ls=H=>{r={...r,...H}},hn={control:{register:ze,unregister:rt,getFieldState:se,handleSubmit:ct,setError:Ke,_subscribe:ce,_runSchema:A,_getWatch:U,_getDirty:B,_setValid:g,_setFieldArray:j,_setDisabledField:We,_setErrors:N,_getFieldArray:W,_reset:zt,_resetDefaultValues:()=>Hn(s.defaultValues)&&s.defaultValues().then(H=>{ks(H,s.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:F,_disableForm:be,_subjects:h,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return l},set _state(H){l=H},get _defaultValues(){return a},get _names(){return o},set _names(H){o=H},get _formState(){return r},get _options(){return s},set _options(H){s={...s,...H}}},subscribe:Ze,trigger:O,register:ze,handleSubmit:ct,watch:ot,setValue:q,getValues:te,reset:ks,resetField:bt,clearErrors:Te,unregister:rt,setError:Ke,setFocus:ca,getFieldState:se};return{...hn,formControl:hn}}var Pi=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{const r=(Math.random()*16+t)%16|0;return(s=="x"?r:r&3|8).toString(16)})},T0=(t,s,r={})=>r.shouldFocus||rs(r.shouldFocus)?r.focusName||`${t}.${rs(r.focusIndex)?s:r.focusIndex}.`:"",R0=(t,s)=>[...t,...qr(s)],D0=t=>Array.isArray(t)?t.map(()=>{}):void 0;function M0(t,s,r){return[...t.slice(0,s),...qr(r),...t.slice(s)]}var O0=(t,s,r)=>Array.isArray(t)?(rs(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(s,1)[0]),t):[],I0=(t,s)=>[...qr(s),...qr(t)];function jK(t,s){let r=0;const n=[...t];for(const a of s)n.splice(a-r,1),r++;return gh(n).length?n:[]}var F0=(t,s)=>rs(s)?[]:jK(t,qr(s).sort((r,n)=>r-n)),L0=(t,s,r)=>{[t[s],t[r]]=[t[r],t[s]]},vC=(t,s,r)=>(t[s]=r,t);function qy(t){const s=bh(),{control:r=s.control,name:n,keyName:a="id",shouldUnregister:i,rules:l}=t,[o,c]=ne.useState(r._getFieldArray(n)),d=ne.useRef(r._getFieldArray(n).map(Pi)),u=ne.useRef(o),m=ne.useRef(n),h=ne.useRef(!1);m.current=n,u.current=o,r._names.array.add(n),l&&r.register(n,l),ne.useEffect(()=>r._subjects.array.subscribe({next:({values:_,name:k})=>{if(k===m.current||!k){const S=_e(_,m.current);Array.isArray(S)&&(c(S),d.current=S.map(Pi))}}}).unsubscribe,[r]);const f=ne.useCallback(_=>{h.current=!0,r._setFieldArray(n,_)},[r,n]),b=(_,k)=>{const S=qr(ms(_)),A=R0(r._getFieldArray(n),S);r._names.focus=T0(n,A.length-1,k),d.current=R0(d.current,S.map(Pi)),f(A),c(A),r._setFieldArray(n,A,R0,{argA:D0(_)})},x=(_,k)=>{const S=qr(ms(_)),A=I0(r._getFieldArray(n),S);r._names.focus=T0(n,0,k),d.current=I0(d.current,S.map(Pi)),f(A),c(A),r._setFieldArray(n,A,I0,{argA:D0(_)})},v=_=>{const k=F0(r._getFieldArray(n),_);d.current=F0(d.current,_),f(k),c(k),!Array.isArray(_e(r._fields,n))&&Ot(r._fields,n,void 0),r._setFieldArray(n,k,F0,{argA:_})},g=(_,k,S)=>{const A=qr(ms(k)),z=M0(r._getFieldArray(n),_,A);r._names.focus=T0(n,_,S),d.current=M0(d.current,_,A.map(Pi)),f(z),c(z),r._setFieldArray(n,z,M0,{argA:_,argB:D0(k)})},y=(_,k)=>{const S=r._getFieldArray(n);L0(S,_,k),L0(d.current,_,k),f(S),c(S),r._setFieldArray(n,S,L0,{argA:_,argB:k},!1)},j=(_,k)=>{const S=r._getFieldArray(n);O0(S,_,k),O0(d.current,_,k),f(S),c(S),r._setFieldArray(n,S,O0,{argA:_,argB:k},!1)},w=(_,k)=>{const S=ms(k),A=vC(r._getFieldArray(n),_,S);d.current=[...A].map((z,re)=>!z||re===_?Pi():d.current[re]),f(A),c([...A]),r._setFieldArray(n,A,vC,{argA:_,argB:S},!0,!1)},N=_=>{const k=qr(ms(_));d.current=k.map(Pi),f([...k]),c([...k]),r._setFieldArray(n,[...k],S=>S,{},!0,!1)};return ne.useEffect(()=>{if(r._state.action=!1,Vy(n,r._names)&&r._subjects.state.next({...r._formState}),h.current&&(!cc(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!cc(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(_=>{const k=_e(_.errors,n),S=_e(r._formState.errors,n);(S?!k&&S.type||k&&(S.type!==k.type||S.message!==k.message):k&&k.type)&&(k?Ot(r._formState.errors,n,k):Es(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const _=_e(r._fields,n);_&&_._f&&!(cc(r._options.reValidateMode).isOnSubmit&&cc(r._options.mode).isOnSubmit)&&By(_,r._names.disabled,r._formValues,r._options.criteriaMode===wn.all,r._options.shouldUseNativeValidation,!0).then(k=>!dr(k)&&r._subjects.state.next({errors:jM(r._formState.errors,k,n)}))}r._subjects.state.next({name:n,values:ms(r._formValues)}),r._names.focus&&_c(r._fields,(_,k)=>{if(r._names.focus&&k.startsWith(r._names.focus)&&_.focus)return _.focus(),1}),r._names.focus="",r._setValid(),h.current=!1},[o,n,r]),ne.useEffect(()=>(!_e(r._formValues,n)&&r._setFieldArray(n),()=>{const _=(k,S)=>{const A=_e(r._fields,k);A&&A._f&&(A._f.mount=S)};r._options.shouldUnregister||i?r.unregister(n):_(n,!1)}),[n,r,a,i]),{swap:ne.useCallback(y,[f,n,r]),move:ne.useCallback(j,[f,n,r]),prepend:ne.useCallback(x,[f,n,r]),append:ne.useCallback(b,[f,n,r]),remove:ne.useCallback(v,[f,n,r]),insert:ne.useCallback(g,[f,n,r]),update:ne.useCallback(w,[f,n,r]),replace:ne.useCallback(N,[f,n,r]),fields:ne.useMemo(()=>o.map((_,k)=>({..._,[a]:d.current[k]||Pi()})),[o,a])}}function It(t={}){const s=ne.useRef(void 0),r=ne.useRef(void 0),[n,a]=ne.useState({isDirty:!1,isValidating:!1,isLoading:Hn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Hn(t.defaultValues)?void 0:t.defaultValues});s.current||(s.current={...t.formControl?t.formControl:vK(t),formState:n},t.formControl&&t.defaultValues&&!Hn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=s.current.control;return i._options=t,ne.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0}),[i]),ne.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ne.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==n.isDirty&&i._subjects.state.next({isDirty:l})}},[i,n.isDirty]),ne.useEffect(()=>{t.values&&!$i(t.values,r.current)?(i._reset(t.values,i._options.resetOptions),r.current=t.values,a(l=>({...l}))):i._resetDefaultValues()},[t.values,i]),ne.useEffect(()=>{t.errors&&!dr(t.errors)&&i._setErrors(t.errors)},[t.errors,i]),ne.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ne.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[t.shouldUnregister,i]),s.current.formState=mM(n,i),s.current}const jC=(t,s,r)=>{if(t&&"reportValidity"in t){const n=_e(r,s);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},wM=(t,s)=>{for(const r in s.fields){const n=s.fields[r];n&&n.ref&&"reportValidity"in n.ref?jC(n.ref,r,t):n.refs&&n.refs.forEach(a=>jC(a,r,t))}},wK=(t,s)=>{s.shouldUseNativeValidation&&wM(t,s);const r={};for(const n in t){const a=_e(s.fields,n),i=Object.assign(t[n]||{},{ref:a&&a.ref});if(NK(s.names||Object.keys(t),n)){const l=Object.assign({},_e(r,n));Ot(l,"root",i),Ot(r,n,l)}else Ot(r,n,i)}return r},NK=(t,s)=>t.some(r=>r.startsWith(s+"."));var CK=function(t,s){for(var r={};t.length;){var n=t[0],a=n.code,i=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[l]={message:o.message,type:o.code}}else r[l]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(m){return t.push(m)})}),s){var c=r[l].types,d=c&&c[n.code];r[l]=pM(l,s,r,a,d?[].concat(d,n.message):n.message)}t.shift()}return r},Ft=function(t,s,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(l,o){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,s)).then(function(d){return i.shouldUseNativeValidation&&wM({},i),{errors:{},values:r.raw?n:d}})}catch(d){return o(d)}return c&&c.then?c.then(void 0,o):c}(0,function(l){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(l))return{values:{},errors:wK(CK(l.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw l}))}catch(l){return Promise.reject(l)}}},Tt;(function(t){t.assertEqual=a=>a;function s(a){}t.assertIs=s;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const i={};for(const l of a)i[l]=l;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),l={};for(const o of i)l[o]=a[o];return t.objectValues(l)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&i.push(l);return i},t.find=(a,i)=>{for(const l of a)if(i(l))return l},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(l=>typeof l=="string"?`'${l}'`:l).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Tt||(Tt={}));var Wy;(function(t){t.mergeShapes=(s,r)=>({...s,...r})})(Wy||(Wy={}));const Ue=Tt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ja=t=>{switch(typeof t){case"undefined":return Ue.undefined;case"string":return Ue.string;case"number":return isNaN(t)?Ue.nan:Ue.number;case"boolean":return Ue.boolean;case"function":return Ue.function;case"bigint":return Ue.bigint;case"symbol":return Ue.symbol;case"object":return Array.isArray(t)?Ue.array:t===null?Ue.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ue.promise:typeof Map<"u"&&t instanceof Map?Ue.map:typeof Set<"u"&&t instanceof Set?Ue.set:typeof Date<"u"&&t instanceof Date?Ue.date:Ue.object;default:return Ue.unknown}},ve=Tt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),SK=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ln extends Error{get errors(){return this.issues}constructor(s){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=s}format(s){const r=s||function(i){return i.message},n={_errors:[]},a=i=>{for(const l of i.issues)if(l.code==="invalid_union")l.unionErrors.map(a);else if(l.code==="invalid_return_type")a(l.returnTypeError);else if(l.code==="invalid_arguments")a(l.argumentsError);else if(l.path.length===0)n._errors.push(r(l));else{let o=n,c=0;for(;c<l.path.length;){const d=l.path[c];c===l.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(r(l))):o[d]=o[d]||{_errors:[]},o=o[d],c++}}};return a(this),n}static assert(s){if(!(s instanceof ln))throw new Error(`Not a ZodError: ${s}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Tt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(s=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(s(a))):n.push(s(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ln.create=t=>new ln(t);const wd=(t,s)=>{let r;switch(t.code){case ve.invalid_type:t.received===Ue.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ve.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Tt.jsonStringifyReplacer)}`;break;case ve.unrecognized_keys:r=`Unrecognized key(s) in object: ${Tt.joinValues(t.keys,", ")}`;break;case ve.invalid_union:r="Invalid input";break;case ve.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Tt.joinValues(t.options)}`;break;case ve.invalid_enum_value:r=`Invalid enum value. Expected ${Tt.joinValues(t.options)}, received '${t.received}'`;break;case ve.invalid_arguments:r="Invalid function arguments";break;case ve.invalid_return_type:r="Invalid function return type";break;case ve.invalid_date:r="Invalid date";break;case ve.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Tt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ve.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ve.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ve.custom:r="Invalid input";break;case ve.invalid_intersection_types:r="Intersection results could not be merged";break;case ve.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ve.not_finite:r="Number must be finite";break;default:r=s.defaultError,Tt.assertNever(t)}return{message:r}};let NM=wd;function _K(t){NM=t}function $f(){return NM}const Vf=t=>{const{data:s,path:r,errorMaps:n,issueData:a}=t,i=[...r,...a.path||[]],l={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let o="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)o=d(l,{data:s,defaultError:o}).message;return{...a,path:i,message:o}},kK=[];function Re(t,s){const r=$f(),n=Vf({issueData:s,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===wd?void 0:wd].filter(a=>!!a)});t.common.issues.push(n)}class gr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(s,r){const n=[];for(const a of r){if(a.status==="aborted")return lt;a.status==="dirty"&&s.dirty(),n.push(a.value)}return{status:s.value,value:n}}static async mergeObjectAsync(s,r){const n=[];for(const a of r){const i=await a.key,l=await a.value;n.push({key:i,value:l})}return gr.mergeObjectSync(s,n)}static mergeObjectSync(s,r){const n={};for(const a of r){const{key:i,value:l}=a;if(i.status==="aborted"||l.status==="aborted")return lt;i.status==="dirty"&&s.dirty(),l.status==="dirty"&&s.dirty(),i.value!=="__proto__"&&(typeof l.value<"u"||a.alwaysSet)&&(n[i.value]=l.value)}return{status:s.value,value:n}}}const lt=Object.freeze({status:"aborted"}),dc=t=>({status:"dirty",value:t}),Dr=t=>({status:"valid",value:t}),Hy=t=>t.status==="aborted",Ky=t=>t.status==="dirty",Po=t=>t.status==="valid",um=t=>typeof Promise<"u"&&t instanceof Promise;function Bf(t,s,r,n){if(typeof s=="function"?t!==s||!n:!s.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s.get(t)}function CM(t,s,r,n,a){if(typeof s=="function"?t!==s||!a:!s.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s.set(t,r),r}var Ye;(function(t){t.errToObj=s=>typeof s=="string"?{message:s}:s||{},t.toString=s=>typeof s=="string"?s:s==null?void 0:s.message})(Ye||(Ye={}));var fu,xu;class Fa{constructor(s,r,n,a){this._cachedPath=[],this.parent=s,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const wC=(t,s)=>{if(Po(s))return{success:!0,data:s.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ln(t.common.issues);return this._error=r,this._error}}};function ht(t){if(!t)return{};const{errorMap:s,invalid_type_error:r,required_error:n,description:a}=t;if(s&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return s?{errorMap:s,description:a}:{errorMap:(l,o)=>{var c,d;const{message:u}=t;return l.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(c=u??n)!==null&&c!==void 0?c:o.defaultError}:l.code!=="invalid_type"?{message:o.defaultError}:{message:(d=u??r)!==null&&d!==void 0?d:o.defaultError}},description:a}}class gt{get description(){return this._def.description}_getType(s){return Ja(s.data)}_getOrReturnCtx(s,r){return r||{common:s.parent.common,data:s.data,parsedType:Ja(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}_processInputParams(s){return{status:new gr,ctx:{common:s.parent.common,data:s.data,parsedType:Ja(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}}_parseSync(s){const r=this._parse(s);if(um(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(s){const r=this._parse(s);return Promise.resolve(r)}parse(s,r){const n=this.safeParse(s,r);if(n.success)return n.data;throw n.error}safeParse(s,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Ja(s)},i=this._parseSync({data:s,path:a.path,parent:a});return wC(a,i)}"~validate"(s){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Ja(s)};if(!this["~standard"].async)try{const i=this._parseSync({data:s,path:[],parent:a});return Po(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:s,path:[],parent:a}).then(i=>Po(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(s,r){const n=await this.safeParseAsync(s,r);if(n.success)return n.data;throw n.error}async safeParseAsync(s,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Ja(s)},a=this._parse({data:s,path:n.path,parent:n}),i=await(um(a)?a:Promise.resolve(a));return wC(n,i)}refine(s,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const l=s(a),o=()=>i.addIssue({code:ve.custom,...n(a)});return typeof Promise<"u"&&l instanceof Promise?l.then(c=>c?!0:(o(),!1)):l?!0:(o(),!1)})}refinement(s,r){return this._refinement((n,a)=>s(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(s){return new aa({schema:this,typeName:it.ZodEffects,effect:{type:"refinement",refinement:s}})}superRefine(s){return this._refinement(s)}constructor(s){this.spa=this.safeParseAsync,this._def=s,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ra.create(this,this._def)}nullable(){return vl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Jn.create(this)}promise(){return Cd.create(this,this._def)}or(s){return fm.create([this,s],this._def)}and(s){return xm.create(this,s,this._def)}transform(s){return new aa({...ht(this._def),schema:this,typeName:it.ZodEffects,effect:{type:"transform",transform:s}})}default(s){const r=typeof s=="function"?s:()=>s;return new jm({...ht(this._def),innerType:this,defaultValue:r,typeName:it.ZodDefault})}brand(){return new Lw({typeName:it.ZodBranded,type:this,...ht(this._def)})}catch(s){const r=typeof s=="function"?s:()=>s;return new wm({...ht(this._def),innerType:this,catchValue:r,typeName:it.ZodCatch})}describe(s){const r=this.constructor;return new r({...this._def,description:s})}pipe(s){return yh.create(this,s)}readonly(){return Nm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const PK=/^c[^\s-]{8,}$/i,EK=/^[0-9a-z]+$/,AK=/^[0-9A-HJKMNP-TV-Z]{26}$/i,TK=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,RK=/^[a-z0-9_-]{21}$/i,DK=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,MK=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,OK=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,IK="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let z0;const FK=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,LK=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,zK=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,UK=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$K=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,VK=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,SM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",BK=new RegExp(`^${SM}$`);function _M(t){let s="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?s=`${s}\\.\\d{${t.precision}}`:t.precision==null&&(s=`${s}(\\.\\d+)?`),s}function qK(t){return new RegExp(`^${_M(t)}$`)}function kM(t){let s=`${SM}T${_M(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),s=`${s}(${r.join("|")})`,new RegExp(`^${s}$`)}function WK(t,s){return!!((s==="v4"||!s)&&FK.test(t)||(s==="v6"||!s)&&zK.test(t))}function HK(t,s){if(!DK.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||!a.typ||!a.alg||s&&a.alg!==s)}catch{return!1}}function KK(t,s){return!!((s==="v4"||!s)&&LK.test(t)||(s==="v6"||!s)&&UK.test(t))}class Gn extends gt{_parse(s){if(this._def.coerce&&(s.data=String(s.data)),this._getType(s)!==Ue.string){const i=this._getOrReturnCtx(s);return Re(i,{code:ve.invalid_type,expected:Ue.string,received:i.parsedType}),lt}const n=new gr;let a;for(const i of this._def.checks)if(i.kind==="min")s.data.length<i.value&&(a=this._getOrReturnCtx(s,a),Re(a,{code:ve.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")s.data.length>i.value&&(a=this._getOrReturnCtx(s,a),Re(a,{code:ve.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const l=s.data.length>i.value,o=s.data.length<i.value;(l||o)&&(a=this._getOrReturnCtx(s,a),l?Re(a,{code:ve.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&Re(a,{code:ve.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")OK.test(s.data)||(a=this._getOrReturnCtx(s,a),Re(a,{validation:"email",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")z0||(z0=new RegExp(IK,"u")),z0.test(s.data)||(a=this._getOrReturnCtx(s,a),Re(a,{validation:"emoji",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")TK.test(s.data)||(a=this._getOrReturnCtx(s,a),Re(a,{validation:"uuid",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")RK.test(s.data)||(a=this._getOrReturnCtx(s,a),Re(a,{validation:"nanoid",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")PK.test(s.data)||(a=this._getOrReturnCtx(s,a),Re(a,{validation:"cuid",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")EK.test(s.data)||(a=this._getOrReturnCtx(s,a),Re(a,{validation:"cuid2",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")AK.test(s.data)||(a=this._getOrReturnCtx(s,a),Re(a,{validation:"ulid",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(s.data)}catch{a=this._getOrReturnCtx(s,a),Re(a,{validation:"url",code:ve.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(s.data)||(a=this._getOrReturnCtx(s,a),Re(a,{validation:"regex",code:ve.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?s.data=s.data.trim():i.kind==="includes"?s.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(s,a),Re(a,{code:ve.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?s.data=s.data.toLowerCase():i.kind==="toUpperCase"?s.data=s.data.toUpperCase():i.kind==="startsWith"?s.data.startsWith(i.value)||(a=this._getOrReturnCtx(s,a),Re(a,{code:ve.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?s.data.endsWith(i.value)||(a=this._getOrReturnCtx(s,a),Re(a,{code:ve.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?kM(i).test(s.data)||(a=this._getOrReturnCtx(s,a),Re(a,{code:ve.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?BK.test(s.data)||(a=this._getOrReturnCtx(s,a),Re(a,{code:ve.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?qK(i).test(s.data)||(a=this._getOrReturnCtx(s,a),Re(a,{code:ve.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?MK.test(s.data)||(a=this._getOrReturnCtx(s,a),Re(a,{validation:"duration",code:ve.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?WK(s.data,i.version)||(a=this._getOrReturnCtx(s,a),Re(a,{validation:"ip",code:ve.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?HK(s.data,i.alg)||(a=this._getOrReturnCtx(s,a),Re(a,{validation:"jwt",code:ve.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?KK(s.data,i.version)||(a=this._getOrReturnCtx(s,a),Re(a,{validation:"cidr",code:ve.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?$K.test(s.data)||(a=this._getOrReturnCtx(s,a),Re(a,{validation:"base64",code:ve.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?VK.test(s.data)||(a=this._getOrReturnCtx(s,a),Re(a,{validation:"base64url",code:ve.invalid_string,message:i.message}),n.dirty()):Tt.assertNever(i);return{status:n.value,value:s.data}}_regex(s,r,n){return this.refinement(a=>s.test(a),{validation:r,code:ve.invalid_string,...Ye.errToObj(n)})}_addCheck(s){return new Gn({...this._def,checks:[...this._def.checks,s]})}email(s){return this._addCheck({kind:"email",...Ye.errToObj(s)})}url(s){return this._addCheck({kind:"url",...Ye.errToObj(s)})}emoji(s){return this._addCheck({kind:"emoji",...Ye.errToObj(s)})}uuid(s){return this._addCheck({kind:"uuid",...Ye.errToObj(s)})}nanoid(s){return this._addCheck({kind:"nanoid",...Ye.errToObj(s)})}cuid(s){return this._addCheck({kind:"cuid",...Ye.errToObj(s)})}cuid2(s){return this._addCheck({kind:"cuid2",...Ye.errToObj(s)})}ulid(s){return this._addCheck({kind:"ulid",...Ye.errToObj(s)})}base64(s){return this._addCheck({kind:"base64",...Ye.errToObj(s)})}base64url(s){return this._addCheck({kind:"base64url",...Ye.errToObj(s)})}jwt(s){return this._addCheck({kind:"jwt",...Ye.errToObj(s)})}ip(s){return this._addCheck({kind:"ip",...Ye.errToObj(s)})}cidr(s){return this._addCheck({kind:"cidr",...Ye.errToObj(s)})}datetime(s){var r,n;return typeof s=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:s}):this._addCheck({kind:"datetime",precision:typeof(s==null?void 0:s.precision)>"u"?null:s==null?void 0:s.precision,offset:(r=s==null?void 0:s.offset)!==null&&r!==void 0?r:!1,local:(n=s==null?void 0:s.local)!==null&&n!==void 0?n:!1,...Ye.errToObj(s==null?void 0:s.message)})}date(s){return this._addCheck({kind:"date",message:s})}time(s){return typeof s=="string"?this._addCheck({kind:"time",precision:null,message:s}):this._addCheck({kind:"time",precision:typeof(s==null?void 0:s.precision)>"u"?null:s==null?void 0:s.precision,...Ye.errToObj(s==null?void 0:s.message)})}duration(s){return this._addCheck({kind:"duration",...Ye.errToObj(s)})}regex(s,r){return this._addCheck({kind:"regex",regex:s,...Ye.errToObj(r)})}includes(s,r){return this._addCheck({kind:"includes",value:s,position:r==null?void 0:r.position,...Ye.errToObj(r==null?void 0:r.message)})}startsWith(s,r){return this._addCheck({kind:"startsWith",value:s,...Ye.errToObj(r)})}endsWith(s,r){return this._addCheck({kind:"endsWith",value:s,...Ye.errToObj(r)})}min(s,r){return this._addCheck({kind:"min",value:s,...Ye.errToObj(r)})}max(s,r){return this._addCheck({kind:"max",value:s,...Ye.errToObj(r)})}length(s,r){return this._addCheck({kind:"length",value:s,...Ye.errToObj(r)})}nonempty(s){return this.min(1,Ye.errToObj(s))}trim(){return new Gn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Gn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Gn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(s=>s.kind==="datetime")}get isDate(){return!!this._def.checks.find(s=>s.kind==="date")}get isTime(){return!!this._def.checks.find(s=>s.kind==="time")}get isDuration(){return!!this._def.checks.find(s=>s.kind==="duration")}get isEmail(){return!!this._def.checks.find(s=>s.kind==="email")}get isURL(){return!!this._def.checks.find(s=>s.kind==="url")}get isEmoji(){return!!this._def.checks.find(s=>s.kind==="emoji")}get isUUID(){return!!this._def.checks.find(s=>s.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(s=>s.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(s=>s.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(s=>s.kind==="cuid2")}get isULID(){return!!this._def.checks.find(s=>s.kind==="ulid")}get isIP(){return!!this._def.checks.find(s=>s.kind==="ip")}get isCIDR(){return!!this._def.checks.find(s=>s.kind==="cidr")}get isBase64(){return!!this._def.checks.find(s=>s.kind==="base64")}get isBase64url(){return!!this._def.checks.find(s=>s.kind==="base64url")}get minLength(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxLength(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}Gn.create=t=>{var s;return new Gn({checks:[],typeName:it.ZodString,coerce:(s=t==null?void 0:t.coerce)!==null&&s!==void 0?s:!1,...ht(t)})};function GK(t,s){const r=(t.toString().split(".")[1]||"").length,n=(s.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(t.toFixed(a).replace(".","")),l=parseInt(s.toFixed(a).replace(".",""));return i%l/Math.pow(10,a)}class gl extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(s){if(this._def.coerce&&(s.data=Number(s.data)),this._getType(s)!==Ue.number){const i=this._getOrReturnCtx(s);return Re(i,{code:ve.invalid_type,expected:Ue.number,received:i.parsedType}),lt}let n;const a=new gr;for(const i of this._def.checks)i.kind==="int"?Tt.isInteger(s.data)||(n=this._getOrReturnCtx(s,n),Re(n,{code:ve.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?s.data<i.value:s.data<=i.value)&&(n=this._getOrReturnCtx(s,n),Re(n,{code:ve.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?s.data>i.value:s.data>=i.value)&&(n=this._getOrReturnCtx(s,n),Re(n,{code:ve.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?GK(s.data,i.value)!==0&&(n=this._getOrReturnCtx(s,n),Re(n,{code:ve.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(s.data)||(n=this._getOrReturnCtx(s,n),Re(n,{code:ve.not_finite,message:i.message}),a.dirty()):Tt.assertNever(i);return{status:a.value,value:s.data}}gte(s,r){return this.setLimit("min",s,!0,Ye.toString(r))}gt(s,r){return this.setLimit("min",s,!1,Ye.toString(r))}lte(s,r){return this.setLimit("max",s,!0,Ye.toString(r))}lt(s,r){return this.setLimit("max",s,!1,Ye.toString(r))}setLimit(s,r,n,a){return new gl({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:n,message:Ye.toString(a)}]})}_addCheck(s){return new gl({...this._def,checks:[...this._def.checks,s]})}int(s){return this._addCheck({kind:"int",message:Ye.toString(s)})}positive(s){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ye.toString(s)})}negative(s){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ye.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ye.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ye.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:Ye.toString(r)})}finite(s){return this._addCheck({kind:"finite",message:Ye.toString(s)})}safe(s){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ye.toString(s)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ye.toString(s)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}get isInt(){return!!this._def.checks.find(s=>s.kind==="int"||s.kind==="multipleOf"&&Tt.isInteger(s.value))}get isFinite(){let s=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(s===null||n.value<s)&&(s=n.value)}return Number.isFinite(r)&&Number.isFinite(s)}}gl.create=t=>new gl({checks:[],typeName:it.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ht(t)});class bl extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(s){if(this._def.coerce)try{s.data=BigInt(s.data)}catch{return this._getInvalidInput(s)}if(this._getType(s)!==Ue.bigint)return this._getInvalidInput(s);let n;const a=new gr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?s.data<i.value:s.data<=i.value)&&(n=this._getOrReturnCtx(s,n),Re(n,{code:ve.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?s.data>i.value:s.data>=i.value)&&(n=this._getOrReturnCtx(s,n),Re(n,{code:ve.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?s.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(s,n),Re(n,{code:ve.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Tt.assertNever(i);return{status:a.value,value:s.data}}_getInvalidInput(s){const r=this._getOrReturnCtx(s);return Re(r,{code:ve.invalid_type,expected:Ue.bigint,received:r.parsedType}),lt}gte(s,r){return this.setLimit("min",s,!0,Ye.toString(r))}gt(s,r){return this.setLimit("min",s,!1,Ye.toString(r))}lte(s,r){return this.setLimit("max",s,!0,Ye.toString(r))}lt(s,r){return this.setLimit("max",s,!1,Ye.toString(r))}setLimit(s,r,n,a){return new bl({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:n,message:Ye.toString(a)}]})}_addCheck(s){return new bl({...this._def,checks:[...this._def.checks,s]})}positive(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ye.toString(s)})}negative(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ye.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ye.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ye.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:Ye.toString(r)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}bl.create=t=>{var s;return new bl({checks:[],typeName:it.ZodBigInt,coerce:(s=t==null?void 0:t.coerce)!==null&&s!==void 0?s:!1,...ht(t)})};class mm extends gt{_parse(s){if(this._def.coerce&&(s.data=!!s.data),this._getType(s)!==Ue.boolean){const n=this._getOrReturnCtx(s);return Re(n,{code:ve.invalid_type,expected:Ue.boolean,received:n.parsedType}),lt}return Dr(s.data)}}mm.create=t=>new mm({typeName:it.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ht(t)});class Eo extends gt{_parse(s){if(this._def.coerce&&(s.data=new Date(s.data)),this._getType(s)!==Ue.date){const i=this._getOrReturnCtx(s);return Re(i,{code:ve.invalid_type,expected:Ue.date,received:i.parsedType}),lt}if(isNaN(s.data.getTime())){const i=this._getOrReturnCtx(s);return Re(i,{code:ve.invalid_date}),lt}const n=new gr;let a;for(const i of this._def.checks)i.kind==="min"?s.data.getTime()<i.value&&(a=this._getOrReturnCtx(s,a),Re(a,{code:ve.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?s.data.getTime()>i.value&&(a=this._getOrReturnCtx(s,a),Re(a,{code:ve.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Tt.assertNever(i);return{status:n.value,value:new Date(s.data.getTime())}}_addCheck(s){return new Eo({...this._def,checks:[...this._def.checks,s]})}min(s,r){return this._addCheck({kind:"min",value:s.getTime(),message:Ye.toString(r)})}max(s,r){return this._addCheck({kind:"max",value:s.getTime(),message:Ye.toString(r)})}get minDate(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s!=null?new Date(s):null}get maxDate(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s!=null?new Date(s):null}}Eo.create=t=>new Eo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:it.ZodDate,...ht(t)});class qf extends gt{_parse(s){if(this._getType(s)!==Ue.symbol){const n=this._getOrReturnCtx(s);return Re(n,{code:ve.invalid_type,expected:Ue.symbol,received:n.parsedType}),lt}return Dr(s.data)}}qf.create=t=>new qf({typeName:it.ZodSymbol,...ht(t)});class hm extends gt{_parse(s){if(this._getType(s)!==Ue.undefined){const n=this._getOrReturnCtx(s);return Re(n,{code:ve.invalid_type,expected:Ue.undefined,received:n.parsedType}),lt}return Dr(s.data)}}hm.create=t=>new hm({typeName:it.ZodUndefined,...ht(t)});class pm extends gt{_parse(s){if(this._getType(s)!==Ue.null){const n=this._getOrReturnCtx(s);return Re(n,{code:ve.invalid_type,expected:Ue.null,received:n.parsedType}),lt}return Dr(s.data)}}pm.create=t=>new pm({typeName:it.ZodNull,...ht(t)});class Nd extends gt{constructor(){super(...arguments),this._any=!0}_parse(s){return Dr(s.data)}}Nd.create=t=>new Nd({typeName:it.ZodAny,...ht(t)});class po extends gt{constructor(){super(...arguments),this._unknown=!0}_parse(s){return Dr(s.data)}}po.create=t=>new po({typeName:it.ZodUnknown,...ht(t)});class vi extends gt{_parse(s){const r=this._getOrReturnCtx(s);return Re(r,{code:ve.invalid_type,expected:Ue.never,received:r.parsedType}),lt}}vi.create=t=>new vi({typeName:it.ZodNever,...ht(t)});class Wf extends gt{_parse(s){if(this._getType(s)!==Ue.undefined){const n=this._getOrReturnCtx(s);return Re(n,{code:ve.invalid_type,expected:Ue.void,received:n.parsedType}),lt}return Dr(s.data)}}Wf.create=t=>new Wf({typeName:it.ZodVoid,...ht(t)});class Jn extends gt{_parse(s){const{ctx:r,status:n}=this._processInputParams(s),a=this._def;if(r.parsedType!==Ue.array)return Re(r,{code:ve.invalid_type,expected:Ue.array,received:r.parsedType}),lt;if(a.exactLength!==null){const l=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(l||o)&&(Re(r,{code:l?ve.too_big:ve.too_small,minimum:o?a.exactLength.value:void 0,maximum:l?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Re(r,{code:ve.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Re(r,{code:ve.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((l,o)=>a.type._parseAsync(new Fa(r,l,r.path,o)))).then(l=>gr.mergeArray(n,l));const i=[...r.data].map((l,o)=>a.type._parseSync(new Fa(r,l,r.path,o)));return gr.mergeArray(n,i)}get element(){return this._def.type}min(s,r){return new Jn({...this._def,minLength:{value:s,message:Ye.toString(r)}})}max(s,r){return new Jn({...this._def,maxLength:{value:s,message:Ye.toString(r)}})}length(s,r){return new Jn({...this._def,exactLength:{value:s,message:Ye.toString(r)}})}nonempty(s){return this.min(1,s)}}Jn.create=(t,s)=>new Jn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:it.ZodArray,...ht(s)});function Yo(t){if(t instanceof ps){const s={};for(const r in t.shape){const n=t.shape[r];s[r]=Ra.create(Yo(n))}return new ps({...t._def,shape:()=>s})}else return t instanceof Jn?new Jn({...t._def,type:Yo(t.element)}):t instanceof Ra?Ra.create(Yo(t.unwrap())):t instanceof vl?vl.create(Yo(t.unwrap())):t instanceof La?La.create(t.items.map(s=>Yo(s))):t}class ps extends gt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const s=this._def.shape(),r=Tt.objectKeys(s);return this._cached={shape:s,keys:r}}_parse(s){if(this._getType(s)!==Ue.object){const d=this._getOrReturnCtx(s);return Re(d,{code:ve.invalid_type,expected:Ue.object,received:d.parsedType}),lt}const{status:n,ctx:a}=this._processInputParams(s),{shape:i,keys:l}=this._getCached(),o=[];if(!(this._def.catchall instanceof vi&&this._def.unknownKeys==="strip"))for(const d in a.data)l.includes(d)||o.push(d);const c=[];for(const d of l){const u=i[d],m=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Fa(a,m,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof vi){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")o.length>0&&(Re(a,{code:ve.unrecognized_keys,keys:o}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of o){const m=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Fa(a,m,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const m=await u.key,h=await u.value;d.push({key:m,value:h,alwaysSet:u.alwaysSet})}return d}).then(d=>gr.mergeObjectSync(n,d)):gr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(s){return Ye.errToObj,new ps({...this._def,unknownKeys:"strict",...s!==void 0?{errorMap:(r,n)=>{var a,i,l,o;const c=(l=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&l!==void 0?l:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=Ye.errToObj(s).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new ps({...this._def,unknownKeys:"strip"})}passthrough(){return new ps({...this._def,unknownKeys:"passthrough"})}extend(s){return new ps({...this._def,shape:()=>({...this._def.shape(),...s})})}merge(s){return new ps({unknownKeys:s._def.unknownKeys,catchall:s._def.catchall,shape:()=>({...this._def.shape(),...s._def.shape()}),typeName:it.ZodObject})}setKey(s,r){return this.augment({[s]:r})}catchall(s){return new ps({...this._def,catchall:s})}pick(s){const r={};return Tt.objectKeys(s).forEach(n=>{s[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new ps({...this._def,shape:()=>r})}omit(s){const r={};return Tt.objectKeys(this.shape).forEach(n=>{s[n]||(r[n]=this.shape[n])}),new ps({...this._def,shape:()=>r})}deepPartial(){return Yo(this)}partial(s){const r={};return Tt.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];s&&!s[n]?r[n]=a:r[n]=a.optional()}),new ps({...this._def,shape:()=>r})}required(s){const r={};return Tt.objectKeys(this.shape).forEach(n=>{if(s&&!s[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Ra;)i=i._def.innerType;r[n]=i}}),new ps({...this._def,shape:()=>r})}keyof(){return PM(Tt.objectKeys(this.shape))}}ps.create=(t,s)=>new ps({shape:()=>t,unknownKeys:"strip",catchall:vi.create(),typeName:it.ZodObject,...ht(s)});ps.strictCreate=(t,s)=>new ps({shape:()=>t,unknownKeys:"strict",catchall:vi.create(),typeName:it.ZodObject,...ht(s)});ps.lazycreate=(t,s)=>new ps({shape:t,unknownKeys:"strip",catchall:vi.create(),typeName:it.ZodObject,...ht(s)});class fm extends gt{_parse(s){const{ctx:r}=this._processInputParams(s),n=this._def.options;function a(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const l=i.map(o=>new ln(o.ctx.common.issues));return Re(r,{code:ve.invalid_union,unionErrors:l}),lt}if(r.common.async)return Promise.all(n.map(async i=>{const l={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:l}),ctx:l}})).then(a);{let i;const l=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&l.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=l.map(c=>new ln(c));return Re(r,{code:ve.invalid_union,unionErrors:o}),lt}}get options(){return this._def.options}}fm.create=(t,s)=>new fm({options:t,typeName:it.ZodUnion,...ht(s)});const Ya=t=>t instanceof bm?Ya(t.schema):t instanceof aa?Ya(t.innerType()):t instanceof ym?[t.value]:t instanceof yl?t.options:t instanceof vm?Tt.objectValues(t.enum):t instanceof jm?Ya(t._def.innerType):t instanceof hm?[void 0]:t instanceof pm?[null]:t instanceof Ra?[void 0,...Ya(t.unwrap())]:t instanceof vl?[null,...Ya(t.unwrap())]:t instanceof Lw||t instanceof Nm?Ya(t.unwrap()):t instanceof wm?Ya(t._def.innerType):[];class mg extends gt{_parse(s){const{ctx:r}=this._processInputParams(s);if(r.parsedType!==Ue.object)return Re(r,{code:ve.invalid_type,expected:Ue.object,received:r.parsedType}),lt;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Re(r,{code:ve.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),lt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(s,r,n){const a=new Map;for(const i of r){const l=Ya(i.shape[s]);if(!l.length)throw new Error(`A discriminator value for key \`${s}\` could not be extracted from all schema options`);for(const o of l){if(a.has(o))throw new Error(`Discriminator property ${String(s)} has duplicate value ${String(o)}`);a.set(o,i)}}return new mg({typeName:it.ZodDiscriminatedUnion,discriminator:s,options:r,optionsMap:a,...ht(n)})}}function Gy(t,s){const r=Ja(t),n=Ja(s);if(t===s)return{valid:!0,data:t};if(r===Ue.object&&n===Ue.object){const a=Tt.objectKeys(s),i=Tt.objectKeys(t).filter(o=>a.indexOf(o)!==-1),l={...t,...s};for(const o of i){const c=Gy(t[o],s[o]);if(!c.valid)return{valid:!1};l[o]=c.data}return{valid:!0,data:l}}else if(r===Ue.array&&n===Ue.array){if(t.length!==s.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const l=t[i],o=s[i],c=Gy(l,o);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Ue.date&&n===Ue.date&&+t==+s?{valid:!0,data:t}:{valid:!1}}class xm extends gt{_parse(s){const{status:r,ctx:n}=this._processInputParams(s),a=(i,l)=>{if(Hy(i)||Hy(l))return lt;const o=Gy(i.value,l.value);return o.valid?((Ky(i)||Ky(l))&&r.dirty(),{status:r.value,value:o.data}):(Re(n,{code:ve.invalid_intersection_types}),lt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,l])=>a(i,l)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}xm.create=(t,s,r)=>new xm({left:t,right:s,typeName:it.ZodIntersection,...ht(r)});class La extends gt{_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.parsedType!==Ue.array)return Re(n,{code:ve.invalid_type,expected:Ue.array,received:n.parsedType}),lt;if(n.data.length<this._def.items.length)return Re(n,{code:ve.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),lt;!this._def.rest&&n.data.length>this._def.items.length&&(Re(n,{code:ve.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((l,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new Fa(n,l,n.path,o)):null}).filter(l=>!!l);return n.common.async?Promise.all(i).then(l=>gr.mergeArray(r,l)):gr.mergeArray(r,i)}get items(){return this._def.items}rest(s){return new La({...this._def,rest:s})}}La.create=(t,s)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new La({items:t,typeName:it.ZodTuple,rest:null,...ht(s)})};class gm extends gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.parsedType!==Ue.object)return Re(n,{code:ve.invalid_type,expected:Ue.object,received:n.parsedType}),lt;const a=[],i=this._def.keyType,l=this._def.valueType;for(const o in n.data)a.push({key:i._parse(new Fa(n,o,n.path,o)),value:l._parse(new Fa(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?gr.mergeObjectAsync(r,a):gr.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(s,r,n){return r instanceof gt?new gm({keyType:s,valueType:r,typeName:it.ZodRecord,...ht(n)}):new gm({keyType:Gn.create(),valueType:s,typeName:it.ZodRecord,...ht(r)})}}class Hf extends gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.parsedType!==Ue.map)return Re(n,{code:ve.invalid_type,expected:Ue.map,received:n.parsedType}),lt;const a=this._def.keyType,i=this._def.valueType,l=[...n.data.entries()].map(([o,c],d)=>({key:a._parse(new Fa(n,o,n.path,[d,"key"])),value:i._parse(new Fa(n,c,n.path,[d,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of l){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return lt;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(d.value,u.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of l){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return lt;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(d.value,u.value)}return{status:r.value,value:o}}}}Hf.create=(t,s,r)=>new Hf({valueType:s,keyType:t,typeName:it.ZodMap,...ht(r)});class Ao extends gt{_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.parsedType!==Ue.set)return Re(n,{code:ve.invalid_type,expected:Ue.set,received:n.parsedType}),lt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Re(n,{code:ve.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Re(n,{code:ve.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function l(c){const d=new Set;for(const u of c){if(u.status==="aborted")return lt;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const o=[...n.data.values()].map((c,d)=>i._parse(new Fa(n,c,n.path,d)));return n.common.async?Promise.all(o).then(c=>l(c)):l(o)}min(s,r){return new Ao({...this._def,minSize:{value:s,message:Ye.toString(r)}})}max(s,r){return new Ao({...this._def,maxSize:{value:s,message:Ye.toString(r)}})}size(s,r){return this.min(s,r).max(s,r)}nonempty(s){return this.min(1,s)}}Ao.create=(t,s)=>new Ao({valueType:t,minSize:null,maxSize:null,typeName:it.ZodSet,...ht(s)});class kc extends gt{constructor(){super(...arguments),this.validate=this.implement}_parse(s){const{ctx:r}=this._processInputParams(s);if(r.parsedType!==Ue.function)return Re(r,{code:ve.invalid_type,expected:Ue.function,received:r.parsedType}),lt;function n(o,c){return Vf({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,$f(),wd].filter(d=>!!d),issueData:{code:ve.invalid_arguments,argumentsError:c}})}function a(o,c){return Vf({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,$f(),wd].filter(d=>!!d),issueData:{code:ve.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},l=r.data;if(this._def.returns instanceof Cd){const o=this;return Dr(async function(...c){const d=new ln([]),u=await o._def.args.parseAsync(c,i).catch(f=>{throw d.addIssue(n(c,f)),d}),m=await Reflect.apply(l,this,u);return await o._def.returns._def.type.parseAsync(m,i).catch(f=>{throw d.addIssue(a(m,f)),d})})}else{const o=this;return Dr(function(...c){const d=o._def.args.safeParse(c,i);if(!d.success)throw new ln([n(c,d.error)]);const u=Reflect.apply(l,this,d.data),m=o._def.returns.safeParse(u,i);if(!m.success)throw new ln([a(u,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...s){return new kc({...this._def,args:La.create(s).rest(po.create())})}returns(s){return new kc({...this._def,returns:s})}implement(s){return this.parse(s)}strictImplement(s){return this.parse(s)}static create(s,r,n){return new kc({args:s||La.create([]).rest(po.create()),returns:r||po.create(),typeName:it.ZodFunction,...ht(n)})}}class bm extends gt{get schema(){return this._def.getter()}_parse(s){const{ctx:r}=this._processInputParams(s);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}bm.create=(t,s)=>new bm({getter:t,typeName:it.ZodLazy,...ht(s)});class ym extends gt{_parse(s){if(s.data!==this._def.value){const r=this._getOrReturnCtx(s);return Re(r,{received:r.data,code:ve.invalid_literal,expected:this._def.value}),lt}return{status:"valid",value:s.data}}get value(){return this._def.value}}ym.create=(t,s)=>new ym({value:t,typeName:it.ZodLiteral,...ht(s)});function PM(t,s){return new yl({values:t,typeName:it.ZodEnum,...ht(s)})}class yl extends gt{constructor(){super(...arguments),fu.set(this,void 0)}_parse(s){if(typeof s.data!="string"){const r=this._getOrReturnCtx(s),n=this._def.values;return Re(r,{expected:Tt.joinValues(n),received:r.parsedType,code:ve.invalid_type}),lt}if(Bf(this,fu)||CM(this,fu,new Set(this._def.values)),!Bf(this,fu).has(s.data)){const r=this._getOrReturnCtx(s),n=this._def.values;return Re(r,{received:r.data,code:ve.invalid_enum_value,options:n}),lt}return Dr(s.data)}get options(){return this._def.values}get enum(){const s={};for(const r of this._def.values)s[r]=r;return s}get Values(){const s={};for(const r of this._def.values)s[r]=r;return s}get Enum(){const s={};for(const r of this._def.values)s[r]=r;return s}extract(s,r=this._def){return yl.create(s,{...this._def,...r})}exclude(s,r=this._def){return yl.create(this.options.filter(n=>!s.includes(n)),{...this._def,...r})}}fu=new WeakMap;yl.create=PM;class vm extends gt{constructor(){super(...arguments),xu.set(this,void 0)}_parse(s){const r=Tt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(s);if(n.parsedType!==Ue.string&&n.parsedType!==Ue.number){const a=Tt.objectValues(r);return Re(n,{expected:Tt.joinValues(a),received:n.parsedType,code:ve.invalid_type}),lt}if(Bf(this,xu)||CM(this,xu,new Set(Tt.getValidEnumValues(this._def.values))),!Bf(this,xu).has(s.data)){const a=Tt.objectValues(r);return Re(n,{received:n.data,code:ve.invalid_enum_value,options:a}),lt}return Dr(s.data)}get enum(){return this._def.values}}xu=new WeakMap;vm.create=(t,s)=>new vm({values:t,typeName:it.ZodNativeEnum,...ht(s)});class Cd extends gt{unwrap(){return this._def.type}_parse(s){const{ctx:r}=this._processInputParams(s);if(r.parsedType!==Ue.promise&&r.common.async===!1)return Re(r,{code:ve.invalid_type,expected:Ue.promise,received:r.parsedType}),lt;const n=r.parsedType===Ue.promise?r.data:Promise.resolve(r.data);return Dr(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Cd.create=(t,s)=>new Cd({type:t,typeName:it.ZodPromise,...ht(s)});class aa extends gt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===it.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(s){const{status:r,ctx:n}=this._processInputParams(s),a=this._def.effect||null,i={addIssue:l=>{Re(n,l),l.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const l=a.transform(n.data,i);if(n.common.async)return Promise.resolve(l).then(async o=>{if(r.value==="aborted")return lt;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?lt:c.status==="dirty"||r.value==="dirty"?dc(c.value):c});{if(r.value==="aborted")return lt;const o=this._def.schema._parseSync({data:l,path:n.path,parent:n});return o.status==="aborted"?lt:o.status==="dirty"||r.value==="dirty"?dc(o.value):o}}if(a.type==="refinement"){const l=o=>{const c=a.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?lt:(o.status==="dirty"&&r.dirty(),l(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?lt:(o.status==="dirty"&&r.dirty(),l(o.value).then(()=>({status:r.value,value:o.value}))))}if(a.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Po(l))return l;const o=a.transform(l.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>Po(l)?Promise.resolve(a.transform(l.value,i)).then(o=>({status:r.value,value:o})):l);Tt.assertNever(a)}}aa.create=(t,s,r)=>new aa({schema:t,typeName:it.ZodEffects,effect:s,...ht(r)});aa.createWithPreprocess=(t,s,r)=>new aa({schema:s,effect:{type:"preprocess",transform:t},typeName:it.ZodEffects,...ht(r)});class Ra extends gt{_parse(s){return this._getType(s)===Ue.undefined?Dr(void 0):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}Ra.create=(t,s)=>new Ra({innerType:t,typeName:it.ZodOptional,...ht(s)});class vl extends gt{_parse(s){return this._getType(s)===Ue.null?Dr(null):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}vl.create=(t,s)=>new vl({innerType:t,typeName:it.ZodNullable,...ht(s)});class jm extends gt{_parse(s){const{ctx:r}=this._processInputParams(s);let n=r.data;return r.parsedType===Ue.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}jm.create=(t,s)=>new jm({innerType:t,typeName:it.ZodDefault,defaultValue:typeof s.default=="function"?s.default:()=>s.default,...ht(s)});class wm extends gt{_parse(s){const{ctx:r}=this._processInputParams(s),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return um(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ln(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ln(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}wm.create=(t,s)=>new wm({innerType:t,typeName:it.ZodCatch,catchValue:typeof s.catch=="function"?s.catch:()=>s.catch,...ht(s)});class Kf extends gt{_parse(s){if(this._getType(s)!==Ue.nan){const n=this._getOrReturnCtx(s);return Re(n,{code:ve.invalid_type,expected:Ue.nan,received:n.parsedType}),lt}return{status:"valid",value:s.data}}}Kf.create=t=>new Kf({typeName:it.ZodNaN,...ht(t)});const QK=Symbol("zod_brand");class Lw extends gt{_parse(s){const{ctx:r}=this._processInputParams(s),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class yh extends gt{_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?lt:i.status==="dirty"?(r.dirty(),dc(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?lt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(s,r){return new yh({in:s,out:r,typeName:it.ZodPipeline})}}class Nm extends gt{_parse(s){const r=this._def.innerType._parse(s),n=a=>(Po(a)&&(a.value=Object.freeze(a.value)),a);return um(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Nm.create=(t,s)=>new Nm({innerType:t,typeName:it.ZodReadonly,...ht(s)});function NC(t,s){const r=typeof t=="function"?t(s):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function EM(t,s={},r){return t?Nd.create().superRefine((n,a)=>{var i,l;const o=t(n);if(o instanceof Promise)return o.then(c=>{var d,u;if(!c){const m=NC(s,n),h=(u=(d=m.fatal)!==null&&d!==void 0?d:r)!==null&&u!==void 0?u:!0;a.addIssue({code:"custom",...m,fatal:h})}});if(!o){const c=NC(s,n),d=(l=(i=c.fatal)!==null&&i!==void 0?i:r)!==null&&l!==void 0?l:!0;a.addIssue({code:"custom",...c,fatal:d})}}):Nd.create()}const YK={object:ps.lazycreate};var it;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(it||(it={}));const ZK=(t,s={message:`Input not instance of ${t.name}`})=>EM(r=>r instanceof t,s),AM=Gn.create,TM=gl.create,XK=Kf.create,JK=bl.create,RM=mm.create,eG=Eo.create,tG=qf.create,sG=hm.create,rG=pm.create,nG=Nd.create,aG=po.create,iG=vi.create,lG=Wf.create,oG=Jn.create,cG=ps.create,dG=ps.strictCreate,uG=fm.create,mG=mg.create,hG=xm.create,pG=La.create,fG=gm.create,xG=Hf.create,gG=Ao.create,bG=kc.create,yG=bm.create,vG=ym.create,jG=yl.create,wG=vm.create,NG=Cd.create,CC=aa.create,CG=Ra.create,SG=vl.create,_G=aa.createWithPreprocess,kG=yh.create,PG=()=>AM().optional(),EG=()=>TM().optional(),AG=()=>RM().optional(),TG={string:t=>Gn.create({...t,coerce:!0}),number:t=>gl.create({...t,coerce:!0}),boolean:t=>mm.create({...t,coerce:!0}),bigint:t=>bl.create({...t,coerce:!0}),date:t=>Eo.create({...t,coerce:!0})},RG=lt;var I=Object.freeze({__proto__:null,defaultErrorMap:wd,setErrorMap:_K,getErrorMap:$f,makeIssue:Vf,EMPTY_PATH:kK,addIssueToContext:Re,ParseStatus:gr,INVALID:lt,DIRTY:dc,OK:Dr,isAborted:Hy,isDirty:Ky,isValid:Po,isAsync:um,get util(){return Tt},get objectUtil(){return Wy},ZodParsedType:Ue,getParsedType:Ja,ZodType:gt,datetimeRegex:kM,ZodString:Gn,ZodNumber:gl,ZodBigInt:bl,ZodBoolean:mm,ZodDate:Eo,ZodSymbol:qf,ZodUndefined:hm,ZodNull:pm,ZodAny:Nd,ZodUnknown:po,ZodNever:vi,ZodVoid:Wf,ZodArray:Jn,ZodObject:ps,ZodUnion:fm,ZodDiscriminatedUnion:mg,ZodIntersection:xm,ZodTuple:La,ZodRecord:gm,ZodMap:Hf,ZodSet:Ao,ZodFunction:kc,ZodLazy:bm,ZodLiteral:ym,ZodEnum:yl,ZodNativeEnum:vm,ZodPromise:Cd,ZodEffects:aa,ZodTransformer:aa,ZodOptional:Ra,ZodNullable:vl,ZodDefault:jm,ZodCatch:wm,ZodNaN:Kf,BRAND:QK,ZodBranded:Lw,ZodPipeline:yh,ZodReadonly:Nm,custom:EM,Schema:gt,ZodSchema:gt,late:YK,get ZodFirstPartyTypeKind(){return it},coerce:TG,any:nG,array:oG,bigint:JK,boolean:RM,date:eG,discriminatedUnion:mG,effect:CC,enum:jG,function:bG,instanceof:ZK,intersection:hG,lazy:yG,literal:vG,map:xG,nan:XK,nativeEnum:wG,never:iG,null:rG,nullable:SG,number:TM,object:cG,oboolean:AG,onumber:EG,optional:CG,ostring:PG,pipeline:kG,preprocess:_G,promise:NG,record:fG,set:gG,strictObject:dG,string:AM,symbol:tG,transformer:CC,tuple:pG,undefined:sG,union:uG,unknown:aG,void:lG,NEVER:RG,ZodIssueCode:ve,quotelessJson:SK,ZodError:ln}),DG="Label",DM=p.forwardRef((t,s)=>e.jsx(Qe.label,{...t,ref:s,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));DM.displayName=DG;var MM=DM;const MG=hh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ue=p.forwardRef(({className:t,...s},r)=>e.jsx(MM,{ref:r,className:ye(MG(),t),...s}));ue.displayName=MM.displayName;const Rt=nK,OM=p.createContext({}),Q=({...t})=>e.jsx(OM.Provider,{value:{name:t.name},children:e.jsx(oK,{...t})}),hg=()=>{const t=p.useContext(OM),s=p.useContext(IM),{getFieldState:r,formState:n}=bh(),a=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=s;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},IM=p.createContext({}),K=p.forwardRef(({className:t,...s},r)=>{const n=p.useId();return e.jsx(IM.Provider,{value:{id:n},children:e.jsx("div",{ref:r,className:ye("space-y-2",t),...s})})});K.displayName="FormItem";const Z=p.forwardRef(({className:t,...s},r)=>{const{error:n,formItemId:a}=hg();return e.jsx(ue,{ref:r,className:ye(n&&"text-destructive",t),htmlFor:a,...s})});Z.displayName="FormLabel";const G=p.forwardRef(({...t},s)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=hg();return e.jsx(Zj,{ref:s,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...t})});G.displayName="FormControl";const uc=p.forwardRef(({className:t,...s},r)=>{const{formDescriptionId:n}=hg();return e.jsx("p",{ref:r,id:n,className:ye("text-sm text-muted-foreground",t),...s})});uc.displayName="FormDescription";const X=p.forwardRef(({className:t,children:s,...r},n)=>{const{error:a,formMessageId:i}=hg(),l=a?String((a==null?void 0:a.message)??""):s;return l?e.jsx("p",{ref:n,id:i,className:ye("text-sm font-medium text-destructive",t),...r,children:l}):null});X.displayName="FormMessage";function wt(){return e.jsx("div",{className:"relative gradient-bg py-8 mt-16",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4",children:e.jsxs("div",{className:"text-left text-white",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Estate Agents Council of Zimbabwe"}),e.jsxs("div",{className:"space-y-2 text-blue-100",children:[e.jsx("p",{className:"font-medium text-white",children:"Professional Standards • Industry Excellence"}),e.jsx("p",{className:"text-sm",children:"The official regulatory body for estate agents in Zimbabwe, ensuring professional standards and protecting the interests of property buyers, sellers, and tenants."}),e.jsx("p",{className:"text-sm",children:"Registration Number: NPO/123/2018"}),e.jsx("p",{className:"text-sm",children:"Established under the Estate Agents Act [Chapter 27:05]"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Contact Information"}),e.jsxs("div",{className:"space-y-2 text-blue-100",children:[e.jsx("p",{children:"Estate Agents Council of Zimbabwe"}),e.jsx("p",{children:"18 McChlerry Avenue, Eastlea"}),e.jsx("p",{children:"Harare Zimbabwe"}),e.jsx("p",{children:"Phone: 746 400 / 746 356"}),e.jsx("p",{children:"Email: info@eac.co.zw"}),e.jsx("p",{children:"Website: eac.co.zw"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Quick Links"}),e.jsxs("div",{className:"space-y-2 text-blue-100",children:[e.jsx("p",{children:e.jsx("a",{href:"/verify",className:"hover:text-white transition-colors",children:"Verify Member"})}),e.jsx("p",{children:e.jsx("a",{href:"/cases/track",className:"hover:text-white transition-colors",children:"Track Case"})}),e.jsx("p",{children:e.jsx("a",{href:"/cases/report",className:"hover:text-white transition-colors",children:"Report Case"})}),e.jsx("p",{children:e.jsx("a",{href:"/auth",className:"hover:text-white transition-colors",children:"Member Portal"})}),e.jsx("p",{children:e.jsx("a",{href:"/",className:"hover:text-white transition-colors",children:"Home"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Contact & Legal"}),e.jsxs("div",{className:"space-y-2 text-blue-100",children:[e.jsx("p",{children:"info@eacz.co.zw"}),e.jsx("p",{children:"+263 24 2123456"}),e.jsx("p",{children:e.jsx("a",{href:"/certificates/verify",className:"hover:text-white transition-colors",children:"Verify Certificates"})}),e.jsx("p",{children:e.jsx("a",{href:"/privacy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),e.jsx("p",{children:e.jsx("a",{href:"/terms",className:"hover:text-white transition-colors",children:"Terms of Service"})}),e.jsx("p",{children:e.jsx("a",{href:"/complaints",className:"hover:text-white transition-colors",children:"Complaints Procedure"})})]})]})]}),e.jsx("div",{className:"border-t border-blue-300 pt-6",children:e.jsx("p",{className:"text-blue-100 text-left",children:"© 2025 Estate Agents Council of Zimbabwe. All rights reserved. | Follow us: @EacZim"})})]})})})}const OG=I.object({email:I.string().email("Invalid email address"),password:I.string().min(6,"Password must be at least 6 characters")});function IG(){const{user:t,loginMutation:s}=St(),[,r]=Xe(),n=It({resolver:Ft(OG),defaultValues:{email:"",password:""}});if(t)return setTimeout(()=>{t.role==="admin"||t.role==="case_manager"||t.role==="super_admin"?r("/admin-dashboard"):(t.role,r("/member-portal"))},100),null;const a=async i=>{try{await s.mutateAsync(i)}catch(l){console.error("Login failed:",l)}};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("header",{className:"bg-gradient-to-r from-egyptian-blue via-powder-blue to-egyptian-blue py-6 shadow-lg",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center p-2 shadow-md",children:e.jsx("img",{src:cn,alt:"EACZ Logo",className:"w-full h-full object-contain"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:"Estate Agents Council"}),e.jsx("p",{className:"text-white/90 text-sm md:text-base",children:"of Zimbabwe"})]})]}),e.jsxs(P,{variant:"outline",size:"lg",className:"bg-white text-egyptian-blue hover:bg-white/90 border-0 font-semibold px-6 shadow-md",onClick:()=>r("/"),"data-testid":"button-homepage",children:[e.jsx(sw,{className:"w-5 h-5 mr-2"}),"Homepage"]})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-start max-w-7xl mx-auto",children:[e.jsxs("div",{className:"w-full max-w-xl mx-auto lg:mx-0",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-egyptian-blue to-powder-blue bg-clip-text text-transparent mb-3",children:"Welcome to EAC MemberHUB"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Sign in to access your account"})]}),e.jsxs($,{className:"border-2 border-gray-100 shadow-2xl hover:shadow-3xl transition-shadow duration-300",children:[e.jsxs(J,{className:"bg-gradient-to-r from-egyptian-blue/5 to-powder-blue/5 border-b-2 border-gray-100",children:[e.jsx(ee,{className:"text-2xl text-center bg-gradient-to-r from-egyptian-blue to-powder-blue bg-clip-text text-transparent",children:"Sign In"}),e.jsx(Gt,{className:"text-center text-gray-600 text-base",children:"Enter your credentials to continue"})]}),e.jsxs(V,{className:"pt-8 pb-6",children:[e.jsxs(Zt,{defaultValue:"login",className:"w-full",children:[e.jsx(Ht,{className:"grid w-full grid-cols-1 mb-6 bg-gradient-to-r from-egyptian-blue/10 to-powder-blue/10",children:e.jsx(Ae,{value:"login","data-testid":"tab-login",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-egyptian-blue data-[state=active]:to-powder-blue data-[state=active]:text-white font-semibold",children:"Member Sign In"})}),e.jsx(Oe,{value:"login",children:e.jsx(Rt,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(a),className:"space-y-5",onKeyDown:i=>{i.key==="Enter"&&!s.isPending&&(i.preventDefault(),n.handleSubmit(a)())},children:[e.jsx(Q,{control:n.control,name:"email",render:({field:i})=>e.jsxs(K,{children:[e.jsx(Z,{className:"text-gray-700 font-semibold text-base",children:"Email Address"}),e.jsx(G,{children:e.jsx(Y,{type:"email",placeholder:"Enter your email","data-testid":"input-email",autoComplete:"email",className:"h-12 text-base border-2 border-gray-200 focus:border-egyptian-blue focus:ring-egyptian-blue",...i,onKeyDown:l=>{if(l.key==="Enter"){l.preventDefault();const o=document.querySelector('[data-testid="input-password"]');o&&o.focus()}}})}),e.jsx(X,{})]})}),e.jsx(Q,{control:n.control,name:"password",render:({field:i})=>e.jsxs(K,{children:[e.jsx(Z,{className:"text-gray-700 font-semibold text-base",children:"Password"}),e.jsx(G,{children:e.jsx(Y,{type:"password",placeholder:"Enter your password","data-testid":"input-password",autoComplete:"current-password",className:"h-12 text-base border-2 border-gray-200 focus:border-egyptian-blue focus:ring-egyptian-blue",...i,onKeyDown:l=>{l.key==="Enter"&&!s.isPending&&(l.preventDefault(),n.handleSubmit(a)())}})}),e.jsx(X,{})]})}),e.jsx(P,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-egyptian-blue to-powder-blue hover:from-egyptian-blue/90 hover:to-powder-blue/90 text-white border-0 text-base font-semibold shadow-lg hover:shadow-xl transition-all duration-200",disabled:s.isPending,"data-testid":"button-login",children:s.isPending?"Signing in...":"Sign In"})]})})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(P,{variant:"link",onClick:()=>r("/verify"),className:"text-egyptian-blue hover:text-powder-blue font-semibold","data-testid":"link-verify-member",children:"Verify Member Registration"})})]})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mb-8 text-center lg:text-left",children:[e.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-egyptian-blue to-powder-blue bg-clip-text text-transparent mb-3",children:"Quick Access"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Access our services quickly and easily"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx($,{className:"border-2 border-egyptian-blue/20 hover:border-egyptian-blue/40 hover:shadow-xl transition-all duration-200 cursor-pointer bg-gradient-to-br from-egyptian-blue/5 to-powder-blue/5",onClick:()=>r("/apply/individual"),"data-testid":"card-apply-individual",children:e.jsxs(V,{className:"p-6",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-egyptian-blue to-powder-blue rounded-full flex items-center justify-center mb-4 shadow-lg",children:e.jsx(Us,{className:"w-7 h-7 text-white"})}),e.jsx("h3",{className:"font-bold text-xl mb-2 text-gray-800",children:"Apply as Individual"}),e.jsx("p",{className:"text-gray-600",children:"Submit your individual membership application"})]})}),e.jsx($,{className:"border-2 border-powder-blue/20 hover:border-powder-blue/40 hover:shadow-xl transition-all duration-200 cursor-pointer bg-gradient-to-br from-powder-blue/5 to-egyptian-blue/5",onClick:()=>r("/apply/firm"),"data-testid":"card-register-firm",children:e.jsxs(V,{className:"p-6",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-powder-blue to-egyptian-blue rounded-full flex items-center justify-center mb-4 shadow-lg",children:e.jsx(qe,{className:"w-7 h-7 text-white"})}),e.jsx("h3",{className:"font-bold text-xl mb-2 text-gray-800",children:"Register your Firm"}),e.jsx("p",{className:"text-gray-600",children:"Register your organization with EACZ"})]})}),e.jsx($,{className:"border-2 border-egyptian-blue/20 hover:border-egyptian-blue/40 hover:shadow-xl transition-all duration-200 cursor-pointer bg-gradient-to-br from-egyptian-blue/5 to-powder-blue/5",onClick:()=>r("/verify"),"data-testid":"card-verify-member",children:e.jsxs(V,{className:"p-6",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-egyptian-blue to-powder-blue rounded-full flex items-center justify-center mb-4 shadow-lg",children:e.jsx(ds,{className:"w-7 h-7 text-white"})}),e.jsx("h3",{className:"font-bold text-xl mb-2 text-gray-800",children:"Verify Member"}),e.jsx("p",{className:"text-gray-600",children:"Check membership status and credentials"})]})}),e.jsx($,{className:"border-2 border-powder-blue/20 hover:border-powder-blue/40 hover:shadow-xl transition-all duration-200 cursor-pointer bg-gradient-to-br from-powder-blue/5 to-egyptian-blue/5",onClick:()=>r("/track-application"),"data-testid":"card-track-application",children:e.jsxs(V,{className:"p-6",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-powder-blue to-egyptian-blue rounded-full flex items-center justify-center mb-4 shadow-lg",children:e.jsx(Ks,{className:"w-7 h-7 text-white"})}),e.jsx("h3",{className:"font-bold text-xl mb-2 text-gray-800",children:"Track Your Application"}),e.jsx("p",{className:"text-gray-600",children:"Monitor your membership application progress"})]})}),e.jsx($,{className:"border-2 border-egyptian-blue/20 hover:border-egyptian-blue/40 hover:shadow-xl transition-all duration-200 cursor-pointer bg-gradient-to-br from-egyptian-blue/5 to-powder-blue/5",onClick:()=>r("/cases/track"),"data-testid":"card-track-case",children:e.jsxs(V,{className:"p-6",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-egyptian-blue to-powder-blue rounded-full flex items-center justify-center mb-4 shadow-lg",children:e.jsx(Le,{className:"w-7 h-7 text-white"})}),e.jsx("h3",{className:"font-bold text-xl mb-2 text-gray-800",children:"Track Your Case"}),e.jsx("p",{className:"text-gray-600",children:"Follow up on your case proceedings"})]})}),e.jsx($,{className:"border-2 border-powder-blue/20 hover:border-powder-blue/40 hover:shadow-xl transition-all duration-200 cursor-pointer bg-gradient-to-br from-powder-blue/5 to-egyptian-blue/5",onClick:()=>r("/cases/report"),"data-testid":"card-report-case",children:e.jsxs(V,{className:"p-6",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-powder-blue to-egyptian-blue rounded-full flex items-center justify-center mb-4 shadow-lg",children:e.jsx(Je,{className:"w-7 h-7 text-white"})}),e.jsx("h3",{className:"font-bold text-xl mb-2 text-gray-800",children:"Report Case"}),e.jsx("p",{className:"text-gray-600",children:"Submit a new case or complaint"})]})})]})]})]})}),e.jsx(wt,{})]})}const FG=hh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function oe({className:t,variant:s,...r}){return e.jsx("div",{className:ye(FG({variant:s}),t),...r})}var Qy=["Enter"," "],LG=["ArrowDown","PageUp","Home"],FM=["ArrowUp","PageDown","End"],zG=[...LG,...FM],UG={ltr:[...Qy,"ArrowRight"],rtl:[...Qy,"ArrowLeft"]},$G={ltr:["ArrowLeft"],rtl:["ArrowRight"]},vh="Menu",[Cm,VG,BG]=Qx(vh),[Fo,LM]=Gs(vh,[BG,Ud,$d]),pg=Ud(),zM=$d(),[qG,Lo]=Fo(vh),[WG,jh]=Fo(vh),UM=t=>{const{__scopeMenu:s,open:r=!1,children:n,dir:a,onOpenChange:i,modal:l=!0}=t,o=pg(s),[c,d]=p.useState(null),u=p.useRef(!1),m=rr(i),h=fh(a);return p.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),e.jsx(MR,{...o,children:e.jsx(qG,{scope:s,open:r,onOpenChange:m,content:c,onContentChange:d,children:e.jsx(WG,{scope:s,onClose:p.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:u,dir:h,modal:l,children:n})})})};UM.displayName=vh;var HG="MenuAnchor",zw=p.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t,a=pg(r);return e.jsx(hw,{...a,...n,ref:s})});zw.displayName=HG;var Uw="MenuPortal",[KG,$M]=Fo(Uw,{forceMount:void 0}),VM=t=>{const{__scopeMenu:s,forceMount:r,children:n,container:a}=t,i=Lo(Uw,s);return e.jsx(KG,{scope:s,forceMount:r,children:e.jsx(Yr,{present:r||i.open,children:e.jsx(uh,{asChild:!0,container:a,children:n})})})};VM.displayName=Uw;var _n="MenuContent",[GG,$w]=Fo(_n),BM=p.forwardRef((t,s)=>{const r=$M(_n,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=Lo(_n,t.__scopeMenu),l=jh(_n,t.__scopeMenu);return e.jsx(Cm.Provider,{scope:t.__scopeMenu,children:e.jsx(Yr,{present:n||i.open,children:e.jsx(Cm.Slot,{scope:t.__scopeMenu,children:l.modal?e.jsx(QG,{...a,ref:s}):e.jsx(YG,{...a,ref:s})})})})}),QG=p.forwardRef((t,s)=>{const r=Lo(_n,t.__scopeMenu),n=p.useRef(null),a=Nt(s,n);return p.useEffect(()=>{const i=n.current;if(i)return yw(i)},[]),e.jsx(Vw,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ke(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),YG=p.forwardRef((t,s)=>{const r=Lo(_n,t.__scopeMenu);return e.jsx(Vw,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),ZG=wo("MenuContent.ScrollLock"),Vw=p.forwardRef((t,s)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:f,disableOutsideScroll:b,...x}=t,v=Lo(_n,r),g=jh(_n,r),y=pg(r),j=zM(r),w=VG(r),[N,_]=p.useState(null),k=p.useRef(null),S=Nt(s,k,v.onContentChange),A=p.useRef(0),z=p.useRef(""),re=p.useRef(0),F=p.useRef(null),B=p.useRef("right"),U=p.useRef(0),W=b?dg:p.Fragment,E=b?{as:ZG,allowPinchZoom:!0}:void 0,M=R=>{var ce,Ze;const ie=z.current+R,O=w().filter(rt=>!rt.disabled),te=document.activeElement,se=(ce=O.find(rt=>rt.ref.current===te))==null?void 0:ce.textValue,Te=O.map(rt=>rt.textValue),Ke=cQ(Te,ie,se),ot=(Ze=O.find(rt=>rt.textValue===Ke))==null?void 0:Ze.ref.current;(function rt(We){z.current=We,window.clearTimeout(A.current),We!==""&&(A.current=window.setTimeout(()=>rt(""),1e3))})(ie),ot&&setTimeout(()=>ot.focus())};p.useEffect(()=>()=>window.clearTimeout(A.current),[]),bw();const q=p.useCallback(R=>{var O,te;return B.current===((O=F.current)==null?void 0:O.side)&&uQ(R,(te=F.current)==null?void 0:te.area)},[]);return e.jsx(GG,{scope:r,searchRef:z,onItemEnter:p.useCallback(R=>{q(R)&&R.preventDefault()},[q]),onItemLeave:p.useCallback(R=>{var ie;q(R)||((ie=k.current)==null||ie.focus(),_(null))},[q]),onTriggerLeave:p.useCallback(R=>{q(R)&&R.preventDefault()},[q]),pointerGraceTimerRef:re,onPointerGraceIntentChange:p.useCallback(R=>{F.current=R},[]),children:e.jsx(W,{...E,children:e.jsx(og,{asChild:!0,trapped:a,onMountAutoFocus:ke(i,R=>{var ie;R.preventDefault(),(ie=k.current)==null||ie.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:e.jsx(Id,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:f,children:e.jsx(Aw,{asChild:!0,...j,dir:g.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:_,onEntryFocus:ke(c,R=>{g.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(pw,{role:"menu","aria-orientation":"vertical","data-state":a3(v.open),"data-radix-menu-content":"",dir:g.dir,...y,...x,ref:S,style:{outline:"none",...x.style},onKeyDown:ke(x.onKeyDown,R=>{const O=R.target.closest("[data-radix-menu-content]")===R.currentTarget,te=R.ctrlKey||R.altKey||R.metaKey,se=R.key.length===1;O&&(R.key==="Tab"&&R.preventDefault(),!te&&se&&M(R.key));const Te=k.current;if(R.target!==Te||!zG.includes(R.key))return;R.preventDefault();const ot=w().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);FM.includes(R.key)&&ot.reverse(),lQ(ot)}),onBlur:ke(t.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(A.current),z.current="")}),onPointerMove:ke(t.onPointerMove,Sm(R=>{const ie=R.target,O=U.current!==R.clientX;if(R.currentTarget.contains(ie)&&O){const te=R.clientX>U.current?"right":"left";B.current=te,U.current=R.clientX}}))})})})})})})});BM.displayName=_n;var XG="MenuGroup",Bw=p.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t;return e.jsx(Qe.div,{role:"group",...n,ref:s})});Bw.displayName=XG;var JG="MenuLabel",qM=p.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t;return e.jsx(Qe.div,{...n,ref:s})});qM.displayName=JG;var Gf="MenuItem",SC="menu.itemSelect",fg=p.forwardRef((t,s)=>{const{disabled:r=!1,onSelect:n,...a}=t,i=p.useRef(null),l=jh(Gf,t.__scopeMenu),o=$w(Gf,t.__scopeMenu),c=Nt(s,i),d=p.useRef(!1),u=()=>{const m=i.current;if(!r&&m){const h=new CustomEvent(SC,{bubbles:!0,cancelable:!0});m.addEventListener(SC,f=>n==null?void 0:n(f),{once:!0}),Xj(m,h),h.defaultPrevented?d.current=!1:l.onClose()}};return e.jsx(WM,{...a,ref:c,disabled:r,onClick:ke(t.onClick,u),onPointerDown:m=>{var h;(h=t.onPointerDown)==null||h.call(t,m),d.current=!0},onPointerUp:ke(t.onPointerUp,m=>{var h;d.current||(h=m.currentTarget)==null||h.click()}),onKeyDown:ke(t.onKeyDown,m=>{const h=o.searchRef.current!=="";r||h&&m.key===" "||Qy.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});fg.displayName=Gf;var WM=p.forwardRef((t,s)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=t,l=$w(Gf,r),o=zM(r),c=p.useRef(null),d=Nt(s,c),[u,m]=p.useState(!1),[h,f]=p.useState("");return p.useEffect(()=>{const b=c.current;b&&f((b.textContent??"").trim())},[i.children]),e.jsx(Cm.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:e.jsx(Tw,{asChild:!0,...o,focusable:!n,children:e.jsx(Qe.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:ke(t.onPointerMove,Sm(b=>{n?l.onItemLeave(b):(l.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ke(t.onPointerLeave,Sm(b=>l.onItemLeave(b))),onFocus:ke(t.onFocus,()=>m(!0)),onBlur:ke(t.onBlur,()=>m(!1))})})})}),eQ="MenuCheckboxItem",HM=p.forwardRef((t,s)=>{const{checked:r=!1,onCheckedChange:n,...a}=t;return e.jsx(ZM,{scope:t.__scopeMenu,checked:r,children:e.jsx(fg,{role:"menuitemcheckbox","aria-checked":Qf(r)?"mixed":r,...a,ref:s,"data-state":Ww(r),onSelect:ke(a.onSelect,()=>n==null?void 0:n(Qf(r)?!0:!r),{checkForDefaultPrevented:!1})})})});HM.displayName=eQ;var KM="MenuRadioGroup",[tQ,sQ]=Fo(KM,{value:void 0,onValueChange:()=>{}}),GM=p.forwardRef((t,s)=>{const{value:r,onValueChange:n,...a}=t,i=rr(n);return e.jsx(tQ,{scope:t.__scopeMenu,value:r,onValueChange:i,children:e.jsx(Bw,{...a,ref:s})})});GM.displayName=KM;var QM="MenuRadioItem",YM=p.forwardRef((t,s)=>{const{value:r,...n}=t,a=sQ(QM,t.__scopeMenu),i=r===a.value;return e.jsx(ZM,{scope:t.__scopeMenu,checked:i,children:e.jsx(fg,{role:"menuitemradio","aria-checked":i,...n,ref:s,"data-state":Ww(i),onSelect:ke(n.onSelect,()=>{var l;return(l=a.onValueChange)==null?void 0:l.call(a,r)},{checkForDefaultPrevented:!1})})})});YM.displayName=QM;var qw="MenuItemIndicator",[ZM,rQ]=Fo(qw,{checked:!1}),XM=p.forwardRef((t,s)=>{const{__scopeMenu:r,forceMount:n,...a}=t,i=rQ(qw,r);return e.jsx(Yr,{present:n||Qf(i.checked)||i.checked===!0,children:e.jsx(Qe.span,{...a,ref:s,"data-state":Ww(i.checked)})})});XM.displayName=qw;var nQ="MenuSeparator",JM=p.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t;return e.jsx(Qe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:s})});JM.displayName=nQ;var aQ="MenuArrow",e3=p.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t,a=pg(r);return e.jsx(fw,{...a,...n,ref:s})});e3.displayName=aQ;var iQ="MenuSub",[Goe,t3]=Fo(iQ),gu="MenuSubTrigger",s3=p.forwardRef((t,s)=>{const r=Lo(gu,t.__scopeMenu),n=jh(gu,t.__scopeMenu),a=t3(gu,t.__scopeMenu),i=$w(gu,t.__scopeMenu),l=p.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},u=p.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return p.useEffect(()=>u,[u]),p.useEffect(()=>{const m=o.current;return()=>{window.clearTimeout(m),c(null)}},[o,c]),e.jsx(zw,{asChild:!0,...d,children:e.jsx(WM,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":a3(r.open),...t,ref:Gx(s,a.onTriggerChange),onClick:m=>{var h;(h=t.onClick)==null||h.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ke(t.onPointerMove,Sm(m=>{i.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!r.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:ke(t.onPointerLeave,Sm(m=>{var f,b;u();const h=(f=r.content)==null?void 0:f.getBoundingClientRect();if(h){const x=(b=r.content)==null?void 0:b.dataset.side,v=x==="right",g=v?-5:5,y=h[v?"left":"right"],j=h[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+g,y:m.clientY},{x:y,y:h.top},{x:j,y:h.top},{x:j,y:h.bottom},{x:y,y:h.bottom}],side:x}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ke(t.onKeyDown,m=>{var f;const h=i.searchRef.current!=="";t.disabled||h&&m.key===" "||UG[n.dir].includes(m.key)&&(r.onOpenChange(!0),(f=r.content)==null||f.focus(),m.preventDefault())})})})});s3.displayName=gu;var r3="MenuSubContent",n3=p.forwardRef((t,s)=>{const r=$M(_n,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=Lo(_n,t.__scopeMenu),l=jh(_n,t.__scopeMenu),o=t3(r3,t.__scopeMenu),c=p.useRef(null),d=Nt(s,c);return e.jsx(Cm.Provider,{scope:t.__scopeMenu,children:e.jsx(Yr,{present:n||i.open,children:e.jsx(Cm.Slot,{scope:t.__scopeMenu,children:e.jsx(Vw,{id:o.contentId,"aria-labelledby":o.triggerId,...a,ref:d,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var m;l.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ke(t.onFocusOutside,u=>{u.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ke(t.onEscapeKeyDown,u=>{l.onClose(),u.preventDefault()}),onKeyDown:ke(t.onKeyDown,u=>{var f;const m=u.currentTarget.contains(u.target),h=$G[l.dir].includes(u.key);m&&h&&(i.onOpenChange(!1),(f=o.trigger)==null||f.focus(),u.preventDefault())})})})})})});n3.displayName=r3;function a3(t){return t?"open":"closed"}function Qf(t){return t==="indeterminate"}function Ww(t){return Qf(t)?"indeterminate":t?"checked":"unchecked"}function lQ(t){const s=document.activeElement;for(const r of t)if(r===s||(r.focus(),document.activeElement!==s))return}function oQ(t,s){return t.map((r,n)=>t[(s+n)%t.length])}function cQ(t,s,r){const a=s.length>1&&Array.from(s).every(d=>d===s[0])?s[0]:s,i=r?t.indexOf(r):-1;let l=oQ(t,Math.max(i,0));a.length===1&&(l=l.filter(d=>d!==r));const c=l.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function dQ(t,s){const{x:r,y:n}=t;let a=!1;for(let i=0,l=s.length-1;i<s.length;l=i++){const o=s[i].x,c=s[i].y,d=s[l].x,u=s[l].y;c>n!=u>n&&r<(d-o)*(n-c)/(u-c)+o&&(a=!a)}return a}function uQ(t,s){if(!s)return!1;const r={x:t.clientX,y:t.clientY};return dQ(r,s)}function Sm(t){return s=>s.pointerType==="mouse"?t(s):void 0}var mQ=UM,hQ=zw,pQ=VM,fQ=BM,xQ=Bw,gQ=qM,bQ=fg,yQ=HM,vQ=GM,jQ=YM,wQ=XM,NQ=JM,CQ=e3,SQ=s3,_Q=n3,Hw="DropdownMenu",[kQ,Qoe]=Gs(Hw,[LM]),Fr=LM(),[PQ,i3]=kQ(Hw),l3=t=>{const{__scopeDropdownMenu:s,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:l,modal:o=!0}=t,c=Fr(s),d=p.useRef(null),[u=!1,m]=ta({prop:a,defaultProp:i,onChange:l});return e.jsx(PQ,{scope:s,triggerId:Xn(),triggerRef:d,contentId:Xn(),open:u,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(h=>!h),[m]),modal:o,children:e.jsx(mQ,{...c,open:u,onOpenChange:m,dir:n,modal:o,children:r})})};l3.displayName=Hw;var o3="DropdownMenuTrigger",c3=p.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=t,i=i3(o3,r),l=Fr(r);return e.jsx(hQ,{asChild:!0,...l,children:e.jsx(Qe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Gx(s,i.triggerRef),onPointerDown:ke(t.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:ke(t.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});c3.displayName=o3;var EQ="DropdownMenuPortal",d3=t=>{const{__scopeDropdownMenu:s,...r}=t,n=Fr(s);return e.jsx(pQ,{...n,...r})};d3.displayName=EQ;var u3="DropdownMenuContent",m3=p.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=i3(u3,r),i=Fr(r),l=p.useRef(!1);return e.jsx(fQ,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:s,onCloseAutoFocus:ke(t.onCloseAutoFocus,o=>{var c;l.current||(c=a.triggerRef.current)==null||c.focus(),l.current=!1,o.preventDefault()}),onInteractOutside:ke(t.onInteractOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});m3.displayName=u3;var AQ="DropdownMenuGroup",TQ=p.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Fr(r);return e.jsx(xQ,{...a,...n,ref:s})});TQ.displayName=AQ;var RQ="DropdownMenuLabel",h3=p.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Fr(r);return e.jsx(gQ,{...a,...n,ref:s})});h3.displayName=RQ;var DQ="DropdownMenuItem",p3=p.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Fr(r);return e.jsx(bQ,{...a,...n,ref:s})});p3.displayName=DQ;var MQ="DropdownMenuCheckboxItem",f3=p.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Fr(r);return e.jsx(yQ,{...a,...n,ref:s})});f3.displayName=MQ;var OQ="DropdownMenuRadioGroup",IQ=p.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Fr(r);return e.jsx(vQ,{...a,...n,ref:s})});IQ.displayName=OQ;var FQ="DropdownMenuRadioItem",x3=p.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Fr(r);return e.jsx(jQ,{...a,...n,ref:s})});x3.displayName=FQ;var LQ="DropdownMenuItemIndicator",g3=p.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Fr(r);return e.jsx(wQ,{...a,...n,ref:s})});g3.displayName=LQ;var zQ="DropdownMenuSeparator",b3=p.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Fr(r);return e.jsx(NQ,{...a,...n,ref:s})});b3.displayName=zQ;var UQ="DropdownMenuArrow",$Q=p.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Fr(r);return e.jsx(CQ,{...a,...n,ref:s})});$Q.displayName=UQ;var VQ="DropdownMenuSubTrigger",y3=p.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Fr(r);return e.jsx(SQ,{...a,...n,ref:s})});y3.displayName=VQ;var BQ="DropdownMenuSubContent",v3=p.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Fr(r);return e.jsx(_Q,{...a,...n,ref:s,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});v3.displayName=BQ;var qQ=l3,WQ=c3,HQ=d3,j3=m3,w3=h3,N3=p3,C3=f3,S3=x3,_3=g3,k3=b3,P3=y3,E3=v3;const KQ=qQ,GQ=WQ,QQ=p.forwardRef(({className:t,inset:s,children:r,...n},a)=>e.jsxs(P3,{ref:a,className:ye("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...n,children:[r,e.jsx(om,{className:"ml-auto"})]}));QQ.displayName=P3.displayName;const YQ=p.forwardRef(({className:t,...s},r)=>e.jsx(E3,{ref:r,className:ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...s}));YQ.displayName=E3.displayName;const A3=p.forwardRef(({className:t,sideOffset:s=4,...r},n)=>e.jsx(HQ,{children:e.jsx(j3,{ref:n,sideOffset:s,className:ye("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...r})}));A3.displayName=j3.displayName;const bu=p.forwardRef(({className:t,inset:s,...r},n)=>e.jsx(N3,{ref:n,className:ye("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...r}));bu.displayName=N3.displayName;const ZQ=p.forwardRef(({className:t,children:s,checked:r,...n},a)=>e.jsxs(C3,{ref:a,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(_3,{children:e.jsx(No,{className:"h-4 w-4"})})}),s]}));ZQ.displayName=C3.displayName;const XQ=p.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(S3,{ref:n,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(_3,{children:e.jsx(YT,{className:"h-2 w-2 fill-current"})})}),s]}));XQ.displayName=S3.displayName;const T3=p.forwardRef(({className:t,inset:s,...r},n)=>e.jsx(w3,{ref:n,className:ye("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...r}));T3.displayName=w3.displayName;const Yy=p.forwardRef(({className:t,...s},r)=>e.jsx(k3,{ref:r,className:ye("-mx-1 my-1 h-px bg-muted",t),...s}));Yy.displayName=k3.displayName;var Kw="Avatar",[JQ,Yoe]=Gs(Kw),[eY,R3]=JQ(Kw),D3=p.forwardRef((t,s)=>{const{__scopeAvatar:r,...n}=t,[a,i]=p.useState("idle");return e.jsx(eY,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:e.jsx(Qe.span,{...n,ref:s})})});D3.displayName=Kw;var M3="AvatarImage",O3=p.forwardRef((t,s)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=t,l=R3(M3,r),o=tY(n,i),c=rr(d=>{a(d),l.onImageLoadingStatusChange(d)});return Rs(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?e.jsx(Qe.img,{...i,ref:s,src:n}):null});O3.displayName=M3;var I3="AvatarFallback",F3=p.forwardRef((t,s)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,i=R3(I3,r),[l,o]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(c)}},[n]),l&&i.imageLoadingStatus!=="loaded"?e.jsx(Qe.span,{...a,ref:s}):null});F3.displayName=I3;function _C(t,s){return t?s?(t.src!==s&&(t.src=s),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function tY(t,{referrerPolicy:s,crossOrigin:r}){const n=rY(),a=p.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[l,o]=p.useState(()=>_C(i,t));return Rs(()=>{o(_C(i,t))},[i,t]),Rs(()=>{const c=m=>()=>{o(m)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),s&&(i.referrerPolicy=s),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,s]),l}function sY(){return()=>{}}function rY(){return p.useSyncExternalStore(sY,()=>!0,()=>!1)}var L3=D3,z3=O3,U3=F3;const Gw=p.forwardRef(({className:t,...s},r)=>e.jsx(L3,{ref:r,className:ye("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));Gw.displayName=L3.displayName;const nY=p.forwardRef(({className:t,...s},r)=>e.jsx(z3,{ref:r,className:ye("aspect-square h-full w-full",t),...s}));nY.displayName=z3.displayName;const Qw=p.forwardRef(({className:t,...s},r)=>e.jsx(U3,{ref:r,className:ye("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));Qw.displayName=U3.displayName;const za=xD,Vd=gD,aY=bD,$3=p.forwardRef(({className:t,...s},r)=>e.jsx(Cw,{ref:r,className:ye("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));$3.displayName=Cw.displayName;const Ua=p.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(aY,{children:[e.jsx($3,{}),e.jsxs(Sw,{ref:n,className:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[s,e.jsxs(Pw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ui,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ua.displayName=Sw.displayName;const $a=({className:t,...s})=>e.jsx("div",{className:ye("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});$a.displayName="DialogHeader";const Va=p.forwardRef(({className:t,...s},r)=>e.jsx(_w,{ref:r,className:ye("text-lg font-semibold leading-none tracking-tight",t),...s}));Va.displayName=_w.displayName;const Yw=p.forwardRef(({className:t,...s},r)=>e.jsx(kw,{ref:r,className:ye("text-sm text-muted-foreground",t),...s}));Yw.displayName=kw.displayName;const iY=I.object({firstName:I.string().min(1,"First name is required"),lastName:I.string().min(1,"Last name is required"),email:I.string().email("Invalid email address"),phone:I.string().optional()}),lY=I.object({currentPassword:I.string().min(1,"Current password is required"),newPassword:I.string().min(8,"Password must be at least 8 characters"),confirmPassword:I.string().min(1,"Please confirm your password")}).refine(t=>t.newPassword===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function kC(){const[t,s]=p.useState(!1),[r,n]=p.useState(!1),[a,i]=p.useState(!1),[l,o]=p.useState(!1),[c,d]=p.useState(!1),{user:u,logoutMutation:m}=St(),{toast:h}=tt(),[,f]=Xe(),b=It({resolver:Ft(iY),defaultValues:{firstName:(u==null?void 0:u.firstName)||"",lastName:(u==null?void 0:u.lastName)||"",email:(u==null?void 0:u.email)||"",phone:(u==null?void 0:u.phone)||""}}),x=It({resolver:Ft(lY),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),v=$e({mutationFn:async _=>await(await Be("PUT","/api/user/profile",_)).json(),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/user"]}),s(!1),console.log("About to show toast notification"),h({title:"Profile Updated",description:"Your profile has been successfully updated. A confirmation email has been sent."}),console.log("Toast notification called")},onError:_=>{h({title:"Error",description:_.message,variant:"destructive"})}}),g=$e({mutationFn:async _=>await(await Be("PUT","/api/user/password",_)).json(),onSuccess:()=>{n(!1),x.reset(),h({title:"Password Changed",description:"Your password has been successfully changed. A confirmation email has been sent."})},onError:_=>{h({title:"Error",description:_.message,variant:"destructive"})}}),y=()=>{m.mutate(),f("/auth")},j=()=>u!=null&&u.email?u.email.split("@")[0].substring(0,2).toUpperCase():"U",w=()=>{var _;return u!=null&&u.firstName&&(u!=null&&u.lastName)?`${u.firstName} ${u.lastName}`:(u==null?void 0:u.firstName)||((_=u==null?void 0:u.email)==null?void 0:_.split("@")[0])||"User"},N=()=>u!=null&&u.role?u.role.replace(/_/g," ").replace(/\b\w/g,_=>_.toUpperCase()):"User";return e.jsxs(e.Fragment,{children:[e.jsxs(KQ,{children:[e.jsx(GQ,{asChild:!0,children:e.jsxs(P,{variant:"ghost",className:"flex items-center space-x-3 h-auto p-2 text-white hover:bg-white/20","data-testid":"user-profile-dropdown",children:[e.jsx(Gw,{className:"w-8 h-8",children:e.jsx(Qw,{className:"bg-white/20 text-white text-sm",children:j()})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-medium text-white",children:w()}),e.jsx("p",{className:"text-xs text-blue-100",children:N()})]}),e.jsx(Xx,{className:"w-4 h-4 text-blue-100"})]})}),e.jsxs(A3,{align:"end",className:"w-56",children:[e.jsx(T3,{children:"My Account"}),e.jsx(Yy,{}),e.jsxs(bu,{onClick:()=>f("/admin-dashboard/profile"),"data-testid":"view-full-profile-item",children:[e.jsx(D9,{className:"mr-2 h-4 w-4"}),"View Full Profile"]}),e.jsxs(bu,{onClick:()=>s(!0),"data-testid":"edit-profile-item",children:[e.jsx(et,{className:"mr-2 h-4 w-4"}),"Quick Edit Profile"]}),e.jsxs(bu,{onClick:()=>n(!0),"data-testid":"change-password-item",children:[e.jsx(oi,{className:"mr-2 h-4 w-4"}),"Change Password"]}),e.jsx(Yy,{}),e.jsxs(bu,{onClick:y,className:"text-red-600 focus:text-red-600",disabled:m.isPending,"data-testid":"logout-item",children:[e.jsx(Jx,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]}),e.jsx(za,{open:t,onOpenChange:s,children:e.jsxs(Ua,{className:"sm:max-w-md",children:[e.jsx($a,{children:e.jsxs(Va,{className:"flex items-center space-x-2",children:[e.jsx(et,{className:"w-5 h-5"}),e.jsx("span",{children:"Edit Profile"})]})}),e.jsx(Rt,{...b,children:e.jsxs("form",{onSubmit:b.handleSubmit(_=>v.mutate(_)),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Q,{control:b.control,name:"firstName",render:({field:_})=>e.jsxs(K,{children:[e.jsx(Z,{children:"First Name"}),e.jsx(G,{children:e.jsx(Y,{..._,"data-testid":"input-first-name"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:b.control,name:"lastName",render:({field:_})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Last Name"}),e.jsx(G,{children:e.jsx(Y,{..._,"data-testid":"input-last-name"})}),e.jsx(X,{})]})})]}),e.jsx(Q,{control:b.control,name:"email",render:({field:_})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Email Address"}),e.jsx(G,{children:e.jsx(Y,{type:"email",..._,"data-testid":"input-email"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:b.control,name:"phone",render:({field:_})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Phone Number (Optional)"}),e.jsx(G,{children:e.jsx(Y,{..._,"data-testid":"input-phone"})}),e.jsx(X,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(P,{type:"button",variant:"outline",onClick:()=>s(!1),"data-testid":"cancel-profile-button",children:"Cancel"}),e.jsxs(P,{type:"submit",disabled:v.isPending,"data-testid":"save-profile-button",children:[e.jsx(Vr,{className:"w-4 h-4 mr-2"}),v.isPending?"Saving...":"Save Changes"]})]})]})})]})}),e.jsx(za,{open:r,onOpenChange:n,children:e.jsxs(Ua,{className:"sm:max-w-md",children:[e.jsx($a,{children:e.jsxs(Va,{className:"flex items-center space-x-2",children:[e.jsx(oi,{className:"w-5 h-5"}),e.jsx("span",{children:"Change Password"})]})}),e.jsx(Rt,{...x,children:e.jsxs("form",{onSubmit:x.handleSubmit(_=>g.mutate(_)),className:"space-y-4",children:[e.jsx(Q,{control:x.control,name:"currentPassword",render:({field:_})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Current Password"}),e.jsx(G,{children:e.jsxs("div",{className:"relative",children:[e.jsx(Y,{type:a?"text":"password",..._,"data-testid":"input-current-password"}),e.jsx(P,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>i(!a),children:a?e.jsx(vc,{className:"h-4 w-4"}):e.jsx(us,{className:"h-4 w-4"})})]})}),e.jsx(X,{})]})}),e.jsx(Q,{control:x.control,name:"newPassword",render:({field:_})=>e.jsxs(K,{children:[e.jsx(Z,{children:"New Password"}),e.jsx(G,{children:e.jsxs("div",{className:"relative",children:[e.jsx(Y,{type:l?"text":"password",..._,"data-testid":"input-new-password"}),e.jsx(P,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>o(!l),children:l?e.jsx(vc,{className:"h-4 w-4"}):e.jsx(us,{className:"h-4 w-4"})})]})}),e.jsx(X,{})]})}),e.jsx(Q,{control:x.control,name:"confirmPassword",render:({field:_})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Confirm New Password"}),e.jsx(G,{children:e.jsxs("div",{className:"relative",children:[e.jsx(Y,{type:c?"text":"password",..._,"data-testid":"input-confirm-password"}),e.jsx(P,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>d(!c),children:c?e.jsx(vc,{className:"h-4 w-4"}):e.jsx(us,{className:"h-4 w-4"})})]})}),e.jsx(X,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(P,{type:"button",variant:"outline",onClick:()=>n(!1),"data-testid":"cancel-password-button",children:"Cancel"}),e.jsxs(P,{type:"submit",disabled:g.isPending,"data-testid":"change-password-button",children:[e.jsx(oi,{className:"w-4 h-4 mr-2"}),g.isPending?"Changing...":"Change Password"]})]})]})})]})})]})}const oY=(t,s)=>{const r=[{bg:"hover:bg-gradient-to-r hover:from-blue-500/20 hover:to-purple-500/20",active:"bg-gradient-to-r from-blue-500/30 to-purple-500/30 border-blue-400",icon:"text-blue-300"},{bg:"hover:bg-gradient-to-r hover:from-emerald-500/20 hover:to-teal-500/20",active:"bg-gradient-to-r from-emerald-500/30 to-teal-500/30 border-emerald-400",icon:"text-emerald-300"},{bg:"hover:bg-gradient-to-r hover:from-orange-500/20 hover:to-red-500/20",active:"bg-gradient-to-r from-orange-500/30 to-red-500/30 border-orange-400",icon:"text-orange-300"},{bg:"hover:bg-gradient-to-r hover:from-violet-500/20 hover:to-purple-500/20",active:"bg-gradient-to-r from-violet-500/30 to-purple-500/30 border-violet-400",icon:"text-violet-300"},{bg:"hover:bg-gradient-to-r hover:from-rose-500/20 hover:to-pink-500/20",active:"bg-gradient-to-r from-rose-500/30 to-pink-500/30 border-rose-400",icon:"text-rose-300"},{bg:"hover:bg-gradient-to-r hover:from-cyan-500/20 hover:to-blue-500/20",active:"bg-gradient-to-r from-cyan-500/30 to-blue-500/30 border-cyan-400",icon:"text-cyan-300"},{bg:"hover:bg-gradient-to-r hover:from-yellow-500/20 hover:to-orange-500/20",active:"bg-gradient-to-r from-yellow-500/30 to-orange-500/30 border-yellow-400",icon:"text-yellow-300"},{bg:"hover:bg-gradient-to-r hover:from-indigo-500/20 hover:to-purple-500/20",active:"bg-gradient-to-r from-indigo-500/30 to-purple-500/30 border-indigo-400",icon:"text-indigo-300"}];return{...t,colorScheme:r[s%r.length]}};function Zw({currentPage:t,title:s,subtitle:r,navigationItems:n}){const[,a]=Xe(),[i,l]=p.useState(!1),o=n.map((d,u)=>oY(d,u)),c=d=>{const u=o.find(m=>m.value===d);u&&a(u.href),l(!1)};return e.jsxs("div",{className:"bg-gradient-to-r from-egyptian-blue via-powder-blue to-egyptian-blue text-white shadow-lg",children:[e.jsxs("div",{className:"px-4 sm:px-6 py-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"relative group",children:e.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center p-2 shadow-md group-hover:shadow-lg transition-all duration-300 transform group-hover:scale-105",children:e.jsx("img",{src:cn,alt:"EACZ Logo",className:"w-full h-full object-contain"})})}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:"Estate Agents Council"}),e.jsx("p",{className:"text-white/90 text-xs md:text-sm font-medium",children:"of Zimbabwe"})]})]}),e.jsx("div",{className:"hidden lg:flex items-center space-x-4",children:e.jsx(kC,{})}),e.jsxs("div",{className:"lg:hidden flex items-center space-x-2",children:[e.jsx(kC,{}),e.jsx(P,{variant:"ghost",size:"sm",onClick:()=>l(!i),className:"text-white hover:bg-white/10 transition-all duration-200",children:i?e.jsx(ui,{className:"w-5 h-5"}):e.jsx($9,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"sm:hidden mt-2",children:[e.jsx("h1",{className:"text-base font-bold text-white",children:"Estate Agents Council"}),e.jsx("p",{className:"text-white/90 text-xs",children:"of Zimbabwe"})]})]}),e.jsx("div",{className:"hidden lg:block px-4 sm:px-6",children:e.jsx(Zt,{value:t,onValueChange:c,children:e.jsx(Ht,{className:"h-auto w-full justify-start bg-transparent p-0 gap-1 rounded-none overflow-x-auto scrollbar-hide",children:o.map((d,u)=>e.jsx(Ae,{value:d.value,className:`
                  relative h-12 px-4 lg:px-5 rounded-t-lg border-0 text-white/70 font-semibold text-sm
                  hover:text-white hover:bg-white/10 transition-all duration-300 whitespace-nowrap
                  data-[state=active]:bg-white data-[state=active]:text-gray-800
                  data-[state=active]:shadow-md
                  backdrop-blur-sm
                `,"data-testid":`tab-${d.value}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d.icon,{className:"w-4 h-4"}),e.jsx("span",{children:d.label}),d.badge&&e.jsx(oe,{variant:d.badgeVariant||"secondary",className:`ml-1 px-2 py-0.5 text-xs h-5 font-bold ${t===d.value?"bg-gray-100 text-gray-700 border-gray-300":"bg-white/20 text-white border-white/30"}`,children:d.badge})]})},d.value))})})}),i&&e.jsx("div",{className:"lg:hidden bg-white/5 backdrop-blur-md",children:e.jsx("div",{className:"px-4 py-3 space-y-1",children:o.map(d=>e.jsxs("button",{onClick:()=>c(d.value),className:`
                  w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-all duration-200
                  ${t===d.value?"bg-white text-gray-800 shadow-md":"text-white/80 hover:text-white hover:bg-white/10"}
                `,"data-testid":`mobile-tab-${d.value}`,children:[e.jsx(d.icon,{className:"w-5 h-5"}),e.jsx("span",{className:"font-semibold flex-1",children:d.label}),d.badge&&e.jsx(oe,{variant:d.badgeVariant||"secondary",className:`px-2 py-0.5 text-xs h-5 font-bold ${t===d.value?"bg-gray-100 text-gray-700 border-gray-300":"bg-white/20 text-white border-white/30"}`,children:d.badge})]},d.value))})})]})}function El({currentPage:t,title:s="EACZ Member Portal",subtitle:r="Member Dashboard"}){const n=[{icon:at,label:"Dashboard",href:"/member-portal",value:"dashboard"},{icon:et,label:"Profile",href:"/member/profile",value:"profile"},{icon:Le,label:"Documents",href:"/member/documents",value:"documents"},{icon:dt,label:"Events",href:"/member/events",value:"events"},{icon:Qt,label:"Payments",href:"/member/payments",value:"payments"},{icon:js,label:"Certificate",href:"/member/certificate",value:"certificate"}];return e.jsx(Zw,{currentPage:t,title:s,subtitle:r,navigationItems:n})}function cY(){const{user:t}=St(),[,s]=Xe(),{data:r,isLoading:n}=Ge({queryKey:["/api/members/profile"],enabled:!!t}),{data:a=[],isLoading:i}=Ge({queryKey:["/api/events?upcoming=true"],enabled:!!t}),l=[{icon:Wt,label:"Download Certificate",action:()=>s("/certificate"),color:"text-blue-600",bg:"bg-blue-100"},{icon:ws,label:"Renew Membership",action:()=>s("/renewals"),color:"text-green-600",bg:"bg-green-100"},{icon:Co,label:"CPD Tracking",action:()=>s("/cpd-tracking"),color:"text-indigo-600",bg:"bg-indigo-100"},{icon:Je,label:"Lodge Complaint",action:()=>s("/case-management"),color:"text-orange-600",bg:"bg-orange-100"},{icon:sa,label:"Update Profile",action:()=>s("/member/profile"),color:"text-purple-600",bg:"bg-purple-100"}];return n?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(El,{currentPage:"dashboard",title:"EACZ Member Portal",subtitle:"Manage your membership and professional growth"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-2 h-12 bg-gradient-to-b from-primary to-primary/80 rounded-full mr-4 shadow-lg"}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-bold bg-gradient-to-r from-foreground to-muted-foreground bg-clip-text text-transparent",children:["Welcome back, ",(r==null?void 0:r.firstName)||(t==null?void 0:t.email)||"Member","!"]}),e.jsx("p",{className:"text-muted-foreground text-lg mt-2",children:"Manage your membership and accelerate your professional growth"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 mt-6",children:[e.jsxs(oe,{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-2 text-sm font-medium shadow-lg",children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),(r==null?void 0:r.membershipStatus)==="active"?"Active Member":"Pending Verification"]}),e.jsxs(oe,{variant:"outline",className:"border-blue-200 text-blue-700 bg-blue-50 px-4 py-2",children:["ID: ",(r==null?void 0:r.membershipNumber)||"Loading..."]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:[e.jsx($,{className:"relative overflow-hidden border-0 shadow-xl bg-gradient-to-br from-emerald-500 to-teal-600 text-white hover:scale-105 transition-all duration-300",children:e.jsxs(V,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-emerald-100 text-sm font-medium mb-1",children:"Membership Status"}),e.jsx("p",{className:"text-2xl font-bold capitalize","data-testid":"stat-membership-status",children:(r==null?void 0:r.membershipStatus)||"Active"})]}),e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx(le,{className:"w-6 h-6 text-white"})})]}),e.jsx("div",{className:"absolute -bottom-4 -right-4 w-20 h-20 bg-white/10 rounded-full"})]})}),e.jsx($,{className:"relative overflow-hidden border-0 shadow-xl bg-gradient-to-br from-blue-500 to-indigo-600 text-white hover:scale-105 transition-all duration-300",children:e.jsxs(V,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium mb-1",children:"CPD Progress"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"stat-cpd-points",children:"0/50"}),e.jsx("div",{className:"w-full bg-blue-400/30 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-500",style:{width:"0%"}})})]}),e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx(Co,{className:"w-6 h-6 text-white"})})]}),e.jsx("div",{className:"absolute -bottom-4 -right-4 w-20 h-20 bg-white/10 rounded-full"})]})}),e.jsx($,{className:"relative overflow-hidden border-0 shadow-xl bg-gradient-to-br from-amber-500 to-orange-600 text-white hover:scale-105 transition-all duration-300",children:e.jsxs(V,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-amber-100 text-sm font-medium mb-1",children:"Next Renewal"}),e.jsx("p",{className:"text-xl font-bold","data-testid":"stat-next-renewal",children:r!=null&&r.expiryDate?new Date(r.expiryDate).toLocaleDateString("en-GB"):"Jan 2025"}),e.jsx("p",{className:"text-xs text-amber-100 mt-1",children:"90 days remaining"})]}),e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx(dt,{className:"w-6 h-6 text-white"})})]}),e.jsx("div",{className:"absolute -bottom-4 -right-4 w-20 h-20 bg-white/10 rounded-full"})]})}),e.jsx($,{className:"relative overflow-hidden border-0 shadow-xl bg-gradient-to-br from-violet-500 to-purple-600 text-white hover:scale-105 transition-all duration-300",children:e.jsxs(V,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-violet-100 text-sm font-medium mb-1",children:"Organization"}),e.jsx("p",{className:"text-lg font-bold","data-testid":"stat-organization",children:r!=null&&r.organizationId?"Linked":"Individual"}),e.jsx("p",{className:"text-xs text-violet-100 mt-1",children:"Member Type"})]}),e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx(qe,{className:"w-6 h-6 text-white"})})]}),e.jsx("div",{className:"absolute -bottom-4 -right-4 w-20 h-20 bg-white/10 rounded-full"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8 mb-8",children:[e.jsxs($,{className:"xl:col-span-2 border-0 shadow-lg bg-white/70 backdrop-blur-sm hover:shadow-xl transition-all duration-300",children:[e.jsx(J,{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-t-lg",children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(dt,{className:"w-5 h-5 mr-2"}),"Upcoming CPD Events"]})}),e.jsxs(V,{className:"p-6",children:[i?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"animate-pulse bg-gradient-to-r from-slate-200 to-slate-300 rounded-xl h-24"}),e.jsx("div",{className:"animate-pulse bg-gradient-to-r from-slate-200 to-slate-300 rounded-xl h-24"})]}):a.length>0?e.jsx("div",{className:"space-y-4",children:a.slice(0,3).map((o,c)=>e.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl shadow-sm border transition-all duration-200 hover:shadow-md ${c===0?"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200":c===1?"bg-gradient-to-r from-emerald-50 to-teal-50 border-emerald-200":"bg-gradient-to-r from-purple-50 to-violet-50 border-purple-200"}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mr-4 ${c===0?"bg-gradient-to-br from-blue-500 to-indigo-600":c===1?"bg-gradient-to-br from-emerald-500 to-teal-600":"bg-gradient-to-br from-purple-500 to-violet-600"}`,children:e.jsx(dt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900","data-testid":`event-title-${o.id}`,children:o.title}),e.jsxs("p",{className:"text-sm text-slate-600","data-testid":`event-date-${o.id}`,children:[new Date(o.startDate).toLocaleDateString("en-GB")," • ",new Date(o.startDate).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})]}),e.jsx(oe,{variant:"outline",className:"text-xs mt-1",children:"15 CPD Points"})]})]}),e.jsx(P,{size:"sm",className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white border-0 shadow-md","data-testid":`button-register-${o.id}`,children:"Register"})]},o.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(dt,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"No upcoming events"}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Check back soon for new opportunities"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(P,{variant:"outline",className:"border-blue-200 text-blue-700 hover:bg-blue-50",onClick:()=>s("/event-management"),"data-testid":"link-view-all-events",children:"View all events →"})})]})]}),e.jsxs($,{className:"border-0 shadow-lg bg-white/70 backdrop-blur-sm hover:shadow-xl transition-all duration-300",children:[e.jsx(J,{className:"bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-t-lg",children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(ws,{className:"w-5 h-5 mr-2"}),"Quick Actions"]})}),e.jsx(V,{className:"p-6",children:e.jsx("div",{className:"space-y-3",children:l.map((o,c)=>e.jsxs(P,{variant:"ghost",className:"w-full justify-start p-4 h-auto hover:scale-102 transition-all duration-200 group",onClick:o.action,"data-testid":`quick-action-${o.label.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx("div",{className:`w-10 h-10 ${o.bg} rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 transition-transform`,children:e.jsx(o.icon,{className:`w-5 h-5 ${o.color}`})}),e.jsx("span",{className:"font-medium text-slate-700 group-hover:text-slate-900",children:o.label})]},c))})})]})]}),e.jsxs($,{className:"mt-6",children:[e.jsx(J,{children:e.jsx(ee,{children:"Recent Activity"})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(le,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-card-foreground","data-testid":"activity-payment",children:"Payment received for annual membership renewal"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"2 hours ago"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(dt,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-card-foreground","data-testid":"activity-event",children:"Registered for Property Law Workshop"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"1 day ago"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Le,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-card-foreground","data-testid":"activity-certificate",children:"Certificate downloaded"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"3 days ago"})]})]})]})})]})]}),e.jsx(wt,{})]})}const kt=p.forwardRef(({className:t,...s},r)=>e.jsx("textarea",{className:ye("flex min-h-[80px] w-full rounded-none border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...s}));kt.displayName="Textarea";function PC(t,[s,r]){return Math.min(r,Math.max(s,t))}function xg(t){const s=p.useRef({value:t,previous:t});return p.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var dY=[" ","Enter","ArrowUp","ArrowDown"],uY=[" ","Enter"],wh="Select",[gg,bg,mY]=Qx(wh),[Bd,Zoe]=Gs(wh,[mY,Ud]),yg=Ud(),[hY,Al]=Bd(wh),[pY,fY]=Bd(wh),V3=t=>{const{__scopeSelect:s,children:r,open:n,defaultOpen:a,onOpenChange:i,value:l,defaultValue:o,onValueChange:c,dir:d,name:u,autoComplete:m,disabled:h,required:f,form:b}=t,x=yg(s),[v,g]=p.useState(null),[y,j]=p.useState(null),[w,N]=p.useState(!1),_=fh(d),[k=!1,S]=ta({prop:n,defaultProp:a,onChange:i}),[A,z]=ta({prop:l,defaultProp:o,onChange:c}),re=p.useRef(null),F=v?b||!!v.closest("form"):!0,[B,U]=p.useState(new Set),W=Array.from(B).map(E=>E.props.value).join(";");return e.jsx(MR,{...x,children:e.jsxs(hY,{required:f,scope:s,trigger:v,onTriggerChange:g,valueNode:y,onValueNodeChange:j,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:Xn(),value:A,onValueChange:z,open:k,onOpenChange:S,dir:_,triggerPointerDownPosRef:re,disabled:h,children:[e.jsx(gg.Provider,{scope:s,children:e.jsx(pY,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(E=>{U(M=>new Set(M).add(E))},[]),onNativeOptionRemove:p.useCallback(E=>{U(M=>{const q=new Set(M);return q.delete(E),q})},[]),children:r})}),F?e.jsxs(h6,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:m,value:A,onChange:E=>z(E.target.value),disabled:h,form:b,children:[A===void 0?e.jsx("option",{value:""}):null,Array.from(B)]},W):null]})})};V3.displayName=wh;var B3="SelectTrigger",q3=p.forwardRef((t,s)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=yg(r),l=Al(B3,r),o=l.disabled||n,c=Nt(s,l.onTriggerChange),d=bg(r),u=p.useRef("touch"),[m,h,f]=p6(x=>{const v=d().filter(j=>!j.disabled),g=v.find(j=>j.value===l.value),y=f6(v,x,g);y!==void 0&&l.onValueChange(y.value)}),b=x=>{o||(l.onOpenChange(!0),f()),x&&(l.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return e.jsx(hw,{asChild:!0,...i,children:e.jsx(Qe.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":m6(l.value)?"":void 0,...a,ref:c,onClick:ke(a.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&b(x)}),onPointerDown:ke(a.onPointerDown,x=>{u.current=x.pointerType;const v=x.target;v.hasPointerCapture(x.pointerId)&&v.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:ke(a.onKeyDown,x=>{const v=m.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(v&&x.key===" ")&&dY.includes(x.key)&&(b(),x.preventDefault())})})})});q3.displayName=B3;var W3="SelectValue",H3=p.forwardRef((t,s)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:l="",...o}=t,c=Al(W3,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,m=Nt(s,c.onValueNodeChange);return Rs(()=>{d(u)},[d,u]),e.jsx(Qe.span,{...o,ref:m,style:{pointerEvents:"none"},children:m6(c.value)?e.jsx(e.Fragment,{children:l}):i})});H3.displayName=W3;var xY="SelectIcon",K3=p.forwardRef((t,s)=>{const{__scopeSelect:r,children:n,...a}=t;return e.jsx(Qe.span,{"aria-hidden":!0,...a,ref:s,children:n||"▼"})});K3.displayName=xY;var gY="SelectPortal",G3=t=>e.jsx(uh,{asChild:!0,...t});G3.displayName=gY;var To="SelectContent",Q3=p.forwardRef((t,s)=>{const r=Al(To,t.__scopeSelect),[n,a]=p.useState();if(Rs(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Pl.createPortal(e.jsx(Y3,{scope:t.__scopeSelect,children:e.jsx(gg.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(Z3,{...t,ref:s})});Q3.displayName=To;var Tn=10,[Y3,Tl]=Bd(To),bY="SelectContentImpl",yY=wo("SelectContent.RemoveScroll"),Z3=p.forwardRef((t,s)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:l,side:o,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:f,sticky:b,hideWhenDetached:x,avoidCollisions:v,...g}=t,y=Al(To,r),[j,w]=p.useState(null),[N,_]=p.useState(null),k=Nt(s,ce=>w(ce)),[S,A]=p.useState(null),[z,re]=p.useState(null),F=bg(r),[B,U]=p.useState(!1),W=p.useRef(!1);p.useEffect(()=>{if(j)return yw(j)},[j]),bw();const E=p.useCallback(ce=>{const[Ze,...rt]=F().map(he=>he.ref.current),[We]=rt.slice(-1),ze=document.activeElement;for(const he of ce)if(he===ze||(he==null||he.scrollIntoView({block:"nearest"}),he===Ze&&N&&(N.scrollTop=0),he===We&&N&&(N.scrollTop=N.scrollHeight),he==null||he.focus(),document.activeElement!==ze))return},[F,N]),M=p.useCallback(()=>E([S,j]),[E,S,j]);p.useEffect(()=>{B&&M()},[B,M]);const{onOpenChange:q,triggerPointerDownPosRef:R}=y;p.useEffect(()=>{if(j){let ce={x:0,y:0};const Ze=We=>{var ze,he;ce={x:Math.abs(Math.round(We.pageX)-(((ze=R.current)==null?void 0:ze.x)??0)),y:Math.abs(Math.round(We.pageY)-(((he=R.current)==null?void 0:he.y)??0))}},rt=We=>{ce.x<=10&&ce.y<=10?We.preventDefault():j.contains(We.target)||q(!1),document.removeEventListener("pointermove",Ze),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",Ze),document.addEventListener("pointerup",rt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ze),document.removeEventListener("pointerup",rt,{capture:!0})}}},[j,q,R]),p.useEffect(()=>{const ce=()=>q(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[q]);const[ie,O]=p6(ce=>{const Ze=F().filter(ze=>!ze.disabled),rt=Ze.find(ze=>ze.ref.current===document.activeElement),We=f6(Ze,ce,rt);We&&setTimeout(()=>We.ref.current.focus())}),te=p.useCallback((ce,Ze,rt)=>{const We=!W.current&&!rt;(y.value!==void 0&&y.value===Ze||We)&&(A(ce),We&&(W.current=!0))},[y.value]),se=p.useCallback(()=>j==null?void 0:j.focus(),[j]),Te=p.useCallback((ce,Ze,rt)=>{const We=!W.current&&!rt;(y.value!==void 0&&y.value===Ze||We)&&re(ce)},[y.value]),Ke=n==="popper"?Zy:X3,ot=Ke===Zy?{side:o,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:f,sticky:b,hideWhenDetached:x,avoidCollisions:v}:{};return e.jsx(Y3,{scope:r,content:j,viewport:N,onViewportChange:_,itemRefCallback:te,selectedItem:S,onItemLeave:se,itemTextRefCallback:Te,focusSelectedItem:M,selectedItemText:z,position:n,isPositioned:B,searchRef:ie,children:e.jsx(dg,{as:yY,allowPinchZoom:!0,children:e.jsx(og,{asChild:!0,trapped:y.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:ke(a,ce=>{var Ze;(Ze=y.trigger)==null||Ze.focus({preventScroll:!0}),ce.preventDefault()}),children:e.jsx(Id,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:e.jsx(Ke,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ce=>ce.preventDefault(),...g,...ot,onPlaced:()=>U(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:ke(g.onKeyDown,ce=>{const Ze=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!Ze&&ce.key.length===1&&O(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let We=F().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(We=We.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const ze=ce.target,he=We.indexOf(ze);We=We.slice(he+1)}setTimeout(()=>E(We)),ce.preventDefault()}})})})})})})});Z3.displayName=bY;var vY="SelectItemAlignedPosition",X3=p.forwardRef((t,s)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=Al(To,r),l=Tl(To,r),[o,c]=p.useState(null),[d,u]=p.useState(null),m=Nt(s,k=>u(k)),h=bg(r),f=p.useRef(!1),b=p.useRef(!0),{viewport:x,selectedItem:v,selectedItemText:g,focusSelectedItem:y}=l,j=p.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&d&&x&&v&&g){const k=i.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),z=g.getBoundingClientRect();if(i.dir!=="rtl"){const ze=z.left-S.left,he=A.left-ze,be=k.left-he,ct=k.width+be,bt=Math.max(ct,S.width),zt=window.innerWidth-Tn,ks=PC(he,[Tn,Math.max(Tn,zt-bt)]);o.style.minWidth=ct+"px",o.style.left=ks+"px"}else{const ze=S.right-z.right,he=window.innerWidth-A.right-ze,be=window.innerWidth-k.right-he,ct=k.width+be,bt=Math.max(ct,S.width),zt=window.innerWidth-Tn,ks=PC(he,[Tn,Math.max(Tn,zt-bt)]);o.style.minWidth=ct+"px",o.style.right=ks+"px"}const re=h(),F=window.innerHeight-Tn*2,B=x.scrollHeight,U=window.getComputedStyle(d),W=parseInt(U.borderTopWidth,10),E=parseInt(U.paddingTop,10),M=parseInt(U.borderBottomWidth,10),q=parseInt(U.paddingBottom,10),R=W+E+B+q+M,ie=Math.min(v.offsetHeight*5,R),O=window.getComputedStyle(x),te=parseInt(O.paddingTop,10),se=parseInt(O.paddingBottom,10),Te=k.top+k.height/2-Tn,Ke=F-Te,ot=v.offsetHeight/2,ce=v.offsetTop+ot,Ze=W+E+ce,rt=R-Ze;if(Ze<=Te){const ze=re.length>0&&v===re[re.length-1].ref.current;o.style.bottom="0px";const he=d.clientHeight-x.offsetTop-x.offsetHeight,be=Math.max(Ke,ot+(ze?se:0)+he+M),ct=Ze+be;o.style.height=ct+"px"}else{const ze=re.length>0&&v===re[0].ref.current;o.style.top="0px";const be=Math.max(Te,W+x.offsetTop+(ze?te:0)+ot)+rt;o.style.height=be+"px",x.scrollTop=Ze-Te+x.offsetTop}o.style.margin=`${Tn}px 0`,o.style.minHeight=ie+"px",o.style.maxHeight=F+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[h,i.trigger,i.valueNode,o,d,x,v,g,i.dir,n]);Rs(()=>j(),[j]);const[w,N]=p.useState();Rs(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const _=p.useCallback(k=>{k&&b.current===!0&&(j(),y==null||y(),b.current=!1)},[j,y]);return e.jsx(wY,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:f,onScrollButtonChange:_,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:e.jsx(Qe.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});X3.displayName=vY;var jY="SelectPopperPosition",Zy=p.forwardRef((t,s)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Tn,...i}=t,l=yg(r);return e.jsx(pw,{...l,...i,ref:s,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Zy.displayName=jY;var[wY,Xw]=Bd(To,{}),Xy="SelectViewport",J3=p.forwardRef((t,s)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=Tl(Xy,r),l=Xw(Xy,r),o=Nt(s,i.onViewportChange),c=p.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(gg.Slot,{scope:r,children:e.jsx(Qe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ke(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=l;if(h!=null&&h.current&&m){const f=Math.abs(c.current-u.scrollTop);if(f>0){const b=window.innerHeight-Tn*2,x=parseFloat(m.style.minHeight),v=parseFloat(m.style.height),g=Math.max(x,v);if(g<b){const y=g+f,j=Math.min(b,y),w=y-j;m.style.height=j+"px",m.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});J3.displayName=Xy;var e6="SelectGroup",[NY,CY]=Bd(e6),SY=p.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=Xn();return e.jsx(NY,{scope:r,id:a,children:e.jsx(Qe.div,{role:"group","aria-labelledby":a,...n,ref:s})})});SY.displayName=e6;var t6="SelectLabel",s6=p.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=CY(t6,r);return e.jsx(Qe.div,{id:a.id,...n,ref:s})});s6.displayName=t6;var Yf="SelectItem",[_Y,r6]=Bd(Yf),n6=p.forwardRef((t,s)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...l}=t,o=Al(Yf,r),c=Tl(Yf,r),d=o.value===n,[u,m]=p.useState(i??""),[h,f]=p.useState(!1),b=Nt(s,y=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,y,n,a)}),x=Xn(),v=p.useRef("touch"),g=()=>{a||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(_Y,{scope:r,value:n,disabled:a,textId:x,isSelected:d,onItemTextChange:p.useCallback(y=>{m(j=>j||((y==null?void 0:y.textContent)??"").trim())},[]),children:e.jsx(gg.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:e.jsx(Qe.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:b,onFocus:ke(l.onFocus,()=>f(!0)),onBlur:ke(l.onBlur,()=>f(!1)),onClick:ke(l.onClick,()=>{v.current!=="mouse"&&g()}),onPointerUp:ke(l.onPointerUp,()=>{v.current==="mouse"&&g()}),onPointerDown:ke(l.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:ke(l.onPointerMove,y=>{var j;v.current=y.pointerType,a?(j=c.onItemLeave)==null||j.call(c):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ke(l.onPointerLeave,y=>{var j;y.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:ke(l.onKeyDown,y=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&y.key===" "||(uY.includes(y.key)&&g(),y.key===" "&&y.preventDefault())})})})})});n6.displayName=Yf;var yu="SelectItemText",a6=p.forwardRef((t,s)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,l=Al(yu,r),o=Tl(yu,r),c=r6(yu,r),d=fY(yu,r),[u,m]=p.useState(null),h=Nt(s,g=>m(g),c.onItemTextChange,g=>{var y;return(y=o.itemTextRefCallback)==null?void 0:y.call(o,g,c.value,c.disabled)}),f=u==null?void 0:u.textContent,b=p.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:x,onNativeOptionRemove:v}=d;return Rs(()=>(x(b),()=>v(b)),[x,v,b]),e.jsxs(e.Fragment,{children:[e.jsx(Qe.span,{id:c.textId,...i,ref:h}),c.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Pl.createPortal(i.children,l.valueNode):null]})});a6.displayName=yu;var i6="SelectItemIndicator",l6=p.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t;return r6(i6,r).isSelected?e.jsx(Qe.span,{"aria-hidden":!0,...n,ref:s}):null});l6.displayName=i6;var Jy="SelectScrollUpButton",o6=p.forwardRef((t,s)=>{const r=Tl(Jy,t.__scopeSelect),n=Xw(Jy,t.__scopeSelect),[a,i]=p.useState(!1),l=Nt(s,n.onScrollButtonChange);return Rs(()=>{if(r.viewport&&r.isPositioned){let o=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?e.jsx(d6,{...t,ref:l,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});o6.displayName=Jy;var ev="SelectScrollDownButton",c6=p.forwardRef((t,s)=>{const r=Tl(ev,t.__scopeSelect),n=Xw(ev,t.__scopeSelect),[a,i]=p.useState(!1),l=Nt(s,n.onScrollButtonChange);return Rs(()=>{if(r.viewport&&r.isPositioned){let o=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?e.jsx(d6,{...t,ref:l,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});c6.displayName=ev;var d6=p.forwardRef((t,s)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=Tl("SelectScrollButton",r),l=p.useRef(null),o=bg(r),c=p.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Rs(()=>{var u;const d=o().find(m=>m.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[o]),e.jsx(Qe.div,{"aria-hidden":!0,...a,ref:s,style:{flexShrink:0,...a.style},onPointerDown:ke(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:ke(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:ke(a.onPointerLeave,()=>{c()})})}),kY="SelectSeparator",u6=p.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t;return e.jsx(Qe.div,{"aria-hidden":!0,...n,ref:s})});u6.displayName=kY;var tv="SelectArrow",PY=p.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=yg(r),i=Al(tv,r),l=Tl(tv,r);return i.open&&l.position==="popper"?e.jsx(fw,{...a,...n,ref:s}):null});PY.displayName=tv;function m6(t){return t===""||t===void 0}var h6=p.forwardRef((t,s)=>{const{value:r,...n}=t,a=p.useRef(null),i=Nt(s,a),l=xg(r);return p.useEffect(()=>{const o=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(l!==r&&u){const m=new Event("change",{bubbles:!0});u.call(o,r),o.dispatchEvent(m)}},[l,r]),e.jsx(mh,{asChild:!0,children:e.jsx("select",{...n,ref:i,defaultValue:r})})});h6.displayName="BubbleSelect";function p6(t){const s=rr(t),r=p.useRef(""),n=p.useRef(0),a=p.useCallback(l=>{const o=r.current+l;s(o),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[s]),i=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function f6(t,s,r){const a=s.length>1&&Array.from(s).every(d=>d===s[0])?s[0]:s,i=r?t.indexOf(r):-1;let l=EY(t,Math.max(i,0));a.length===1&&(l=l.filter(d=>d!==r));const c=l.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function EY(t,s){return t.map((r,n)=>t[(s+n)%t.length])}var AY=V3,x6=q3,TY=H3,RY=K3,DY=G3,g6=Q3,MY=J3,b6=s6,y6=n6,OY=a6,IY=l6,v6=o6,j6=c6,w6=u6;const Ie=AY,Fe=TY,De=p.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(x6,{ref:n,className:ye("flex h-10 w-full items-center justify-between rounded-none border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[s,e.jsx(RY,{asChild:!0,children:e.jsx(Xx,{className:"h-4 w-4 opacity-50"})})]}));De.displayName=x6.displayName;const N6=p.forwardRef(({className:t,...s},r)=>e.jsx(v6,{ref:r,className:ye("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(R9,{className:"h-4 w-4"})}));N6.displayName=v6.displayName;const C6=p.forwardRef(({className:t,...s},r)=>e.jsx(j6,{ref:r,className:ye("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Xx,{className:"h-4 w-4"})}));C6.displayName=j6.displayName;const Me=p.forwardRef(({className:t,children:s,position:r="popper",...n},a)=>e.jsx(DY,{children:e.jsxs(g6,{ref:a,className:ye("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-none border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[e.jsx(N6,{}),e.jsx(MY,{className:ye("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(C6,{})]})}));Me.displayName=g6.displayName;const FY=p.forwardRef(({className:t,...s},r)=>e.jsx(b6,{ref:r,className:ye("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));FY.displayName=b6.displayName;const D=p.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(y6,{ref:n,className:ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(IY,{children:e.jsx(No,{className:"h-4 w-4"})})}),e.jsx(OY,{children:s})]}));D.displayName=y6.displayName;const LY=p.forwardRef(({className:t,...s},r)=>e.jsx(w6,{ref:r,className:ye("-mx-1 my-1 h-px bg-muted",t),...s}));LY.displayName=w6.displayName;const zY=t=>t!=null&&t.includes("blue")?{cardGradient:"from-blue-50 via-cyan-50 to-white",borderGradient:"border-blue-200/60",iconGradient:"from-blue-500 to-cyan-500",shadowColor:"shadow-blue-200/50"}:t!=null&&t.includes("green")?{cardGradient:"from-emerald-50 via-green-50 to-white",borderGradient:"border-emerald-200/60",iconGradient:"from-emerald-500 to-teal-500",shadowColor:"shadow-emerald-200/50"}:t!=null&&t.includes("orange")?{cardGradient:"from-orange-50 via-amber-50 to-white",borderGradient:"border-orange-200/60",iconGradient:"from-orange-500 to-amber-500",shadowColor:"shadow-orange-200/50"}:t!=null&&t.includes("red")?{cardGradient:"from-red-50 via-rose-50 to-white",borderGradient:"border-red-200/60",iconGradient:"from-red-500 to-rose-500",shadowColor:"shadow-red-200/50"}:{cardGradient:"from-gray-50 via-slate-50 to-white",borderGradient:"border-gray-200/60",iconGradient:"from-gray-500 to-slate-500",shadowColor:"shadow-gray-200/50"};function Er({icon:t,title:s,value:r,trend:n,trendText:a,iconColor:i="text-primary",iconBg:l="bg-primary/10",className:o,"data-testid":c,...d}){const u=zY(l);return e.jsxs($,{className:`relative overflow-hidden border-2 ${u.borderGradient} bg-gradient-to-br ${u.cardGradient} shadow-xl ${u.shadowColor} hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 hover:scale-[1.02] ${o}`,"data-testid":c,...d,children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-white/50 to-transparent rounded-full blur-3xl -mr-16 -mt-16"}),e.jsxs(V,{className:"p-6 relative",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-bold text-gray-500 uppercase tracking-wide mb-2",children:s}),e.jsx("p",{className:"text-4xl md:text-5xl font-black text-gray-800 leading-none","data-testid":`${c}-value`,children:r})]}),e.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${u.iconGradient} rounded-2xl flex items-center justify-center shadow-lg transform hover:rotate-12 transition-transform duration-300`,children:e.jsx(t,{className:"text-white w-8 h-8"})})]}),(n||a)&&e.jsxs("div",{className:"mt-4 pt-4 border-t-2 border-gray-100/80 flex items-center gap-2",children:[n&&e.jsx("span",{className:`text-sm font-extrabold px-2 py-1 rounded-lg ${n.includes("↗")?"text-emerald-700 bg-emerald-100/80":n.includes("↘")?"text-red-700 bg-red-100/80":"text-orange-700 bg-orange-100/80"}`,children:n}),a&&e.jsx("span",{className:"text-gray-600 text-sm font-semibold",children:a})]})]})]})}const EC={blue:{header:"bg-white/95 backdrop-blur-xl border border-gray-200/60",avatar:"bg-gradient-to-br from-blue-500 to-blue-600 shadow-lg shadow-blue-500/30",title:"text-gray-900",border:"border-gray-200/60",button:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700"},green:{header:"bg-white/95 backdrop-blur-xl border border-gray-200/60",avatar:"bg-gradient-to-br from-green-500 to-emerald-600 shadow-lg shadow-green-500/30",title:"text-gray-900",border:"border-gray-200/60",button:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700"},purple:{header:"bg-white/95 backdrop-blur-xl border border-gray-200/60",avatar:"bg-gradient-to-br from-purple-500 to-pink-600 shadow-lg shadow-purple-500/30",title:"text-gray-900",border:"border-gray-200/60",button:"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700"},red:{header:"bg-white/95 backdrop-blur-xl border border-gray-200/60",avatar:"bg-gradient-to-br from-red-500 to-pink-600 shadow-lg shadow-red-500/30",title:"text-gray-900",border:"border-gray-200/60",button:"bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700"},amber:{header:"bg-white/95 backdrop-blur-xl border border-gray-200/60",avatar:"bg-gradient-to-br from-amber-500 to-yellow-600 shadow-lg shadow-amber-500/30",title:"text-gray-900",border:"border-gray-200/60",button:"bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700"},indigo:{header:"bg-white/95 backdrop-blur-xl border border-gray-200/60",avatar:"bg-gradient-to-br from-indigo-500 to-violet-600 shadow-lg shadow-indigo-500/30",title:"text-gray-900",border:"border-gray-200/60",button:"bg-gradient-to-r from-indigo-500 to-blue-600 hover:from-indigo-600 hover:to-blue-700"},emerald:{header:"bg-white/95 backdrop-blur-xl border border-gray-200/60",avatar:"bg-gradient-to-br from-emerald-500 to-teal-600 shadow-lg shadow-emerald-500/30",title:"text-gray-900",border:"border-gray-200/60",button:"bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700"},orange:{header:"bg-white/95 backdrop-blur-xl border border-gray-200/60",avatar:"bg-gradient-to-br from-orange-500 to-red-600 shadow-lg shadow-orange-500/30",title:"text-gray-900",border:"border-gray-200/60",button:"bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700"},cyan:{header:"bg-white/95 backdrop-blur-xl border border-gray-200/60",avatar:"bg-gradient-to-br from-cyan-500 to-blue-600 shadow-lg shadow-cyan-500/30",title:"text-gray-900",border:"border-gray-200/60",button:"bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700"}},UY={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl"};function Lt({open:t,onOpenChange:s,title:r,subtitle:n,icon:a,colorVariant:i="blue",children:l,footer:o,maxWidth:c="2xl"}){const d=EC[i]||EC.blue;return e.jsx(za,{open:t,onOpenChange:s,children:e.jsxs(Ua,{className:`${UY[c]} ${d.header} rounded-2xl shadow-xl`,children:[e.jsx($a,{className:`pb-5 border-b ${d.border}`,children:e.jsxs("div",{className:"flex items-center space-x-4",children:[a&&e.jsx("div",{className:`w-14 h-14 ${d.avatar} rounded-2xl flex items-center justify-center text-white`,children:e.jsx(a,{className:"w-7 h-7"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Va,{className:`text-2xl font-semibold ${d.title} tracking-tight`,children:r}),n&&e.jsx("p",{className:"text-sm text-gray-500 mt-1.5 leading-relaxed",children:n})]})]})}),e.jsx("div",{className:"py-5 max-h-[calc(90vh-200px)] overflow-y-auto",children:l}),o&&e.jsxs("div",{className:"flex justify-end space-x-3 pt-5 border-t border-gray-200/60",children:[o.secondary&&e.jsx(P,{variant:o.secondary.variant||"outline",onClick:o.secondary.onClick,disabled:o.secondary.disabled,"data-testid":o.secondary.testId,className:"rounded-xl border-gray-300 hover:bg-gray-50 transition-colors",children:o.secondary.label}),o.primary&&e.jsx(P,{variant:o.primary.variant||"default",onClick:o.primary.onClick,disabled:o.primary.disabled||o.primary.loading,"data-testid":o.primary.testId,className:`${d.button} text-white border-0 rounded-xl shadow-md hover:shadow-lg transition-all duration-200`,children:o.primary.loading?"Loading...":o.primary.label})]})]})})}function mn({currentPage:t,title:s="EACZ Admin Portal",subtitle:r="Estate Agents Council Administration"}){var l,o,c,d,u;const{data:n}=Ge({queryKey:["/api/dashboard/stats"],refetchInterval:3e4}),a=m=>m>=1e6?`$${(m/1e6).toFixed(1)}M`:m>=1e3?`$${(m/1e3).toFixed(1)}K`:`$${m}`,i=[{icon:yd,label:"Dashboard",href:"/admin-dashboard",value:"dashboard",badge:"New",badgeVariant:"destructive"},{icon:at,label:"AgentsHUB",href:"/admin-dashboard/members",value:"members",badge:((l=n==null?void 0:n.totalMembers)==null?void 0:l.toString())||"0",badgeVariant:"secondary"},{icon:qe,label:"FirmsHUB",href:"/admin-dashboard/organizations",value:"organizations",badge:((o=n==null?void 0:n.totalOrganizations)==null?void 0:o.toString())||"0",badgeVariant:"secondary"},{icon:H9,label:"UsersHUB",href:"/admin-dashboard/users",value:"users",badge:((c=n==null?void 0:n.totalUsers)==null?void 0:c.toString())||"0",badgeVariant:"secondary"},{icon:Je,label:"CasesHUB",href:"/case-management",value:"cases",badge:((d=n==null?void 0:n.openCases)==null?void 0:d.toString())||"0",badgeVariant:"destructive"},{icon:dt,label:"EventsHUB",href:"/event-management",value:"events",badge:((u=n==null?void 0:n.upcomingEvents)==null?void 0:u.toString())||"0",badgeVariant:"default"},{icon:Gr,label:"FinancesHUB",href:"/admin-dashboard/finance",value:"finance",badge:n!=null&&n.totalRevenue?a(n.totalRevenue):"$0",badgeVariant:"outline"},{icon:Tr,label:"Settings",href:"/admin-dashboard/settings",value:"settings"}];return e.jsx(Zw,{currentPage:t,title:s,subtitle:r,navigationItems:i})}function S6({children:t,currentPage:s,title:r,subtitle:n}){return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 relative",children:[e.jsx(mn,{currentPage:s,title:r,subtitle:n}),e.jsx("div",{className:"relative z-10",children:t}),e.jsx(wt,{})]})}const _6=p.forwardRef(({...t},s)=>e.jsx("nav",{ref:s,"aria-label":"breadcrumb",...t}));_6.displayName="Breadcrumb";const k6=p.forwardRef(({className:t,...s},r)=>e.jsx("ol",{ref:r,className:ye("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...s}));k6.displayName="BreadcrumbList";const sv=p.forwardRef(({className:t,...s},r)=>e.jsx("li",{ref:r,className:ye("inline-flex items-center gap-1.5",t),...s}));sv.displayName="BreadcrumbItem";const rv=p.forwardRef(({asChild:t,className:s,...r},n)=>{const a=t?Zj:"a";return e.jsx(a,{ref:n,className:ye("transition-colors hover:text-foreground",s),...r})});rv.displayName="BreadcrumbLink";const P6=p.forwardRef(({className:t,...s},r)=>e.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:ye("font-normal text-foreground",t),...s}));P6.displayName="BreadcrumbPage";const E6=({children:t,className:s,...r})=>e.jsx("li",{role:"presentation","aria-hidden":"true",className:ye("[&>svg]:w-3.5 [&>svg]:h-3.5",s),...r,children:t??e.jsx(om,{})});E6.displayName="BreadcrumbSeparator";function Et({items:t,className:s="mb-4"}){const[,r]=Xe();return e.jsx(_6,{className:s,children:e.jsxs(k6,{children:[e.jsx(sv,{children:e.jsxs(rv,{onClick:()=>r("/"),className:"flex items-center cursor-pointer","data-testid":"breadcrumb-home",children:[e.jsx(sw,{className:"w-4 h-4 mr-1"}),"Home"]})}),t.map((n,a)=>e.jsxs("div",{className:"contents",children:[e.jsx(E6,{}),e.jsx(sv,{children:n.href?e.jsx(rv,{onClick:()=>r(n.href),className:"cursor-pointer","data-testid":`breadcrumb-${n.label.toLowerCase().replace(/\s+/g,"-")}`,children:n.label}):e.jsx(P6,{"data-testid":"breadcrumb-current",children:n.label})})]},a))]})})}const $Y=I.object({firstName:I.string().min(1,"First name is required").max(50,"First name must be less than 50 characters"),surname:I.string().min(1,"Surname is required").max(50,"Surname must be less than 50 characters"),dateOfBirth:I.string().min(1,"Date of birth is required").refine(t=>{const s=new Date(t),n=new Date().getFullYear()-s.getFullYear();return n>=18&&n<=80},"Age must be between 18 and 80 years"),countryOfResidence:I.string().min(1,"Country of residence is required"),nationality:I.string().min(1,"Nationality is required"),email:I.string().email("Invalid email address"),memberType:I.enum(["real_estate_agent","property_manager","principal_real_estate_agent","real_estate_negotiator"],{errorMap:()=>({message:"Please select a member type"})}),educationLevel:I.enum(["normal_entry","mature_entry"],{errorMap:()=>({message:"Please select education/entry type"})}),employmentStatus:I.enum(["self_employed","employed"],{errorMap:()=>({message:"Please select employment status"})}),organizationName:I.string().optional()}).refine(t=>{var s;return!(t.employmentStatus==="employed"&&!((s=t.organizationName)!=null&&s.trim()))},{message:"Organization/firm name is required when employed",path:["organizationName"]});function VY(){var B,U,W,E;const[,t]=Xe(),{user:s,isLoading:r,logoutMutation:n}=St(),{toast:a}=tt(),[i,l]=p.useState(!1),[o,c]=p.useState(!1),[d,u]=p.useState(!1),m=It({resolver:Ft($Y),defaultValues:{firstName:"",surname:"",dateOfBirth:"",countryOfResidence:"Zimbabwe",nationality:"Zimbabwean",email:"",memberType:void 0,educationLevel:void 0,employmentStatus:void 0,organizationName:""}}),[h,f]=p.useState({name:"",type:"",email:"",phone:"",address:"",registrationNumber:""}),[b,x]=p.useState({title:"",description:"",type:"",startDate:"",endDate:"",location:"",address:"",instructor:"",capacity:"",price:"",cpdPoints:""});if(!r&&!s)return t("/auth"),null;if(r)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:"Loading..."})});const{data:v={}}=Ge({queryKey:["/api/dashboard/stats"]}),{data:g=[]}=Ge({queryKey:["/api/applications"]}),y=g.filter(M=>["submitted","under_review","document_verification","pending_approval","awaiting_documents"].includes(M.status||M.currentStage||"")),{data:j=[]}=Ge({queryKey:["/api/cases",{status:"open"}],queryFn:()=>fetch("/api/cases?status=open").then(M=>M.json())}),w=$e({mutationFn:({id:M,action:q,notes:R})=>Be("POST",`/api/applications/${M}/review`,{action:q,notes:R}),onSuccess:(M,{action:q})=>{st.invalidateQueries({queryKey:["/api/applications"]}),st.invalidateQueries({queryKey:["/api/dashboard/stats"]}),a({title:"Success",description:`Application ${q==="approve"?"approved":"rejected"} successfully.`})},onError:()=>{a({title:"Error",description:"Failed to process application.",variant:"destructive"})}}),N=$e({mutationFn:async M=>Be("POST","/api/admin/members/simplified-add",M),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/dashboard/stats"]}),st.invalidateQueries({queryKey:["/api/admin/members"]}),a({title:"Success",description:"Member added successfully!"}),l(!1),m.reset()},onError:M=>{a({title:"Error",description:M.message||"Failed to add member. Please try again.",variant:"destructive"})}}),_=async M=>{const q=new Date(M.dateOfBirth),R=new Date,ie=R.getFullYear()-q.getFullYear()-(R.getMonth()<q.getMonth()||R.getMonth()===q.getMonth()&&R.getDate()<q.getDate()?1:0);if(M.educationLevel==="mature_entry"&&ie<27){m.setError("educationLevel",{message:"Mature Entry requires age 27 years and above"});return}N.mutate(M)},k=m.watch("employmentStatus"),S=$e({mutationFn:M=>Be("POST","/api/organizations",M),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/dashboard/stats"]}),a({title:"Success",description:"Organization registered successfully!"}),c(!1),f({name:"",type:"",email:"",phone:"",address:"",registrationNumber:""})},onError:()=>{a({title:"Error",description:"Failed to register organization.",variant:"destructive"})}}),A=$e({mutationFn:M=>Be("POST","/api/events",M),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/dashboard/stats"]}),a({title:"Success",description:"Event created successfully!"}),u(!1),x({title:"",description:"",type:"",startDate:"",endDate:"",location:"",address:"",instructor:"",capacity:"",price:"",cpdPoints:""})},onError:()=>{a({title:"Error",description:"Failed to create event.",variant:"destructive"})}}),z=M=>{w.mutate({id:M,action:"approve"})},re=M=>{w.mutate({id:M,action:"reject"})},F=[{icon:Us,label:"Add Member",action:()=>l(!0),color:"text-blue-600",bg:"bg-blue-100"},{icon:qe,label:"Register Organization",action:()=>c(!0),color:"text-green-600",bg:"bg-green-100"},{icon:dt,label:"Create Event",action:()=>u(!0),color:"text-purple-600",bg:"bg-purple-100"},{icon:Le,label:"Generate Reports",action:()=>{},color:"text-orange-600",bg:"bg-orange-100"}];return e.jsxs(S6,{currentPage:"dashboard",children:[e.jsxs("div",{className:"p-6",children:[e.jsx(Et,{items:[{label:"Admin Dashboard"}]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-egyptian-blue to-powder-blue bg-clip-text text-transparent",children:"Admin Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Estate Agents Council of Zimbabwe - Management Overview"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(Er,{icon:at,title:"Total Members",value:((B=v==null?void 0:v.totalMembers)==null?void 0:B.toString())||"0",trend:"↗ 12%",trendText:"from last month",iconColor:"text-blue-600",iconBg:"bg-blue-100","data-testid":"stat-total-members"}),e.jsx(Er,{icon:qe,title:"Active Organizations",value:((U=v==null?void 0:v.activeOrganizations)==null?void 0:U.toString())||"0",trend:"↗ 5%",trendText:"from last month",iconColor:"text-green-600",iconBg:"bg-green-100","data-testid":"stat-active-organizations"}),e.jsx(Er,{icon:ft,title:"Pending Applications",value:((W=v==null?void 0:v.pendingApplications)==null?void 0:W.toString())||"0",trend:"2 urgent",trendText:"require attention",iconColor:"text-orange-600",iconBg:"bg-orange-100","data-testid":"stat-pending-applications"}),e.jsx(Er,{icon:Je,title:"Open Cases",value:((E=v==null?void 0:v.openCases)==null?void 0:E.toString())||"0",trend:"3 critical",trendText:"need review",iconColor:"text-red-600",iconBg:"bg-red-100","data-testid":"stat-open-cases"})]}),e.jsxs($,{className:"mb-8 border-2 border-gray-100 bg-gradient-to-br from-white to-cyan-50/30 shadow-lg",children:[e.jsxs(J,{className:"bg-gradient-to-r from-egyptian-blue/5 to-powder-blue/5 border-b-2 border-gray-100",children:[e.jsx(ee,{className:"text-xl bg-gradient-to-r from-egyptian-blue to-powder-blue bg-clip-text text-transparent",children:"Quick Actions"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Frequently used operations and tasks"})]}),e.jsx(V,{className:"p-6",children:e.jsx("div",{className:"flex flex-wrap sm:flex-nowrap gap-4",children:F.map((M,q)=>e.jsxs(P,{variant:"outline",className:"h-auto flex-col items-center p-6 hover:bg-gradient-to-br hover:from-blue-50 hover:to-cyan-50 flex-1 min-w-0 border-2 border-gray-200 hover:border-egyptian-blue hover:shadow-lg transition-all duration-300 hover:-translate-y-1",onClick:M.action,"data-testid":`quick-action-${M.label.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx("div",{className:`w-14 h-14 ${M.bg} rounded-xl flex items-center justify-center mb-3 shadow-md`,children:e.jsx(M.icon,{className:`w-7 h-7 ${M.color}`})}),e.jsx("span",{className:"text-sm font-semibold text-center text-gray-700",children:M.label})]},q))})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs($,{className:"border-2 border-gray-100 bg-gradient-to-br from-white to-orange-50/20 shadow-lg",children:[e.jsx(J,{className:"bg-gradient-to-r from-orange-50/50 to-yellow-50/50 border-b-2 border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ee,{className:"text-xl bg-gradient-to-r from-orange-600 to-yellow-600 bg-clip-text text-transparent",children:"Pending Applications"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[y.length," application",y.length!==1?"s":""," awaiting review"]})]}),e.jsx(P,{variant:"link",size:"sm",onClick:()=>t("/admin-dashboard/applications"),className:"text-orange-600 hover:text-orange-700 font-semibold","data-testid":"link-view-all-applications",children:"View All →"})]})}),e.jsx(V,{className:"p-6",children:y.length>0?e.jsx("div",{className:"space-y-4",children:y.slice(0,3).map(M=>{var q,R;return e.jsxs("div",{className:"flex items-center justify-between p-4 border-2 border-gray-100 rounded-xl bg-gradient-to-br from-white to-blue-50/30 hover:shadow-md transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-100 to-yellow-100 rounded-xl flex items-center justify-center mr-4 shadow-sm",children:e.jsxs("span",{className:"text-base font-bold text-orange-600",children:[((q=M.firstName)==null?void 0:q[0])||"U",((R=M.lastName)==null?void 0:R[0])||"N"]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-semibold text-gray-800","data-testid":`application-name-${M.id}`,children:[M.firstName||"Unknown"," ",M.lastName||"Name"]}),e.jsx("p",{className:"text-sm text-gray-600 font-medium","data-testid":`application-type-${M.id}`,children:M.memberType.replace(/_/g," ")}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Status: ",e.jsx("span",{className:"font-semibold text-orange-600",children:M.status||"Pending"})]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(P,{size:"sm",className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white shadow-md",onClick:()=>z(M.id),disabled:w.isPending,"data-testid":`button-approve-${M.id}`,children:w.isPending?"Processing...":"Approve"}),e.jsx(P,{size:"sm",variant:"destructive",className:"shadow-md",onClick:()=>re(M.id),disabled:w.isPending,"data-testid":`button-reject-${M.id}`,children:w.isPending?"Processing...":"Reject"})]})]},M.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(ft,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No pending applications"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"All applications have been processed"})]})})]}),e.jsxs($,{className:"border-2 border-gray-100 bg-gradient-to-br from-white to-red-50/20 shadow-lg",children:[e.jsx(J,{className:"bg-gradient-to-r from-red-50/50 to-orange-50/50 border-b-2 border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ee,{className:"text-xl bg-gradient-to-r from-red-600 to-orange-600 bg-clip-text text-transparent",children:"Recent Cases"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[j.length," active case",j.length!==1?"s":""," requiring attention"]})]}),e.jsx(P,{variant:"link",size:"sm",onClick:()=>t("/case-management"),className:"text-red-600 hover:text-red-700 font-semibold","data-testid":"link-view-all-cases",children:"View All →"})]})}),e.jsx(V,{className:"p-6",children:j.length>0?e.jsx("div",{className:"space-y-4",children:j.slice(0,3).map(M=>{var q;return e.jsxs("div",{className:"p-4 border-2 border-gray-100 rounded-xl bg-gradient-to-br from-white to-blue-50/30 hover:shadow-md transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs(oe,{variant:M.priority==="high"?"destructive":M.priority==="medium"?"default":"secondary",className:"font-semibold","data-testid":`case-priority-${M.id}`,children:[(q=M.priority)==null?void 0:q.toUpperCase()," Priority"]}),e.jsx("span",{className:"text-xs font-semibold text-gray-500","data-testid":`case-number-${M.id}`,children:M.caseNumber})]}),e.jsx("h4",{className:"font-bold text-gray-800 mb-2","data-testid":`case-title-${M.id}`,children:M.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2","data-testid":`case-description-${M.id}`,children:M.description}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-semibold text-gray-500",children:"Submitted by"}),e.jsx("span",{className:"text-sm font-bold text-gray-700",children:M.submittedBy||"Anonymous"})]}),e.jsx(P,{size:"sm",variant:"link",onClick:()=>t(`/case-management/${M.id}`),className:"text-red-600 hover:text-red-700 font-semibold","data-testid":`button-view-case-${M.id}`,children:"View Details →"})]})]},M.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Je,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No recent cases"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"All cases have been resolved"})]})})]})]})]}),e.jsx(Lt,{open:i,onOpenChange:l,title:"Add New Individual Member",subtitle:"Create a new member profile. An email notification will be sent for verification and profile completion.",icon:Us,colorVariant:"blue",maxWidth:"2xl",footer:{secondary:{label:"Cancel",onClick:()=>l(!1),testId:"button-cancel-add-member"},primary:{label:N.isPending?"Adding...":"Add Member",onClick:()=>m.handleSubmit(_)(),loading:N.isPending,disabled:N.isPending,testId:"button-submit-add-member"}},children:e.jsx(Rt,{...m,children:e.jsxs("form",{onSubmit:m.handleSubmit(_),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Q,{control:m.control,name:"firstName",render:({field:M})=>e.jsxs(K,{children:[e.jsx(Z,{children:"First Name *"}),e.jsx(G,{children:e.jsx(Y,{...M,placeholder:"Enter first name","data-testid":"input-first-name"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:m.control,name:"surname",render:({field:M})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Surname *"}),e.jsx(G,{children:e.jsx(Y,{...M,placeholder:"Enter surname","data-testid":"input-surname"})}),e.jsx(X,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Q,{control:m.control,name:"dateOfBirth",render:({field:M})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Date of Birth *"}),e.jsx(G,{children:e.jsx(Y,{type:"date",...M,"data-testid":"input-date-of-birth"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:m.control,name:"email",render:({field:M})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Email Address *"}),e.jsx(G,{children:e.jsx(Y,{type:"email",...M,placeholder:"Enter email address","data-testid":"input-email"})}),e.jsx(X,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Q,{control:m.control,name:"countryOfResidence",render:({field:M})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Country of Residence *"}),e.jsxs(Ie,{onValueChange:M.onChange,defaultValue:M.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-country",children:e.jsx(Fe,{placeholder:"Select country"})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"Zimbabwe",children:"Zimbabwe"}),e.jsx(D,{value:"South Africa",children:"South Africa"}),e.jsx(D,{value:"Botswana",children:"Botswana"}),e.jsx(D,{value:"Namibia",children:"Namibia"}),e.jsx(D,{value:"Zambia",children:"Zambia"}),e.jsx(D,{value:"United Kingdom",children:"United Kingdom"}),e.jsx(D,{value:"United States",children:"United States"}),e.jsx(D,{value:"Australia",children:"Australia"}),e.jsx(D,{value:"Canada",children:"Canada"}),e.jsx(D,{value:"Other",children:"Other"})]})]}),e.jsx(X,{})]})}),e.jsx(Q,{control:m.control,name:"nationality",render:({field:M})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Nationality *"}),e.jsxs(Ie,{onValueChange:M.onChange,defaultValue:M.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-nationality",children:e.jsx(Fe,{placeholder:"Select nationality"})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"Zimbabwean",children:"Zimbabwean"}),e.jsx(D,{value:"South African",children:"South African"}),e.jsx(D,{value:"Botswanan",children:"Botswanan"}),e.jsx(D,{value:"Namibian",children:"Namibian"}),e.jsx(D,{value:"Zambian",children:"Zambian"}),e.jsx(D,{value:"British",children:"British"}),e.jsx(D,{value:"American",children:"American"}),e.jsx(D,{value:"Australian",children:"Australian"}),e.jsx(D,{value:"Canadian",children:"Canadian"}),e.jsx(D,{value:"Other",children:"Other"})]})]}),e.jsx(X,{})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-secondary",children:"Professional Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Q,{control:m.control,name:"memberType",render:({field:M})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Member Type *"}),e.jsxs(Ie,{onValueChange:M.onChange,defaultValue:M.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-member-type",children:e.jsx(Fe,{placeholder:"Select member type"})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"real_estate_agent",children:"Real Estate Agent"}),e.jsx(D,{value:"property_manager",children:"Property Manager"}),e.jsx(D,{value:"principal_real_estate_agent",children:"Principal Real Estate Agent"}),e.jsx(D,{value:"real_estate_negotiator",children:"Real Estate Negotiator"})]})]}),e.jsx(X,{})]})}),e.jsx(Q,{control:m.control,name:"educationLevel",render:({field:M})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Education/Entry Type *"}),e.jsxs(Ie,{onValueChange:M.onChange,defaultValue:M.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-education-level",children:e.jsx(Fe,{placeholder:"Select entry type"})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"normal_entry",children:"Normal Entry"}),e.jsx(D,{value:"mature_entry",children:"Mature Entry (27+ years)"})]})]}),e.jsx(X,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Q,{control:m.control,name:"employmentStatus",render:({field:M})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Employment Status *"}),e.jsxs(Ie,{onValueChange:M.onChange,defaultValue:M.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-employment-status",children:e.jsx(Fe,{placeholder:"Select employment status"})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"self_employed",children:"Self Employed"}),e.jsx(D,{value:"employed",children:"Employed"})]})]}),e.jsx(X,{})]})}),k==="employed"&&e.jsx(Q,{control:m.control,name:"organizationName",render:({field:M})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Organization/Firm Name *"}),e.jsx(G,{children:e.jsx(Y,{...M,placeholder:"Enter organization name","data-testid":"input-organization-name"})}),e.jsx(X,{})]})})]})]})]})})}),e.jsx(Lt,{open:o,onOpenChange:c,title:"Register Organization",subtitle:"Register a new real estate firm with EACZ",icon:qe,colorVariant:"green",maxWidth:"2xl",footer:{secondary:{label:"Cancel",onClick:()=>c(!1),testId:"button-cancel-register-org"},primary:{label:"Register Organization",onClick:()=>S.mutate(h),loading:S.isPending,testId:"button-submit-register-org"}},children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"orgName",className:"text-sm font-medium",children:"Organization Name *"}),e.jsx(Y,{id:"orgName",value:h.name,onChange:M=>f({...h,name:M.target.value}),placeholder:"Enter organization name","data-testid":"input-org-name"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"orgType",className:"text-sm font-medium",children:"Organization Type *"}),e.jsxs(Ie,{value:h.type,onValueChange:M=>f({...h,type:M}),children:[e.jsx(De,{"data-testid":"select-org-type",children:e.jsx(Fe,{placeholder:"Select organization type"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"real_estate_firm",children:"Real Estate Firm"}),e.jsx(D,{value:"property_management_firm",children:"Property Management Firm"}),e.jsx(D,{value:"brokerage_firm",children:"Brokerage Firm"}),e.jsx(D,{value:"real_estate_development_firm",children:"Real Estate Development Firm"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"orgEmail",className:"text-sm font-medium",children:"Email *"}),e.jsx(Y,{id:"orgEmail",type:"email",value:h.email,onChange:M=>f({...h,email:M.target.value}),placeholder:"Enter organization email","data-testid":"input-org-email"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"orgPhone",className:"text-sm font-medium",children:"Phone"}),e.jsx(Y,{id:"orgPhone",value:h.phone,onChange:M=>f({...h,phone:M.target.value}),placeholder:"Enter phone number","data-testid":"input-org-phone"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"regNumber",className:"text-sm font-medium",children:"Registration Number"}),e.jsx(Y,{id:"regNumber",value:h.registrationNumber,onChange:M=>f({...h,registrationNumber:M.target.value}),placeholder:"Enter registration number","data-testid":"input-org-reg-number"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"orgAddress",className:"text-sm font-medium",children:"Address"}),e.jsx(kt,{id:"orgAddress",value:h.address,onChange:M=>f({...h,address:M.target.value}),placeholder:"Enter organization address",rows:3,"data-testid":"textarea-org-address"})]})]})]})}),e.jsx(Lt,{open:d,onOpenChange:u,title:"Create Event",subtitle:"Create a new training or educational event",icon:dt,colorVariant:"purple",maxWidth:"3xl",footer:{secondary:{label:"Cancel",onClick:()=>u(!1),testId:"button-cancel-create-event"},primary:{label:"Create Event",onClick:()=>A.mutate({...b,capacity:b.capacity?parseInt(b.capacity):null,price:b.price?parseFloat(b.price):null,cpdPoints:b.cpdPoints?parseInt(b.cpdPoints):0,startDate:b.startDate?new Date(b.startDate):null,endDate:b.endDate?new Date(b.endDate):null}),loading:A.isPending,testId:"button-submit-create-event"}},children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"eventTitle",className:"text-sm font-medium",children:"Event Title *"}),e.jsx(Y,{id:"eventTitle",value:b.title,onChange:M=>x({...b,title:M.target.value}),placeholder:"Enter event title","data-testid":"input-event-title"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"eventType",className:"text-sm font-medium",children:"Event Type *"}),e.jsxs(Ie,{value:b.type,onValueChange:M=>x({...b,type:M}),children:[e.jsx(De,{"data-testid":"select-event-type",children:e.jsx(Fe,{placeholder:"Select event type"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"workshop",children:"Workshop"}),e.jsx(D,{value:"seminar",children:"Seminar"}),e.jsx(D,{value:"training",children:"Training"}),e.jsx(D,{value:"conference",children:"Conference"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"eventDescription",className:"text-sm font-medium",children:"Description"}),e.jsx(kt,{id:"eventDescription",value:b.description,onChange:M=>x({...b,description:M.target.value}),placeholder:"Enter event description",rows:3,"data-testid":"textarea-event-description"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"instructor",className:"text-sm font-medium",children:"Instructor"}),e.jsx(Y,{id:"instructor",value:b.instructor,onChange:M=>x({...b,instructor:M.target.value}),placeholder:"Enter instructor name","data-testid":"input-event-instructor"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"startDate",className:"text-sm font-medium",children:"Start Date *"}),e.jsx(Y,{id:"startDate",type:"datetime-local",value:b.startDate,onChange:M=>x({...b,startDate:M.target.value}),"data-testid":"input-event-start-date"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"endDate",className:"text-sm font-medium",children:"End Date"}),e.jsx(Y,{id:"endDate",type:"datetime-local",value:b.endDate,onChange:M=>x({...b,endDate:M.target.value}),"data-testid":"input-event-end-date"})]})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"location",className:"text-sm font-medium",children:"Location"}),e.jsx(Y,{id:"location",value:b.location,onChange:M=>x({...b,location:M.target.value}),placeholder:"Enter event location","data-testid":"input-event-location"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"address",className:"text-sm font-medium",children:"Address"}),e.jsx(Y,{id:"address",value:b.address,onChange:M=>x({...b,address:M.target.value}),placeholder:"Enter venue address","data-testid":"input-event-address"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"capacity",className:"text-sm font-medium",children:"Capacity"}),e.jsx(Y,{id:"capacity",type:"number",value:b.capacity,onChange:M=>x({...b,capacity:M.target.value}),placeholder:"Max attendees","data-testid":"input-event-capacity"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"price",className:"text-sm font-medium",children:"Price ($)"}),e.jsx(Y,{id:"price",type:"number",step:"0.01",value:b.price,onChange:M=>x({...b,price:M.target.value}),placeholder:"0.00","data-testid":"input-event-price"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"cpdPoints",className:"text-sm font-medium",children:"CPD Points"}),e.jsx(Y,{id:"cpdPoints",type:"number",value:b.cpdPoints,onChange:M=>x({...b,cpdPoints:M.target.value}),placeholder:"Points","data-testid":"input-event-cpd-points"})]})]})]})]})})]})}function vg({currentPage:t,title:s="EACZ Organization Portal",subtitle:r="Organization Dashboard"}){const n=[{icon:qe,label:"Dashboard",href:"/organization-portal",value:"dashboard"},{icon:xr,label:"Principal",href:"/organization/principal",value:"principal"},{icon:at,label:"Agents",href:"/organization/agents",value:"agents"},{icon:Le,label:"Documents",href:"/organization/documents",value:"documents"},{icon:js,label:"Certificate",href:"/organization/certificate",value:"certificate"},{icon:Qt,label:"Payments",href:"/organization/payments",value:"payments"},{icon:ws,label:"Renewals",href:"/organization/renewals",value:"renewals"},{icon:Tr,label:"Profile",href:"/organization/profile",value:"profile"}];return e.jsx(Zw,{currentPage:t,title:s,subtitle:r,navigationItems:n})}function BY(){var x;const{user:t,isLoading:s}=St(),[,r]=Xe(),{toast:n}=tt(),[a,i]=p.useState(!1);p.useState(!1),p.useState(null);const[l,o]=p.useState({firstName:"",lastName:"",nationalId:"",email:"",phone:"",position:"",appointedDate:""});if(!s&&!t)return r("/auth"),null;if(s)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:"Loading..."})});const{data:c,isLoading:d,refetch:u}=Ge({queryKey:["/api/organization-portal/member",t==null?void 0:t.email],enabled:!!(t!=null&&t.email)}),m=$e({mutationFn:async v=>{if(!(c!=null&&c.id))throw new Error("Organization ID not found");return Be("POST",`/api/organization-portal/${c.id}/directors`,v)},onSuccess:()=>{st.invalidateQueries({queryKey:["/api/organization-portal/member",t==null?void 0:t.email]}),n({title:"Success",description:"Director added successfully"}),i(!1),o({firstName:"",lastName:"",nationalId:"",email:"",phone:"",position:"",appointedDate:""})},onError:v=>{n({title:"Error",description:v.message||"Failed to add director",variant:"destructive"})}}),h=$e({mutationFn:async v=>{if(!(c!=null&&c.id))throw new Error("Organization ID not found");return Be("DELETE",`/api/organization-portal/${c.id}/directors/${v}`)},onSuccess:()=>{st.invalidateQueries({queryKey:["/api/organization-portal/member",t==null?void 0:t.email]}),n({title:"Success",description:"Director removed successfully"})},onError:v=>{n({title:"Error",description:v.message||"Failed to remove director",variant:"destructive"})}}),f=()=>{m.mutate(l)},b=v=>{confirm("Are you sure you want to remove this director?")&&h.mutate(v)};return d?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:"Loading organization details..."})}):c?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(vg,{currentPage:"dashboard",title:"EACZ Organization Portal",subtitle:c.name}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:c.name}),e.jsx("p",{className:"text-muted-foreground",children:(x=c.businessType)==null?void 0:x.replace(/_/g," ")})]}),c.isPREA&&e.jsxs(oe,{className:"bg-green-600 text-white px-4 py-2",children:[e.jsx(xr,{className:"w-4 h-4 mr-2"}),"Principal Real Estate Agent"]})]}),e.jsxs(Zt,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(Ht,{className:"bg-muted",children:[e.jsx(Ae,{value:"overview",children:"Overview"}),e.jsx(Ae,{value:"directors",children:"Directors"}),e.jsx(Ae,{value:"members",children:"Members/Agents"}),e.jsx(Ae,{value:"documents",children:"Documents"})]}),e.jsxs(Oe,{value:"overview",className:"space-y-6",children:[e.jsxs($,{children:[e.jsx(J,{children:e.jsx(ee,{children:"Organization Details"})}),e.jsx(V,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Registration Number"}),e.jsx("p",{className:"font-medium",children:c.registrationNumber||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),e.jsx(oe,{variant:c.status==="active"?"default":"secondary",children:c.status})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:[e.jsx(jt,{className:"w-4 h-4 inline mr-2"}),"Email"]}),e.jsx("p",{className:"font-medium",children:c.email})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:[e.jsx(Rr,{className:"w-4 h-4 inline mr-2"}),"Phone"]}),e.jsx("p",{className:"font-medium",children:c.phone||"N/A"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:[e.jsx(Ma,{className:"w-4 h-4 inline mr-2"}),"Physical Address"]}),e.jsx("p",{className:"font-medium",children:c.physicalAddress||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Principal Real Estate Agent"}),e.jsx("p",{className:"font-medium",children:c.preaMember?`${c.preaMember.firstName} ${c.preaMember.lastName}`:"Not Assigned"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(Er,{icon:at,title:"Total Members",value:c.members.length.toString(),iconColor:"text-blue-600",iconBg:"bg-blue-100"}),e.jsx(Er,{icon:et,title:"Directors",value:c.directors.length.toString(),iconColor:"text-green-600",iconBg:"bg-green-100"}),e.jsx(Er,{icon:le,title:"Status",value:c.status,iconColor:"text-purple-600",iconBg:"bg-purple-100"})]})]}),e.jsx(Oe,{value:"directors",className:"space-y-6",children:e.jsxs($,{children:[e.jsx(J,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ee,{children:"Directors"}),c.canManage&&e.jsxs(P,{onClick:()=>i(!0),children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Add Director"]})]})}),e.jsx(V,{children:c.directors.length===0?e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No directors registered"}):e.jsx("div",{className:"space-y-4",children:c.directors.map(v=>e.jsx($,{className:"border",children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"font-semibold",children:[v.firstName," ",v.lastName]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:v.position||"Director"}),e.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[v.nationalId&&e.jsxs("p",{className:"text-muted-foreground",children:["ID: ",v.nationalId]}),v.email&&e.jsxs("p",{className:"text-muted-foreground",children:[e.jsx(jt,{className:"w-3 h-3 inline mr-1"}),v.email]}),v.phone&&e.jsxs("p",{className:"text-muted-foreground",children:[e.jsx(Rr,{className:"w-3 h-3 inline mr-1"}),v.phone]})]})]}),c.canManage&&e.jsx(P,{variant:"destructive",size:"sm",onClick:()=>b(v.id),children:e.jsx(Oa,{className:"w-4 h-4"})})]})})},v.id))})})]})}),e.jsx(Oe,{value:"members",className:"space-y-6",children:e.jsxs($,{children:[e.jsx(J,{children:e.jsx(ee,{children:"Registered Members/Agents"})}),e.jsx(V,{children:c.members.length===0?e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No members registered"}):e.jsx("div",{className:"space-y-4",children:c.members.map(v=>{var g;return e.jsx($,{className:"border",children:e.jsx(V,{className:"p-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("h3",{className:"font-semibold",children:[v.firstName," ",v.lastName]}),v.id===c.preaMemberId&&e.jsx(oe,{variant:"default",className:"text-xs",children:"PREA"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(g=v.memberType)==null?void 0:g.replace(/_/g," ")}),e.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Membership #"}),e.jsx("p",{className:"font-medium",children:v.membershipNumber||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Status"}),e.jsx(oe,{variant:v.membershipStatus==="active"?"default":"secondary",children:v.membershipStatus})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Email"}),e.jsx("p",{className:"font-medium text-xs",children:v.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Phone"}),e.jsx("p",{className:"font-medium",children:v.phone||"N/A"})]})]})]})})})},v.id)})})})]})}),e.jsx(Oe,{value:"documents",className:"space-y-6",children:e.jsxs($,{children:[e.jsx(J,{children:e.jsx(ee,{children:"Organization Documents"})}),e.jsx(V,{children:e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Document management coming soon"})})]})})]})]}),e.jsx(Lt,{open:a,onOpenChange:i,title:"Add Director",description:"Add a new director to your organization",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"firstName",children:"First Name *"}),e.jsx(Y,{id:"firstName",value:l.firstName,onChange:v=>o({...l,firstName:v.target.value})})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"lastName",children:"Last Name *"}),e.jsx(Y,{id:"lastName",value:l.lastName,onChange:v=>o({...l,lastName:v.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"nationalId",children:"National ID"}),e.jsx(Y,{id:"nationalId",value:l.nationalId,onChange:v=>o({...l,nationalId:v.target.value})})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"email",children:"Email"}),e.jsx(Y,{id:"email",type:"email",value:l.email,onChange:v=>o({...l,email:v.target.value})})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"phone",children:"Phone"}),e.jsx(Y,{id:"phone",value:l.phone,onChange:v=>o({...l,phone:v.target.value})})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"position",children:"Position"}),e.jsx(Y,{id:"position",placeholder:"e.g., Chairman, Director, Secretary",value:l.position,onChange:v=>o({...l,position:v.target.value})})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"appointedDate",children:"Appointed Date"}),e.jsx(Y,{id:"appointedDate",type:"date",value:l.appointedDate,onChange:v=>o({...l,appointedDate:v.target.value})})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(P,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e.jsx(P,{onClick:f,disabled:m.isPending,children:m.isPending?"Adding...":"Add Director"})]})]})})]}):e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs($,{className:"p-8 max-w-md",children:[e.jsx(J,{children:e.jsx(ee,{children:"No Organization Found"})}),e.jsxs(V,{children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"You are not currently associated with any organization."}),e.jsx(P,{onClick:()=>r("/member-portal"),children:"Go to Member Portal"})]})]})})}const Sd=p.forwardRef(({className:t,...s},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:ye("w-full caption-bottom text-sm",t),...s})}));Sd.displayName="Table";const _d=p.forwardRef(({className:t,...s},r)=>e.jsx("thead",{ref:r,className:ye("[&_tr]:border-b",t),...s}));_d.displayName="TableHeader";const kd=p.forwardRef(({className:t,...s},r)=>e.jsx("tbody",{ref:r,className:ye("[&_tr:last-child]:border-0",t),...s}));kd.displayName="TableBody";const qY=p.forwardRef(({className:t,...s},r)=>e.jsx("tfoot",{ref:r,className:ye("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));qY.displayName="TableFooter";const Qn=p.forwardRef(({className:t,...s},r)=>e.jsx("tr",{ref:r,className:ye("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));Qn.displayName="TableRow";const yt=p.forwardRef(({className:t,...s},r)=>e.jsx("th",{ref:r,className:ye("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s}));yt.displayName="TableHead";const vt=p.forwardRef(({className:t,...s},r)=>e.jsx("td",{ref:r,className:ye("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));vt.displayName="TableCell";const WY=p.forwardRef(({className:t,...s},r)=>e.jsx("caption",{ref:r,className:ye("mt-4 text-sm text-muted-foreground",t),...s}));WY.displayName="TableCaption";var Jw="Checkbox",[HY,Xoe]=Gs(Jw),[KY,GY]=HY(Jw),A6=p.forwardRef((t,s)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:l,disabled:o,value:c="on",onCheckedChange:d,form:u,...m}=t,[h,f]=p.useState(null),b=Nt(s,w=>f(w)),x=p.useRef(!1),v=h?u||!!h.closest("form"):!0,[g=!1,y]=ta({prop:a,defaultProp:i,onChange:d}),j=p.useRef(g);return p.useEffect(()=>{const w=h==null?void 0:h.form;if(w){const N=()=>y(j.current);return w.addEventListener("reset",N),()=>w.removeEventListener("reset",N)}},[h,y]),e.jsxs(KY,{scope:r,state:g,disabled:o,children:[e.jsx(Qe.button,{type:"button",role:"checkbox","aria-checked":ml(g)?"mixed":g,"aria-required":l,"data-state":D6(g),"data-disabled":o?"":void 0,disabled:o,value:c,...m,ref:b,onKeyDown:ke(t.onKeyDown,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:ke(t.onClick,w=>{y(N=>ml(N)?!0:!N),v&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),v&&e.jsx(QY,{control:h,bubbles:!x.current,name:n,value:c,checked:g,required:l,disabled:o,form:u,style:{transform:"translateX(-100%)"},defaultChecked:ml(i)?!1:i})]})});A6.displayName=Jw;var T6="CheckboxIndicator",R6=p.forwardRef((t,s)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,i=GY(T6,r);return e.jsx(Yr,{present:n||ml(i.state)||i.state===!0,children:e.jsx(Qe.span,{"data-state":D6(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:s,style:{pointerEvents:"none",...t.style}})})});R6.displayName=T6;var QY=t=>{const{control:s,checked:r,bubbles:n=!0,defaultChecked:a,...i}=t,l=p.useRef(null),o=xg(r),c=ng(s);p.useEffect(()=>{const u=l.current,m=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(m,"checked").set;if(o!==r&&f){const b=new Event("click",{bubbles:n});u.indeterminate=ml(r),f.call(u,ml(r)?!1:r),u.dispatchEvent(b)}},[o,r,n]);const d=p.useRef(ml(r)?!1:r);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:l,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ml(t){return t==="indeterminate"}function D6(t){return ml(t)?"indeterminate":t?"checked":"unchecked"}var M6=A6,YY=R6;const Xs=p.forwardRef(({className:t,...s},r)=>e.jsx(M6,{ref:r,className:ye("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(YY,{className:ye("flex items-center justify-center text-current"),children:e.jsx(No,{className:"h-4 w-4"})})}));Xs.displayName=M6.displayName;function zo({actions:t,title:s="Quick Actions",description:r="Frequently used operations and tasks"}){return e.jsxs($,{className:"border-2 border-gray-100 bg-gradient-to-br from-white to-cyan-50/30 shadow-lg",children:[e.jsxs(J,{className:"bg-gradient-to-r from-egyptian-blue/5 to-powder-blue/5 border-b-2 border-gray-100",children:[e.jsx(ee,{className:"text-xl bg-gradient-to-r from-egyptian-blue to-powder-blue bg-clip-text text-transparent",children:s}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r})]}),e.jsx(V,{className:"p-6",children:e.jsx("div",{className:"flex flex-wrap sm:flex-nowrap gap-4",children:t.map((n,a)=>e.jsxs(P,{variant:"outline",className:"h-auto flex-col items-center p-6 hover:bg-gradient-to-br hover:from-blue-50 hover:to-cyan-50 flex-1 min-w-0 border-2 border-gray-200 hover:border-egyptian-blue hover:shadow-lg transition-all duration-300 hover:-translate-y-1",onClick:n.action,"data-testid":n.testId||`quick-action-${n.label.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx("div",{className:`w-14 h-14 ${n.bg} rounded-xl flex items-center justify-center mb-3 shadow-md`,children:e.jsx(n.icon,{className:`w-7 h-7 ${n.color}`})}),e.jsx("span",{className:"text-sm font-semibold text-center text-gray-700",children:n.label})]},a))})})]})}const ge=Symbol.for("drizzle:entityKind");function Zs(t,s){if(!t||typeof t!="object")return!1;if(t instanceof s)return!0;if(!Object.prototype.hasOwnProperty.call(s,ge))throw new Error(`Class "${s.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(ge in r&&r[ge]===s[ge])return!0;r=Object.getPrototypeOf(r)}return!1}var u_;u_=ge;class Pd{constructor(s,r){T(this,"name");T(this,"keyAsName");T(this,"primary");T(this,"notNull");T(this,"default");T(this,"defaultFn");T(this,"onUpdateFn");T(this,"hasDefault");T(this,"isUnique");T(this,"uniqueName");T(this,"uniqueType");T(this,"dataType");T(this,"columnType");T(this,"enumValues");T(this,"generated");T(this,"generatedIdentity");T(this,"config");this.table=s,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(s){return s}mapToDriverValue(s){return s}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}T(Pd,u_,"Column");var m_;m_=ge;class O6{constructor(s,r,n){T(this,"config");T(this,"$default",this.$defaultFn);T(this,"$onUpdate",this.$onUpdateFn);this.config={name:s,keyAsName:s==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(s){return this.config.default=s,this.config.hasDefault=!0,this}$defaultFn(s){return this.config.defaultFn=s,this.config.hasDefault=!0,this}$onUpdateFn(s){return this.config.onUpdateFn=s,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(s){this.config.name===""&&(this.config.name=s)}}T(O6,m_,"ColumnBuilder");const Pc=Symbol.for("drizzle:Name");var h_;h_=ge;class I6{constructor(s,r){T(this,"reference");T(this,"_onUpdate","no action");T(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:a,foreignColumns:i}=s();return{name:n,columns:a,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(s){return this._onUpdate=s===void 0?"no action":s,this}onDelete(s){return this._onDelete=s===void 0?"no action":s,this}build(s){return new F6(s,this)}}T(I6,h_,"PgForeignKeyBuilder");var p_;p_=ge;class F6{constructor(s,r){T(this,"reference");T(this,"onUpdate");T(this,"onDelete");this.table=s,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:s,columns:r,foreignColumns:n}=this.reference(),a=r.map(o=>o.name),i=n.map(o=>o.name),l=[this.table[Pc],...a,n[0].table[Pc],...i];return s??`${l.join("_")}_fk`}}T(F6,p_,"PgForeignKey");function ZY(t,...s){return t(...s)}function XY(t,s){return`${t[Pc]}_${s.join("_")}_unique`}function AC(t,s,r){for(let n=s;n<t.length;n++){const a=t[n];if(a==="\\"){n++;continue}if(a==='"')return[t.slice(s,n).replace(/\\/g,""),n+1];if(!r&&(a===","||a==="}"))return[t.slice(s,n).replace(/\\/g,""),n]}return[t.slice(s).replace(/\\/g,""),t.length]}function L6(t,s=0){const r=[];let n=s,a=!1;for(;n<t.length;){const i=t[n];if(i===","){(a||n===s)&&r.push(""),a=!0,n++;continue}if(a=!1,i==="\\"){n+=2;continue}if(i==='"'){const[c,d]=AC(t,n+1,!0);r.push(c),n=d;continue}if(i==="}")return[r,n+1];if(i==="{"){const[c,d]=L6(t,n+1);r.push(c),n=d;continue}const[l,o]=AC(t,n,!1);r.push(l),n=o}return[r,n]}function JY(t){const[s]=L6(t,1);return s}function z6(t){return`{${t.map(s=>Array.isArray(s)?z6(s):typeof s=="string"?`"${s.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${s}`).join(",")}}`}var f_,x_;class At extends(x_=O6,f_=ge,x_){constructor(){super(...arguments);T(this,"foreignKeyConfigs",[])}array(r){return new $6(this.config.name,this,r)}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r,n){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=n==null?void 0:n.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:a,actions:i})=>ZY((l,o)=>{const c=new I6(()=>{const d=l();return{columns:[r],foreignColumns:[d]}});return o.onUpdate&&c.onUpdate(o.onUpdate),o.onDelete&&c.onDelete(o.onDelete),c.build(n)},a,i))}buildExtraConfigColumn(r){return new U6(r,this.config)}}T(At,f_,"PgColumnBuilder");var g_,b_;class ut extends(b_=Pd,g_=ge,b_){constructor(s,r){r.uniqueName||(r.uniqueName=XY(s,[r.name])),super(s,r),this.table=s}}T(ut,g_,"PgColumn");var y_,v_;class U6 extends(v_=ut,y_=ge,v_){constructor(){super(...arguments);T(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});T(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}T(U6,y_,"ExtraConfigColumn");var j_,w_;class $6 extends(w_=At,j_=ge,w_){constructor(s,r,n){super(s,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(s){const r=this.config.baseBuilder.build(s);return new nv(s,this.config,r)}}T($6,j_,"PgArrayBuilder");var N_,C_;const cx=class cx extends(C_=ut,N_=ge,C_){constructor(r,n,a,i){super(r,n);T(this,"size");this.baseColumn=a,this.range=i,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=JY(r)),r.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(r,n=!1){const a=r.map(i=>i===null?null:Zs(this.baseColumn,cx)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return n?a:z6(a)}};T(cx,N_,"PgArray");let nv=cx;const av=Symbol.for("drizzle:isPgEnum");function eZ(t){return!!t&&typeof t=="function"&&av in t&&t[av]===!0}var S_,__;class V6 extends(__=At,S_=ge,__){constructor(s,r){super(s,"string","PgEnumColumn"),this.config.enum=r}build(s){return new B6(s,this.config)}}T(V6,S_,"PgEnumColumnBuilder");var k_,P_;class B6 extends(P_=ut,k_=ge,P_){constructor(r,n){super(r,n);T(this,"enum",this.config.enum);T(this,"enumValues",this.config.enum.enumValues);this.enum=n.enum}getSQLType(){return this.enum.enumName}}T(B6,k_,"PgEnumColumn");function is(t,s){return tZ(t,s,void 0)}function tZ(t,s,r){const n=Object.assign(a=>new V6(a??"",n),{enumName:t,enumValues:s,schema:r,[av]:!0});return n}var E_;E_=ge;class eN{constructor(s,r,n,a=!1){this._={brand:"Subquery",sql:s,selectedFields:r,alias:n,isWith:a}}}T(eN,E_,"Subquery");const sZ={startActiveSpan(t,s){return s()}},Ec=Symbol.for("drizzle:ViewBaseConfig"),U0=Symbol.for("drizzle:Schema"),TC=Symbol.for("drizzle:Columns"),RC=Symbol.for("drizzle:ExtraConfigColumns"),$0=Symbol.for("drizzle:OriginalName"),V0=Symbol.for("drizzle:BaseName"),Zf=Symbol.for("drizzle:IsAlias"),DC=Symbol.for("drizzle:ExtraConfigBuilder"),q6=Symbol.for("drizzle:IsDrizzleTable");var A_,T_,R_,D_,M_,O_,I_,F_,L_,z_;z_=ge,L_=Pc,F_=$0,I_=U0,O_=TC,M_=RC,D_=V0,R_=Zf,T_=q6,A_=DC;class kr{constructor(s,r,n){T(this,L_);T(this,F_);T(this,I_);T(this,O_);T(this,M_);T(this,D_);T(this,R_,!1);T(this,T_,!0);T(this,A_);this[Pc]=this[$0]=s,this[U0]=r,this[V0]=n}}T(kr,z_,"Table"),T(kr,"Symbol",{Name:Pc,Schema:U0,OriginalName:$0,Columns:TC,ExtraConfigColumns:RC,BaseName:V0,IsAlias:Zf,ExtraConfigBuilder:DC});function W6(t){return typeof t=="object"&&t!==null&&q6 in t}function rZ(t){return t!=null&&typeof t.getSQL=="function"}function nZ(t){var r;const s={sql:"",params:[]};for(const n of t)s.sql+=n.sql,s.params.push(...n.params),(r=n.typings)!=null&&r.length&&(s.typings||(s.typings=[]),s.typings.push(...n.typings));return s}var U_;U_=ge;class bn{constructor(s){T(this,"value");this.value=Array.isArray(s)?s:[s]}getSQL(){return new zs([this])}}T(bn,U_,"StringChunk");var $_;$_=ge;const zl=class zl{constructor(s){T(this,"decoder",H6);T(this,"shouldInlineParams",!1);this.queryChunks=s}append(s){return this.queryChunks.push(...s.queryChunks),this}toQuery(s){return sZ.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,s);return r==null||r.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(s,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:a,escapeName:i,escapeParam:l,prepareTyping:o,inlineParams:c,paramStartIndex:d}=n;return nZ(s.map(u=>{var m;if(Zs(u,bn))return{sql:u.value.join(""),params:[]};if(Zs(u,Xf))return{sql:i(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const h=[new bn("(")];for(const[f,b]of u.entries())h.push(b),f<u.length-1&&h.push(new bn(", "));return h.push(new bn(")")),this.buildQueryFromSourceParams(h,n)}if(Zs(u,zl))return this.buildQueryFromSourceParams(u.queryChunks,{...n,inlineParams:c||u.shouldInlineParams});if(Zs(u,kr)){const h=u[kr.Symbol.Schema],f=u[kr.Symbol.Name];return{sql:h===void 0||u[Zf]?i(f):i(h)+"."+i(f),params:[]}}if(Zs(u,Pd)){const h=a.getColumnCasing(u);if(r.invokeSource==="indexes")return{sql:i(h),params:[]};const f=u.table[kr.Symbol.Schema];return{sql:u.table[Zf]||f===void 0?i(u.table[kr.Symbol.Name])+"."+i(h):i(f)+"."+i(u.table[kr.Symbol.Name])+"."+i(h),params:[]}}if(Zs(u,Q6)){const h=u[Ec].schema,f=u[Ec].name;return{sql:h===void 0||u[Ec].isAlias?i(f):i(h)+"."+i(f),params:[]}}if(Zs(u,tN)){if(Zs(u.value,Jf))return{sql:l(d.value++,u),params:[u],typings:["none"]};const h=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(Zs(h,zl))return this.buildQueryFromSourceParams([h],n);if(c)return{sql:this.mapInlineParam(h,n),params:[]};let f=["none"];return o&&(f=[o(u.encoder)]),{sql:l(d.value++,h),params:[h],typings:f}}return Zs(u,Jf)?{sql:l(d.value++,u),params:[u],typings:["none"]}:Zs(u,zl.Aliased)&&u.fieldAlias!==void 0?{sql:i(u.fieldAlias),params:[]}:Zs(u,eN)?u._.isWith?{sql:i(u._.alias),params:[]}:this.buildQueryFromSourceParams([new bn("("),u._.sql,new bn(") "),new Xf(u._.alias)],n):eZ(u)?u.schema?{sql:i(u.schema)+"."+i(u.enumName),params:[]}:{sql:i(u.enumName),params:[]}:rZ(u)?(m=u.shouldOmitSQLParens)!=null&&m.call(u)?this.buildQueryFromSourceParams([u.getSQL()],n):this.buildQueryFromSourceParams([new bn("("),u.getSQL(),new bn(")")],n):c?{sql:this.mapInlineParam(u,n),params:[]}:{sql:l(d.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(s,{escapeString:r}){if(s===null)return"null";if(typeof s=="number"||typeof s=="boolean")return s.toString();if(typeof s=="string")return r(s);if(typeof s=="object"){const n=s.toString();return r(n==="[object Object]"?JSON.stringify(s):n)}throw new Error("Unexpected param value: "+s)}getSQL(){return this}as(s){return s===void 0?this:new zl.Aliased(this,s)}mapWith(s){return this.decoder=typeof s=="function"?{mapFromDriverValue:s}:s,this}inlineParams(){return this.shouldInlineParams=!0,this}if(s){return s?this:void 0}};T(zl,$_,"SQL");let zs=zl;var V_;V_=ge;class Xf{constructor(s){T(this,"brand");this.value=s}getSQL(){return new zs([this])}}T(Xf,V_,"Name");const H6={mapFromDriverValue:t=>t},K6={mapToDriverValue:t=>t};({...H6,...K6});var B_;B_=ge;class tN{constructor(s,r=K6){T(this,"brand");this.value=s,this.encoder=r}getSQL(){return new zs([this])}}T(tN,B_,"Param");function Dt(t,...s){const r=[];(s.length>0||t.length>0&&t[0]!=="")&&r.push(new bn(t[0]));for(const[n,a]of s.entries())r.push(a,new bn(t[n+1]));return new zs(r)}(t=>{function s(){return new zs([])}t.empty=s;function r(c){return new zs(c)}t.fromList=r;function n(c){return new zs([new bn(c)])}t.raw=n;function a(c,d){const u=[];for(const[m,h]of c.entries())m>0&&d!==void 0&&u.push(d),u.push(h);return new zs(u)}t.join=a;function i(c){return new Xf(c)}t.identifier=i;function l(c){return new Jf(c)}t.placeholder=l;function o(c,d){return new tN(c,d)}t.param=o})(Dt||(Dt={}));(t=>{var r;r=ge;const n=class n{constructor(i,l){T(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=l}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};T(n,r,"SQL.Aliased");let s=n;t.Aliased=s})(zs||(zs={}));var q_;q_=ge;class Jf{constructor(s){this.name=s}getSQL(){return new zs([this])}}T(Jf,q_,"Placeholder");const G6=Symbol.for("drizzle:IsDrizzleView");var W_,H_,K_;K_=ge,H_=Ec,W_=G6;class Q6{constructor({name:s,schema:r,selectedFields:n,query:a}){T(this,H_);T(this,W_,!0);this[Ec]={name:s,originalName:s,schema:r,selectedFields:n,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new zs([this])}}T(Q6,K_,"View");function aZ(t){return typeof t=="object"&&t!==null&&G6 in t}Pd.prototype.getSQL=function(){return new zs([this])};kr.prototype.getSQL=function(){return new zs([this])};eN.prototype.getSQL=function(){return new zs([this])};function iZ(t){return t[kr.Symbol.Columns]}function lZ(t){return t[Ec].selectedFields}function Qs(t,s){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:s}}var G_,Q_;class Nh extends(Q_=At,G_=ge,Q_){generatedAlwaysAsIdentity(s){if(s){const{name:r,...n}=s;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(s){if(s){const{name:r,...n}=s;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}T(Nh,G_,"PgIntColumnBaseBuilder");var Y_,Z_;class Y6 extends(Z_=Nh,Y_=ge,Z_){constructor(s){super(s,"number","PgBigInt53")}build(s){return new Z6(s,this.config)}}T(Y6,Y_,"PgBigInt53Builder");var X_,J_;class Z6 extends(J_=ut,X_=ge,J_){getSQLType(){return"bigint"}mapFromDriverValue(s){return typeof s=="number"?s:Number(s)}}T(Z6,X_,"PgBigInt53");var ek,tk;class X6 extends(tk=Nh,ek=ge,tk){constructor(s){super(s,"bigint","PgBigInt64")}build(s){return new J6(s,this.config)}}T(X6,ek,"PgBigInt64Builder");var sk,rk;class J6 extends(rk=ut,sk=ge,rk){getSQLType(){return"bigint"}mapFromDriverValue(s){return BigInt(s)}}T(J6,sk,"PgBigInt64");function oZ(t,s){const{name:r,config:n}=Qs(t,s);return n.mode==="number"?new Y6(r):new X6(r)}var nk,ak;class eO extends(ak=At,nk=ge,ak){constructor(s){super(s,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(s){return new tO(s,this.config)}}T(eO,nk,"PgBigSerial53Builder");var ik,lk;class tO extends(lk=ut,ik=ge,lk){getSQLType(){return"bigserial"}mapFromDriverValue(s){return typeof s=="number"?s:Number(s)}}T(tO,ik,"PgBigSerial53");var ok,ck;class sO extends(ck=At,ok=ge,ck){constructor(s){super(s,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(s){return new rO(s,this.config)}}T(sO,ok,"PgBigSerial64Builder");var dk,uk;class rO extends(uk=ut,dk=ge,uk){getSQLType(){return"bigserial"}mapFromDriverValue(s){return BigInt(s)}}T(rO,dk,"PgBigSerial64");function cZ(t,s){const{name:r,config:n}=Qs(t,s);return n.mode==="number"?new eO(r):new sO(r)}var mk,hk;class nO extends(hk=At,mk=ge,hk){constructor(s){super(s,"boolean","PgBoolean")}build(s){return new aO(s,this.config)}}T(nO,mk,"PgBooleanBuilder");var pk,fk;class aO extends(fk=ut,pk=ge,fk){getSQLType(){return"boolean"}}T(aO,pk,"PgBoolean");function Mr(t){return new nO(t??"")}var xk,gk;class iO extends(gk=At,xk=ge,gk){constructor(s,r){super(s,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(s){return new lO(s,this.config)}}T(iO,xk,"PgCharBuilder");var bk,yk;class lO extends(yk=ut,bk=ge,yk){constructor(){super(...arguments);T(this,"length",this.config.length);T(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}T(lO,bk,"PgChar");function dZ(t,s={}){const{name:r,config:n}=Qs(t,s);return new iO(r,n)}var vk,jk;class oO extends(jk=At,vk=ge,jk){constructor(s){super(s,"string","PgCidr")}build(s){return new cO(s,this.config)}}T(oO,vk,"PgCidrBuilder");var wk,Nk;class cO extends(Nk=ut,wk=ge,Nk){getSQLType(){return"cidr"}}T(cO,wk,"PgCidr");function uZ(t){return new oO(t??"")}var Ck,Sk;class dO extends(Sk=At,Ck=ge,Sk){constructor(s,r,n){super(s,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(s){return new uO(s,this.config)}}T(dO,Ck,"PgCustomColumnBuilder");var _k,kk;class uO extends(kk=ut,_k=ge,kk){constructor(r,n){super(r,n);T(this,"sqlName");T(this,"mapTo");T(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}T(uO,_k,"PgCustomColumn");function mZ(t){return(s,r)=>{const{name:n,config:a}=Qs(s,r);return new dO(n,a,t)}}var Pk,Ek;class qd extends(Ek=At,Pk=ge,Ek){defaultNow(){return this.default(Dt`now()`)}}T(qd,Pk,"PgDateColumnBaseBuilder");var Ak,Tk;class mO extends(Tk=qd,Ak=ge,Tk){constructor(s){super(s,"date","PgDate")}build(s){return new hO(s,this.config)}}T(mO,Ak,"PgDateBuilder");var Rk,Dk;class hO extends(Dk=ut,Rk=ge,Dk){getSQLType(){return"date"}mapFromDriverValue(s){return new Date(s)}mapToDriverValue(s){return s.toISOString()}}T(hO,Rk,"PgDate");var Mk,Ok;class pO extends(Ok=qd,Mk=ge,Ok){constructor(s){super(s,"string","PgDateString")}build(s){return new fO(s,this.config)}}T(pO,Mk,"PgDateStringBuilder");var Ik,Fk;class fO extends(Fk=ut,Ik=ge,Fk){getSQLType(){return"date"}}T(fO,Ik,"PgDateString");function hZ(t,s){const{name:r,config:n}=Qs(t,s);return(n==null?void 0:n.mode)==="date"?new mO(r):new pO(r)}var Lk,zk;class xO extends(zk=At,Lk=ge,zk){constructor(s){super(s,"number","PgDoublePrecision")}build(s){return new gO(s,this.config)}}T(xO,Lk,"PgDoublePrecisionBuilder");var Uk,$k;class gO extends($k=ut,Uk=ge,$k){getSQLType(){return"double precision"}mapFromDriverValue(s){return typeof s=="string"?Number.parseFloat(s):s}}T(gO,Uk,"PgDoublePrecision");function pZ(t){return new xO(t??"")}var Vk,Bk;class bO extends(Bk=At,Vk=ge,Bk){constructor(s){super(s,"string","PgInet")}build(s){return new yO(s,this.config)}}T(bO,Vk,"PgInetBuilder");var qk,Wk;class yO extends(Wk=ut,qk=ge,Wk){getSQLType(){return"inet"}}T(yO,qk,"PgInet");function fZ(t){return new bO(t??"")}var Hk,Kk;class vO extends(Kk=Nh,Hk=ge,Kk){constructor(s){super(s,"number","PgInteger")}build(s){return new jO(s,this.config)}}T(vO,Hk,"PgIntegerBuilder");var Gk,Qk;class jO extends(Qk=ut,Gk=ge,Qk){getSQLType(){return"integer"}mapFromDriverValue(s){return typeof s=="string"?Number.parseInt(s):s}}T(jO,Gk,"PgInteger");function Ds(t){return new vO(t??"")}var Yk,Zk;class wO extends(Zk=At,Yk=ge,Zk){constructor(s,r){super(s,"string","PgInterval"),this.config.intervalConfig=r}build(s){return new NO(s,this.config)}}T(wO,Yk,"PgIntervalBuilder");var Xk,Jk;class NO extends(Jk=ut,Xk=ge,Jk){constructor(){super(...arguments);T(this,"fields",this.config.intervalConfig.fields);T(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${r}${n}`}}T(NO,Xk,"PgInterval");function xZ(t,s={}){const{name:r,config:n}=Qs(t,s);return new wO(r,n)}var e4,t4;class CO extends(t4=At,e4=ge,t4){constructor(s){super(s,"json","PgJson")}build(s){return new SO(s,this.config)}}T(CO,e4,"PgJsonBuilder");var s4,r4;class SO extends(r4=ut,s4=ge,r4){constructor(s,r){super(s,r)}getSQLType(){return"json"}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s}}T(SO,s4,"PgJson");function gZ(t){return new CO(t??"")}var n4,a4;class _O extends(a4=At,n4=ge,a4){constructor(s){super(s,"json","PgJsonb")}build(s){return new kO(s,this.config)}}T(_O,n4,"PgJsonbBuilder");var i4,l4;class kO extends(l4=ut,i4=ge,l4){constructor(s,r){super(s,r)}getSQLType(){return"jsonb"}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s}}T(kO,i4,"PgJsonb");function ex(t){return new _O(t??"")}var o4,c4;class PO extends(c4=At,o4=ge,c4){constructor(s){super(s,"array","PgLine")}build(s){return new EO(s,this.config)}}T(PO,o4,"PgLineBuilder");var d4,u4;class EO extends(u4=ut,d4=ge,u4){getSQLType(){return"line"}mapFromDriverValue(s){const[r,n,a]=s.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(a)]}mapToDriverValue(s){return`{${s[0]},${s[1]},${s[2]}}`}}T(EO,d4,"PgLine");var m4,h4;class AO extends(h4=At,m4=ge,h4){constructor(s){super(s,"json","PgLineABC")}build(s){return new TO(s,this.config)}}T(AO,m4,"PgLineABCBuilder");var p4,f4;class TO extends(f4=ut,p4=ge,f4){getSQLType(){return"line"}mapFromDriverValue(s){const[r,n,a]=s.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(a)}}mapToDriverValue(s){return`{${s.a},${s.b},${s.c}}`}}T(TO,p4,"PgLineABC");function bZ(t,s){const{name:r,config:n}=Qs(t,s);return!(n!=null&&n.mode)||n.mode==="tuple"?new PO(r):new AO(r)}var x4,g4;class RO extends(g4=At,x4=ge,g4){constructor(s){super(s,"string","PgMacaddr")}build(s){return new DO(s,this.config)}}T(RO,x4,"PgMacaddrBuilder");var b4,y4;class DO extends(y4=ut,b4=ge,y4){getSQLType(){return"macaddr"}}T(DO,b4,"PgMacaddr");function yZ(t){return new RO(t??"")}var v4,j4;class MO extends(j4=At,v4=ge,j4){constructor(s){super(s,"string","PgMacaddr8")}build(s){return new OO(s,this.config)}}T(MO,v4,"PgMacaddr8Builder");var w4,N4;class OO extends(N4=ut,w4=ge,N4){getSQLType(){return"macaddr8"}}T(OO,w4,"PgMacaddr8");function vZ(t){return new MO(t??"")}var C4,S4;class IO extends(S4=At,C4=ge,S4){constructor(s,r,n){super(s,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(s){return new FO(s,this.config)}}T(IO,C4,"PgNumericBuilder");var _4,k4;class FO extends(k4=ut,_4=ge,k4){constructor(r,n){super(r,n);T(this,"precision");T(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}T(FO,_4,"PgNumeric");function LO(t,s){const{name:r,config:n}=Qs(t,s);return new IO(r,n==null?void 0:n.precision,n==null?void 0:n.scale)}const ka=LO;var P4,E4;class zO extends(E4=At,P4=ge,E4){constructor(s){super(s,"array","PgPointTuple")}build(s){return new UO(s,this.config)}}T(zO,P4,"PgPointTupleBuilder");var A4,T4;class UO extends(T4=ut,A4=ge,T4){getSQLType(){return"point"}mapFromDriverValue(s){if(typeof s=="string"){const[r,n]=s.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[s.x,s.y]}mapToDriverValue(s){return`(${s[0]},${s[1]})`}}T(UO,A4,"PgPointTuple");var R4,D4;class $O extends(D4=At,R4=ge,D4){constructor(s){super(s,"json","PgPointObject")}build(s){return new VO(s,this.config)}}T($O,R4,"PgPointObjectBuilder");var M4,O4;class VO extends(O4=ut,M4=ge,O4){getSQLType(){return"point"}mapFromDriverValue(s){if(typeof s=="string"){const[r,n]=s.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return s}mapToDriverValue(s){return`(${s.x},${s.y})`}}T(VO,M4,"PgPointObject");function jZ(t,s){const{name:r,config:n}=Qs(t,s);return!(n!=null&&n.mode)||n.mode==="tuple"?new zO(r):new $O(r)}function wZ(t){const s=[];for(let r=0;r<t.length;r+=2)s.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(s)}function MC(t,s){const r=new ArrayBuffer(8),n=new DataView(r);for(let a=0;a<8;a++)n.setUint8(a,t[s+a]);return n.getFloat64(0,!0)}function BO(t){const s=wZ(t);let r=0;const n=s[r];r+=1;const a=new DataView(s.buffer),i=a.getUint32(r,n===1);if(r+=4,i&536870912&&(a.getUint32(r,n===1),r+=4),(i&65535)===1){const l=MC(s,r);r+=8;const o=MC(s,r);return r+=8,[l,o]}throw new Error("Unsupported geometry type")}var I4,F4;class qO extends(F4=At,I4=ge,F4){constructor(s){super(s,"array","PgGeometry")}build(s){return new WO(s,this.config)}}T(qO,I4,"PgGeometryBuilder");var L4,z4;class WO extends(z4=ut,L4=ge,z4){getSQLType(){return"geometry(point)"}mapFromDriverValue(s){return BO(s)}mapToDriverValue(s){return`point(${s[0]} ${s[1]})`}}T(WO,L4,"PgGeometry");var U4,$4;class HO extends($4=At,U4=ge,$4){constructor(s){super(s,"json","PgGeometryObject")}build(s){return new KO(s,this.config)}}T(HO,U4,"PgGeometryObjectBuilder");var V4,B4;class KO extends(B4=ut,V4=ge,B4){getSQLType(){return"geometry(point)"}mapFromDriverValue(s){const r=BO(s);return{x:r[0],y:r[1]}}mapToDriverValue(s){return`point(${s.x} ${s.y})`}}T(KO,V4,"PgGeometryObject");function NZ(t,s){const{name:r,config:n}=Qs(t,s);return!(n!=null&&n.mode)||n.mode==="tuple"?new qO(r):new HO(r)}var q4,W4;class GO extends(W4=At,q4=ge,W4){constructor(s,r){super(s,"number","PgReal"),this.config.length=r}build(s){return new QO(s,this.config)}}T(GO,q4,"PgRealBuilder");var H4,K4;class QO extends(K4=ut,H4=ge,K4){constructor(r,n){super(r,n);T(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}T(QO,H4,"PgReal");function CZ(t){return new GO(t??"")}var G4,Q4;class YO extends(Q4=At,G4=ge,Q4){constructor(s){super(s,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(s){return new ZO(s,this.config)}}T(YO,G4,"PgSerialBuilder");var Y4,Z4;class ZO extends(Z4=ut,Y4=ge,Z4){getSQLType(){return"serial"}}T(ZO,Y4,"PgSerial");function SZ(t){return new YO(t??"")}var X4,J4;class XO extends(J4=Nh,X4=ge,J4){constructor(s){super(s,"number","PgSmallInt")}build(s){return new JO(s,this.config)}}T(XO,X4,"PgSmallIntBuilder");var eP,tP;class JO extends(tP=ut,eP=ge,tP){constructor(){super(...arguments);T(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}T(JO,eP,"PgSmallInt");function _Z(t){return new XO(t??"")}var sP,rP;class eI extends(rP=At,sP=ge,rP){constructor(s){super(s,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(s){return new tI(s,this.config)}}T(eI,sP,"PgSmallSerialBuilder");var nP,aP;class tI extends(aP=ut,nP=ge,aP){getSQLType(){return"smallserial"}}T(tI,nP,"PgSmallSerial");function kZ(t){return new eI(t??"")}var iP,lP;class sI extends(lP=At,iP=ge,lP){constructor(s,r){super(s,"string","PgText"),this.config.enumValues=r.enum}build(s){return new rI(s,this.config)}}T(sI,iP,"PgTextBuilder");var oP,cP;class rI extends(cP=ut,oP=ge,cP){constructor(){super(...arguments);T(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}T(rI,oP,"PgText");function pe(t,s={}){const{name:r,config:n}=Qs(t,s);return new sI(r,n)}var dP,uP;class nI extends(uP=qd,dP=ge,uP){constructor(s,r,n){super(s,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}build(s){return new aI(s,this.config)}}T(nI,dP,"PgTimeBuilder");var mP,hP;class aI extends(hP=ut,mP=ge,hP){constructor(r,n){super(r,n);T(this,"withTimezone");T(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}T(aI,mP,"PgTime");function PZ(t,s={}){const{name:r,config:n}=Qs(t,s);return new nI(r,n.withTimezone??!1,n.precision)}var pP,fP;class iI extends(fP=qd,pP=ge,fP){constructor(s,r,n){super(s,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(s){return new lI(s,this.config)}}T(iI,pP,"PgTimestampBuilder");var xP,gP;class lI extends(gP=ut,xP=ge,gP){constructor(r,n){super(r,n);T(this,"withTimezone");T(this,"precision");T(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));T(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}T(lI,xP,"PgTimestamp");var bP,yP;class oI extends(yP=qd,bP=ge,yP){constructor(s,r,n){super(s,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(s){return new cI(s,this.config)}}T(oI,bP,"PgTimestampStringBuilder");var vP,jP;class cI extends(jP=ut,vP=ge,jP){constructor(r,n){super(r,n);T(this,"withTimezone");T(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}T(cI,vP,"PgTimestampString");function Ce(t,s={}){const{name:r,config:n}=Qs(t,s);return(n==null?void 0:n.mode)==="string"?new oI(r,n.withTimezone??!1,n.precision):new iI(r,(n==null?void 0:n.withTimezone)??!1,n==null?void 0:n.precision)}var wP,NP;class dI extends(NP=At,wP=ge,NP){constructor(s){super(s,"string","PgUUID")}defaultRandom(){return this.default(Dt`gen_random_uuid()`)}build(s){return new uI(s,this.config)}}T(dI,wP,"PgUUIDBuilder");var CP,SP;class uI extends(SP=ut,CP=ge,SP){getSQLType(){return"uuid"}}T(uI,CP,"PgUUID");function EZ(t){return new dI(t??"")}var _P,kP;class mI extends(kP=At,_P=ge,kP){constructor(s,r){super(s,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(s){return new hI(s,this.config)}}T(mI,_P,"PgVarcharBuilder");var PP,EP;class hI extends(EP=ut,PP=ge,EP){constructor(){super(...arguments);T(this,"length",this.config.length);T(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}T(hI,PP,"PgVarchar");function Ee(t,s={}){const{name:r,config:n}=Qs(t,s);return new mI(r,n)}var AP,TP;class pI extends(TP=At,AP=ge,TP){constructor(s,r){super(s,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(s){return new fI(s,this.config)}}T(pI,AP,"PgBinaryVectorBuilder");var RP,DP;class fI extends(DP=ut,RP=ge,DP){constructor(){super(...arguments);T(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}T(fI,RP,"PgBinaryVector");function AZ(t,s){const{name:r,config:n}=Qs(t,s);return new pI(r,n)}var MP,OP;class xI extends(OP=At,MP=ge,OP){constructor(s,r){super(s,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(s){return new gI(s,this.config)}}T(xI,MP,"PgHalfVectorBuilder");var IP,FP;class gI extends(FP=ut,IP=ge,FP){constructor(){super(...arguments);T(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}T(gI,IP,"PgHalfVector");function TZ(t,s){const{name:r,config:n}=Qs(t,s);return new xI(r,n)}var LP,zP;class bI extends(zP=At,LP=ge,zP){constructor(s,r){super(s,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(s){return new yI(s,this.config)}}T(bI,LP,"PgSparseVectorBuilder");var UP,$P;class yI extends($P=ut,UP=ge,$P){constructor(){super(...arguments);T(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}T(yI,UP,"PgSparseVector");function RZ(t,s){const{name:r,config:n}=Qs(t,s);return new bI(r,n)}var VP,BP;class vI extends(BP=At,VP=ge,BP){constructor(s,r){super(s,"array","PgVector"),this.config.dimensions=r.dimensions}build(s){return new jI(s,this.config)}}T(vI,VP,"PgVectorBuilder");var qP,WP;class jI extends(WP=ut,qP=ge,WP){constructor(){super(...arguments);T(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}T(jI,qP,"PgVector");function DZ(t,s){const{name:r,config:n}=Qs(t,s);return new vI(r,n)}function MZ(){return{bigint:oZ,bigserial:cZ,boolean:Mr,char:dZ,cidr:uZ,customType:mZ,date:hZ,doublePrecision:pZ,inet:fZ,integer:Ds,interval:xZ,json:gZ,jsonb:ex,line:bZ,macaddr:yZ,macaddr8:vZ,numeric:LO,point:jZ,geometry:NZ,real:CZ,serial:SZ,smallint:_Z,smallserial:kZ,text:pe,time:PZ,timestamp:Ce,uuid:EZ,varchar:Ee,bit:AZ,halfvec:TZ,sparsevec:RZ,vector:DZ}}const iv=Symbol.for("drizzle:PgInlineForeignKeys"),OC=Symbol.for("drizzle:EnableRLS");var HP,KP,GP,QP,YP;class zu extends(YP=kr,QP=ge,GP=iv,KP=OC,HP=kr.Symbol.ExtraConfigBuilder,YP){constructor(){super(...arguments);T(this,GP,[]);T(this,KP,!1);T(this,HP)}}T(zu,QP,"PgTable"),T(zu,"Symbol",Object.assign({},kr.Symbol,{InlineForeignKeys:iv,EnableRLS:OC}));function OZ(t,s,r,n,a=t){const i=new zu(t,n,a),l=typeof s=="function"?s(MZ()):s,o=Object.fromEntries(Object.entries(l).map(([u,m])=>{const h=m;h.setName(u);const f=h.build(i);return i[iv].push(...h.buildForeignKeys(f,i)),[u,f]})),c=Object.fromEntries(Object.entries(l).map(([u,m])=>{const h=m;h.setName(u);const f=h.buildExtraConfigColumn(i);return[u,f]})),d=Object.assign(i,o);return d[kr.Symbol.Columns]=o,d[kr.Symbol.ExtraConfigColumns]=c,r&&(d[zu.Symbol.ExtraConfigBuilder]=r),Object.assign(d,{enableRLS:()=>(d[zu.Symbol.EnableRLS]=!0,d)})}const Vt=(t,s,r)=>OZ(t,s,r,void 0),hs={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Ns(t,s){return s.includes(t.columnType)}function IZ(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const FZ=I.union([I.string(),I.number(),I.boolean(),I.null()]),LZ=I.union([FZ,I.record(I.any()),I.array(I.any())]),zZ=I.custom(t=>t instanceof Buffer);function wI(t,s){const r=(s==null?void 0:s.zodInstance)??I,n=(s==null?void 0:s.coerce)??{};let a;return IZ(t)&&(a=t.enumValues.length?r.enum(t.enumValues):r.string()),a||(Ns(t,["PgGeometry","PgPointTuple"])?a=r.tuple([r.number(),r.number()]):Ns(t,["PgGeometryObject","PgPointObject"])?a=r.object({x:r.number(),y:r.number()}):Ns(t,["PgHalfVector","PgVector"])?(a=r.array(r.number()),a=t.dimensions?a.length(t.dimensions):a):Ns(t,["PgLine"])?a=r.tuple([r.number(),r.number(),r.number()]):Ns(t,["PgLineABC"])?a=r.object({a:r.number(),b:r.number(),c:r.number()}):Ns(t,["PgArray"])?(a=r.array(wI(t.baseColumn,r)),a=t.size?a.length(t.size):a):t.dataType==="array"?a=r.array(r.any()):t.dataType==="number"?a=UZ(t,r,n):t.dataType==="bigint"?a=$Z(t,r,n):t.dataType==="boolean"?a=n===!0||n.boolean?r.coerce.boolean():r.boolean():t.dataType==="date"?a=n===!0||n.date?r.coerce.date():r.date():t.dataType==="string"?a=VZ(t,r,n):t.dataType==="json"?a=LZ:t.dataType==="custom"?a=r.any():t.dataType==="buffer"&&(a=zZ)),a||(a=r.any()),a}function UZ(t,s,r){let n=t.getSQLType().includes("unsigned"),a,i,l=!1;Ns(t,["MySqlTinyInt","SingleStoreTinyInt"])?(a=n?0:hs.INT8_MIN,i=n?hs.INT8_UNSIGNED_MAX:hs.INT8_MAX,l=!0):Ns(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=n?0:hs.INT16_MIN,i=n?hs.INT16_UNSIGNED_MAX:hs.INT16_MAX,l=!0):Ns(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=n?0:hs.INT24_MIN,i=n?hs.INT24_UNSIGNED_MAX:hs.INT24_MAX,l=Ns(t,["MySqlMediumInt","SingleStoreMediumInt"])):Ns(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=n?0:hs.INT32_MIN,i=n?hs.INT32_UNSIGNED_MAX:hs.INT32_MAX,l=!0):Ns(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=n?0:hs.INT48_MIN,i=n?hs.INT48_UNSIGNED_MAX:hs.INT48_MAX):Ns(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||Ns(t,["MySqlSerial","SingleStoreSerial"]),a=n?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,l=!0):Ns(t,["MySqlYear","SingleStoreYear"])?(a=1901,i=2155,l=!0):(a=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let o=r===!0||r!=null&&r.number?s.coerce.number():s.number();return o=o.min(a).max(i),l?o.int():o}function $Z(t,s,r){const n=t.getSQLType().includes("unsigned"),a=n?0n:hs.INT64_MIN,i=n?hs.INT64_UNSIGNED_MAX:hs.INT64_MAX;return(r===!0||r!=null&&r.bigint?s.coerce.bigint():s.bigint()).min(a).max(i)}function VZ(t,s,r){if(Ns(t,["PgUUID"]))return s.string().uuid();let n,a,i=!1;Ns(t,["PgVarchar","SQLiteText"])?n=t.length:Ns(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??hs.INT16_UNSIGNED_MAX:Ns(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=hs.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=hs.INT24_UNSIGNED_MAX:t.textType==="text"?n=hs.INT16_UNSIGNED_MAX:n=hs.INT8_UNSIGNED_MAX),Ns(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,i=!0),Ns(t,["PgBinaryVector"])&&(a=/^[01]+$/,n=t.dimensions);let l=r===!0||r!=null&&r.string?s.coerce.string():s.string();return l=a?l.regex(a):l,n&&i?l.length(n):n?l.max(n):l}function NI(t){return W6(t)?iZ(t):lZ(t)}function CI(t,s,r,n){const a={};for(const[i,l]of Object.entries(t)){if(!Zs(l,Pd)&&!Zs(l,zs)&&!Zs(l,zs.Aliased)&&typeof l=="object"){const m=W6(l)||aZ(l)?NI(l):l;a[i]=CI(m,s[i]??{},r,n);continue}const o=s[i];if(o!==void 0&&typeof o!="function"){a[i]=o;continue}const c=Zs(l,Pd)?l:void 0,d=c?wI(c,n):I.any(),u=typeof o=="function"?o(d):d;r.never(c)||(a[i]=u,c&&(r.nullable(c)&&(a[i]=a[i].nullable()),r.optional(c)&&(a[i]=a[i].optional())))}return I.object(a)}const BZ={never:t=>{var s,r;return((s=t==null?void 0:t.generated)==null?void 0:s.type)==="always"||((r=t==null?void 0:t.generatedIdentity)==null?void 0:r.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},Bt=(t,s)=>{const r=NI(t);return CI(r,{},BZ)},qZ=is("user_role",["admin","member_manager","case_manager","super_admin","staff","accountant","reviewer"]),WZ=is("user_status",["active","inactive","suspended","locked","pending_verification"]),SI=is("member_type",["real_estate_agent","property_manager","principal_real_estate_agent","real_estate_negotiator","property_developer"]),_I=is("organization_type",["real_estate_agency","property_management_firm","brokerage_firm","real_estate_development_firm"]),kI=is("membership_status",["active","suspended","expired","pending"]),HZ=is("case_status",["open","under_investigation","resolved","closed"]),KZ=is("case_priority",["low","medium","high","critical"]),GZ=is("case_type",["complaint","inquiry","dispute","violation"]),QZ=is("event_type",["workshop","seminar","training","conference","meeting"]),YZ=is("activity_type",["login","logout","profile_update","document_upload","payment","case_submission","event_registration","status_change","password_change","role_change","access_granted","access_denied"]),ZZ=is("renewal_status",["pending","reminded","completed","overdue","lapsed"]),Ch=is("payment_status",["pending","completed","failed","refunded"]),XZ=is("payment_method",["cash","paynow_ecocash","paynow_onemoney","stripe_card","bank_transfer","cheque","google_pay"]),tx=is("application_status",["draft","submitted","payment_pending","payment_received","under_review","approved","rejected","pre_validation","eligibility_review","document_review","needs_applicant_action","ready_for_registry","accepted","withdrawn","expired"]),JZ=is("application_stage",["initial_review","document_verification","background_check","committee_review","final_approval","certificate_generation"]),sN=is("application_type",["individual","organization"]);is("document_status",["uploaded","verified","rejected"]);is("document_type",["id_document","academic_certificate","proof_of_payment","company_registration","tax_clearance","other"]);const eX=is("decision",["accepted","rejected"]);is("education_level",["o_level","a_level","bachelors","hnd","masters","doctorate"]);const tX=is("notification_type",["email","sms","push","in_app"]),sX=is("notification_status",["pending","sent","delivered","failed","opened"]),PI=is("applicant_status",["registered","email_verified","application_started","application_completed","under_review","approved","rejected"]),br=Vt("users",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),email:pe("email").notNull().unique(),password:pe("password"),firstName:pe("first_name"),lastName:pe("last_name"),phone:pe("phone"),role:qZ("role").default("staff"),status:WZ("status").default("active"),permissions:pe("permissions"),lastLoginAt:Ce("last_login_at"),loginAttempts:Ds("login_attempts").default(0),lockedUntil:Ce("locked_until"),passwordChangedAt:Ce("password_changed_at"),emailVerified:Mr("email_verified").default(!1),emailVerificationToken:pe("email_verification_token"),passwordResetToken:pe("password_reset_token"),passwordResetExpires:Ce("password_reset_expires"),twoFactorEnabled:Mr("two_factor_enabled").default(!1),twoFactorSecret:pe("two_factor_secret"),profileImageUrl:pe("profile_image_url"),department:pe("department"),jobTitle:pe("job_title"),notes:pe("notes"),clerkId:pe("clerk_id").unique(),createdBy:Ee("created_by"),createdAt:Ce("created_at").defaultNow(),updatedAt:Ce("updated_at").defaultNow()}),rX=Vt("applicants",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),applicantId:pe("applicant_id").unique().notNull(),firstName:pe("first_name").notNull(),surname:pe("surname").notNull(),email:pe("email").notNull().unique(),status:PI("status").default("registered"),emailVerified:Mr("email_verified").default(!1),emailVerificationToken:pe("email_verification_token"),emailVerificationExpires:Ce("email_verification_expires"),applicationStartedAt:Ce("application_started_at"),applicationCompletedAt:Ce("application_completed_at"),password:pe("password"),passwordResetToken:pe("password_reset_token"),passwordResetExpires:Ce("password_reset_expires"),createdAt:Ce("created_at").defaultNow(),updatedAt:Ce("updated_at").defaultNow()}),nX=Vt("organization_applicants",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),applicantId:pe("applicant_id").unique().notNull(),companyName:pe("company_name").notNull(),email:pe("email").notNull().unique(),status:PI("status").default("registered"),emailVerified:Mr("email_verified").default(!1),emailVerificationToken:pe("email_verification_token"),emailVerificationExpires:Ce("email_verification_expires"),applicationStartedAt:Ce("application_started_at"),applicationCompletedAt:Ce("application_completed_at"),createdAt:Ce("created_at").defaultNow(),updatedAt:Ce("updated_at").defaultNow()}),jg=Vt("organizations",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),organizationId:pe("organization_id").unique(),name:pe("name").notNull(),businessType:_I("business_type").notNull(),registrationNumber:pe("registration_number").unique(),email:pe("email").notNull(),phone:pe("phone"),physicalAddress:pe("physical_address"),preaMemberId:Ee("prea_member_id"),status:kI("status").default("pending"),createdAt:Ce("created_at").defaultNow(),updatedAt:Ce("updated_at").defaultNow()}),Wa=Vt("members",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),clerkId:pe("clerk_id"),membershipNumber:pe("membership_number").unique(),firstName:pe("first_name").notNull(),lastName:pe("last_name").notNull(),email:pe("email").notNull().unique(),phone:pe("phone"),dateOfBirth:Ce("date_of_birth"),memberType:SI("member_type").notNull(),membershipStatus:kI("membership_status").default("pending"),organizationId:Ee("organization_id"),joinedDate:Ce("joined_date"),expiryDate:Ce("expiry_date"),nationalId:pe("national_id"),createdAt:Ce("created_at").defaultNow(),updatedAt:Ce("updated_at").defaultNow()});Vt("directors",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),organizationId:Ee("organization_id").notNull(),firstName:pe("first_name").notNull(),lastName:pe("last_name").notNull(),nationalId:pe("national_id"),email:pe("email"),phone:pe("phone"),position:pe("position"),appointedDate:Ce("appointed_date"),isActive:Mr("is_active").default(!0),createdAt:Ce("created_at").defaultNow(),updatedAt:Ce("updated_at").defaultNow()});const EI=Vt("individual_applications",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),applicationId:pe("application_id").notNull().unique(),applicantEmail:pe("applicant_email").notNull(),personal:ex("personal").notNull(),education:ex("education"),memberType:SI("member_type").notNull(),status:tx("status").default("draft"),applicationFee:ka("application_fee",{precision:10,scale:2}),paymentStatus:Ch("payment_status"),paymentReference:pe("payment_reference"),reviewNotes:pe("review_notes"),reviewedBy:pe("reviewed_by"),reviewedAt:Ce("reviewed_at"),approvedAt:Ce("approved_at"),createdMemberId:Ee("created_member_id"),createdAt:Ce("created_at").defaultNow(),updatedAt:Ce("updated_at").defaultNow()}),rN=EI,aX=Vt("organization_applications",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),applicationId:pe("application_id").notNull().unique(),applicantEmail:pe("applicant_email").notNull(),company:ex("company").notNull(),businessType:_I("business_type").notNull(),status:tx("status").default("draft"),applicationFee:ka("application_fee",{precision:10,scale:2}),paymentStatus:Ch("payment_status"),paymentReference:pe("payment_reference"),reviewNotes:pe("review_notes"),reviewedBy:pe("reviewed_by"),reviewedAt:Ce("reviewed_at"),approvedAt:Ce("approved_at"),createdOrganizationId:Ee("created_organization_id"),createdAt:Ce("created_at").defaultNow(),updatedAt:Ce("updated_at").defaultNow()}),iX=Vt("uploaded_documents",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),applicationType:Ee("application_type").notNull(),applicationIdFk:Ee("application_id_fk").notNull(),docType:Ee("doc_type").notNull(),fileKey:pe("file_key"),fileName:pe("file_name").notNull(),fileData:pe("file_data"),mime:pe("mime"),sizeBytes:Ds("size_bytes"),sha256:pe("sha256"),status:Ee("status").default("uploaded"),rejectionReason:pe("rejection_reason"),verifierUserId:Ee("verifier_user_id").references(()=>br.id),verifiedAt:Ce("verified_at"),uploadedAt:Ce("uploaded_at").defaultNow(),updatedAt:Ce("updated_at").defaultNow()}),lX=Vt("status_history",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),applicationType:sN("application_type").notNull(),applicationIdFk:Ee("application_id_fk").notNull(),fromStatus:tx("from_status"),toStatus:tx("to_status").notNull(),actorUserId:Ee("actor_user_id").references(()=>br.id),comment:pe("comment"),createdAt:Ce("created_at").defaultNow()}),oX=Vt("registry_decisions",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),applicationType:sN("application_type").notNull(),applicationIdFk:Ee("application_id_fk").notNull(),decision:eX("decision").notNull(),reasons:pe("reasons"),decidedBy:Ee("decided_by").references(()=>br.id),decidedAt:Ce("decided_at").defaultNow()}),cX=Vt("naming_series_counters",{seriesCode:Ee("series_code").notNull(),year:Ds("year").notNull(),counter:Ds("counter").default(0)},t=>({pk:Dt`PRIMARY KEY (${t.seriesCode}, ${t.year})`})),dX=Vt("app_login_tokens",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),applicationType:sN("application_type").notNull(),applicationIdFk:Ee("application_id_fk").notNull(),email:pe("email").notNull(),code:Ee("code",{length:6}).notNull(),attempts:Ds("attempts").default(0),expiresAt:Ce("expires_at").notNull(),createdAt:Ce("created_at").defaultNow()},t=>({appTokenIdx:Dt`CREATE INDEX IF NOT EXISTS app_token_idx ON ${t} (${t.applicationType}, ${t.applicationIdFk}, ${t.email})`})),AI=Vt("cases",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),caseNumber:pe("case_number").unique().notNull(),title:pe("title").notNull(),description:pe("description").notNull(),type:GZ("type").notNull(),priority:KZ("priority").default("medium"),status:HZ("status").default("open"),submittedBy:pe("submitted_by"),submittedByEmail:pe("submitted_by_email"),memberId:Ee("member_id").references(()=>Wa.id),organizationId:Ee("organization_id").references(()=>jg.id),assignedTo:Ee("assigned_to").references(()=>br.id),resolution:pe("resolution"),createdAt:Ce("created_at").defaultNow(),updatedAt:Ce("updated_at").defaultNow()}),wg=Vt("events",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),title:pe("title").notNull(),description:pe("description"),type:QZ("type").notNull(),startDate:Ce("start_date").notNull(),endDate:Ce("end_date"),location:pe("location"),address:pe("address"),instructor:pe("instructor"),capacity:Ds("capacity"),price:ka("price",{precision:10,scale:2}),cpdPoints:Ds("cpd_points").default(0),isActive:Mr("is_active").default(!0),createdAt:Ce("created_at").defaultNow(),updatedAt:Ce("updated_at").defaultNow()});Vt("event_registrations",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),eventId:Ee("event_id").references(()=>wg.id),memberId:Ee("member_id").references(()=>Wa.id),paymentStatus:Ch("payment_status").default("pending"),registrationDate:Ce("registration_date").defaultNow(),attended:Mr("attended").default(!1),certificateIssued:Mr("certificate_issued").default(!1)});const nN=Vt("payments",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),paymentNumber:pe("payment_number").unique().notNull(),memberId:Ee("member_id").references(()=>Wa.id),organizationId:Ee("organization_id").references(()=>jg.id),applicationId:Ee("application_id"),eventId:Ee("event_id").references(()=>wg.id),amount:ka("amount",{precision:10,scale:2}).notNull(),currency:pe("currency").default("USD"),paymentMethod:XZ("payment_method").notNull(),status:Ch("status").default("pending"),purpose:pe("purpose").notNull(),description:pe("description"),referenceNumber:pe("reference_number"),transactionId:pe("transaction_id"),externalPaymentId:pe("external_payment_id"),gatewayResponse:pe("gateway_response"),paymentDate:Ce("payment_date"),dueDate:Ce("due_date"),processedBy:Ee("processed_by").references(()=>br.id),receiptUrl:pe("receipt_url"),notes:pe("notes"),fees:ka("fees",{precision:10,scale:2}).default("0"),netAmount:ka("net_amount",{precision:10,scale:2}),refundAmount:ka("refund_amount",{precision:10,scale:2}).default("0"),refundReason:pe("refund_reason"),refundedAt:Ce("refunded_at"),failureReason:pe("failure_reason"),retryCount:Ds("retry_count").default(0),lastRetryAt:Ce("last_retry_at"),createdAt:Ce("created_at").defaultNow(),updatedAt:Ce("updated_at").defaultNow()}),uX=Vt("cpd_activities",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),memberId:Ee("member_id").references(()=>Wa.id),eventId:Ee("event_id").references(()=>wg.id),activityTitle:pe("activity_title").notNull(),activityType:pe("activity_type").notNull(),pointsEarned:Ds("points_earned").default(0),completionDate:Ce("completion_date"),certificateUrl:pe("certificate_url"),verifiedBy:Ee("verified_by").references(()=>br.id),isVerified:Mr("is_verified").default(!1),createdAt:Ce("created_at").defaultNow()}),mX=Vt("member_renewals",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),memberId:Ee("member_id").references(()=>Wa.id),renewalYear:Ds("renewal_year").notNull(),dueDate:Ce("due_date").notNull(),status:ZZ("status").default("pending"),remindersSent:Ds("reminders_sent").default(0),lastReminderDate:Ce("last_reminder_date"),renewalDate:Ce("renewal_date"),renewalFee:ka("renewal_fee",{precision:10,scale:2}),paymentId:Ee("payment_id").references(()=>nN.id),createdAt:Ce("created_at").defaultNow(),updatedAt:Ce("updated_at").defaultNow()}),hX=Vt("member_activities",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),memberId:Ee("member_id").references(()=>Wa.id),userId:Ee("user_id").references(()=>br.id),activityType:YZ("activity_type").notNull(),description:pe("description").notNull(),details:pe("details"),ipAddress:pe("ip_address"),userAgent:pe("user_agent"),timestamp:Ce("timestamp").defaultNow()}),pX=Vt("documents",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),memberId:Ee("member_id").references(()=>Wa.id),organizationId:Ee("organization_id").references(()=>jg.id),applicationId:Ee("application_id").references(()=>rN.id),documentType:pe("document_type").notNull(),fileName:pe("file_name").notNull(),filePath:pe("file_path").notNull(),fileSize:Ds("file_size"),mimeType:pe("mime_type"),isVerified:Mr("is_verified").default(!1),verifiedBy:Ee("verified_by").references(()=>br.id),verificationDate:Ce("verification_date"),createdAt:Ce("created_at").defaultNow()}),fX=Vt("user_sessions",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),userId:Ee("user_id").references(()=>br.id).notNull(),sessionToken:pe("session_token").unique().notNull(),ipAddress:pe("ip_address"),userAgent:pe("user_agent"),location:pe("location"),deviceType:pe("device_type"),isActive:Mr("is_active").default(!0),lastActivity:Ce("last_activity").defaultNow(),expiresAt:Ce("expires_at").notNull(),createdAt:Ce("created_at").defaultNow()}),xX=Vt("application_workflows",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),applicationId:Ee("application_id").references(()=>rN.id).notNull(),stage:JZ("stage").notNull(),status:pe("status").notNull(),assignedTo:Ee("assigned_to").references(()=>br.id),startedAt:Ce("started_at"),completedAt:Ce("completed_at"),dueDate:Ce("due_date"),notes:pe("notes"),documents:pe("documents"),estimatedDurationHours:Ds("estimated_duration_hours").default(24),actualDurationHours:Ds("actual_duration_hours"),createdAt:Ce("created_at").defaultNow(),updatedAt:Ce("updated_at").defaultNow()}),gX=Vt("payment_installments",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),paymentId:Ee("payment_id").references(()=>nN.id).notNull(),installmentNumber:Ds("installment_number").notNull(),amount:ka("amount",{precision:10,scale:2}).notNull(),dueDate:Ce("due_date").notNull(),paidDate:Ce("paid_date"),status:Ch("status").default("pending"),transactionId:pe("transaction_id"),lateFee:ka("late_fee",{precision:10,scale:2}).default("0"),createdAt:Ce("created_at").defaultNow()}),bX=Vt("notifications",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),userId:Ee("user_id").references(()=>br.id),memberId:Ee("member_id").references(()=>Wa.id),type:tX("type").notNull(),status:sX("status").default("pending"),title:pe("title").notNull(),message:pe("message").notNull(),data:pe("data"),scheduledFor:Ce("scheduled_for"),sentAt:Ce("sent_at"),deliveredAt:Ce("delivered_at"),openedAt:Ce("opened_at"),externalId:pe("external_id"),retryCount:Ds("retry_count").default(0),maxRetries:Ds("max_retries").default(3),createdAt:Ce("created_at").defaultNow()}),yX=Vt("user_permissions",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),userId:Ee("user_id").references(()=>br.id).notNull(),permission:pe("permission").notNull(),resource:pe("resource"),grantedBy:Ee("granted_by").references(()=>br.id),grantedAt:Ce("granted_at").defaultNow(),expiresAt:Ce("expires_at"),isActive:Mr("is_active").default(!0)}),vX=Vt("audit_logs",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),userId:Ee("user_id").references(()=>br.id),action:pe("action").notNull(),resource:pe("resource").notNull(),resourceId:pe("resource_id"),oldValues:pe("old_values"),newValues:pe("new_values"),ipAddress:pe("ip_address"),userAgent:pe("user_agent"),timestamp:Ce("timestamp").defaultNow(),severity:pe("severity").default("info"),description:pe("description")}),jX=is("badge_type",["profile_basic","profile_complete","documents_verified","cpd_achiever","event_participant","payment_complete","early_bird","community_contributor","certificate_holder","organization_member"]),wX=is("badge_difficulty",["bronze","silver","gold","platinum"]),TI=Vt("achievement_badges",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),name:pe("name").notNull(),description:pe("description").notNull(),type:jX("type").notNull(),difficulty:wX("difficulty").default("bronze"),icon:pe("icon").notNull(),color:pe("color").notNull(),criteria:pe("criteria").notNull(),points:Ds("points").default(0),isActive:Mr("is_active").default(!0),createdAt:Ce("created_at").defaultNow()}),NX=Vt("member_achievement_badges",{id:Ee("id").primaryKey().default(Dt`gen_random_uuid()`),memberId:Ee("member_id").references(()=>Wa.id),badgeId:Ee("badge_id").references(()=>TI.id),earnedAt:Ce("earned_at").defaultNow(),isVisible:Mr("is_visible").default(!0),progress:Ds("progress").default(0),createdAt:Ce("created_at").defaultNow()}),CX=Vt("system_settings",{key:pe("key").primaryKey(),value:pe("value").notNull(),description:pe("description"),updatedBy:Ee("updated_by").references(()=>br.id),updatedAt:Ce("updated_at").defaultNow()});Bt(br).omit({id:!0,createdAt:!0,updatedAt:!0});Bt(rX).omit({id:!0,applicantId:!0,emailVerificationToken:!0,emailVerificationExpires:!0,createdAt:!0,updatedAt:!0});Bt(nX).omit({id:!0,applicantId:!0,emailVerificationToken:!0,emailVerificationExpires:!0,createdAt:!0,updatedAt:!0});Bt(Wa).omit({id:!0,membershipNumber:!0,createdAt:!0,updatedAt:!0});Bt(jg).omit({id:!0,createdAt:!0,updatedAt:!0});Bt(rN).omit({id:!0,createdAt:!0,updatedAt:!0});const SX=Bt(AI).omit({id:!0,caseNumber:!0,createdAt:!0,updatedAt:!0});I.object({status:I.enum(["open","in_progress","resolved","closed"]).optional(),priority:I.enum(["low","medium","high","critical"]).optional(),type:I.enum(["complaint","inquiry","dispute","violation"]).optional(),assignedTo:I.string().optional(),search:I.string().optional()});Bt(AI).omit({id:!0,caseNumber:!0,createdAt:!0,updatedAt:!0}).partial();I.object({assignedTo:I.string().optional()});I.object({caseIds:I.array(I.string()),assignedTo:I.string()});I.object({caseIds:I.array(I.string()),resolution:I.string().optional(),status:I.enum(["resolved","closed"]).default("resolved")});I.object({caseIds:I.array(I.string()),action:I.enum(["assign","resolve","close"]),assignedTo:I.string().optional(),resolution:I.string().optional()});Bt(wg).omit({id:!0,createdAt:!0,updatedAt:!0});Bt(nN).omit({id:!0,createdAt:!0});Bt(pX).omit({id:!0,createdAt:!0});Bt(uX).omit({id:!0,createdAt:!0});Bt(mX).omit({id:!0,createdAt:!0,updatedAt:!0});Bt(hX).omit({id:!0,timestamp:!0});Bt(fX).omit({id:!0,createdAt:!0});Bt(xX).omit({id:!0,createdAt:!0,updatedAt:!0});Bt(gX).omit({id:!0,createdAt:!0});Bt(bX).omit({id:!0,createdAt:!0});Bt(yX).omit({id:!0,grantedAt:!0});Bt(vX).omit({id:!0,timestamp:!0});Bt(CX).omit({updatedAt:!0});Bt(EI).omit({id:!0,applicationId:!0,createdAt:!0,updatedAt:!0});Bt(aX).omit({id:!0,applicationId:!0,createdAt:!0,updatedAt:!0});Bt(iX).omit({id:!0,uploadedAt:!0,updatedAt:!0});Bt(lX).omit({id:!0,createdAt:!0});Bt(oX).omit({id:!0,decidedAt:!0});Bt(cX);Bt(dX).omit({id:!0,createdAt:!0});Bt(TI).omit({id:!0,createdAt:!0});Bt(NX).omit({id:!0,createdAt:!0});const _X=I.object({employer:I.string().min(2,"Employer name must be at least 2 characters"),typeOfBusiness:I.string().min(2,"Type of business must be at least 2 characters"),jobTitle:I.string().min(2,"Job title must be at least 2 characters"),dateFrom:I.string().min(1,"Start date is required"),dateTo:I.string().optional()}).superRefine((t,s)=>{const r=new Date().toISOString().split("T")[0];t.dateFrom>r&&s.addIssue({code:"custom",message:"Start date cannot be in the future",path:["dateFrom"]}),t.dateTo&&t.dateFrom>t.dateTo&&s.addIssue({code:"custom",message:"End date must be after start date",path:["dateTo"]}),t.dateTo&&t.dateTo>r&&s.addIssue({code:"custom",message:"End date cannot be in the future",path:["dateTo"]})}),kX=I.array(_X).min(1,"At least one business experience entry is required").max(20,"Too many experience entries (maximum 20 allowed)");function PX(){const[t,s]=p.useState({status:"",priority:"",type:""}),[r,n]=p.useState(!1),[a,i]=p.useState(!1),[l,o]=p.useState(!1),[c,d]=p.useState(!1),[u,m]=p.useState([]),[h,f]=p.useState(null),{toast:b}=tt(),{user:x,isLoading:v}=St(),[,g]=Xe();if(!v&&!x)return g("/auth"),null;if(v)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:"Loading..."})});const{data:y=[],isLoading:j,refetch:w}=Ge({queryKey:["/api/cases"]});Ge({queryKey:["/api/cases/staff"],queryFn:async()=>await(await Be("GET","/api/cases/staff")).json()}),Ge({queryKey:["/api/cases",{priority:"high"}],queryFn:async()=>await(await Be("GET","/api/cases?priority=high")).json(),enabled:l});const N=It({resolver:Ft(SX),defaultValues:{title:"",description:"",type:"complaint",priority:"medium",submittedBy:"",submittedByEmail:""}}),_=$e({mutationFn:async E=>await(await Be("POST","/api/cases",E)).json(),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/cases"]}),n(!1),N.reset(),b({title:"Case Created",description:"New case has been successfully created."})},onError:E=>{b({title:"Error",description:E.message,variant:"destructive"})}}),k=$e({mutationFn:async({caseId:E,assignedTo:M})=>await(await Be("PUT",`/api/cases/${E}/assign`,{assignedTo:M})).json(),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/cases"]}),i(!1),b({title:"Case Assigned",description:"Case has been successfully assigned."})}}),S=$e({mutationFn:async E=>await(await Be("POST","/api/cases/bulk-action",E)).json(),onSuccess:(E,M)=>{st.invalidateQueries({queryKey:["/api/cases"]}),m([]),d(!1),b({title:"Bulk Action Completed",description:`Successfully ${M.action}ed ${M.caseIds.length} cases.`})}}),A=$e({mutationFn:async({caseId:E,updates:M})=>await(await Be("PUT",`/api/cases/${E}`,M)).json(),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/cases"]}),b({title:"Case Updated",description:"Case status has been updated successfully."})}}),z={isPending:S.isPending,mutate:E=>S.mutate({action:"assign",caseIds:E.caseIds,assignedTo:E.assignedTo})},re={isPending:S.isPending,mutate:E=>S.mutate({action:"resolve",caseIds:E.caseIds,resolution:E.resolution})},F=E=>{_.mutate(E)},B=E=>{switch(E){case"high":return"destructive";case"critical":return"destructive";case"medium":return"default";default:return"secondary"}},U=E=>{switch(E){case"open":return"default";case"under_investigation":return"secondary";case"resolved":return"outline";case"closed":return"outline";default:return"secondary"}},W=y.filter(E=>(!t.status||E.status===t.status)&&(!t.priority||E.priority===t.priority)&&(!t.type||E.type===t.type));return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(mn,{currentPage:"cases"}),e.jsxs("div",{className:"p-6",children:[e.jsx(Et,{items:[{label:"Admin Dashboard",href:"/admin-dashboard"},{label:"Case Management"}],className:"mb-6"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Case Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage complaints and helpdesk cases"})]}),e.jsx(zo,{title:"Quick Actions",description:"Streamline case management workflow",actions:[{icon:gs,label:"Create Case",action:()=>n(!0),color:"text-rose-600",bg:"bg-rose-100",testId:"button-create-case"},{icon:Us,label:"Assign Cases",action:()=>i(!0),color:"text-blue-600",bg:"bg-blue-100",testId:"button-assign-cases"},{icon:Wt,label:"Generate Reports",action:async()=>{const M=await(await Be("GET","/api/cases/reports/export?format=csv")).text(),q=new Blob([M],{type:"text/csv"}),R=window.URL.createObjectURL(q),ie=document.createElement("a");ie.href=R,ie.download="cases-export.csv",ie.click(),window.URL.revokeObjectURL(R),b({title:"Report Generated",description:"Cases report has been downloaded."})},color:"text-emerald-600",bg:"bg-emerald-100",testId:"button-case-reports"},{icon:Je,label:"Priority Queue",action:()=>o(!0),color:"text-orange-600",bg:"bg-orange-100",testId:"button-priority-queue"},{icon:ft,label:"Case Timeline",action:()=>{b(h?{title:"Case Timeline",description:`${h.title} - Status: ${h.status} - Created: ${new Date(h.createdAt).toLocaleDateString()}`}:{title:"Case Timeline",description:"Select a case to view its timeline."})},color:"text-purple-600",bg:"bg-purple-100",testId:"button-case-timeline"},{icon:le,label:"Bulk Resolve",action:()=>d(!0),color:"text-violet-600",bg:"bg-violet-100",testId:"button-bulk-resolve"}]}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("div",{children:e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Case Dashboard"})}),e.jsx(za,{open:r,onOpenChange:n,children:e.jsx(Vd,{asChild:!0,children:e.jsxs(P,{className:"gradient-button text-white border-0","data-testid":"button-create-case",children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"New Case"]})})}),e.jsx(Lt,{open:r,onOpenChange:n,title:"Create New Case",subtitle:"Add a new case to the system for tracking and management",icon:gs,colorVariant:"red",maxWidth:"xl",footer:{secondary:{label:"Cancel",onClick:()=>n(!1),variant:"outline",testId:"button-cancel-case"},primary:{label:_.isPending?"Creating...":"Create Case",onClick:N.handleSubmit(F),disabled:_.isPending,loading:_.isPending,testId:"button-submit-case"}},children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 p-4 rounded-xl border border-red-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-red-800 mb-4 flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 mr-2"}),"Case Details"]}),e.jsx(Rt,{...N,children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(Q,{control:N.control,name:"title",render:({field:E})=>e.jsxs(K,{children:[e.jsx(Z,{className:"text-red-700 font-semibold",children:"Case Title"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Enter case title","data-testid":"input-case-title",className:"border-red-300 focus:border-red-500 bg-white/80",...E})}),e.jsx(X,{})]})}),e.jsx(Q,{control:N.control,name:"description",render:({field:E})=>e.jsxs(K,{children:[e.jsx(Z,{className:"text-red-700 font-semibold",children:"Description"}),e.jsx(G,{children:e.jsx(kt,{placeholder:"Describe the case details...",rows:4,"data-testid":"textarea-case-description",className:"border-red-300 focus:border-red-500 bg-white/80",...E})}),e.jsx(X,{})]})})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 p-4 rounded-xl border border-orange-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-orange-800 mb-4 flex items-center",children:[e.jsx(Je,{className:"w-5 h-5 mr-2"}),"Classification & Priority"]}),e.jsx(Rt,{...N,children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Q,{control:N.control,name:"type",render:({field:E})=>e.jsxs(K,{children:[e.jsx(Z,{className:"text-orange-700 font-semibold",children:"Case Type"}),e.jsxs(Ie,{onValueChange:E.onChange,defaultValue:E.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-case-type",className:"border-orange-300 focus:border-orange-500 bg-white/80",children:e.jsx(Fe,{placeholder:"Select type"})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"complaint",children:"Complaint"}),e.jsx(D,{value:"inquiry",children:"Inquiry"}),e.jsx(D,{value:"dispute",children:"Dispute"}),e.jsx(D,{value:"violation",children:"Violation"})]})]}),e.jsx(X,{})]})}),e.jsx(Q,{control:N.control,name:"priority",render:({field:E})=>e.jsxs(K,{children:[e.jsx(Z,{className:"text-orange-700 font-semibold",children:"Priority"}),e.jsxs(Ie,{onValueChange:E.onChange,defaultValue:E.value||void 0,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-case-priority",className:"border-orange-300 focus:border-orange-500 bg-white/80",children:e.jsx(Fe,{placeholder:"Select priority"})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"low",children:"Low"}),e.jsx(D,{value:"medium",children:"Medium"}),e.jsx(D,{value:"high",children:"High"}),e.jsx(D,{value:"critical",children:"Critical"})]})]}),e.jsx(X,{})]})})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-4 rounded-xl border border-blue-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[e.jsx(et,{className:"w-5 h-5 mr-2"}),"Contact Information (Optional)"]}),e.jsx(Rt,{...N,children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Q,{control:N.control,name:"submittedBy",render:({field:E})=>e.jsxs(K,{children:[e.jsx(Z,{className:"text-blue-700 font-semibold",children:"Submitted By"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Name of person","data-testid":"input-submitted-by",className:"border-blue-300 focus:border-blue-500 bg-white/80",value:E.value||"",onChange:E.onChange,onBlur:E.onBlur,name:E.name,ref:E.ref})}),e.jsx(X,{})]})}),e.jsx(Q,{control:N.control,name:"submittedByEmail",render:({field:E})=>e.jsxs(K,{children:[e.jsx(Z,{className:"text-blue-700 font-semibold",children:"Contact Email"}),e.jsx(G,{children:e.jsx(Y,{type:"email",placeholder:"contact@email.com","data-testid":"input-submitted-email",className:"border-blue-300 focus:border-blue-500 bg-white/80",value:E.value||"",onChange:E.onChange,onBlur:E.onBlur,name:E.name,ref:E.ref})}),e.jsx(X,{})]})})]})})]})]})})]}),e.jsx($,{className:"mb-6",children:e.jsx(V,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-2",children:"Status"}),e.jsxs(Ie,{value:t.status,onValueChange:E=>s(M=>({...M,status:E})),children:[e.jsx(De,{"data-testid":"filter-status",children:e.jsx(Fe,{placeholder:"All Statuses"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"all",children:"All Statuses"}),e.jsx(D,{value:"open",children:"Open"}),e.jsx(D,{value:"under_investigation",children:"Under Investigation"}),e.jsx(D,{value:"resolved",children:"Resolved"}),e.jsx(D,{value:"closed",children:"Closed"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-2",children:"Priority"}),e.jsxs(Ie,{value:t.priority,onValueChange:E=>s(M=>({...M,priority:E})),children:[e.jsx(De,{"data-testid":"filter-priority",children:e.jsx(Fe,{placeholder:"All Priorities"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"all",children:"All Priorities"}),e.jsx(D,{value:"low",children:"Low"}),e.jsx(D,{value:"medium",children:"Medium"}),e.jsx(D,{value:"high",children:"High"}),e.jsx(D,{value:"critical",children:"Critical"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-2",children:"Case Type"}),e.jsxs(Ie,{value:t.type,onValueChange:E=>s(M=>({...M,type:E})),children:[e.jsx(De,{"data-testid":"filter-type",children:e.jsx(Fe,{placeholder:"All Types"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"all",children:"All Types"}),e.jsx(D,{value:"complaint",children:"Complaint"}),e.jsx(D,{value:"inquiry",children:"Inquiry"}),e.jsx(D,{value:"dispute",children:"Dispute"}),e.jsx(D,{value:"violation",children:"Violation"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(P,{className:"w-full gradient-button text-white border-0",onClick:()=>w(),"data-testid":"button-apply-filters",children:[e.jsx(XT,{className:"w-4 h-4 mr-2"}),"Apply Filters"]})})]})})}),e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{children:["All Cases (",W.length,")"]})}),e.jsxs(V,{children:[j?e.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((E,M)=>e.jsx("div",{className:"animate-pulse bg-secondary rounded-lg h-16"},M))}):e.jsxs(Sd,{children:[e.jsx(_d,{children:e.jsxs(Qn,{children:[e.jsx(yt,{className:"w-12",children:e.jsx(Xs,{checked:u.length===W.length&&W.length>0,onCheckedChange:E=>{m(E?W.map(M=>M.id):[])},"data-testid":"checkbox-select-all"})}),e.jsx(yt,{children:"Case #"}),e.jsx(yt,{children:"Title"}),e.jsx(yt,{children:"Type"}),e.jsx(yt,{children:"Priority"}),e.jsx(yt,{children:"Status"}),e.jsx(yt,{children:"Submitted By"}),e.jsx(yt,{children:"Created"}),e.jsx(yt,{children:"Actions"})]})}),e.jsx(kd,{children:W.map(E=>e.jsxs(Qn,{children:[e.jsx(vt,{children:e.jsx(Xs,{checked:u.includes(E.id),onCheckedChange:M=>{m(M?[...u,E.id]:u.filter(q=>q!==E.id))},"data-testid":`checkbox-select-case-${E.id}`})}),e.jsx(vt,{className:"font-medium","data-testid":`case-number-${E.id}`,children:E.caseNumber}),e.jsx(vt,{"data-testid":`case-title-${E.id}`,children:E.title}),e.jsx(vt,{"data-testid":`case-type-${E.id}`,children:E.type}),e.jsx(vt,{children:e.jsx(oe,{variant:B(E.priority||"medium"),"data-testid":`case-priority-${E.id}`,children:E.priority})}),e.jsx(vt,{children:e.jsx(oe,{variant:U(E.status||"open"),"data-testid":`case-status-${E.id}`,children:E.status})}),e.jsx(vt,{"data-testid":`case-submitted-by-${E.id}`,children:E.submittedBy||"Anonymous"}),e.jsx(vt,{"data-testid":`case-created-at-${E.id}`,children:new Date(E.createdAt).toLocaleDateString()}),e.jsx(vt,{children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(P,{size:"sm",variant:"outline",className:"h-8 w-8 p-0 text-blue-600 border-blue-200 hover:bg-blue-50",onClick:()=>f(E),"data-testid":`button-view-case-${E.id}`,children:e.jsx(us,{className:"w-4 h-4"})}),e.jsx(P,{size:"sm",variant:"outline",className:"h-8 w-8 p-0 text-green-600 border-green-200 hover:bg-green-50",onClick:()=>k.mutate({caseId:E.id,assignedTo:x==null?void 0:x.id}),"data-testid":`button-assign-case-${E.id}`,children:e.jsx(et,{className:"w-4 h-4"})}),e.jsx(P,{size:"sm",variant:"outline",className:"h-8 w-8 p-0 text-orange-600 border-orange-200 hover:bg-orange-50",onClick:()=>A.mutate({caseId:E.id,updates:{status:E.status==="open"?"under_investigation":"resolved"}}),"data-testid":`button-status-case-${E.id}`,children:e.jsx(Tr,{className:"w-4 h-4"})}),e.jsx(P,{size:"sm",variant:"outline",className:"h-8 w-8 p-0 text-red-600 border-red-200 hover:bg-red-50",onClick:()=>{window.confirm("Are you sure you want to close this case?")&&A.mutate({caseId:E.id,updates:{status:"closed"}})},"data-testid":`button-close-case-${E.id}`,children:e.jsx(Oa,{className:"w-4 h-4"})})]})})]},E.id))})]}),!j&&W.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Je,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No cases found matching your criteria"})]})]})]})]}),e.jsx(wt,{}),e.jsx(Lt,{open:!!h,onOpenChange:()=>f(null),title:`Case Details - ${(h==null?void 0:h.caseNumber)||""}`,subtitle:h==null?void 0:h.title,icon:us,colorVariant:"blue",maxWidth:"3xl",children:h&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-4 rounded-xl border border-blue-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 mr-2"}),"Case Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-blue-700 mb-1 block",children:"Case Number"}),e.jsx("p",{className:"text-sm font-medium bg-blue-100 p-2 rounded border border-blue-300",children:h.caseNumber})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-blue-700 mb-1 block",children:"Title"}),e.jsx("p",{className:"text-sm font-medium bg-blue-100 p-2 rounded border border-blue-300",children:h.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-blue-700 mb-1 block",children:"Type & Priority"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(oe,{variant:"outline",className:"bg-blue-100 text-blue-800 border-blue-300",children:h.type}),e.jsx(oe,{variant:B(h.priority||"medium"),children:h.priority})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-blue-700 mb-1 block",children:"Status"}),e.jsx(oe,{variant:U(h.status||"open"),className:"text-sm p-2",children:h.status})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-blue-700 mb-1 block",children:"Created"}),e.jsx("p",{className:"text-sm font-medium bg-blue-100 p-2 rounded border border-blue-300",children:new Date(h.createdAt).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-blue-700 mb-1 block",children:"Submitted By"}),e.jsx("p",{className:"text-sm font-medium bg-blue-100 p-2 rounded border border-blue-300",children:h.submittedBy||"Anonymous"})]})]})]})]}),h.description&&e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-xl border border-purple-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-purple-800 mb-4 flex items-center",children:[e.jsx(Je,{className:"w-5 h-5 mr-2"}),"Case Description"]}),e.jsx("div",{className:"bg-purple-100 p-4 rounded-lg border border-purple-300",children:e.jsx("p",{className:"text-sm text-purple-800 whitespace-pre-wrap font-medium",children:h.description})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 p-4 rounded-xl border border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(Tr,{className:"w-5 h-5 mr-2"}),"Quick Actions"]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(P,{size:"sm",className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200",onClick:()=>{k.mutate({caseId:h.id,assignedTo:x==null?void 0:x.id}),f(null)},children:[e.jsx(et,{className:"w-4 h-4 mr-2"}),"Assign to Me"]}),e.jsxs(P,{size:"sm",className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200",onClick:()=>{A.mutate({caseId:h.id,updates:{status:h.status==="open"?"under_investigation":"resolved"}}),f(null)},children:[e.jsx(Tr,{className:"w-4 h-4 mr-2"}),"Change Status"]}),e.jsxs(P,{size:"sm",className:"bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200",onClick:()=>{window.confirm("Are you sure you want to close this case?")&&(A.mutate({caseId:h.id,updates:{status:"closed"}}),f(null))},children:[e.jsx(Oa,{className:"w-4 h-4 mr-2"}),"Close Case"]})]})]})]})}),e.jsx(Lt,{open:l,onOpenChange:o,title:"Priority Queue",subtitle:"High Priority Cases requiring immediate attention",icon:Je,colorVariant:"amber",maxWidth:"3xl",children:e.jsxs("div",{className:"space-y-4",children:[W.filter(E=>["high","critical"].includes(E.priority||"")).sort((E,M)=>{const q={critical:0,high:1,medium:2,low:3};return q[E.priority]-q[M.priority]}).map(E=>{var M;return e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-xl p-4 space-y-3","data-testid":`priority-case-${E.id}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(oe,{variant:B(E.priority||"medium"),className:"text-xs font-bold px-3 py-1",children:["🚨 ",(M=E.priority)==null?void 0:M.toUpperCase()]}),e.jsx("h3",{className:"font-bold text-amber-800",children:E.title})]}),e.jsx(oe,{variant:U(E.status||"open"),className:"font-semibold",children:E.status})]}),e.jsxs("div",{className:"bg-amber-100 p-3 rounded-lg border border-amber-300",children:[e.jsxs("p",{className:"text-sm font-medium text-amber-700 mb-1",children:["Case #",E.caseNumber]}),e.jsx("p",{className:"text-sm text-amber-800",children:E.description})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs(P,{size:"sm",className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200",onClick:()=>{k.mutate({caseId:E.id,assignedTo:x==null?void 0:x.id}),o(!1)},"data-testid":`button-assign-priority-${E.id}`,children:[e.jsx(et,{className:"w-4 h-4 mr-2"}),"Assign to Me"]}),e.jsxs(P,{size:"sm",className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200",onClick:()=>{f(E),o(!1)},"data-testid":`button-view-priority-${E.id}`,children:[e.jsx(us,{className:"w-4 h-4 mr-2"}),"View Details"]})]})]},E.id)}),W.filter(E=>["high","critical"].includes(E.priority||"")).length===0&&e.jsxs("div",{className:"text-center py-12 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200",children:[e.jsx(le,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("h3",{className:"font-bold text-green-800 text-lg mb-2",children:"All Clear!"}),e.jsx("p",{className:"text-green-700",children:"No high priority cases requiring immediate attention"})]})]})}),e.jsx(Lt,{open:a,onOpenChange:i,title:"Assign Cases",subtitle:`Assign ${u.length} selected cases to a staff member`,icon:Us,colorVariant:"green",maxWidth:"2xl",footer:{secondary:{label:"Cancel",onClick:()=>i(!1),variant:"outline",testId:"button-cancel-assignment"},primary:{label:z.isPending?"Assigning...":"Assign Cases",onClick:()=>{const E=document.getElementById("assign-cases-form");if(E){const q=new FormData(E).get("assignedTo");z.mutate({caseIds:u,assignedTo:q})}},disabled:z.isPending,loading:z.isPending,testId:"button-confirm-assignment"}},children:e.jsx("form",{id:"assign-cases-form",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-xl border border-green-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center",children:[e.jsx(Us,{className:"w-5 h-5 mr-2"}),"Assignment Details"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-green-700 mb-2 block",children:"Assign to Staff Member"}),e.jsxs("select",{name:"assignedTo",required:!0,className:"w-full p-3 border border-green-300 rounded-lg bg-white/80 focus:border-green-500 text-green-800 font-medium","data-testid":"select-staff-assignment",children:[e.jsx("option",{value:"",children:"Select staff member..."}),e.jsxs("option",{value:x==null?void 0:x.id,children:[x==null?void 0:x.firstName," ",x==null?void 0:x.lastName," (Me)"]}),e.jsx("option",{value:"admin@eacz.com",children:"System Administrator"}),e.jsx("option",{value:"case.manager@eacz.com",children:"Case Manager"}),e.jsx("option",{value:"staff@eacz.com",children:"Staff Member"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-green-700 mb-2 block",children:"Assignment Note (Optional)"}),e.jsx("textarea",{name:"note",className:"w-full p-3 border border-green-300 rounded-lg bg-white/80 focus:border-green-500 text-green-800",rows:3,placeholder:"Add any notes about this assignment...","data-testid":"textarea-assignment-note"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-4 rounded-xl border border-blue-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 mr-2"}),"Selected Cases (",u.length,")"]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-lg border border-blue-300 max-h-48 overflow-y-auto",children:e.jsx("div",{className:"space-y-2",children:u.map(E=>{const M=y.find(q=>q.id===E);return M?e.jsxs("div",{className:"bg-white p-2 rounded border border-blue-200",children:[e.jsx("p",{className:"text-sm font-bold text-blue-800",children:M.caseNumber}),e.jsx("p",{className:"text-xs text-blue-700",children:M.title})]},E):null})})})]})]})})}),e.jsx(Lt,{open:c,onOpenChange:d,title:"Bulk Resolve Cases",subtitle:`Mark ${u.length} selected cases as resolved`,icon:le,colorVariant:"emerald",maxWidth:"2xl",footer:{secondary:{label:"Cancel",onClick:()=>d(!1),variant:"outline",testId:"button-cancel-bulk-resolve"},primary:{label:re.isPending?"Resolving...":"Resolve Cases",onClick:()=>{const E=document.getElementById("bulk-resolve-form");if(E){const q=new FormData(E).get("resolution");re.mutate({caseIds:u,resolution:q||"Cases resolved via bulk action"})}},disabled:re.isPending,loading:re.isPending,testId:"button-confirm-bulk-resolve"}},children:e.jsx("form",{id:"bulk-resolve-form",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 p-4 rounded-xl border border-emerald-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-emerald-800 mb-4 flex items-center",children:[e.jsx(le,{className:"w-5 h-5 mr-2"}),"Resolution Details"]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-emerald-700 mb-2 block",children:"Resolution Summary"}),e.jsx("textarea",{name:"resolution",className:"w-full p-3 border border-emerald-300 rounded-lg bg-white/80 focus:border-emerald-500 text-emerald-800",rows:4,placeholder:"Enter a summary of how these cases were resolved...","data-testid":"textarea-bulk-resolution"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-4 rounded-xl border border-blue-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 mr-2"}),"Cases to be Resolved (",u.length,")"]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-lg border border-blue-300 max-h-48 overflow-y-auto",children:e.jsx("div",{className:"space-y-2",children:u.map(E=>{const M=y.find(q=>q.id===E);return M?e.jsxs("div",{className:"bg-white p-2 rounded border border-blue-200 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-blue-800",children:M.caseNumber}),e.jsx("p",{className:"text-xs text-blue-700",children:M.title})]}),e.jsx(oe,{variant:B(M.priority||"medium"),className:"text-xs",children:M.priority})]},E):null})})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 p-4 rounded-xl border border-amber-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-amber-800 mb-3 flex items-center",children:[e.jsx(Je,{className:"w-5 h-5 mr-2"}),"Important Notice"]}),e.jsx("div",{className:"bg-amber-100 p-3 rounded-lg border border-amber-300",children:e.jsxs("p",{className:"text-sm font-medium text-amber-800",children:[e.jsx(Je,{className:"w-4 h-4 inline mr-2"}),"This action will mark all selected cases as resolved. This cannot be undone."]})})]})]})})})]})}const EX=hh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),jl=p.forwardRef(({className:t,variant:s,...r},n)=>e.jsx("div",{ref:n,role:"alert",className:ye(EX({variant:s}),t),...r}));jl.displayName="Alert";const AX=p.forwardRef(({className:t,...s},r)=>e.jsx("h5",{ref:r,className:ye("mb-1 font-medium leading-none tracking-tight",t),...s}));AX.displayName="AlertTitle";const wl=p.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:ye("text-sm [&_p]:leading-relaxed",t),...s}));wl.displayName="AlertDescription";var aN="Radio",[TX,RI]=Gs(aN),[RX,DX]=TX(aN),DI=p.forwardRef((t,s)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:l,value:o="on",onCheck:c,form:d,...u}=t,[m,h]=p.useState(null),f=Nt(s,v=>h(v)),b=p.useRef(!1),x=m?d||!!m.closest("form"):!0;return e.jsxs(RX,{scope:r,checked:a,disabled:l,children:[e.jsx(Qe.button,{type:"button",role:"radio","aria-checked":a,"data-state":II(a),"data-disabled":l?"":void 0,disabled:l,value:o,...u,ref:f,onClick:ke(t.onClick,v=>{a||c==null||c(),x&&(b.current=v.isPropagationStopped(),b.current||v.stopPropagation())})}),x&&e.jsx(MX,{control:m,bubbles:!b.current,name:n,value:o,checked:a,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});DI.displayName=aN;var MI="RadioIndicator",OI=p.forwardRef((t,s)=>{const{__scopeRadio:r,forceMount:n,...a}=t,i=DX(MI,r);return e.jsx(Yr,{present:n||i.checked,children:e.jsx(Qe.span,{"data-state":II(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s})})});OI.displayName=MI;var MX=t=>{const{control:s,checked:r,bubbles:n=!0,...a}=t,i=p.useRef(null),l=xg(r),o=ng(s);return p.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&m){const h=new Event("click",{bubbles:n});m.call(c,r),c.dispatchEvent(h)}},[l,r,n]),e.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function II(t){return t?"checked":"unchecked"}var OX=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],iN="RadioGroup",[IX,Joe]=Gs(iN,[$d,RI]),FI=$d(),LI=RI(),[FX,LX]=IX(iN),zI=p.forwardRef((t,s)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:l=!1,disabled:o=!1,orientation:c,dir:d,loop:u=!0,onValueChange:m,...h}=t,f=FI(r),b=fh(d),[x,v]=ta({prop:i,defaultProp:a,onChange:m});return e.jsx(FX,{scope:r,name:n,required:l,disabled:o,value:x,onValueChange:v,children:e.jsx(Aw,{asChild:!0,...f,orientation:c,dir:b,loop:u,children:e.jsx(Qe.div,{role:"radiogroup","aria-required":l,"aria-orientation":c,"data-disabled":o?"":void 0,dir:b,...h,ref:s})})})});zI.displayName=iN;var UI="RadioGroupItem",$I=p.forwardRef((t,s)=>{const{__scopeRadioGroup:r,disabled:n,...a}=t,i=LX(UI,r),l=i.disabled||n,o=FI(r),c=LI(r),d=p.useRef(null),u=Nt(s,d),m=i.value===a.value,h=p.useRef(!1);return p.useEffect(()=>{const f=x=>{OX.includes(x.key)&&(h.current=!0)},b=()=>h.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",b)}},[]),e.jsx(Tw,{asChild:!0,...o,focusable:!l,active:m,children:e.jsx(DI,{disabled:l,required:i.required,checked:m,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:ke(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:ke(a.onFocus,()=>{var f;h.current&&((f=d.current)==null||f.click())})})})});$I.displayName=UI;var zX="RadioGroupIndicator",VI=p.forwardRef((t,s)=>{const{__scopeRadioGroup:r,...n}=t,a=LI(r);return e.jsx(OI,{...a,...n,ref:s})});VI.displayName=zX;var BI=zI,qI=$I,UX=VI;const Ro=p.forwardRef(({className:t,...s},r)=>e.jsx(BI,{className:ye("grid gap-2",t),...s,ref:r}));Ro.displayName=BI.displayName;const Cn=p.forwardRef(({className:t,...s},r)=>e.jsx(qI,{ref:r,className:ye("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:e.jsx(UX,{className:"flex items-center justify-center",children:e.jsx(YT,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Cn.displayName=qI.displayName;const $X=I.object({reporterName:I.string().min(2,"Name is required"),reporterEmail:I.string().email("Valid email is required"),reporterPhone:I.string().optional(),caseType:I.enum(["complaint","violation","malpractice","misconduct","fraud","breach_of_duty"]),respondentType:I.enum(["individual","firm"]),respondentName:I.string().min(2,"Respondent name is required"),respondentLicense:I.string().optional(),incidentDate:I.string().optional(),incidentLocation:I.string().optional(),description:I.string().min(50,"Please provide a detailed description (at least 50 characters)"),evidence:I.string().optional(),witnesses:I.string().optional(),previousAction:I.string().optional(),expectedOutcome:I.string().optional(),agreement:I.boolean().refine(t=>t===!0,"You must agree to the terms and conditions"),truthfulness:I.boolean().refine(t=>t===!0,"You must confirm the information is truthful")});function VX(){const[t,s]=p.useState(1),[r,n]=p.useState(!1),[,a]=Xe(),{toast:i}=tt(),l=It({resolver:Ft($X),defaultValues:{reporterName:"",reporterEmail:"",reporterPhone:"",caseType:"complaint",respondentType:"individual",respondentName:"",respondentLicense:"",incidentDate:"",incidentLocation:"",description:"",evidence:"",witnesses:"",previousAction:"",expectedOutcome:"",agreement:!1,truthfulness:!1}});Ge({queryKey:["/api/members"],enabled:l.watch("respondentType")==="individual"}),Ge({queryKey:["/api/organizations"],enabled:l.watch("respondentType")==="firm"});const o=$e({mutationFn:async u=>await(await Be("POST","/api/cases/report",u)).json(),onSuccess:()=>{n(!0),st.invalidateQueries({queryKey:["/api/cases"]}),i({title:"Case Reported Successfully",description:"Your case has been submitted and assigned a tracking number."})},onError:u=>{i({title:"Error",description:u.message,variant:"destructive"})}}),c=u=>{o.mutate(u)},d=u=>{switch(u){case"complaint":return"General Complaint";case"violation":return"Regulatory Violation";case"malpractice":return"Professional Malpractice";case"misconduct":return"Professional Misconduct";case"fraud":return"Fraud/Deception";case"breach_of_duty":return"Breach of Fiduciary Duty";default:return u}};return r?e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"gradient-bg py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center p-2",children:e.jsx("img",{src:cn,alt:"EACZ Logo",className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"text-white",children:[e.jsx("h1",{className:"text-xl font-bold",children:"Estate Agents Council"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"of Zimbabwe"})]})]}),e.jsx(P,{className:"bg-white/20 hover:bg-white/30 text-white border border-white/30",onClick:()=>a("/"),children:"Return to Home"})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(le,{className:"w-10 h-10 text-green-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Case Submitted Successfully"}),e.jsxs("div",{className:"bg-white border shadow-lg rounded-lg p-8 mb-6",children:[e.jsx("p",{className:"text-gray-700 mb-4",children:"Thank you for submitting your case. Your report has been received and assigned a case number."}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"What happens next?"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-600",children:[e.jsx("li",{children:"Your case will be reviewed by our team within 5 business days"}),e.jsx("li",{children:"We may contact you for additional information if needed"}),e.jsx("li",{children:"You'll receive updates via email as your case progresses"}),e.jsx("li",{children:"A formal response will be provided within 30 days"})]})]}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx(P,{onClick:()=>a("/cases/track"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Track Your Case"}),e.jsx(P,{variant:"outline",onClick:()=>a("/"),children:"Return to Home"})]})]})]})})]}):e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"relative bg-gradient-to-r from-egyptian-blue to-powder-blue py-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Lodge a Complaint"}),e.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-3xl mx-auto",children:"Report professional misconduct, violations, or file a complaint against a registered estate agent or firm"}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsxs(P,{className:"bg-white text-egyptian-blue hover:bg-white/90 border-0 font-semibold",onClick:()=>window.scrollTo({top:400,behavior:"smooth"}),children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"File a Complaint"]}),e.jsx(P,{variant:"outline",className:"bg-white/10 hover:bg-white/20 text-white border-white/30",onClick:()=>a("/"),children:"Return to Home"})]})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-12 flex-1",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx(Et,{items:[{label:"Case Management",href:"/case-management"},{label:"Report a Case"}],className:"mb-6"}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4 p-2",children:e.jsx("img",{src:cn,alt:"Estate Agents Council Logo",className:"w-full h-full object-contain"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Report a Case"}),e.jsx("p",{className:"text-gray-600",children:"Submit a complaint or report misconduct against a registered estate agent or firm."})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:`flex items-center ${t>=1?"text-blue-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t>=1?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"} mr-2`,children:"1"}),e.jsx("span",{className:"text-sm",children:"Reporter Info"})]}),e.jsxs("div",{className:`flex items-center ${t>=2?"text-blue-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t>=2?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"} mr-2`,children:"2"}),e.jsx("span",{className:"text-sm",children:"Case Details"})]}),e.jsxs("div",{className:`flex items-center ${t>=3?"text-blue-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t>=3?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"} mr-2`,children:"3"}),e.jsx("span",{className:"text-sm",children:"Review & Submit"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${t/3*100}%`}})})]}),e.jsx(Rt,{...l,children:e.jsx("form",{onSubmit:l.handleSubmit(c),children:e.jsxs($,{className:"bg-white border shadow-lg",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 mr-2"}),t===1&&"Reporter Information",t===2&&"Case Details",t===3&&"Review & Confirmation"]})}),e.jsxs(V,{className:"space-y-6",children:[t===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(Q,{control:l.control,name:"reporterName",render:({field:u})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Full Name *"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Enter your full name","data-testid":"input-reporter-name",...u})}),e.jsx(X,{})]})}),e.jsx(Q,{control:l.control,name:"reporterEmail",render:({field:u})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Email Address *"}),e.jsx(G,{children:e.jsx(Y,{type:"email",placeholder:"Enter your email address","data-testid":"input-reporter-email",...u})}),e.jsx(X,{})]})}),e.jsx(Q,{control:l.control,name:"reporterPhone",render:({field:u})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Phone Number"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Enter your phone number","data-testid":"input-reporter-phone",...u})}),e.jsx(X,{})]})})]}),t===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(Q,{control:l.control,name:"caseType",render:({field:u})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Type of Case *"}),e.jsxs(Ie,{onValueChange:u.onChange,defaultValue:u.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-case-type",children:e.jsx(Fe,{placeholder:"Select case type"})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"complaint",children:"General Complaint"}),e.jsx(D,{value:"violation",children:"Regulatory Violation"}),e.jsx(D,{value:"malpractice",children:"Professional Malpractice"}),e.jsx(D,{value:"misconduct",children:"Professional Misconduct"}),e.jsx(D,{value:"fraud",children:"Fraud/Deception"}),e.jsx(D,{value:"breach_of_duty",children:"Breach of Fiduciary Duty"})]})]}),e.jsx(X,{})]})}),e.jsx(Q,{control:l.control,name:"respondentType",render:({field:u})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Type of Respondent *"}),e.jsx(G,{children:e.jsxs(Ro,{onValueChange:u.onChange,defaultValue:u.value,className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Cn,{value:"individual",id:"individual"}),e.jsx(ue,{htmlFor:"individual",children:"Individual Agent"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Cn,{value:"firm",id:"firm"}),e.jsx(ue,{htmlFor:"firm",children:"Estate Agency Firm"})]})]})}),e.jsx(X,{})]})}),e.jsx(Q,{control:l.control,name:"respondentName",render:({field:u})=>e.jsxs(K,{children:[e.jsxs(Z,{children:[l.watch("respondentType")==="individual"?"Agent Name":"Firm Name"," *"]}),e.jsx(G,{children:e.jsx(Y,{placeholder:`Enter ${l.watch("respondentType")==="individual"?"agent":"firm"} name`,"data-testid":"input-respondent-name",...u})}),e.jsx(X,{})]})}),e.jsx(Q,{control:l.control,name:"respondentLicense",render:({field:u})=>e.jsxs(K,{children:[e.jsx(Z,{children:"License/Registration Number"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Enter license or registration number if known","data-testid":"input-respondent-license",...u})}),e.jsx(X,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Q,{control:l.control,name:"incidentDate",render:({field:u})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Incident Date"}),e.jsx(G,{children:e.jsx(Y,{type:"date","data-testid":"input-incident-date",...u})}),e.jsx(X,{})]})}),e.jsx(Q,{control:l.control,name:"incidentLocation",render:({field:u})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Incident Location"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Where did this occur?","data-testid":"input-incident-location",...u})}),e.jsx(X,{})]})})]}),e.jsx(Q,{control:l.control,name:"description",render:({field:u})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Detailed Description *"}),e.jsx(G,{children:e.jsx(kt,{placeholder:"Please provide a detailed description of the incident, including what happened, when, and any relevant circumstances...",rows:6,"data-testid":"textarea-case-description",...u})}),e.jsx(X,{})]})}),e.jsx(Q,{control:l.control,name:"evidence",render:({field:u})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Evidence/Documentation"}),e.jsx(G,{children:e.jsx(kt,{placeholder:"Describe any evidence you have (documents, emails, photos, etc.)...",rows:3,"data-testid":"textarea-evidence",...u})}),e.jsx(X,{})]})}),e.jsx(Q,{control:l.control,name:"witnesses",render:({field:u})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Witnesses"}),e.jsx(G,{children:e.jsx(kt,{placeholder:"List any witnesses to the incident, including their contact information if available...",rows:3,"data-testid":"textarea-witnesses",...u})}),e.jsx(X,{})]})}),e.jsx(Q,{control:l.control,name:"expectedOutcome",render:({field:u})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Expected Outcome"}),e.jsx(G,{children:e.jsx(kt,{placeholder:"What resolution are you seeking? (e.g., apology, compensation, disciplinary action, etc.)",rows:3,"data-testid":"textarea-expected-outcome",...u})}),e.jsx(X,{})]})})]}),t===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Case Summary"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Type:"})," ",d(l.watch("caseType"))]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Respondent:"})," ",l.watch("respondentName")," (",l.watch("respondentType"),")"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Reporter:"})," ",l.watch("reporterName")," (",l.watch("reporterEmail"),")"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Q,{control:l.control,name:"truthfulness",render:({field:u})=>e.jsxs(K,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(G,{children:e.jsx(Xs,{checked:u.value,onCheckedChange:u.onChange,"data-testid":"checkbox-truthfulness"})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(Z,{children:"Declaration of Truthfulness *"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"I declare that the information provided is true and accurate to the best of my knowledge."})]}),e.jsx(X,{})]})}),e.jsx(Q,{control:l.control,name:"agreement",render:({field:u})=>e.jsxs(K,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(G,{children:e.jsx(Xs,{checked:u.value,onCheckedChange:u.onChange,"data-testid":"checkbox-agreement"})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(Z,{children:"Terms and Conditions *"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"I agree to the terms and conditions and understand that false reporting may result in legal action."})]}),e.jsx(X,{})]})})]}),e.jsxs(jl,{children:[e.jsx(Je,{className:"h-4 w-4"}),e.jsxs(wl,{children:[e.jsx("strong",{children:"Important:"})," Your case will be reviewed by the Estate Agents Council. You may be contacted for additional information. False or malicious reports may result in legal consequences."]})]})]}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsx(P,{type:"button",variant:"outline",onClick:()=>s(Math.max(1,t-1)),disabled:t===1,children:"Previous"}),t<3?e.jsx(P,{type:"button",onClick:()=>s(Math.min(3,t+1)),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Next"}):e.jsx(P,{type:"submit",disabled:o.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50","data-testid":"button-submit-case",children:o.isPending?"Submitting...":"Submit Case"})]})]})]})})})]})})]})}var BX="Separator",IC="horizontal",qX=["horizontal","vertical"],WI=p.forwardRef((t,s)=>{const{decorative:r,orientation:n=IC,...a}=t,i=WX(n)?n:IC,o=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(Qe.div,{"data-orientation":i,...o,...a,ref:s})});WI.displayName=BX;function WX(t){return qX.includes(t)}var HI=WI;const Ac=p.forwardRef(({className:t,orientation:s="horizontal",decorative:r=!0,...n},a)=>e.jsx(HI,{ref:a,decorative:r,orientation:s,className:ye("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Ac.displayName=HI.displayName;var lN="Progress",oN=100,[HX,ece]=Gs(lN),[KX,GX]=HX(lN),KI=p.forwardRef((t,s)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=QX,...l}=t;(a||a===0)&&!FC(a)&&console.error(YX(`${a}`,"Progress"));const o=FC(a)?a:oN;n!==null&&!LC(n,o)&&console.error(ZX(`${n}`,"Progress"));const c=LC(n,o)?n:null,d=sx(c)?i(c,o):void 0;return e.jsx(KX,{scope:r,value:c,max:o,children:e.jsx(Qe.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":sx(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":YI(c,o),"data-value":c??void 0,"data-max":o,...l,ref:s})})});KI.displayName=lN;var GI="ProgressIndicator",QI=p.forwardRef((t,s)=>{const{__scopeProgress:r,...n}=t,a=GX(GI,r);return e.jsx(Qe.div,{"data-state":YI(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:s})});QI.displayName=GI;function QX(t,s){return`${Math.round(t/s*100)}%`}function YI(t,s){return t==null?"indeterminate":t===s?"complete":"loading"}function sx(t){return typeof t=="number"}function FC(t){return sx(t)&&!isNaN(t)&&t>0}function LC(t,s){return sx(t)&&!isNaN(t)&&t<=s&&t>=0}function YX(t,s){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${oN}\`.`}function ZX(t,s){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${oN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ZI=KI,XX=QI;const Ci=p.forwardRef(({className:t,value:s,...r},n)=>e.jsx(ZI,{ref:n,className:ye("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:e.jsx(XX,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));Ci.displayName=ZI.displayName;const B0={o_level_cert:{label:"O-Level Certificate",accept:".pdf,.jpg,.jpeg,.png,.svg",maxSize:20*1024*1024,description:"Upload your O-Level certificate",color:"from-blue-500 to-blue-600"},a_level_cert:{label:"A-Level Certificate",accept:".pdf,.jpg,.jpeg,.png,.svg",maxSize:20*1024*1024,description:"Upload your A-Level certificate",color:"from-green-500 to-green-600"},equivalent_cert:{label:"Equivalent Certificate",accept:".pdf,.jpg,.jpeg,.png,.svg",maxSize:20*1024*1024,description:"Upload equivalent qualification certificate",color:"from-purple-500 to-purple-600"},id_or_passport:{label:"ID or Passport",accept:".pdf,.jpg,.jpeg,.png,.svg",maxSize:20*1024*1024,description:"Upload your national ID or passport",color:"from-indigo-500 to-indigo-600"},birth_certificate:{label:"Birth Certificate",accept:".pdf,.jpg,.jpeg,.png,.svg",maxSize:20*1024*1024,description:"Upload your birth certificate",color:"from-pink-500 to-pink-600"},bank_trust_letter:{label:"Bank Trust Letter",accept:".pdf,.jpg,.jpeg,.png,.svg",maxSize:20*1024*1024,description:"Upload bank trust account letter",color:"from-teal-500 to-teal-600"},certificate_incorporation:{label:"Certificate of Incorporation",accept:".pdf,.jpg,.jpeg,.png,.svg",maxSize:20*1024*1024,description:"Upload certificate of incorporation",color:"from-orange-500 to-orange-600"},partnership_agreement:{label:"Partnership Agreement",accept:".pdf,.jpg,.jpeg,.png,.svg",maxSize:20*1024*1024,description:"Upload partnership agreement document",color:"from-red-500 to-red-600"},cr6:{label:"CR6 Form",accept:".pdf,.jpg,.jpeg,.png,.svg",maxSize:20*1024*1024,description:"Upload CR6 form",color:"from-cyan-500 to-cyan-600"},cr11:{label:"CR11 Form",accept:".pdf,.jpg,.jpeg,.png,.svg",maxSize:20*1024*1024,description:"Upload CR11 form",color:"from-emerald-500 to-emerald-600"},tax_clearance:{label:"Tax Clearance",accept:".pdf,.jpg,.jpeg,.png,.svg",maxSize:20*1024*1024,description:"Upload tax clearance certificate",color:"from-yellow-500 to-yellow-600"},annual_return_1:{label:"Annual Return (Year 1)",accept:".pdf,.jpg,.jpeg,.png,.svg",maxSize:20*1024*1024,description:"Upload first year annual return",color:"from-blue-500 to-cyan-500"},annual_return_2:{label:"Annual Return (Year 2)",accept:".pdf,.jpg,.jpeg,.png,.svg",maxSize:20*1024*1024,description:"Upload second year annual return",color:"from-green-500 to-teal-500"},annual_return_3:{label:"Annual Return (Year 3)",accept:".pdf,.jpg,.jpeg,.png,.svg",maxSize:20*1024*1024,description:"Upload third year annual return",color:"from-purple-500 to-pink-500"},police_clearance_director:{label:"Police Clearance (Director)",accept:".pdf,.jpg,.jpeg,.png,.svg",maxSize:20*1024*1024,description:"Upload police clearance for director",color:"from-slate-500 to-slate-600"},application_fee_pop:{label:"Application Fee Proof of Payment",accept:".pdf,.jpg,.jpeg,.png,.svg",maxSize:20*1024*1024,description:"Upload proof of payment for application fee",color:"from-emerald-500 to-green-500"}};function op({documentType:t,allowMultiple:s=!1,maxFiles:r=5,onComplete:n,onError:a,disabled:i=!1,className:l,applicationId:o,usePublicEndpoint:c=!1}){const[d,u]=p.useState([]),[m,h]=p.useState(!1),[f,b]=p.useState(t||""),{toast:x}=tt(),v=p.useRef(null),g=p.useRef(new Map),y=f?B0[f]:null;p.useEffect(()=>()=>{d.forEach(R=>{R.preview&&URL.revokeObjectURL(R.preview)}),g.current.forEach(R=>R.abort())},[]);const j=R=>R.type.startsWith("image/")?F9:R.type.startsWith("video/")?I9:R.type.startsWith("audio/")?O9:R.type==="application/pdf"?Le:Af,w=R=>new Promise(ie=>{if(R.type.startsWith("image/")){const O=URL.createObjectURL(R);ie(O)}else ie(void 0)}),N=R=>{var Te;if(!f)return{valid:!1,error:"Please select a document type first"};const ie=B0[f];if(R.size>ie.maxSize)return{valid:!1,error:`File size exceeds ${(ie.maxSize/1024/1024).toFixed(1)}MB limit`};const O=ie.accept.split(",").map(Ke=>Ke.trim()),te="."+((Te=R.name.split(".").pop())==null?void 0:Te.toLowerCase());return O.some(Ke=>Ke.startsWith(".")?te===Ke:R.type.includes(Ke))?{valid:!0}:{valid:!1,error:`File type not allowed. Accepted: ${ie.accept}`}},_=async R=>{if(!R.length||i)return;if(!f){x({title:"Document type required",description:"Please select a document type before uploading files.",variant:"destructive"});return}const ie=[];for(let O=0;O<R.length;O++){const te=R[O],se=N(te);if(!se.valid){x({title:"Invalid file",description:`${te.name}: ${se.error}`,variant:"destructive"});continue}if(d.length+ie.length>=r){x({title:"File limit reached",description:`Maximum ${r} files allowed`,variant:"destructive"});break}const Te=await w(te),Ke={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,file:te,preview:Te,status:"pending",progress:0};ie.push(Ke)}ie.length>0&&(u(O=>[...O,...ie]),setTimeout(async()=>{const te=(await Promise.allSettled(ie.map(z))).filter(se=>se.status==="fulfilled"&&se.value!==null).map(se=>se.value);te.length>0&&n&&n(te)},100))},k=p.useCallback(R=>{R.preventDefault(),h(!0)},[]),S=p.useCallback(R=>{R.preventDefault(),h(!1)},[]),A=p.useCallback(R=>{if(R.preventDefault(),h(!1),i)return;const ie=R.dataTransfer.files;ie.length&&_(ie)},[i,f,d.length,r]),z=async R=>{const ie=new AbortController;g.current.set(R.id,ie);try{u(ze=>ze.map(he=>he.id===R.id?{...he,status:"uploading",progress:10}:he));const te=await fetch(c?"/api/uploads/presign-public":"/api/uploads/presign",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({docType:f,fileSize:R.file.size,mimeType:R.file.type,fileName:R.file.name,applicationId:o}),signal:ie.signal});if(!te.ok){const ze=await te.json().catch(()=>({detail:"Failed to get presigned URL"}));throw new Error(ze.detail||`Presign request failed: ${te.status}`)}const{uploadUrl:se,fileKey:Te,expiresIn:Ke,maxSize:ot,allowedMimeTypes:ce}=await te.json();u(ze=>ze.map(he=>he.id===R.id?{...he,progress:25}:he));const Ze=await fetch(se,{method:"PUT",body:R.file,headers:{"Content-Type":R.file.type},signal:ie.signal});if(!Ze.ok)throw new Error(`Failed to upload file: ${Ze.status} ${Ze.statusText}`);u(ze=>ze.map(he=>he.id===R.id?{...he,progress:70}:he));const rt=await fetch("/api/uploads/finalize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileKey:Te,docType:f,fileName:R.file.name,mimeType:R.file.type,applicationId:o,applicationType:"individual"}),signal:ie.signal});if(!rt.ok){const ze=await rt.json().catch(()=>({detail:"Failed to finalize upload"}));if(rt.status===409){const{conflictInfo:he}=ze,be=he?`This file has already been uploaded as "${he.existingFileName}" (${he.existingDocType}) on ${new Date(he.uploadedAt).toLocaleDateString()}.`:"A file with identical content already exists.";throw new Error(`Duplicate file detected: ${be}`)}else if(rt.status===400)if(ze.code==="FILE_VALIDATION_FAILED"){const he=ze.errors?ze.errors.join("; "):ze.detail;throw new Error(`File validation failed: ${he}`)}else throw new Error(ze.detail||"File validation failed");else throw rt.status===404?new Error("Uploaded file not found. Please try uploading again."):new Error(ze.detail||`Upload finalization failed: ${rt.status}`)}const We=await rt.json();return u(ze=>ze.map(he=>he.id===R.id?{...he,status:"completed",progress:100,uploadUrl:se,fileKey:Te,documentId:We.documentId,fileHash:We.fileHash}:he)),console.log("Upload completed successfully:",We),x({title:"Upload successful",description:`${R.file.name} uploaded successfully.`}),{fileKey:Te,fileName:R.file.name,mimeType:R.file.type,size:R.file.size}}catch(O){return O.name==="AbortError"?(u(te=>te.filter(se=>se.id!==R.id)),null):(console.error("Upload error:",O),u(te=>te.map(se=>se.id===R.id?{...se,status:"error",error:O.message||"Upload failed",progress:0}:se)),x({title:"Upload failed",description:`${R.file.name}: ${O.message}`,variant:"destructive"}),a==null||a(O.message),null)}finally{g.current.delete(R.id)}},re=async()=>{const R=d.filter(te=>te.status==="pending");if(R.length===0){x({title:"No files to upload",description:"All files have already been uploaded.",variant:"destructive"});return}const O=(await Promise.allSettled(R.map(z))).filter(te=>te.status==="fulfilled"&&te.value!==null).map(te=>te.value);O.length>0&&(n==null||n(O))},F=R=>{const ie=d.find(O=>O.id===R);if(ie){const O=g.current.get(R);O&&(O.abort(),g.current.delete(R)),ie.preview&&URL.revokeObjectURL(ie.preview),u(te=>te.filter(se=>se.id!==R))}},B=R=>{const ie=d.find(O=>O.id===R);if(ie&&ie.status==="error"){const O={...ie,status:"pending",error:void 0};u(te=>te.map(se=>se.id===R?O:se)),z(O)}},U=()=>{g.current.forEach(R=>R.abort()),g.current.clear(),d.forEach(R=>{R.preview&&URL.revokeObjectURL(R.preview)}),u([])},W=d.length,E=d.filter(R=>R.status==="completed").length,M=d.filter(R=>R.status==="uploading").length,q=d.filter(R=>R.status==="error").length;return e.jsxs("div",{className:ye("space-y-4",l),children:[!t&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Document Type"}),e.jsxs(Ie,{value:f,onValueChange:R=>b(R),disabled:i,children:[e.jsx(De,{"data-testid":"select-document-type",children:e.jsx(Fe,{placeholder:"Select document type..."})}),e.jsx(Me,{children:Object.entries(B0).map(([R,ie])=>e.jsx(D,{value:R,"data-testid":`option-${R}`,children:ie.label},R))})]}),y&&e.jsxs("p",{className:"text-xs text-gray-500",children:[y.description," • Max size: ",(y.maxSize/1024/1024).toFixed(1),"MB • Formats: ",y.accept]})]}),e.jsx($,{className:ye("border-2 border-dashed transition-all duration-300 hover:shadow-lg",m?"border-blue-500 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/20 dark:to-blue-900/30 shadow-xl":y?"border-gray-300 hover:border-blue-400 bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900":"border-gray-200 bg-gray-50 dark:bg-gray-800",i&&"opacity-50 cursor-not-allowed"),children:e.jsx(V,{className:"p-8",children:e.jsxs("div",{className:"text-center space-y-6 cursor-pointer",onDragOver:k,onDragLeave:S,onDrop:A,onClick:()=>{var R;return!i&&f&&((R=v.current)==null?void 0:R.click())},children:[e.jsx("div",{className:ye("w-16 h-16 mx-auto rounded-full flex items-center justify-center transition-all duration-300",y?`bg-gradient-to-r ${y.color} text-white shadow-lg`:"bg-gray-100 dark:bg-gray-700 text-gray-400"),children:e.jsx(hr,{className:ye("w-8 h-8 transition-transform",m&&"scale-110")})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:m?"Drop files here":f?`Upload ${y==null?void 0:y.label}`:"Select document type first"}),e.jsx("p",{className:"text-sm text-gray-500",children:f?"Drag and drop files or click to browse":"Choose a document type to continue"}),y&&e.jsxs("div",{className:"inline-flex items-center space-x-2 text-xs bg-white dark:bg-gray-800 px-3 py-1 rounded-full shadow-sm border",children:[e.jsxs("span",{children:["Max ",(y.maxSize/1024/1024).toFixed(0),"MB"]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"PNG, JPEG, PDF, SVG"})]})]}),f&&e.jsxs(P,{type:"button",onClick:R=>{var ie;R.stopPropagation(),(ie=v.current)==null||ie.click()},disabled:i,className:ye("text-white border-0 shadow-lg hover:shadow-xl transition-all",y?`bg-gradient-to-r ${y.color}`:"bg-gradient-to-r from-blue-500 to-blue-600"),"data-testid":"button-browse-files",children:[e.jsx(hr,{className:"w-4 h-4 mr-2"}),"Choose Files"]}),e.jsx(Y,{ref:v,type:"file",multiple:s,accept:y==null?void 0:y.accept,onChange:R=>R.target.files&&_(R.target.files),className:"hidden",disabled:i})]})})}),d.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Files (",W,")"]}),e.jsxs("div",{className:"flex gap-2",children:[d.some(R=>R.status==="pending")&&e.jsxs(P,{size:"sm",onClick:re,disabled:i,"data-testid":"button-upload-all",children:[e.jsx(hr,{className:"w-4 h-4 mr-1"}),"Upload All"]}),e.jsxs(P,{size:"sm",variant:"outline",onClick:U,disabled:i,"data-testid":"button-clear-all",children:[e.jsx(Oa,{className:"w-4 h-4 mr-1"}),"Clear All"]})]})]}),(E>0||M>0||q>0)&&e.jsxs("div",{className:"flex gap-2 text-sm",children:[E>0&&e.jsxs(oe,{variant:"secondary",className:"text-green-600",children:[e.jsx(le,{className:"w-3 h-3 mr-1"}),E," completed"]}),M>0&&e.jsxs(oe,{variant:"secondary",className:"text-blue-600",children:[e.jsx(ws,{className:"w-3 h-3 mr-1 animate-spin"}),M," uploading"]}),q>0&&e.jsxs(oe,{variant:"destructive",children:[e.jsx(Js,{className:"w-3 h-3 mr-1"}),q," failed"]})]}),e.jsx("div",{className:"space-y-2","data-testid":"file-list",children:d.map(R=>{const ie=j(R.file);return e.jsx($,{className:ye("p-4 transition-all duration-200 hover:shadow-md",R.status==="completed"&&"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border-green-200 dark:border-green-800 shadow-sm",R.status==="error"&&"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-950/20 dark:to-orange-950/20 border-red-200 dark:border-red-800",R.status==="uploading"&&"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-950/20 dark:to-cyan-950/20 border-blue-200 dark:border-blue-800",R.status==="pending"&&"bg-gradient-to-r from-gray-50 to-slate-50 dark:from-gray-950/20 dark:to-slate-950/20 border-gray-200 dark:border-gray-700"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex-shrink-0 relative",children:[R.preview?e.jsx("img",{src:R.preview,alt:R.file.name,className:"w-12 h-12 object-cover rounded border"}):e.jsx("div",{className:ye("w-12 h-12 rounded-lg border-2 flex items-center justify-center shadow-sm transition-all",y?`bg-gradient-to-br ${y.color} text-white border-transparent`:"bg-gray-100 dark:bg-gray-800 border-gray-200 dark:border-gray-600 text-gray-500"),children:e.jsx(ie,{className:"w-6 h-6"})}),R.status==="completed"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center shadow-lg border-2 border-white dark:border-gray-800",children:e.jsx(le,{className:"w-3 h-3 text-white"})}),R.status==="error"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-red-500 to-pink-500 rounded-full flex items-center justify-center shadow-lg border-2 border-white dark:border-gray-800",children:e.jsx(Js,{className:"w-3 h-3 text-white"})}),R.status==="uploading"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center shadow-lg border-2 border-white dark:border-gray-800",children:e.jsx(ws,{className:"w-3 h-3 text-white animate-spin"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:R.file.name}),R.status==="completed"&&e.jsxs(oe,{variant:"secondary",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100",children:[e.jsx(le,{className:"w-3 h-3 mr-1"}),"Done"]}),R.status==="error"&&e.jsxs(oe,{variant:"destructive",children:[e.jsx(Js,{className:"w-3 h-3 mr-1"}),"Failed"]}),R.status==="uploading"&&e.jsxs(oe,{variant:"secondary",className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100",children:[e.jsx(ws,{className:"w-3 h-3 mr-1 animate-spin"}),R.progress,"%"]}),R.status==="pending"&&e.jsx(oe,{variant:"outline",children:"Ready to upload"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsxs("span",{children:[(R.file.size/1024/1024).toFixed(2)," MB"]}),R.status==="completed"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{className:"text-green-600 font-medium",children:"Successfully uploaded"})]})]}),(R.status==="uploading"||R.status==="completed"&&R.progress===100)&&e.jsxs("div",{className:"mt-2",children:[e.jsx(Ci,{value:R.progress,className:ye("h-2",R.status==="completed"&&"bg-green-100 dark:bg-green-900")}),R.status==="uploading"&&e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"Uploading..."}),e.jsxs("span",{children:[R.progress,"%"]})]})]}),R.error&&e.jsx("div",{className:"mt-2 p-2 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded",children:e.jsxs("p",{className:"text-xs text-red-700 dark:text-red-400",children:[e.jsx(Js,{className:"w-3 h-3 inline mr-1"}),R.error]})})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[R.status==="completed"&&R.uploadUrl&&e.jsxs(e.Fragment,{children:[e.jsx(P,{size:"sm",variant:"ghost",onClick:()=>window.open(R.uploadUrl,"_blank"),"data-testid":`button-view-${R.id}`,title:"View file",children:e.jsx(us,{className:"w-4 h-4"})}),e.jsx(P,{size:"sm",variant:"ghost",onClick:()=>{const O=document.createElement("a");O.href=R.uploadUrl,O.download=R.file.name,O.click()},"data-testid":`button-download-${R.id}`,title:"Download file",children:e.jsx(Wt,{className:"w-4 h-4"})})]}),R.status==="error"&&e.jsx(P,{size:"sm",variant:"ghost",onClick:()=>B(R.id),disabled:i,"data-testid":`button-retry-${R.id}`,title:"Retry upload",children:e.jsx(ws,{className:"w-4 h-4"})}),R.status==="pending"&&e.jsx(P,{size:"sm",onClick:()=>z(R),disabled:i,"data-testid":`button-upload-${R.id}`,title:"Start upload",children:e.jsx(hr,{className:"w-4 h-4"})}),e.jsx(P,{size:"sm",variant:"ghost",onClick:()=>F(R.id),disabled:i&&R.status==="uploading","data-testid":`button-remove-${R.id}`,title:"Remove file",children:e.jsx(ui,{className:"w-4 h-4"})})]})]})},R.id)})})]})]})}function Kt({title:t,subtitle:s}){return e.jsx("div",{className:"gradient-bg py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center p-2",children:e.jsx("img",{src:cn,alt:"Estate Agents Council Logo",className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"text-white",children:[e.jsx("h1",{className:"text-2xl lg:text-3xl font-bold",children:t}),s&&e.jsx("p",{className:"text-blue-100 mt-1",children:s})]})]})})})}const JX=I.object({surname:I.string().min(2,"Surname must be at least 2 characters"),firstNames:I.string().min(2,"First names must be at least 2 characters"),gender:I.enum(["male","female","other"],{required_error:"Gender is required"}),dateOfBirth:I.string().min(1,"Date of birth is required"),countryOfBirth:I.string().min(1,"Country of birth is required"),nationality:I.string().min(1,"Nationality is required"),identityType:I.enum(["national_id","passport"],{required_error:"Identity type is required"}),identityNumber:I.string().min(1,"Identity number is required"),email:I.string().email("Invalid email address"),phoneCountryCode:I.string().min(1,"Country code is required"),phone:I.string().min(6,"Phone number must be at least 6 digits")}).refine(t=>t.identityType==="national_id"?/^\d{2}-\d{6,7}[A-Z]-\d{2}$/.test(t.identityNumber):t.identityType==="passport"?/^[A-Z]{2}\s?\d{6}$/.test(t.identityNumber):!0,{message:"Invalid format. National ID: XX-XXXXXXX-X-XX, Passport: XX XXXXXX",path:["identityNumber"]}),eJ=I.object({addressType:I.enum(["residential","company"],{required_error:"Address type is required"}),country:I.string().min(1,"Country is required"),province:I.string().min(1,"Province/State is required"),city:I.string().min(1,"City is required"),streetAddress:I.string().min(5,"Street address is required"),postalCode:I.string().optional(),postalAddress:I.string().optional(),postalCity:I.string().optional(),postalCountry:I.string().optional(),sameAsPhysical:I.boolean().default(!1)}),tJ=I.object({isEmployed:I.enum(["yes","no"],{required_error:"Please specify if you are employed"}),isFirmRegistered:I.enum(["yes","no"]).optional(),registeredFirmId:I.string().optional(),registeredFirmName:I.string().optional(),isPrincipalAgent:I.enum(["yes","no"]).optional(),registerFirmLater:I.boolean().default(!1),employmentCapacity:I.string().optional(),businessExperience:kX}).refine(t=>{if(t.isEmployed==="yes"){if(!t.isFirmRegistered)return!1;if(t.isFirmRegistered==="yes")return!!t.registeredFirmId&&!!t.employmentCapacity;if(t.isFirmRegistered==="no")return!!t.isPrincipalAgent}return!0},{message:"Please provide complete employment details",path:["isEmployed"]}),sJ=I.object({identityDocument:I.string().min(1,"Identity document required"),birthCertificate:I.string().min(1,"Birth certificate required"),educationalCertificates:I.array(I.string()).min(1,"Educational certificates required"),proofOfEmployment:I.string().optional(),otherDocuments:I.array(I.string()).optional()}),rJ=I.object({agreeToTerms:I.boolean().refine(t=>t===!0,"You must agree to the terms and conditions"),agreeToCodeOfConduct:I.boolean().refine(t=>t===!0,"You must agree to the code of conduct"),confirmTruthfulness:I.boolean().refine(t=>t===!0,"You must confirm the truthfulness of information")}),cp=[{id:1,title:"Personal Details",status:"current"},{id:2,title:"Address",status:"upcoming"},{id:3,title:"Professional Details",status:"upcoming"},{id:4,title:"Documents",status:"upcoming"},{id:5,title:"Declarations",status:"upcoming"},{id:6,title:"Payment",status:"upcoming"}],zC=[{code:"+263",country:"Zimbabwe",flag:"🇿🇼"},{code:"+1",country:"United States",flag:"🇺🇸"},{code:"+44",country:"United Kingdom",flag:"🇬🇧"},{code:"+27",country:"South Africa",flag:"🇿🇦"},{code:"+260",country:"Zambia",flag:"🇿🇲"},{code:"+267",country:"Botswana",flag:"🇧🇼"},{code:"+258",country:"Mozambique",flag:"🇲🇿"},{code:"+265",country:"Malawi",flag:"🇲🇼"},{code:"+254",country:"Kenya",flag:"🇰🇪"},{code:"+256",country:"Uganda",flag:"🇺🇬"},{code:"+255",country:"Tanzania",flag:"🇹🇿"},{code:"+234",country:"Nigeria",flag:"🇳🇬"},{code:"+233",country:"Ghana",flag:"🇬🇭"},{code:"+91",country:"India",flag:"🇮🇳"},{code:"+86",country:"China",flag:"🇨🇳"},{code:"+61",country:"Australia",flag:"🇦🇺"},{code:"+49",country:"Germany",flag:"🇩🇪"},{code:"+33",country:"France",flag:"🇫🇷"},{code:"+39",country:"Italy",flag:"🇮🇹"},{code:"+34",country:"Spain",flag:"🇪🇸"},{code:"+31",country:"Netherlands",flag:"🇳🇱"},{code:"+41",country:"Switzerland",flag:"🇨🇭"},{code:"+46",country:"Sweden",flag:"🇸🇪"},{code:"+47",country:"Norway",flag:"🇳🇴"},{code:"+45",country:"Denmark",flag:"🇩🇰"},{code:"+358",country:"Finland",flag:"🇫🇮"},{code:"+7",country:"Russia",flag:"🇷🇺"},{code:"+55",country:"Brazil",flag:"🇧🇷"},{code:"+52",country:"Mexico",flag:"🇲🇽"},{code:"+54",country:"Argentina",flag:"🇦🇷"},{code:"+56",country:"Chile",flag:"🇨🇱"},{code:"+57",country:"Colombia",flag:"🇨🇴"},{code:"+51",country:"Peru",flag:"🇵🇪"},{code:"+58",country:"Venezuela",flag:"🇻🇪"},{code:"+81",country:"Japan",flag:"🇯🇵"},{code:"+82",country:"South Korea",flag:"🇰🇷"},{code:"+65",country:"Singapore",flag:"🇸🇬"},{code:"+60",country:"Malaysia",flag:"🇲🇾"},{code:"+66",country:"Thailand",flag:"🇹🇭"},{code:"+84",country:"Vietnam",flag:"🇻🇳"},{code:"+63",country:"Philippines",flag:"🇵🇭"},{code:"+62",country:"Indonesia",flag:"🇮🇩"}],lv={Zimbabwe:{provinces:{Harare:["Harare","Chitungwiza","Epworth","Norton","Ruwa"],Bulawayo:["Bulawayo"],Manicaland:["Mutare","Rusape","Chipinge","Chimanimani","Nyanga","Buhera"],"Mashonaland Central":["Bindura","Mount Darwin","Shamva","Guruve","Mazowe","Mvurwi"],"Mashonaland East":["Marondera","Murehwa","Mutoko","Goromonzi","Wedza","Mudzi"],"Mashonaland West":["Chinhoyi","Kariba","Karoi","Mhangura","Chegutu","Kadoma"],"Matabeleland North":["Hwange","Victoria Falls","Binga","Lupane","Tsholotsho"],"Matabeleland South":["Gwanda","Beitbridge","Plumtree","Gwanda","Filabusi"],Midlands:["Gweru","Kwekwe","Redcliff","Zvishavane","Shurugwi","Gokwe"],Masvingo:["Masvingo","Chiredzi","Triangle","Bikita","Zaka","Gutu"]}},"South Africa":{provinces:{Gauteng:["Johannesburg","Pretoria","Soweto","Sandton","Randburg","Roodepoort","Benoni","Boksburg"],"Western Cape":["Cape Town","Stellenbosch","Paarl","George","Mossel Bay","Worcester"],"KwaZulu-Natal":["Durban","Pietermaritzburg","Richards Bay","Newcastle","Ladysmith"],"Eastern Cape":["Port Elizabeth","East London","Mthatha","Grahamstown","Queenstown"],"Free State":["Bloemfontein","Welkom","Kroonstad","Bethlehem","Sasolburg"],Limpopo:["Polokwane","Tzaneen","Musina","Thohoyandou","Lebowakgomo"],Mpumalanga:["Nelspruit","Witbank","Middelburg","Secunda","Standerton"],"North West":["Mahikeng","Rustenburg","Klerksdorp","Potchefstroom","Brits"],"Northern Cape":["Kimberley","Upington","Springbok","De Aar","Kuruman"]}},Botswana:{provinces:{"South-East":["Gaborone","Ramotswa","Mochudi","Lobatse"],Kweneng:["Molepolole","Mogoditshane","Thamaga","Gabane"],"North-East":["Francistown","Selebi-Phikwe","Masunga","Tonota"],Central:["Serowe","Palapye","Mahalapye","Bobonong"],"North-West":["Maun","Ghanzi","Shakawe","Gumare"],Southern:["Kanye","Jwaneng","Mmathethe","Good Hope"],Kgatleng:["Mochudi","Oodi","Rasesa"],Kgalagadi:["Tsabong","Hukuntsi","Werda"],Ghanzi:["Ghanzi","Kuke","Chao"],Chobe:["Kasane","Pandamatenga","Kazungula"]}},Zambia:{provinces:{Lusaka:["Lusaka","Kafue","Chongwe","Chilanga"],Copperbelt:["Kitwe","Ndola","Mufulira","Chingola","Luanshya","Chililabombwe"],Central:["Kabwe","Kapiri Mposhi","Mkushi","Serenje"],Eastern:["Chipata","Katete","Lundazi","Petauke"],Luapula:["Mansa","Nchelenge","Samfya","Kawambwa"],Northern:["Kasama","Mbala","Mpika","Luwingu"],"North-Western":["Solwezi","Kasempa","Zambezi","Mwinilunga"],Southern:["Livingstone","Choma","Mazabuka","Monze"],Western:["Mongu","Senanga","Sesheke","Kaoma"],Muchinga:["Chinsali","Isoka","Nakonde","Shiwang'andu"]}},Mozambique:{provinces:{"Maputo City":["Maputo"],Maputo:["Matola","Boane","Moamba","Manhiça"],Gaza:["Xai-Xai","Chókwè","Chibuto","Manjacaze"],Inhambane:["Inhambane","Maxixe","Vilankulo","Massinga"],Sofala:["Beira","Dondo","Nhamatanda","Gorongosa"],Manica:["Chimoio","Manica","Gondola","Sussundenga"],Tete:["Tete","Moatize","Angónia","Cahora Bassa"],Zambézia:["Quelimane","Mocuba","Gurúè","Milange"],Nampula:["Nampula","Nacala","Angoche","Ilha de Moçambique"],Niassa:["Lichinga","Cuamba","Mandimba","Marrupa"],"Cabo Delgado":["Pemba","Montepuez","Mocímboa da Praia","Palma"]}},Malawi:{provinces:{Southern:["Blantyre","Zomba","Mulanje","Mangochi","Thyolo","Nsanje"],Central:["Lilongwe","Dedza","Salima","Kasungu","Nkhotakota"],Northern:["Mzuzu","Karonga","Rumphi","Nkhata Bay","Likoma"]}},Namibia:{provinces:{Khomas:["Windhoek"],Erongo:["Swakopmund","Walvis Bay","Henties Bay","Arandis"],Otjozondjupa:["Otjiwarongo","Grootfontein","Okahandja","Okakarara"],Hardap:["Mariental","Rehoboth","Aranos","Maltahöhe"],Karas:["Keetmanshoop","Lüderitz","Karasburg","Oranjemund"],"Kavango East":["Rundu","Nkurenkuru"],"Kavango West":["Nkurenkuru","Mpungu"],Kunene:["Opuwo","Outjo","Khorixas","Kamanjab"],Ohangwena:["Eenhana","Okongo","Endola"],Omaheke:["Gobabis","Witvlei","Aranos"],Omusati:["Outapi","Okahao","Oshikuku"],Oshana:["Oshakati","Ondangwa"],Oshikoto:["Tsumeb","Omuthiya","Oniipa"],Zambezi:["Katima Mulilo","Ngoma","Linyanti"]}}},nJ=Object.keys(lv);function aJ(){const[t,s]=p.useState(1),[r,n]=p.useState({}),[,a]=Xe(),{applicant:i,saveDraftMutation:l,loadDraftQuery:o}=lg(),[c,d]=p.useState(""),[u,m]=p.useState(""),h=o((i==null?void 0:i.applicantId)||""),f=(i==null?void 0:i.firstName)||"",b=(i==null?void 0:i.surname)||"",x=It({resolver:Ft(JX),defaultValues:{surname:b,firstNames:f,dateOfBirth:"",countryOfBirth:"",nationality:"",email:(i==null?void 0:i.email)||"",phoneCountryCode:"+263",phone:""}}),v=It({resolver:Ft(eJ),defaultValues:{addressType:void 0,country:"",province:"",city:"",streetAddress:"",postalCode:"",postalAddress:"",postalCity:"",postalCountry:"",sameAsPhysical:!1}}),g=It({resolver:Ft(tJ),defaultValues:{employmentStatus:"employed",currentEmployer:"",employmentCapacity:"",natureOfEstablishment:"",businessExperience:[{employer:"",typeOfBusiness:"",jobTitle:"",dateFrom:"",dateTo:""}]}}),y=It({resolver:Ft(sJ),defaultValues:{identityDocument:"",birthCertificate:"",educationalCertificates:[],proofOfEmployment:"",otherDocuments:[]}}),j=It({resolver:Ft(rJ),defaultValues:{agreeToTerms:!1,agreeToCodeOfConduct:!1,confirmTruthfulness:!1}});p.useEffect(()=>{if(h.data&&h.data.success){const O=h.data.applicationData;console.log("Loading draft data:",O),n(O),O.personalInfo&&(console.log("Hydrating personal form with:",O.personalInfo),x.reset(O.personalInfo)),O.address&&(console.log("Hydrating address form with:",O.address),v.reset(O.address)),O.professionalDetails&&(console.log("Hydrating professional form with:",O.professionalDetails),g.reset(O.professionalDetails)),O.documents&&(console.log("Hydrating documents form with:",O.documents),y.reset(O.documents)),O.declarations&&(console.log("Hydrating declarations form with:",O.declarations),j.reset(O.declarations))}},[h.data,x,v,g,y,j]);const w=()=>{if(!(i!=null&&i.applicantId)){N({title:"Authentication Required",description:"Please log in to save your application draft.",variant:"destructive"});return}let O={};switch(t){case 1:O={personalInfo:x.getValues()};break;case 2:O={address:v.getValues()};break;case 3:O={professionalDetails:g.getValues()};break;case 4:O={documents:y.getValues()};break;case 5:O={declarations:j.getValues()};break}const te={...r,...O};l.mutate({applicantId:i.applicantId,applicationData:te},{onSuccess:()=>{n(te),st.invalidateQueries({queryKey:["/api/applicants",i.applicantId,"load-draft"]}),console.log("Draft saved successfully:",te)}})},{toast:N}=tt();p.useState(null),p.useState(!1);const[_,k]=p.useState(""),{data:S=[]}=Ge({queryKey:["/api/organizations"]}),A=zC.filter(O=>O.country.toLowerCase().includes(_.toLowerCase())||O.code.includes(_)),z=x.watch("phoneCountryCode");g.watch("employmentStatus");const re=g.watch("isEmployed"),F=g.watch("isFirmRegistered"),B=g.watch("isPrincipalAgent"),{fields:U,append:W,remove:E}=qy({control:g.control,name:"businessExperience"});$e({mutationFn:async O=>await(await Be("POST","/api/applications",O)).json(),onSuccess:()=>{N({title:"Application Submitted",description:"Your membership application has been submitted successfully."}),a("/auth")},onError:O=>{N({title:"Error",description:O.message,variant:"destructive"})}});const M=O=>{console.log("handleSectionSubmit called with:",O),console.log("Current section:",t),n(te=>({...te,...O})),t<6&&s(te=>te+1)},q=O=>{O.successful.map(te=>te.uploadURL)},R=O=>O<t?"completed":O===t?"current":"upcoming",ie=()=>{switch(t){case 1:return e.jsxs($,{className:"border-0 shadow-xl bg-gradient-to-br from-white to-blue-50/50",children:[e.jsx(J,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-t-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(et,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx(ee,{className:"text-xl",children:"Personal Information"}),e.jsx("p",{className:"text-blue-100 mt-1",children:"Please provide your personal details as they appear on your official documents"})]})]})}),e.jsx(V,{className:"p-6",children:e.jsx(Rt,{...x,children:e.jsxs("form",{onSubmit:x.handleSubmit(M),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Q,{control:x.control,name:"surname",render:({field:O})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Surname *"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Enter surname","data-testid":"input-surname",...O})}),e.jsx(X,{})]})}),e.jsx(Q,{control:x.control,name:"firstNames",render:({field:O})=>e.jsxs(K,{children:[e.jsx(Z,{children:"First Names *"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Enter first names","data-testid":"input-first-names",...O})}),e.jsx(X,{})]})}),e.jsx(Q,{control:x.control,name:"gender",render:({field:O})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Gender *"}),e.jsxs(Ie,{onValueChange:O.onChange,defaultValue:O.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-gender",children:e.jsx(Fe,{placeholder:"Select gender..."})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"male",children:"Male"}),e.jsx(D,{value:"female",children:"Female"}),e.jsx(D,{value:"other",children:"Other"})]})]}),e.jsx(X,{})]})}),e.jsx(Q,{control:x.control,name:"dateOfBirth",render:({field:O})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Date of Birth *"}),e.jsx(G,{children:e.jsx(Y,{type:"date",max:new Date(new Date().setFullYear(new Date().getFullYear()-18)).toISOString().split("T")[0],"data-testid":"input-date-of-birth",...O})}),e.jsx(X,{})]})}),e.jsx(Q,{control:x.control,name:"countryOfBirth",render:({field:O})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Country of Birth *"}),e.jsxs(Ie,{onValueChange:O.onChange,defaultValue:O.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-country-birth",children:e.jsx(Fe,{placeholder:"Select country of birth..."})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"zimbabwe",children:"Zimbabwe"}),e.jsx(D,{value:"south_africa",children:"South Africa"}),e.jsx(D,{value:"botswana",children:"Botswana"}),e.jsx(D,{value:"zambia",children:"Zambia"}),e.jsx(D,{value:"other",children:"Other"})]})]}),e.jsx(X,{})]})}),e.jsx(Q,{control:x.control,name:"nationality",render:({field:O})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Nationality *"}),e.jsxs(Ie,{onValueChange:O.onChange,defaultValue:O.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-nationality",children:e.jsx(Fe,{placeholder:"Select nationality..."})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"zimbabwean",children:"Zimbabwean"}),e.jsx(D,{value:"south_african",children:"South African"}),e.jsx(D,{value:"botswana",children:"Botswana"}),e.jsx(D,{value:"zambian",children:"Zambian"}),e.jsx(D,{value:"other",children:"Other"})]})]}),e.jsx(X,{})]})}),e.jsx(Q,{control:x.control,name:"identityType",render:({field:O})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Identity Type *"}),e.jsxs(Ie,{onValueChange:O.onChange,defaultValue:O.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-identity-type",children:e.jsx(Fe,{placeholder:"Select identity type..."})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"national_id",children:"National ID"}),e.jsx(D,{value:"passport",children:"Passport"})]})]}),e.jsx(X,{})]})}),e.jsx(Q,{control:x.control,name:"identityNumber",render:({field:O})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Identity Number *"}),e.jsx(G,{children:e.jsx(Y,{placeholder:x.watch("identityType")==="passport"?"e.g., FN 123456":"e.g., 63-123456A-21","data-testid":"input-identity-number",...O})}),e.jsx(uc,{children:x.watch("identityType")==="passport"?"Format: XX XXXXXX (2 letters + 6 digits)":"Format: XX-XXXXXXX-X-XX"}),e.jsx(X,{})]})}),e.jsx(Q,{control:x.control,name:"email",render:({field:O})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Email Address *"}),e.jsx(G,{children:e.jsx(Y,{type:"email",placeholder:"Enter email address","data-testid":"input-email",...O})}),e.jsx(X,{})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Phone Number *"}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsx(Q,{control:x.control,name:"phoneCountryCode",render:({field:O})=>{var te;return e.jsxs(K,{children:[e.jsxs(Ie,{onValueChange:O.onChange,defaultValue:O.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-country-code",children:e.jsx(Fe,{children:z&&e.jsxs("span",{className:"flex items-center",children:[(te=zC.find(se=>se.code===z))==null?void 0:te.flag,e.jsx("span",{className:"ml-2",children:z})]})})})}),e.jsxs(Me,{children:[e.jsx("div",{className:"p-2",children:e.jsx(Y,{placeholder:"Search countries...",value:_,onChange:se=>k(se.target.value),className:"mb-2","data-testid":"input-country-search"})}),A.map(se=>e.jsx(D,{value:se.code,children:e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:se.flag}),e.jsx("span",{className:"mr-2",children:se.country}),e.jsx(oe,{variant:"outline",className:"ml-auto",children:se.code})]})},se.code))]})]}),e.jsx(X,{})]})}}),e.jsx("div",{children:e.jsx(Q,{control:x.control,name:"phone",render:({field:O})=>e.jsxs(K,{children:[e.jsx(G,{children:e.jsx(Y,{type:"tel",placeholder:"Enter phone number","data-testid":"input-phone",...O})}),e.jsx(X,{})]})})})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(P,{type:"button",variant:"outline",onClick:()=>a("/"),"data-testid":"button-cancel",children:"Cancel"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(P,{type:"button",variant:"outline",onClick:w,disabled:l.isPending,"data-testid":"button-save-draft",className:"flex items-center gap-2",children:[e.jsx(Vr,{className:"h-4 w-4"}),l.isPending?"Saving...":"Save Draft"]}),e.jsx(P,{type:"submit",className:"gradient-button text-white border-0","data-testid":"button-continue-to-address",children:"Continue to Address"})]})]})]})})})]});case 2:return e.jsxs($,{className:"border-0 shadow-xl bg-gradient-to-br from-white to-green-50/50",children:[e.jsx(J,{className:"bg-gradient-to-r from-green-500 to-green-600 text-white rounded-t-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(et,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx(ee,{className:"text-xl",children:"Address Information"}),e.jsx("p",{className:"text-green-100 mt-1",children:"Please provide your residential and postal address details"})]})]})}),e.jsx(V,{className:"p-6",children:e.jsx(Rt,{...v,children:e.jsxs("form",{onSubmit:v.handleSubmit(M),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-l-4 border-green-500 pl-4 py-2 bg-green-50/50 md:col-span-2",children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"Physical Address"}),e.jsx("p",{className:"text-sm text-green-700",children:"Your current address details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Q,{control:v.control,name:"addressType",render:({field:O})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Address Type *"}),e.jsxs(Ie,{onValueChange:O.onChange,defaultValue:O.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-address-type",children:e.jsx(Fe,{placeholder:"Select address type..."})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"residential",children:"Residential Address"}),e.jsx(D,{value:"company",children:"Company Address"})]})]}),e.jsx(X,{})]})}),e.jsx(Q,{control:v.control,name:"country",render:({field:O})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Country *"}),e.jsxs(Ie,{onValueChange:te=>{O.onChange(te),d(te),m(""),v.setValue("province",""),v.setValue("city","")},defaultValue:O.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-country",children:e.jsx(Fe,{placeholder:"Select country..."})})}),e.jsx(Me,{children:nJ.map(te=>e.jsx(D,{value:te,children:te},te))})]}),e.jsx(X,{})]})}),c&&e.jsx(Q,{control:v.control,name:"province",render:({field:O})=>{var te;return e.jsxs(K,{children:[e.jsx(Z,{children:"Province/State *"}),e.jsxs(Ie,{onValueChange:se=>{O.onChange(se),m(se),v.setValue("city","")},defaultValue:O.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-province",children:e.jsx(Fe,{placeholder:"Select province..."})})}),e.jsx(Me,{children:Object.keys(((te=lv[c])==null?void 0:te.provinces)||{}).map(se=>e.jsx(D,{value:se,children:se},se))})]}),e.jsx(X,{})]})}}),c&&u&&e.jsx(Q,{control:v.control,name:"city",render:({field:O})=>{var te;return e.jsxs(K,{children:[e.jsx(Z,{children:"City *"}),e.jsxs(Ie,{onValueChange:O.onChange,defaultValue:O.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-city",children:e.jsx(Fe,{placeholder:"Select city..."})})}),e.jsx(Me,{children:(((te=lv[c])==null?void 0:te.provinces[u])||[]).map(se=>e.jsx(D,{value:se,children:se},se))})]}),e.jsx(X,{})]})}}),e.jsx(Q,{control:v.control,name:"streetAddress",render:({field:O})=>e.jsxs(K,{className:"md:col-span-2",children:[e.jsx(Z,{children:"Street Address *"}),e.jsx(G,{children:e.jsx(kt,{placeholder:"Enter your full street address (house number, street name, etc.)",rows:3,"data-testid":"input-street-address",...O})}),e.jsx(X,{})]})}),e.jsx(Q,{control:v.control,name:"postalCode",render:({field:O})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Postal Code (Optional)"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Enter postal code","data-testid":"input-postal-code",...O})}),e.jsx(X,{})]})})]}),e.jsx(Ac,{className:"my-6 md:col-span-2"}),e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-blue-50/50 md:col-span-2",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Postal Address"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Where you receive mail correspondence"})]}),e.jsx(Q,{control:v.control,name:"sameAsPhysical",render:({field:O})=>e.jsxs(K,{className:"space-y-3 p-4 border rounded-lg bg-blue-50/30 md:col-span-2",children:[e.jsx(Z,{className:"font-medium",children:"Is your postal address the same as your physical address?"}),e.jsx(G,{children:e.jsxs(Ro,{onValueChange:te=>O.onChange(te==="yes"),value:O.value?"yes":"no",className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Cn,{value:"yes",id:"postal-same-yes"}),e.jsx("label",{htmlFor:"postal-same-yes",className:"text-sm font-normal cursor-pointer",children:"Yes, my postal address is the same as my physical address"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Cn,{value:"no",id:"postal-same-no"}),e.jsx("label",{htmlFor:"postal-same-no",className:"text-sm font-normal cursor-pointer",children:"No, I have a different postal address"})]})]})}),e.jsx(X,{})]})}),!v.watch("sameAsPhysical")&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Q,{control:v.control,name:"postalAddress",render:({field:O})=>e.jsxs(K,{className:"md:col-span-2",children:[e.jsx(Z,{children:"Postal Address"}),e.jsx(G,{children:e.jsx(kt,{placeholder:"Enter your postal address (P.O. Box, Private Bag, etc.)",rows:3,"data-testid":"input-postal-address",...O})}),e.jsx(X,{})]})}),e.jsx(Q,{control:v.control,name:"postalCity",render:({field:O})=>e.jsxs(K,{children:[e.jsx(Z,{children:"City/Town"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Enter city or town","data-testid":"input-postal-city",...O})}),e.jsx(X,{})]})}),e.jsx(Q,{control:v.control,name:"postalCountry",render:({field:O})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Country"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Enter country","data-testid":"input-postal-country",...O})}),e.jsx(X,{})]})})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(P,{type:"button",variant:"outline",onClick:()=>s(1),"data-testid":"button-back-to-personal",children:"Back to Personal Details"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(P,{type:"button",variant:"outline",onClick:w,disabled:l.isPending,"data-testid":"button-save-draft",className:"flex items-center gap-2",children:[e.jsx(Vr,{className:"h-4 w-4"}),l.isPending?"Saving...":"Save Draft"]}),e.jsx(P,{type:"submit",className:"gradient-button text-white border-0","data-testid":"button-continue-to-professional",children:"Continue to Professional Details"})]})]})]})})})]});case 3:return e.jsxs($,{className:"border-0 shadow-xl bg-gradient-to-br from-white to-orange-50/50",children:[e.jsx(J,{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-t-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(et,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx(ee,{className:"text-xl",children:"Professional Details"}),e.jsx("p",{className:"text-orange-100 mt-1",children:"Your employment status and real estate business experience"})]})]})}),e.jsx(V,{className:"p-6",children:e.jsx(Rt,{...g,children:e.jsxs("form",{onSubmit:g.handleSubmit(M),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border-l-4 border-orange-500 pl-4 py-2 bg-orange-50/50 md:col-span-2",children:[e.jsx("h3",{className:"font-semibold text-orange-900 mb-1",children:"Employment Status"}),e.jsx("p",{className:"text-sm text-orange-700",children:"Please provide your current employment details"})]}),e.jsx(Q,{control:g.control,name:"isEmployed",render:({field:O})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Are you currently employed? *"}),e.jsxs(Ie,{onValueChange:te=>{O.onChange(te),g.setValue("isFirmRegistered",void 0),g.setValue("registeredFirmId",""),g.setValue("registeredFirmName",""),g.setValue("isPrincipalAgent",void 0),g.setValue("registerFirmLater",!1)},defaultValue:O.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-is-employed",children:e.jsx(Fe,{placeholder:"Select..."})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"yes",children:"Yes"}),e.jsx(D,{value:"no",children:"No"})]})]}),e.jsx(X,{})]})}),re==="yes"&&e.jsx(Q,{control:g.control,name:"isFirmRegistered",render:({field:O})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Is your firm registered with EACZ? *"}),e.jsxs(Ie,{onValueChange:te=>{O.onChange(te),g.setValue("registeredFirmId",""),g.setValue("registeredFirmName",""),g.setValue("isPrincipalAgent",void 0),g.setValue("registerFirmLater",!1)},defaultValue:O.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-is-firm-registered",children:e.jsx(Fe,{placeholder:"Select..."})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"yes",children:"Yes"}),e.jsx(D,{value:"no",children:"No"})]})]}),e.jsx(X,{})]})}),re==="yes"&&F==="yes"&&e.jsxs(e.Fragment,{children:[e.jsx(Q,{control:g.control,name:"registeredFirmId",render:({field:O})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Select Registered Firm *"}),e.jsxs(Ie,{onValueChange:te=>{O.onChange(te);const se=S.find(Te=>Te.id===te);se&&g.setValue("registeredFirmName",se.organizationName||se.name)},defaultValue:O.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-registered-firm",children:e.jsx(Fe,{placeholder:"Search and select your firm..."})})}),e.jsx(Me,{children:S.map(te=>e.jsx(D,{value:te.id,children:te.organizationName||te.name},te.id))})]}),e.jsx(X,{})]})}),e.jsx(Q,{control:g.control,name:"employmentCapacity",render:({field:O})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Capacity in which employed *"}),e.jsxs(Ie,{onValueChange:O.onChange,defaultValue:O.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-employment-capacity",children:e.jsx(Fe,{placeholder:"Select capacity..."})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"agent",children:"Estate Agent"}),e.jsx(D,{value:"real_estate_negotiator",children:"Real Estate Negotiator"}),e.jsx(D,{value:"manager",children:"Property Manager"}),e.jsx(D,{value:"principal",children:"Principal Agent"})]})]}),e.jsx(X,{})]})})]}),re==="yes"&&F==="no"&&e.jsxs(e.Fragment,{children:[e.jsx(Q,{control:g.control,name:"isPrincipalAgent",render:({field:O})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Are you a Principal Real Estate Agent? *"}),e.jsxs(Ie,{onValueChange:te=>{O.onChange(te),te==="no"?g.setValue("registerFirmLater",!0):g.setValue("registerFirmLater",!1)},defaultValue:O.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-is-principal-agent",children:e.jsx(Fe,{placeholder:"Select..."})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"yes",children:"Yes"}),e.jsx(D,{value:"no",children:"No"})]})]}),e.jsx(X,{})]})}),B==="no"&&e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg md:col-span-2",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(le,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900",children:"Register Firm Later"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Since you are not a Principal Agent and your firm is not registered, you can proceed with your application. Your employer will need to register separately with EACZ."})]})]})})]})]}),e.jsx(Ac,{className:"my-6 md:col-span-2"}),e.jsxs("div",{className:"space-y-4 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Z,{className:"text-base font-semibold",children:"Business Experience Details *"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Provide details of your relevant real estate experience"})]}),e.jsxs(P,{type:"button",variant:"secondary",size:"sm",onClick:()=>W({employer:"",typeOfBusiness:"",jobTitle:"",dateFrom:"",dateTo:""}),"data-testid":"button-add-experience",className:"flex items-center space-x-2",children:[e.jsx(gs,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Experience"})]})]}),e.jsx("div",{className:"space-y-4",children:U.map((O,te)=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-4 bg-muted/20",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"font-medium text-sm text-muted-foreground",children:["Experience Entry ",te+1]}),U.length>1&&e.jsxs(P,{type:"button",variant:"destructive",size:"sm",onClick:()=>E(te),"data-testid":`button-remove-experience-${te}`,className:"flex items-center space-x-1",children:[e.jsx(W9,{className:"w-3 h-3"}),e.jsx("span",{className:"sr-only",children:"Remove experience"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Q,{control:g.control,name:`businessExperience.${te}.employer`,render:({field:se})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Employer *"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Enter employer name","data-testid":`input-employer-${te}`,...se})}),e.jsx(X,{})]})}),e.jsx(Q,{control:g.control,name:`businessExperience.${te}.typeOfBusiness`,render:({field:se})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Type of Business *"}),e.jsxs(Ie,{onValueChange:se.onChange,value:se.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":`select-typeOfBusiness-${te}`,children:e.jsx(Fe,{placeholder:"Select business type"})})}),e.jsxs(Me,{className:"max-h-[200px]",children:[e.jsx(D,{value:"Real Estate Agent",children:"Real Estate Agent"}),e.jsx(D,{value:"Property Manager",children:"Property Manager"}),e.jsx(D,{value:"Real Estate Broker",children:"Real Estate Broker"}),e.jsx(D,{value:"Property Developer",children:"Property Developer"}),e.jsx(D,{value:"Other",children:"Other"})]})]}),e.jsx(X,{})]})}),e.jsx(Q,{control:g.control,name:`businessExperience.${te}.jobTitle`,render:({field:se})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Job Title *"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Enter your job title","data-testid":`input-jobTitle-${te}`,...se})}),e.jsx(X,{})]})}),e.jsx(Q,{control:g.control,name:`businessExperience.${te}.dateFrom`,render:({field:se})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Date From *"}),e.jsx(G,{children:e.jsx(Y,{type:"date","data-testid":`input-dateFrom-${te}`,...se})}),e.jsx(X,{})]})}),e.jsx(Q,{control:g.control,name:`businessExperience.${te}.dateTo`,render:({field:se})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Date To"}),e.jsx(G,{children:e.jsx(Y,{type:"date",placeholder:"Leave empty if current","data-testid":`input-dateTo-${te}`,...se})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Leave empty if this is your current position"}),e.jsx(X,{})]})})]})]},O.id))})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(P,{type:"button",variant:"outline",onClick:()=>s(2),"data-testid":"button-back-to-address",children:"Back to Address"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(P,{type:"button",variant:"outline",onClick:w,disabled:l.isPending,"data-testid":"button-save-draft",className:"flex items-center gap-2",children:[e.jsx(Vr,{className:"h-4 w-4"}),l.isPending?"Saving...":"Save Draft"]}),e.jsx(P,{type:"submit",className:"gradient-button text-white border-0","data-testid":"button-continue-to-documents",children:"Continue to Documents"})]})]})]})})})]});case 4:return e.jsxs($,{className:"border-0 shadow-xl bg-gradient-to-br from-white to-purple-50/50",children:[e.jsx(J,{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-t-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(Le,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx(ee,{className:"text-xl",children:"Documents"}),e.jsx("p",{className:"text-purple-100 mt-1",children:"Upload required documents for your application"})]})]})}),e.jsx(V,{className:"p-6",children:e.jsx(Rt,{...y,children:e.jsxs("form",{onSubmit:y.handleSubmit(M),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-6 border-2 rounded-xl bg-gradient-to-br from-indigo-50 to-indigo-100/50 shadow-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-full flex items-center justify-center",children:e.jsx(et,{className:"w-4 h-4 text-white"})}),e.jsx("h4",{className:"font-semibold text-indigo-900",children:"Identity Document *"})]}),e.jsx("p",{className:"text-sm text-indigo-700 mb-4",children:"Upload your National ID or Passport"}),e.jsx(op,{documentType:"id_or_passport",allowMultiple:!1,maxFiles:1,onComplete:O=>{if(O.length>0){const te=O[0].fileKey;y.setValue("identityDocument",te),q({successful:[{uploadURL:te}]})}},usePublicEndpoint:!0,"data-testid":"uploader-identity-document"})]}),e.jsxs("div",{className:"p-6 border-2 rounded-xl bg-gradient-to-br from-pink-50 to-pink-100/50 shadow-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-pink-500 to-pink-600 rounded-full flex items-center justify-center",children:e.jsx(Le,{className:"w-4 h-4 text-white"})}),e.jsx("h4",{className:"font-semibold text-pink-900",children:"Birth Certificate *"})]}),e.jsx("p",{className:"text-sm text-pink-700 mb-4",children:"Upload your birth certificate"}),e.jsx(op,{documentType:"birth_certificate",allowMultiple:!1,maxFiles:1,onComplete:O=>{if(O.length>0){const te=O[0].fileKey;y.setValue("birthCertificate",te),q({successful:[{uploadURL:te}]})}},usePublicEndpoint:!0,"data-testid":"uploader-birth-certificate"})]}),e.jsxs("div",{className:"p-6 border rounded-lg h-full",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Educational Certificates *"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Upload O-Level, A-Level certificates"}),e.jsx(op,{documentType:"o_level_cert",allowMultiple:!0,maxFiles:5,onComplete:O=>{if(O.length>0){const te=O.map(Te=>Te.fileKey),se=y.getValues("educationalCertificates")||[];y.setValue("educationalCertificates",[...se,...te]),q({successful:O.map(Te=>({uploadURL:Te.fileKey}))})}},usePublicEndpoint:!0,"data-testid":"uploader-educational-certificates"})]}),e.jsxs("div",{className:"p-6 border rounded-lg h-full",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Proof of Employment (Optional)"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Employment letter or contract"}),e.jsx(op,{allowMultiple:!1,maxFiles:1,onComplete:O=>{if(O.length>0){const te=O[0].fileKey;y.setValue("proofOfEmployment",te),q({successful:[{uploadURL:te}]})}},usePublicEndpoint:!0,"data-testid":"uploader-proof-employment"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(P,{type:"button",variant:"outline",onClick:()=>s(3),"data-testid":"button-back-to-professional",children:"Back to Professional Details"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(P,{type:"button",variant:"outline",onClick:w,disabled:l.isPending,"data-testid":"button-save-draft",className:"flex items-center gap-2",children:[e.jsx(Vr,{className:"h-4 w-4"}),l.isPending?"Saving...":"Save Draft"]}),e.jsx(P,{type:"submit",className:"gradient-button text-white border-0","data-testid":"button-continue-to-declarations",children:"Continue to Declarations"})]})]})]})})})]});case 5:return e.jsxs($,{children:[e.jsxs(J,{children:[e.jsx(ee,{children:"Declarations"}),e.jsx("p",{className:"text-muted-foreground",children:"Please read and accept the following declarations"})]}),e.jsx(V,{children:e.jsx(Rt,{...j,children:e.jsxs("form",{onSubmit:j.handleSubmit(M),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsx(Q,{control:j.control,name:"agreeToTerms",render:({field:O})=>e.jsxs(K,{className:"flex flex-row items-start space-x-4 space-y-0 p-6 border rounded-lg",children:[e.jsx(G,{children:e.jsx(Xs,{checked:O.value,onCheckedChange:O.onChange,"data-testid":"checkbox-agree-terms",className:"mt-1"})}),e.jsxs("div",{className:"space-y-2 leading-relaxed flex-1",children:[e.jsx(Z,{className:"text-base font-medium",children:"I agree to the Terms and Conditions of the Estate Agents Council of Zimbabwe"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"By checking this box, you agree to abide by all terms and conditions set forth by the EACZ."})]}),e.jsx(X,{})]})}),e.jsx(Q,{control:j.control,name:"agreeToCodeOfConduct",render:({field:O})=>e.jsxs(K,{className:"flex flex-row items-start space-x-4 space-y-0 p-6 border rounded-lg",children:[e.jsx(G,{children:e.jsx(Xs,{checked:O.value,onCheckedChange:O.onChange,"data-testid":"checkbox-agree-code-conduct",className:"mt-1"})}),e.jsxs("div",{className:"space-y-2 leading-relaxed flex-1",children:[e.jsx(Z,{className:"text-base font-medium",children:"I agree to the Code of Conduct for Estate Agents"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"You commit to maintaining professional standards and ethical practices in all dealings."})]}),e.jsx(X,{})]})}),e.jsx(Q,{control:j.control,name:"confirmTruthfulness",render:({field:O})=>e.jsxs(K,{className:"flex flex-row items-start space-x-4 space-y-0 p-6 border rounded-lg",children:[e.jsx(G,{children:e.jsx(Xs,{checked:O.value,onCheckedChange:O.onChange,"data-testid":"checkbox-confirm-truthfulness",className:"mt-1"})}),e.jsxs("div",{className:"space-y-2 leading-relaxed flex-1",children:[e.jsx(Z,{className:"text-base font-medium",children:"I confirm that all information provided is true and accurate"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"False information may result in rejection of your application or termination of membership."})]}),e.jsx(X,{})]})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(P,{type:"button",variant:"outline",onClick:()=>s(4),"data-testid":"button-back-to-documents",children:"Back to Documents"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(P,{type:"button",variant:"outline",onClick:w,disabled:l.isPending,"data-testid":"button-save-draft",className:"flex items-center gap-2",children:[e.jsx(Vr,{className:"h-4 w-4"}),l.isPending?"Saving...":"Save Draft"]}),e.jsx(P,{type:"submit",className:"gradient-button text-white border-0","data-testid":"button-continue-to-payment",children:"Continue to Payment"})]})]})]})})})]});case 6:return e.jsxs($,{children:[e.jsxs(J,{children:[e.jsx(ee,{children:"Payment"}),e.jsx("p",{className:"text-muted-foreground",children:"Complete your application with payment"})]}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-muted p-6 rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Application Summary"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Application Fee:"}),e.jsx("span",{children:"$50.00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Processing Fee:"}),e.jsx("span",{children:"$10.00"})]}),e.jsx(Ac,{}),e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:"Total Amount:"}),e.jsx("span",{children:"$60.00"})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(P,{type:"button",variant:"outline",onClick:()=>s(5),"data-testid":"button-back-to-declarations",children:"Back to Declarations"}),e.jsx(P,{className:"gradient-button text-white border-0",onClick:()=>a("/payment"),"data-testid":"button-proceed-to-payment",children:"Proceed to Payment"})]})]})})]});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-background relative",children:[e.jsx(Kt,{title:"Individual Member Application",subtitle:"Complete your individual application with the Estate Agents Council of Zimbabwe"}),e.jsxs("div",{className:"w-full px-4 py-8 flex-1 relative z-10",children:[e.jsx(Et,{items:[{label:"Individual Member Application"}]}),e.jsxs("div",{className:"mb-8 bg-white border border-gray-200 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Application Progress"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Step ",t," of ",cp.length]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(t/cp.length*100),"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Complete"})]})]}),e.jsx("div",{className:"relative h-3 bg-gray-100 overflow-hidden",children:e.jsx("div",{className:"absolute h-full bg-gradient-to-r from-blue-500 to-blue-600 transition-all duration-500 ease-out",style:{width:`${t/cp.length*100}%`}})}),e.jsx("div",{className:"flex items-center justify-between mt-6 gap-2",children:cp.map((O,te)=>e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 flex items-center justify-center text-sm font-bold mb-2 transition-all duration-300 ${R(O.id)==="current"?"bg-blue-600 text-white shadow-lg":R(O.id)==="completed"?"bg-green-500 text-white shadow-md":"bg-gray-200 text-gray-500"}`,children:R(O.id)==="completed"?e.jsx(le,{className:"w-5 h-5"}):te+1}),e.jsx("span",{className:`text-xs font-medium text-center ${R(O.id)==="current"?"text-blue-600":R(O.id)==="completed"?"text-green-600":"text-gray-500"}`,children:O.title})]},O.id))})]}),ie()]}),e.jsx(wt,{})]})}function iJ({onComplete:t,children:s,buttonClassName:r="",accept:n="*/*",documentType:a="application_fee_pop",maxSize:i=5*1024*1024,usePublicEndpoint:l=!1}){const[o,c]=p.useState(!1),[d,u]=p.useState(null),{toast:m}=tt(),h=x=>{var g;const v=(g=x.target.files)==null?void 0:g[0];v&&u(v)},f=async()=>{if(!d){m({title:"No file selected",description:"Please select a file to upload.",variant:"destructive"});return}c(!0),console.log("Starting upload for file:",d.name);try{const v=await fetch(l?"/api/uploads/presign-public":"/api/uploads/presign",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({docType:a,fileSize:d.size,mimeType:d.type,fileName:d.name})});if(!v.ok)throw new Error("Failed to get upload URL");const g=await v.json(),{uploadUrl:y}=g;if(console.log("Got upload URL:",y),!(await fetch(y,{method:"PUT",body:d,headers:{"Content-Type":d.type}})).ok)throw new Error("Failed to upload file");console.log("File uploaded successfully");const w=l&&g.objectPath?g.objectPath:new URL(y).pathname;m({title:"Upload successful",description:`${d.name} has been uploaded successfully.`}),t==null||t(w),u(null)}catch(x){console.error("Upload error:",x),m({title:"Upload failed",description:"Failed to upload file. Please try again.",variant:"destructive"})}finally{c(!1)}},b=()=>{u(null)};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{type:"file",onChange:h,accept:n,className:"flex-1"}),d&&e.jsx(P,{type:"button",variant:"outline",size:"sm",onClick:b,children:e.jsx(ui,{className:"h-4 w-4"})})]}),d&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Selected: ",d.name," (",(d.size/1024/1024).toFixed(2)," MB)"]}),e.jsx(P,{onClick:f,disabled:!d||o,className:r,children:o?e.jsxs(e.Fragment,{children:[e.jsx(hr,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(hr,{className:"mr-2 h-4 w-4"}),s]})})]})}const lJ=I.object({name:I.string().min(2,"Organization name must be at least 2 characters"),type:I.enum(["real_estate_firm","property_management_firm","brokerage_firm","development_firm"]),registrationNumber:I.string().min(1,"Registration number is required"),email:I.string().email("Invalid email address"),phone:I.string().min(10,"Phone number must be at least 10 digits"),address:I.string().min(10,"Address must be at least 10 characters"),principalAgentId:I.string().min(1,"Principal agent is required"),trustAccountDetails:I.string().min(1,"Trust account details are required")}),q0=[{id:"incorporation",label:"Certificate of Incorporation",required:!0},{id:"trustAccount",label:"Trust Account Confirmation",required:!0},{id:"annualReturns",label:"3 Annual Return Forms",required:!0},{id:"cr6Form",label:"CR6 Form (Director Proof)",required:!0},{id:"cr11Forms",label:"CR11 Forms (Certified Copy)",required:!0},{id:"taxClearance",label:"Tax Clearance Certificate",required:!0},{id:"policeClearance",label:"Police Clearance for Directors",required:!0}];function UC(){const[t,s]=p.useState("requirements"),[r,n]=p.useState({}),[a,i]=p.useState({}),[,l]=Xe(),{toast:o}=tt(),{data:c=[]}=Ge({queryKey:["/api/members"]}),d=c.filter(b=>b.memberType==="principal_real_estate_agent"),u=It({resolver:Ft(lJ),defaultValues:{name:"",type:"real_estate_firm",registrationNumber:"",email:"",phone:"",address:"",principalAgentId:"",trustAccountDetails:""}}),m=$e({mutationFn:async b=>await(await Be("POST","/api/organizations",b)).json(),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/organizations"]}),o({title:"Organization Registered",description:"Organization has been successfully registered."}),l("/admin-dashboard")},onError:b=>{o({title:"Error",description:b.message,variant:"destructive"})}}),h=b=>x=>{const v=x.successful.map(g=>g.uploadURL);i(g=>({...g,[b]:[...g[b]||[],...v]}))},f=b=>{if(!q0.every(v=>r[v.id])){o({title:"Requirements Not Met",description:"Please check all requirement boxes before submitting.",variant:"destructive"});return}m.mutate(b)};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Kt,{title:"Register Real Estate Organization",subtitle:"Estate Agents Council of Zimbabwe"}),e.jsxs("div",{className:"w-full px-4 py-8 flex-1",children:[e.jsx(Et,{items:[{label:"Organization Registration"}]}),e.jsx("div",{className:"mb-6",children:e.jsxs(P,{variant:"outline",onClick:()=>l("/"),className:"flex items-center","data-testid":"button-return-home",children:[e.jsx(sw,{className:"w-4 h-4 mr-2"}),"Return to Home"]})}),e.jsx(Rt,{...u,children:e.jsxs("form",{onSubmit:u.handleSubmit(f),className:"space-y-6",children:[e.jsxs(Zt,{value:t,onValueChange:s,className:"w-full",children:[e.jsxs(Ht,{className:"grid w-full grid-cols-4",children:[e.jsx(Ae,{value:"requirements","data-testid":"tab-requirements",children:"Requirements"}),e.jsx(Ae,{value:"details","data-testid":"tab-details",children:"Organization Details"}),e.jsx(Ae,{value:"contact","data-testid":"tab-contact",children:"Contact & Trust"}),e.jsx(Ae,{value:"documents","data-testid":"tab-documents",children:"Documents"})]}),e.jsx(Oe,{value:"requirements",className:"mt-6",children:e.jsxs($,{children:[e.jsxs(J,{children:[e.jsxs(ee,{className:"flex items-center",children:[e.jsx(Js,{className:"w-5 h-5 mr-2"}),"Registration Requirements"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please ensure you have all required documents before proceeding"})]}),e.jsx(V,{children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:q0.map(b=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Xs,{checked:r[b.id]||!1,onCheckedChange:x=>n(v=>({...v,[b.id]:!!x})),"data-testid":`checkbox-requirement-${b.id}`}),e.jsx("span",{className:"text-sm text-card-foreground",children:b.label})]},b.id))})})]})}),e.jsx(Oe,{value:"details",className:"mt-6",children:e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(qe,{className:"w-5 h-5 mr-2"}),"Organization Details"]})}),e.jsx(V,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Q,{control:u.control,name:"name",render:({field:b})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Organization Name *"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Enter organization name","data-testid":"input-org-name",...b})}),e.jsx(X,{})]})}),e.jsx(Q,{control:u.control,name:"type",render:({field:b})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Organization Type *"}),e.jsxs(Ie,{onValueChange:b.onChange,defaultValue:b.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-org-type",children:e.jsx(Fe,{placeholder:"Select organization type"})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"real_estate_firm",children:"Real Estate Firm"}),e.jsx(D,{value:"property_management_firm",children:"Property Management Firm"}),e.jsx(D,{value:"brokerage_firm",children:"Brokerage Firm"}),e.jsx(D,{value:"development_firm",children:"Real Estate Development Firm"})]})]}),e.jsx(X,{})]})}),e.jsx(Q,{control:u.control,name:"registrationNumber",render:({field:b})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Registration Number *"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Enter registration number","data-testid":"input-registration-number",...b})}),e.jsx(X,{})]})}),e.jsx(Q,{control:u.control,name:"principalAgentId",render:({field:b})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Principal Agent *"}),e.jsxs(Ie,{onValueChange:b.onChange,defaultValue:b.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-principal-agent",children:e.jsx(Fe,{placeholder:"Select principal agent"})})}),e.jsx(Me,{children:d.map(x=>e.jsxs(D,{value:x.id,children:[x.firstName," ",x.lastName," (",x.membershipNumber,")"]},x.id))})]}),e.jsx(X,{})]})})]})})]})}),e.jsx(Oe,{value:"contact",className:"mt-6",children:e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(qe,{className:"w-5 h-5 mr-2"}),"Contact & Trust Account"]})}),e.jsxs(V,{children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-card-foreground mb-4",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Q,{control:u.control,name:"email",render:({field:b})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Email Address *"}),e.jsx(G,{children:e.jsx(Y,{type:"email",placeholder:"Enter email address","data-testid":"input-org-email",...b})}),e.jsx(X,{})]})}),e.jsx(Q,{control:u.control,name:"phone",render:({field:b})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Phone Number *"}),e.jsx(G,{children:e.jsx(Y,{type:"tel",placeholder:"Enter phone number","data-testid":"input-org-phone",...b})}),e.jsx(X,{})]})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(Q,{control:u.control,name:"address",render:({field:b})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Physical Address *"}),e.jsx(G,{children:e.jsx(kt,{rows:3,placeholder:"Enter physical address","data-testid":"textarea-org-address",...b})}),e.jsx(X,{})]})})})]})]}),e.jsxs("div",{className:"border-t border-border pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-card-foreground mb-4",children:"Trust Account Information"}),e.jsx(Q,{control:u.control,name:"trustAccountDetails",render:({field:b})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Trust Account Details *"}),e.jsx(G,{children:e.jsx(kt,{rows:3,placeholder:"Enter trust account details including bank name, account number, and account holder details","data-testid":"textarea-trust-account",...b})}),e.jsx(X,{})]})})]})]})]})}),e.jsx(Oe,{value:"documents",className:"mt-6",children:e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 mr-2"}),"Required Documents"]})}),e.jsx(V,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:q0.map(b=>e.jsxs($,{className:"border-dashed",children:[e.jsx(J,{children:e.jsx(ee,{className:"text-sm",children:b.label})}),e.jsxs(V,{className:"text-center",children:[e.jsxs(iJ,{onComplete:x=>h(b.id)({successful:[{uploadURL:x}]}),buttonClassName:"w-full",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",children:["Upload ",b.label]}),a[b.id]&&a[b.id].length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx(le,{className:"w-4 h-4 text-green-600 mx-auto"}),e.jsxs("p",{className:"text-xs text-green-600",children:[a[b.id].length," file(s) uploaded"]})]})]})]},b.id))})})]})})]}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsx(P,{type:"button",variant:"outline",onClick:()=>l("/admin-dashboard"),"data-testid":"button-save-draft",children:"Save as Draft"}),e.jsx(P,{type:"submit",className:"gradient-button text-white border-0",disabled:m.isPending,"data-testid":"button-submit-organization",children:m.isPending?"Submitting...":"Submit Application"})]})]})})]}),e.jsx(wt,{})]})}const Hp=p.forwardRef(({className:t,label:s,type:r="text",...n},a)=>{const[i,l]=p.useState(!1),[o,c]=p.useState(!1),d=()=>l(!0),u=m=>{var h;l(!1),c(m.target.value!==""),(h=n.onBlur)==null||h.call(n,m)};return p.useEffect(()=>{c(n.value!==""&&n.value!==void 0)},[n.value]),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:r,className:ye("peer h-14 w-full rounded-lg border-2 border-gray-200 bg-white px-4 pt-6 pb-2 text-base text-gray-900 transition-all duration-200","placeholder-transparent","focus:border-egyptian-blue focus:ring-2 focus:ring-egyptian-blue/20 focus:outline-none","hover:border-gray-300","disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",t),placeholder:s,ref:a,onFocus:d,onBlur:u,...n}),e.jsx("label",{className:ye("absolute left-4 text-gray-500 transition-all duration-200 pointer-events-none",i||o?"top-1.5 text-xs font-medium text-egyptian-blue":"top-4 text-base text-gray-400"),children:s})]})});Hp.displayName="FloatingInput";function pn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ov(t,s){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ov(t,s)}function oJ(t,s){t.prototype=Object.create(s.prototype),t.prototype.constructor=t,ov(t,s)}var cJ=Object.defineProperty,dJ=Object.defineProperties,uJ=Object.getOwnPropertyDescriptors,rx=Object.getOwnPropertySymbols,XI=Object.prototype.hasOwnProperty,JI=Object.prototype.propertyIsEnumerable,cv=(t,s,r)=>s in t?cJ(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r,en=(t,s)=>{for(var r in s||(s={}))XI.call(s,r)&&cv(t,r,s[r]);if(rx)for(var r of rx(s))JI.call(s,r)&&cv(t,r,s[r]);return t},eF=(t,s)=>dJ(t,uJ(s)),mJ=(t,s)=>{var r={};for(var n in t)XI.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&rx)for(var n of rx(t))s.indexOf(n)<0&&JI.call(t,n)&&(r[n]=t[n]);return r},Vs=(t,s,r)=>(cv(t,typeof s!="symbol"?s+"":s,r),r),Ed=(t,s,r)=>new Promise((n,a)=>{var i=c=>{try{o(r.next(c))}catch(d){a(d)}},l=c=>{try{o(r.throw(c))}catch(d){a(d)}},o=c=>c.done?n(c.value):Promise.resolve(c.value).then(i,l);o((r=r.apply(t,s)).next())}),hJ="hCaptcha-script",Kp="hCaptchaOnLoad",$C="script-error",Fl="@hCaptcha/loader";function pJ(t){return Object.entries(t).filter(([,s])=>s||s===!1).map(([s,r])=>`${encodeURIComponent(s)}=${encodeURIComponent(String(r))}`).join("&")}function tF(t){let s=t&&t.ownerDocument||document,r=s.defaultView||s.parentWindow||window;return{document:s,window:r}}function sF(t){return t||document.head}function fJ(t){var s;t.setTag("source",Fl),t.setTag("url",document.URL),t.setContext("os",{UA:navigator.userAgent}),t.setContext("browser",en({},xJ())),t.setContext("device",eF(en({},gJ()),{screen_width_pixels:screen.width,screen_height_pixels:screen.height,language:navigator.language,orientation:((s=screen.orientation)==null?void 0:s.type)||"Unknown",processor_count:navigator.hardwareConcurrency,platform:navigator.platform}))}function xJ(){var t,s,r,n,a,i;let l=navigator.userAgent,o,c;return l.indexOf("Firefox")!==-1?(o="Firefox",c=(t=l.match(/Firefox\/([\d.]+)/))==null?void 0:t[1]):l.indexOf("Edg")!==-1?(o="Microsoft Edge",c=(s=l.match(/Edg\/([\d.]+)/))==null?void 0:s[1]):l.indexOf("Chrome")!==-1&&l.indexOf("Safari")!==-1?(o="Chrome",c=(r=l.match(/Chrome\/([\d.]+)/))==null?void 0:r[1]):l.indexOf("Safari")!==-1&&l.indexOf("Chrome")===-1?(o="Safari",c=(n=l.match(/Version\/([\d.]+)/))==null?void 0:n[1]):l.indexOf("Opera")!==-1||l.indexOf("OPR")!==-1?(o="Opera",c=(a=l.match(/(Opera|OPR)\/([\d.]+)/))==null?void 0:a[2]):l.indexOf("MSIE")!==-1||l.indexOf("Trident")!==-1?(o="Internet Explorer",c=(i=l.match(/(MSIE |rv:)([\d.]+)/))==null?void 0:i[2]):(o="Unknown",c="Unknown"),{name:o,version:c}}function gJ(){let t=navigator.userAgent,s;t.indexOf("Win")!==-1?s="Windows":t.indexOf("Mac")!==-1?s="Mac":t.indexOf("Linux")!==-1?s="Linux":t.indexOf("Android")!==-1?s="Android":t.indexOf("like Mac")!==-1||t.indexOf("iPhone")!==-1||t.indexOf("iPad")!==-1?s="iOS":s="Unknown";let r;return/Mobile|iPhone|iPod|Android/i.test(t)?r="Mobile":/Tablet|iPad/i.test(t)?r="Tablet":r="Desktop",{model:s,family:s,device:r}}var bJ=class rF{constructor(s){Vs(this,"_parent"),Vs(this,"breadcrumbs",[]),Vs(this,"context",{}),Vs(this,"extra",{}),Vs(this,"tags",{}),Vs(this,"request"),Vs(this,"user"),this._parent=s}get parent(){return this._parent}child(){return new rF(this)}setRequest(s){return this.request=s,this}removeRequest(){return this.request=void 0,this}addBreadcrumb(s){return typeof s.timestamp>"u"&&(s.timestamp=new Date().toISOString()),this.breadcrumbs.push(s),this}setExtra(s,r){return this.extra[s]=r,this}removeExtra(s){return delete this.extra[s],this}setContext(s,r){return typeof r.type>"u"&&(r.type=s),this.context[s]=r,this}removeContext(s){return delete this.context[s],this}setTags(s){return this.tags=en(en({},this.tags),s),this}setTag(s,r){return this.tags[s]=r,this}removeTag(s){return delete this.tags[s],this}setUser(s){return this.user=s,this}removeUser(){return this.user=void 0,this}toBody(){let s=[],r=this;for(;r;)s.push(r),r=r.parent;return s.reverse().reduce((n,a)=>{var i;return n.breadcrumbs=[...(i=n.breadcrumbs)!=null?i:[],...a.breadcrumbs],n.extra=en(en({},n.extra),a.extra),n.contexts=en(en({},n.contexts),a.context),n.tags=en(en({},n.tags),a.tags),a.user&&(n.user=a.user),a.request&&(n.request=a.request),n},{breadcrumbs:[],extra:{},contexts:{},tags:{},request:void 0,user:void 0})}clear(){this.breadcrumbs=[],this.context={},this.tags={},this.user=void 0}},yJ=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,vJ=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,jJ=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,wJ=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,dp="?",VC="An unknown error occurred",NJ="0.0.4";function CJ(t){for(let s=0;s<t.length;s++)t[s]=Math.floor(Math.random()*256);return t}function or(t){return(t+256).toString(16).substring(1)}function SJ(){let t=CJ(new Array(16));return t[6]=t[6]&15|64,t[8]=t[8]&63|128,or(t[0])+or(t[1])+or(t[2])+or(t[3])+"-"+or(t[4])+or(t[5])+"-"+or(t[6])+or(t[7])+"-"+or(t[8])+or(t[9])+"-"+or(t[10])+or(t[11])+or(t[12])+or(t[13])+or(t[14])+or(t[15])}var _J=[[yJ,"chrome"],[jJ,"winjs"],[vJ,"gecko"]];function kJ(t){var s,r,n,a;if(!t.stack)return null;let i=[],l=(n=(r=(s=t.stack).split)==null?void 0:r.call(s,`
`))!=null?n:[];for(let o=0;o<l.length;++o){let c=null,d=null,u=null;for(let[m,h]of _J)if(d=m.exec(l[o]),d){u=h;break}if(!(!d||!u)){if(u==="chrome")c={filename:(a=d[2])!=null&&a.startsWith("address at ")?d[2].substring(11):d[2],function:d[1]||dp,lineno:d[3]?+d[3]:null,colno:d[4]?+d[4]:null};else if(u==="winjs")c={filename:d[2],function:d[1]||dp,lineno:+d[3],colno:d[4]?+d[4]:null};else if(u==="gecko")o===0&&!d[5]&&t.columnNumber!==void 0&&i.length>0&&(i[0].column=t.columnNumber+1),c={filename:d[3],function:d[1]||dp,lineno:d[4]?+d[4]:null,colno:d[5]?+d[5]:null};else continue;!c.function&&c.lineno&&(c.function=dp),i.push(c)}}return i.length?i.reverse():null}function PJ(t){let s=kJ(t);return{type:t.name,value:t.message,stacktrace:{frames:s??[]}}}function EJ(t){let s=wJ.exec(t),r=s?s.slice(1):[];if(r.length!==6)throw new Error("Invalid DSN");let n=r[5].split("/"),a=n.slice(0,-1).join("/");return r[0]+"://"+r[3]+(r[4]?":"+r[4]:"")+(a?"/"+a:"")+"/api/"+n.pop()+"/envelope/?sentry_version=7&sentry_key="+r[1]+(r[2]?"&sentry_secret="+r[2]:"")}function AJ(t,s,r){var n,a;let i=en({event_id:SJ().replaceAll("-",""),platform:"javascript",sdk:{name:"@hcaptcha/sentry",version:NJ},environment:s,release:r,timestamp:Date.now()/1e3},t.scope.toBody());if(t.type==="exception"){i.message=(a=(n=t.error)==null?void 0:n.message)!=null?a:"Unknown error",i.fingerprint=[i.message];let l=[],o=t.error;for(let c=0;c<5&&o&&(l.push(PJ(o)),!(!o.cause||!(o.cause instanceof Error)));c++)o=o.cause;i.exception={values:l.reverse()}}return t.type==="message"&&(i.message=t.message,i.level=t.level),i}function TJ(t){if(t instanceof Error)return t;if(typeof t=="string")return new Error(t);if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let r=t,{message:n}=r,a=mJ(r,["message"]),i=new Error(typeof n=="string"?n:VC);return Object.assign(i,a)}let s=new Error(VC);return Object.assign(s,{cause:t})}function RJ(t,s,r){return Ed(this,null,function*(){var n,a;try{if(typeof fetch<"u"&&typeof AbortSignal<"u"){let i;if(r){let c=new AbortController;i=c.signal,setTimeout(()=>c.abort(),r)}let l=yield fetch(t,eF(en({},s),{signal:i})),o=yield l.text();return{status:l.status,body:o}}return yield new Promise((i,l)=>{var o,c;let d=new XMLHttpRequest;if(d.open((o=s==null?void 0:s.method)!=null?o:"GET",t),d.onload=()=>i({status:d.status,body:d.responseText}),d.onerror=()=>l(new Error("XHR Network Error")),s==null?void 0:s.headers)for(let[u,m]of Object.entries(s.headers))d.setRequestHeader(u,m);if(r){let u=setTimeout(()=>{d.abort(),l(new Error("Request timed out"))},r);d.onloadend=()=>{clearTimeout(u)}}d.send((c=s==null?void 0:s.body)==null?void 0:c.toString())})}catch(i){return{status:0,body:(a=(n=i==null?void 0:i.toString)==null?void 0:n.call(i))!=null?a:"Unknown error"}}})}var Lr,dv=(Lr=class{constructor(t){Vs(this,"apiURL"),Vs(this,"dsn"),Vs(this,"environment"),Vs(this,"release"),Vs(this,"sampleRate"),Vs(this,"debug"),Vs(this,"_scope"),Vs(this,"shouldBuffer",!1),Vs(this,"bufferlimit",20),Vs(this,"buffer",[]);var s,r,n,a,i;this.environment=t.environment,this.release=t.release,this.sampleRate=(s=t.sampleRate)!=null?s:1,this.debug=(r=t.debug)!=null?r:!1,this._scope=(n=t.scope)!=null?n:new bJ,this.apiURL=EJ(t.dsn),this.dsn=t.dsn,this.shouldBuffer=(a=t.buffer)!=null?a:!1,this.bufferlimit=(i=t.bufferLimit)!=null?i:20}static init(t){Lr._instance||(Lr._instance=new Lr(t))}static get instance(){if(!Lr._instance)throw new Error("Sentry has not been initialized");return Lr._instance}log(...t){this.debug&&console.log(...t)}get scope(){return this._scope}static get scope(){return Lr.instance.scope}withScope(t){let s=this._scope.child();t(s)}static withScope(t){Lr.instance.withScope(t)}captureException(t,s){this.captureEvent({type:"exception",level:"error",error:TJ(t),scope:s??this._scope})}static captureException(t,s){Lr.instance.captureException(t,s)}captureMessage(t,s="info",r){this.captureEvent({type:"message",level:s,message:t,scope:r??this._scope})}static captureMessage(t,s="info",r){Lr.instance.captureMessage(t,s,r)}captureEvent(t){if(Math.random()>=this.sampleRate){this.log("Dropped event due to sample rate");return}if(this.shouldBuffer){if(this.buffer.length>=this.bufferlimit)return;this.buffer.push(t)}else this.sendEvent(t)}sendEvent(t,s=5e3){return Ed(this,null,function*(){try{this.log("Sending sentry event",t);let r=AJ(t,this.environment,this.release),n={event_id:r.event_id,dsn:this.dsn},a={type:"event"},i=JSON.stringify(n)+`
`+JSON.stringify(a)+`
`+JSON.stringify(r),l=yield RJ(this.apiURL,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:i},s);this.log("Sentry response",l.status),l.status!==200&&(console.log(l.body),console.error("Failed to send event to Sentry",l))}catch(r){console.error("Failed to send event",r)}})}flush(t=5e3){return Ed(this,null,function*(){try{this.log("Flushing sentry events",this.buffer.length);let s=this.buffer.splice(0,this.buffer.length).map(r=>this.sendEvent(r,t));yield Promise.all(s),this.log("Flushed all events")}catch(s){console.error("Failed to flush events",s)}})}static flush(t=5e3){return Lr.instance.flush(t)}static reset(){Lr._instance=void 0}},Vs(Lr,"_instance"),Lr),DJ="https://d233059272824702afc8c43834c4912d@sentry.hcaptcha.com/6",MJ="2.1.0",OJ="production";function IJ(t=!0){if(!t)return BC();dv.init({dsn:DJ,release:MJ,environment:OJ});let s=dv.scope;return fJ(s),BC(s)}function BC(t=null){return{addBreadcrumb:s=>{t&&t.addBreadcrumb(s)},captureRequest:s=>{t&&t.setRequest(s)},captureException:s=>{t&&dv.captureException(s,t)}}}function FJ({scriptLocation:t,query:s,loadAsync:r=!0,crossOrigin:n="anonymous",apihost:a="https://js.hcaptcha.com",cleanup:i=!1,secureApi:l=!1,scriptSource:o=""}={},c){let d=sF(t),u=tF(d);return new Promise((m,h)=>{let f=u.document.createElement("script");f.id=hJ,o?f.src=`${o}?onload=${Kp}`:l?f.src=`${a}/1/secure-api.js?onload=${Kp}`:f.src=`${a}/1/api.js?onload=${Kp}`,f.crossOrigin=n,f.async=r;let b=(x,v)=>{try{!l&&i&&d.removeChild(f),v(x)}catch(g){h(g)}};f.onload=x=>b(x,m),f.onerror=x=>{c&&c(f.src),b(x,h)},f.src+=s!==""?`&${s}`:"",d.appendChild(f)})}var up=[];function LJ(t={cleanup:!1},s){try{s.addBreadcrumb({category:Fl,message:"hCaptcha loader params",data:t});let r=sF(t.scriptLocation),n=tF(r),a=up.find(({scope:l})=>l===n.window);if(a)return s.addBreadcrumb({category:Fl,message:"hCaptcha already loaded"}),a.promise;let i=new Promise((l,o)=>Ed(this,null,function*(){try{n.window[Kp]=()=>{s.addBreadcrumb({category:Fl,message:"hCaptcha script called onload function"}),l(n.window.hcaptcha)};let c=pJ({custom:t.custom,render:t.render,sentry:t.sentry,assethost:t.assethost,imghost:t.imghost,reportapi:t.reportapi,endpoint:t.endpoint,host:t.host,recaptchacompat:t.recaptchacompat,hl:t.hl});yield FJ(en({query:c},t),d=>{s.captureRequest({url:d,method:"GET"})}),s.addBreadcrumb({category:Fl,message:"hCaptcha loaded",data:a})}catch{s.addBreadcrumb({category:Fl,message:"hCaptcha failed to load"});let d=up.findIndex(u=>u.scope===n.window);d!==-1&&up.splice(d,1),o(new Error($C))}}));return up.push({promise:i,scope:n.window}),i}catch(r){return s.captureException(r),Promise.reject(new Error($C))}}function nF(t,s,r=0){return Ed(this,null,function*(){let n=r<2?"Retry loading hCaptcha Api":"Exceeded maximum retries";try{return yield LJ(t,s)}catch(a){return s.addBreadcrumb({category:Fl,message:n}),r>=2?(s.captureException(a),Promise.reject(a)):(r+=1,nF(t,s,r))}})}function zJ(){return Ed(this,arguments,function*(t={}){let s=IJ(t.sentry);return yield nF(t,s)})}function qC(t){var s=t&&t.ownerDocument||document,r=s.defaultView||s.parentWindow||window;return{document:s,window:r}}function WC(t){return t||document.head}var UJ=function(t){oJ(s,t);function s(n){var a;return a=t.call(this,n)||this,a._hcaptcha=void 0,a.renderCaptcha=a.renderCaptcha.bind(pn(a)),a.resetCaptcha=a.resetCaptcha.bind(pn(a)),a.removeCaptcha=a.removeCaptcha.bind(pn(a)),a.isReady=a.isReady.bind(pn(a)),a._onReady=null,a.loadCaptcha=a.loadCaptcha.bind(pn(a)),a.handleOnLoad=a.handleOnLoad.bind(pn(a)),a.handleSubmit=a.handleSubmit.bind(pn(a)),a.handleExpire=a.handleExpire.bind(pn(a)),a.handleError=a.handleError.bind(pn(a)),a.handleOpen=a.handleOpen.bind(pn(a)),a.handleClose=a.handleClose.bind(pn(a)),a.handleChallengeExpired=a.handleChallengeExpired.bind(pn(a)),a.ref=p.createRef(),a.apiScriptRequested=!1,a.sentryHub=null,a.captchaId="",a.state={isApiReady:!1,isRemoved:!1,elementId:n.id},a}var r=s.prototype;return r.componentDidMount=function(){var a=this,i=WC(this.props.scriptLocation),l=qC(i);this._hcaptcha=l.window.hcaptcha||void 0;var o=typeof this._hcaptcha<"u";if(o){this.setState({isApiReady:!0},function(){a.renderCaptcha()});return}this.loadCaptcha()},r.componentWillUnmount=function(){var a=this._hcaptcha,i=this.captchaId;this.isReady()&&(a.reset(i),a.remove(i))},r.shouldComponentUpdate=function(a,i){return!(this.state.isApiReady!==i.isApiReady||this.state.isRemoved!==i.isRemoved)},r.componentDidUpdate=function(a){var i=this,l=["sitekey","size","theme","tabindex","languageOverride","endpoint"],o=l.every(function(c){return a[c]===i.props[c]});o||this.removeCaptcha(function(){i.renderCaptcha()})},r.loadCaptcha=function(){if(!this.apiScriptRequested){var a=this.props,i=a.apihost,l=a.assethost,o=a.endpoint,c=a.host,d=a.imghost,u=a.languageOverride,m=a.reCaptchaCompat,h=a.reportapi,f=a.sentry,b=a.custom,x=a.loadAsync,v=a.scriptLocation,g=a.scriptSource,y=a.secureApi,j=a.cleanup,w=j===void 0?!0:j,N={render:"explicit",apihost:i,assethost:l,endpoint:o,hl:u,host:c,imghost:d,recaptchacompat:m===!1?"off":null,reportapi:h,sentry:f,custom:b,loadAsync:x,scriptLocation:v,scriptSource:g,secureApi:y,cleanup:w};zJ(N).then(this.handleOnLoad,this.handleError).catch(this.handleError),this.apiScriptRequested=!0}},r.renderCaptcha=function(a){var i=this,l=this.props.onReady,o=this.state.isApiReady,c=this.captchaId;if(!(!o||c)){var d=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),u=this._hcaptcha,m=u.render(this.ref.current,d);this.captchaId=m,this.setState({isRemoved:!1},function(){a&&a(),l&&l(),i._onReady&&i._onReady(m)})}},r.resetCaptcha=function(){var a=this._hcaptcha,i=this.captchaId;this.isReady()&&a.reset(i)},r.removeCaptcha=function(a){var i=this,l=this._hcaptcha,o=this.captchaId;this.isReady()&&this.setState({isRemoved:!0},function(){i.captchaId="",l.remove(o),a&&a()})},r.handleOnLoad=function(){var a=this;this.setState({isApiReady:!0},function(){var i=WC(a.props.scriptLocation),l=qC(i);a._hcaptcha=l.window.hcaptcha,a.renderCaptcha(function(){var o=a.props.onLoad;o&&o()})})},r.handleSubmit=function(a){var i=this.props.onVerify,l=this.state.isRemoved,o=this._hcaptcha,c=this.captchaId;if(!(typeof o>"u"||l)){var d=o.getResponse(c),u=o.getRespKey(c);i&&i(d,u)}},r.handleExpire=function(){var a=this.props.onExpire,i=this._hcaptcha,l=this.captchaId;this.isReady()&&(i.reset(l),a&&a())},r.handleError=function(a){var i=this.props.onError,l=this._hcaptcha,o=this.captchaId;this.isReady()&&l.reset(o),i&&i(a)},r.isReady=function(){var a=this.state,i=a.isApiReady,l=a.isRemoved;return i&&!l},r.handleOpen=function(){!this.isReady()||!this.props.onOpen||this.props.onOpen()},r.handleClose=function(){!this.isReady()||!this.props.onClose||this.props.onClose()},r.handleChallengeExpired=function(){!this.isReady()||!this.props.onChalExpired||this.props.onChalExpired()},r.execute=function(a){var i=this;a===void 0&&(a=null),a=typeof a=="object"?a:null;try{var l=this._hcaptcha,o=this.captchaId;if(!this.isReady()){var c,d=new Promise(function(u,m){i._onReady=function(h){try{var f=i._hcaptcha;a&&a.async?f.execute(h,a).then(u).catch(m):u(f.execute(h,a))}catch(b){m(b)}}});return(c=a)!=null&&c.async?d:null}return l.execute(o,a)}catch(u){return a&&a.async?Promise.reject(u):null}},r.close=function(){var a=this._hcaptcha,i=this.captchaId;if(this.isReady())return a.close(i)},r.setData=function(a){var i=this._hcaptcha,l=this.captchaId;this.isReady()&&(a&&typeof a!="object"&&(a=null),i.setData(l,a))},r.getResponse=function(){var a=this._hcaptcha;return a.getResponse(this.captchaId)},r.getRespKey=function(){var a=this._hcaptcha;return a.getRespKey(this.captchaId)},r.render=function(){var a=this.state.elementId;return p.createElement("div",{ref:this.ref,id:a})},s}(p.Component);function aF({onVerify:t,sitekey:s="10000000-ffff-ffff-ffff-000000000001"}){const r=p.useRef(null),n=a=>{t(a)};return e.jsx("div",{className:"flex justify-center my-4",children:e.jsx(UJ,{ref:r,sitekey:s,onVerify:n,theme:"light"})})}const $J=I.object({firstName:I.string().min(2,"First name must be at least 2 characters"),surname:I.string().min(2,"Surname must be at least 2 characters"),email:I.string().email("Invalid email address")});function VJ(){const[,t]=Xe(),[s,r]=p.useState(!1),[n,a]=p.useState(!1),[i,l]=p.useState(null),[o,c]=p.useState(""),[d,u]=p.useState(!1),{toast:m}=tt(),h=It({resolver:Ft($J),defaultValues:{firstName:"",surname:"",email:""}}),f=$e({mutationFn:async g=>await(await Be("POST","/api/applicants/register",g)).json(),onSuccess:g=>{c(g.applicantId),r(!0),m({title:"Registration Successful!",description:`Your Applicant ID is ${g.applicantId}. Please check your email for verification instructions.`})},onError:g=>{console.error("Registration error:",g),m({title:"Registration Failed",description:g.message||"An error occurred during registration. Please try again.",variant:"destructive"})}}),b=g=>{l(g),a(!0)},x=()=>{i&&f.mutate(i)},v=()=>{a(!1)};return n&&i?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:[e.jsx(Kt,{title:"Confirm Your Details",subtitle:"Please review your information before submitting"}),e.jsxs("div",{className:"w-full px-4 py-8 flex-1",children:[e.jsx(Et,{items:[{label:"Individual Registration",href:"/applicant-registration"},{label:"Confirm Details"}]}),e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[e.jsxs($,{className:"border-2 border-blue-100 shadow-2xl bg-white",children:[e.jsxs(J,{className:"bg-gradient-to-r from-blue-50 to-cyan-50 border-b-2 border-blue-100",children:[e.jsxs(ee,{className:"text-2xl bg-gradient-to-r from-egyptian-blue to-powder-blue bg-clip-text text-transparent flex items-center gap-2",children:[e.jsx(le,{className:"w-7 h-7 text-egyptian-blue"}),"Review Your Information"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Please confirm that all details are correct before proceeding"})]}),e.jsxs(V,{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-blue-50 to-cyan-50 border border-blue-100",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"First Name"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.firstName})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-blue-50 to-cyan-50 border border-blue-100",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Surname"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.surname})]})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-blue-50 to-cyan-50 border border-blue-100",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Email Address"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.email})]}),e.jsx("div",{className:"flex justify-center pt-4",children:e.jsxs(P,{onClick:v,variant:"outline",size:"lg",className:"border-2 border-egyptian-blue text-egyptian-blue hover:bg-egyptian-blue hover:text-white transition-colors",children:[e.jsx(sa,{className:"w-4 h-4 mr-2"}),"Edit Details"]})})]})]}),e.jsxs($,{className:"border-2 border-orange-100 shadow-lg bg-white",children:[e.jsxs(J,{className:"bg-gradient-to-r from-orange-50 to-yellow-50 border-b-2 border-orange-100",children:[e.jsxs(ee,{className:"text-xl text-orange-900 flex items-center gap-2",children:[e.jsx(Le,{className:"w-6 h-6 text-orange-600"}),"Required Documents Checklist"]}),e.jsx("p",{className:"text-orange-700 text-sm mt-1",children:"You will need these documents to complete your application"})]}),e.jsxs(V,{className:"p-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-orange-50/50",children:[e.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-orange-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"National ID or Passport"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Clear copy of your identification document"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-orange-50/50",children:[e.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-orange-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Educational Certificates"}),e.jsx("p",{className:"text-sm text-gray-600",children:"5 O-Level subjects including English & Math, 2 A-Level subjects or proof of mature entry"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-orange-50/50",children:[e.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-orange-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Proof of Address"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Recent utility bill or bank statement (not older than 3 months)"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-orange-50/50",children:[e.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-orange-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Professional References"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Contact details of 2 professional references"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-orange-50/50",children:[e.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-orange-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Passport Photo"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Recent passport-sized photograph"})]})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Js,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Important:"})," These documents will be required in the next steps of your application. Please have them ready in digital format (PDF or image files)."]})]})})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs(P,{onClick:v,variant:"outline",size:"lg",className:"flex-1 h-14 border-2 border-gray-200 hover:bg-gray-50",children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Go Back to Edit"]}),e.jsxs(P,{onClick:x,size:"lg",className:"flex-1 h-14 bg-gradient-to-r from-egyptian-blue to-powder-blue hover:from-egyptian-blue/90 hover:to-powder-blue/90 text-white border-0 font-semibold shadow-lg",disabled:f.isPending,children:[f.isPending?"Submitting...":"Confirm & Submit Registration",e.jsx(le,{className:"w-5 h-5 ml-2"})]})]})]})]}),e.jsx(wt,{})]}):s?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:[e.jsx(Kt,{title:"Registration Complete",subtitle:"Please verify your email to continue with your application"}),e.jsxs("div",{className:"w-full px-4 py-8 flex-1",children:[e.jsx(Et,{items:[{label:"Individual Registration"},{label:"Complete"}]}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsx($,{className:"border-2 border-green-100 shadow-2xl bg-white",children:e.jsxs(V,{className:"p-8 text-center",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-green-400 to-green-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx(le,{className:"w-12 h-12 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-green-700 bg-clip-text text-transparent mb-2",children:"Registration Successful!"}),e.jsx("p",{className:"text-gray-600",children:"Welcome to the EACZ community"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-6 rounded-xl mb-6 border-2 border-blue-100",children:[e.jsxs("h3",{className:"font-semibold text-gray-700 mb-2 flex items-center justify-center gap-2",children:[e.jsx(Ry,{className:"w-5 h-5 text-yellow-500"}),"Your Applicant ID"]}),e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-egyptian-blue to-powder-blue bg-clip-text text-transparent mb-2",children:o}),e.jsx("p",{className:"text-sm text-gray-600",children:"Please save this ID for your records"})]}),e.jsxs("div",{className:"space-y-4 text-left",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-blue-50/50 border border-blue-100",children:[e.jsx(jt,{className:"w-5 h-5 text-blue-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:"Check Your Email"}),e.jsx("p",{className:"text-sm text-gray-600",children:"We've sent you a welcome message and a verification email. Please check your inbox and spam folder."})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-cyan-50/50 border border-cyan-100",children:[e.jsx(et,{className:"w-5 h-5 text-cyan-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:"Verify Your Email"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click the verification link in your email to confirm your email address and continue with your application."})]})]})]}),e.jsxs("div",{className:"mt-8 space-y-3",children:[e.jsx(P,{onClick:()=>t("/verify-email"),className:"bg-gradient-to-r from-egyptian-blue to-powder-blue hover:from-egyptian-blue/90 hover:to-powder-blue/90 text-white border-0 w-full h-12 text-base font-semibold shadow-lg","data-testid":"button-verify-email",children:"I've Verified My Email - Continue"}),e.jsxs(P,{variant:"outline",onClick:()=>t("/"),className:"w-full h-12 border-2 border-gray-200 hover:bg-gray-50","data-testid":"button-back-home",children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]})]})})})]}),e.jsx(wt,{})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:[e.jsx(Kt,{title:"Apply as Individual Member",subtitle:"Register with the Estate Agents Council of Zimbabwe"}),e.jsxs("div",{className:"w-full px-4 py-8 flex-1",children:[e.jsx(Et,{items:[{label:"Individual Registration"}]}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs($,{className:"border-2 border-gray-100 shadow-2xl bg-white",children:[e.jsxs(J,{className:"bg-gradient-to-r from-egyptian-blue/5 to-powder-blue/5 border-b-2 border-gray-100",children:[e.jsx(ee,{className:"text-2xl bg-gradient-to-r from-egyptian-blue to-powder-blue bg-clip-text text-transparent",children:"Begin Your Registration"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Please provide your details to begin your individual membership application"})]}),e.jsx(V,{className:"p-8",children:e.jsx(Rt,{...h,children:e.jsxs("form",{onSubmit:h.handleSubmit(b),className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsx(Q,{control:h.control,name:"firstName",render:({field:g})=>e.jsxs(K,{children:[e.jsx(G,{children:e.jsx(Hp,{label:"First Name *","data-testid":"input-firstName",...g})}),e.jsx(X,{})]})}),e.jsx(Q,{control:h.control,name:"surname",render:({field:g})=>e.jsxs(K,{children:[e.jsx(G,{children:e.jsx(Hp,{label:"Surname *","data-testid":"input-surname",...g})}),e.jsx(X,{})]})})]}),e.jsx(Q,{control:h.control,name:"email",render:({field:g})=>e.jsxs(K,{children:[e.jsx(G,{children:e.jsx(Hp,{type:"email",label:"Email Address *","data-testid":"input-email",...g})}),e.jsx("p",{className:"text-sm text-gray-500 mt-2 ml-1",children:"We'll send your Applicant ID and verification instructions to this email"}),e.jsx(X,{})]})}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-6 rounded-xl border-2 border-blue-100",children:[e.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx(Ry,{className:"w-5 h-5 text-yellow-500"}),"What happens next?"]}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-egyptian-blue font-bold",children:"•"}),e.jsx("span",{children:"You'll receive your unique Applicant ID"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-egyptian-blue font-bold",children:"•"}),e.jsx("span",{children:"A welcome email with your ID will be sent"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-egyptian-blue font-bold",children:"•"}),e.jsx("span",{children:"You'll get a verification email to confirm your address"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-egyptian-blue font-bold",children:"•"}),e.jsx("span",{children:"After verification, you can complete your application form"})]})]})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx(aF,{onVerify:g=>u(!0)}),!d&&e.jsx("p",{className:"text-sm text-gray-500 text-center mt-2",children:"Please complete the verification above to continue"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-3 pt-4",children:[e.jsxs(P,{type:"button",variant:"outline",onClick:()=>t("/"),className:"h-12 border-2 border-gray-200 hover:bg-gray-50","data-testid":"button-cancel",children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsx(P,{type:"submit",className:"h-12 bg-gradient-to-r from-egyptian-blue to-powder-blue hover:from-egyptian-blue/90 hover:to-powder-blue/90 text-white border-0 px-8 font-semibold shadow-lg",disabled:f.isPending||!d,"data-testid":"button-register",children:f.isPending?"Registering...":"Register & Send Verification"})]})]})})})]})})]}),e.jsx(wt,{})]})}function BJ(){const[,t]=Xe(),s=[{id:"individual",title:"Individual Membership Application",description:"Apply for individual estate agent registration",icon:et,features:["Personal estate agent license","Access to EACZ member benefits","CPD training opportunities","Professional certification"],requirements:["5 O-Level subjects (including English & Math)","2 A-Level subjects OR mature entry (27+ years)","Valid ID/Passport","Relevant work experience"],fee:"$150 USD",processingTime:"2-4 weeks",route:"/apply/individual",color:"bg-blue-500",gradient:"from-blue-500 to-blue-600"},{id:"organization",title:"Organization Registration",description:"Register your real estate firm with EACZ",icon:qe,features:["Company/firm registration","Principal agent designation","Multi-agent management","Corporate compliance"],requirements:["Valid company registration","Principal Real Estate Agent (PREA)","Trust account verification","Tax clearance certificate"],fee:"$500 USD",processingTime:"3-6 weeks",route:"/apply/firm",color:"bg-green-500",gradient:"from-green-500 to-green-600"}],r=n=>{t(n==="individual"?"/apply/individual":"/apply/firm")};return e.jsxs("div",{className:"min-h-screen max-h-screen overflow-hidden bg-white flex flex-col",children:[e.jsx("header",{className:"bg-gradient-to-r from-egyptian-blue via-powder-blue/80 to-egyptian-blue shadow-lg py-6 px-4 sm:px-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-14 h-14 bg-white rounded-xl flex items-center justify-center p-2 shadow-md",children:e.jsx("img",{src:cn,alt:"EACZ Logo",className:"w-full h-full object-contain"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-white font-bold text-xl sm:text-2xl",children:"Estate Agents Council"}),e.jsx("p",{className:"text-white/90 text-sm sm:text-base font-medium",children:"of Zimbabwe"})]})]}),e.jsx(P,{variant:"outline",onClick:()=>t("/"),className:"bg-white/10 text-white border-white/30 hover:bg-white/20 backdrop-blur-sm",children:"Back to Home"})]})})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-egyptian-blue to-powder-blue bg-clip-text text-transparent mb-4",children:"Apply for Membership"}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-700 mb-6 max-w-3xl mx-auto font-medium",children:"Choose your application type to begin your journey with the Estate Agents Council of Zimbabwe"}),e.jsxs(oe,{variant:"outline",className:"bg-gradient-to-r from-egyptian-blue/10 to-powder-blue/10 text-egyptian-blue border-egyptian-blue/30 px-4 py-2 font-semibold",children:[e.jsx(ft,{className:"w-4 h-4 mr-2"}),"Applications processed within 2-6 weeks"]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:s.map(n=>{const a=n.icon,i=n.id==="individual"?"from-egyptian-blue/5 to-powder-blue/5":"from-powder-blue/5 to-egyptian-blue/5",l=n.id==="individual"?"from-egyptian-blue to-powder-blue":"from-powder-blue to-egyptian-blue";return e.jsxs($,{className:`relative overflow-hidden hover:shadow-2xl transition-all duration-300 group border-2 border-egyptian-blue/20 shadow-lg bg-gradient-to-br ${i}`,children:[e.jsx("div",{className:`absolute top-0 left-0 right-0 h-1 bg-gradient-to-r ${l}`}),e.jsxs(J,{className:"pb-4 pt-6",children:[e.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${l} flex items-center justify-center mb-4 shadow-xl`,children:e.jsx(a,{className:"w-8 h-8 text-white"})}),e.jsx(ee,{className:"text-2xl font-bold bg-gradient-to-r from-egyptian-blue to-powder-blue bg-clip-text text-transparent mb-2",children:n.title}),e.jsx(Gt,{className:"text-gray-700 text-base font-medium",children:n.description})]}),e.jsxs(V,{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-egyptian-blue mb-3 flex items-center text-sm",children:[e.jsx(le,{className:"w-5 h-5 text-powder-blue mr-2"}),"WHAT YOU GET"]}),e.jsx("ul",{className:"space-y-2",children:n.features.map((o,c)=>e.jsxs("li",{className:"flex items-center text-gray-800 font-medium text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-egyptian-blue rounded-full mr-3 flex-shrink-0"}),o]},c))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-egyptian-blue mb-3 flex items-center text-sm",children:[e.jsx(Le,{className:"w-5 h-5 text-powder-blue mr-2"}),"REQUIREMENTS"]}),e.jsx("ul",{className:"space-y-2",children:n.requirements.map((o,c)=>e.jsxs("li",{className:"flex items-center text-gray-800 font-medium text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-powder-blue rounded-full mr-3 flex-shrink-0"}),o]},c))})]}),e.jsxs(P,{size:"lg",className:`w-full bg-gradient-to-r ${l} hover:opacity-90 text-white border-0 font-bold py-6 text-base transition-all duration-200 shadow-xl hover:shadow-2xl group-hover:scale-105`,onClick:()=>r(n.id),children:["Begin Application",e.jsx(Io,{className:"w-5 h-5 ml-2"})]})]})]},n.id)})}),e.jsx("div",{className:"text-center pb-8",children:e.jsxs($,{className:"max-w-2xl mx-auto border-2 border-egyptian-blue/20 shadow-lg bg-gradient-to-br from-egyptian-blue/5 to-powder-blue/5",children:[e.jsxs(J,{children:[e.jsx(ee,{className:"text-2xl font-bold bg-gradient-to-r from-egyptian-blue to-powder-blue bg-clip-text text-transparent",children:"Already Started an Application?"}),e.jsx(Gt,{className:"text-base text-gray-700 font-medium",children:"Continue where you left off by logging in with your application credentials"})]}),e.jsxs(V,{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(P,{variant:"outline",size:"lg",onClick:()=>t("/applicant-login"),className:"font-semibold border-2 border-egyptian-blue text-egyptian-blue hover:bg-egyptian-blue hover:text-white transition-all",children:"Individual Login"}),e.jsx(P,{variant:"outline",size:"lg",onClick:()=>t("/organization-applicant-login"),className:"font-semibold border-2 border-powder-blue text-powder-blue hover:bg-powder-blue hover:text-white transition-all",children:"Organization Login"})]})]})})]})}),e.jsx("footer",{className:"bg-gradient-to-r from-egyptian-blue to-powder-blue text-white py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[e.jsx("p",{className:"mb-3 font-medium",children:"© 2024 Estate Agents Council of Zimbabwe. All rights reserved."}),e.jsxs("div",{className:"flex justify-center space-x-6 text-sm text-white/90 font-medium",children:[e.jsx("span",{children:"📞 746 400 / 746 356"}),e.jsx("span",{children:"✉️ info@eacz.co.zw"})]})]})})]})}function qJ(){const[,t]=Xe(),s=[{id:"continue",title:"Continue Your Application",description:"Already registered? Log in to complete your membership application",icon:jc,gradient:"from-egyptian-blue to-powder-blue",bgGradient:"from-blue-50 to-cyan-50",action:()=>t("/application-login-choice"),buttonText:"Log In to Continue",badge:"Returning Applicant"},{id:"register",title:"Start New Application",description:"New to EACZ? Begin your membership registration process",icon:Us,gradient:"from-emerald-600 to-teal-600",bgGradient:"from-emerald-50 to-teal-50",action:()=>t("/application-type-choice"),buttonText:"Register Now",badge:"New Applicant"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:[e.jsx(Kt,{title:"Apply for Membership",subtitle:"Estate Agents Council of Zimbabwe"}),e.jsxs("div",{className:"w-full px-4 py-8 flex-1",children:[e.jsx(Et,{items:[{label:"Apply for Membership"}]}),e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-egyptian-blue to-powder-blue bg-clip-text text-transparent mb-4",children:"Welcome to EACZ Membership Portal"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-6",children:"Join Zimbabwe's leading professional body for estate agents and property practitioners"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[e.jsxs(oe,{variant:"outline",className:"bg-white/80 text-blue-700 border-blue-200 px-4 py-2",children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Professional Registration"]}),e.jsxs(oe,{variant:"outline",className:"bg-white/80 text-green-700 border-green-200 px-4 py-2",children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"CPD Opportunities"]}),e.jsxs(oe,{variant:"outline",className:"bg-white/80 text-purple-700 border-purple-200 px-4 py-2",children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Industry Recognition"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:s.map(r=>{const n=r.icon;return e.jsxs($,{className:"relative overflow-hidden hover:shadow-2xl transition-all duration-300 group border-2 border-gray-100 bg-white shadow-xl",children:[e.jsx("div",{className:`absolute top-0 left-0 right-0 h-2 bg-gradient-to-r ${r.gradient}`}),e.jsxs(J,{className:`bg-gradient-to-br ${r.bgGradient} border-b-2 border-gray-100 pb-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`w-16 h-16 rounded-xl bg-gradient-to-br ${r.gradient} flex items-center justify-center shadow-lg`,children:e.jsx(n,{className:"w-8 h-8 text-white"})}),e.jsx(oe,{variant:"secondary",className:"bg-white/90 text-gray-700 font-semibold",children:r.badge})]}),e.jsx(ee,{className:"text-2xl font-bold text-gray-900 mb-2",children:r.title}),e.jsx(Gt,{className:"text-gray-700 text-base",children:r.description})]}),e.jsxs(V,{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 text-egyptian-blue mr-2"}),"Requirements"]}),e.jsxs("ul",{className:"space-y-3 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-0.5",children:e.jsx(le,{className:"w-4 h-4 text-egyptian-blue"})}),e.jsx("span",{children:"National ID or Passport"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-0.5",children:e.jsx(le,{className:"w-4 h-4 text-egyptian-blue"})}),e.jsx("span",{children:"Educational Certificates"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-0.5",children:e.jsx(le,{className:"w-4 h-4 text-egyptian-blue"})}),e.jsx("span",{children:"Proof of Address"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-0.5",children:e.jsx(le,{className:"w-4 h-4 text-egyptian-blue"})}),e.jsx("span",{children:"Professional References"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:r.id==="continue"||r.id==="register"?"Types of Membership":"Membership Categories"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 mb-2",children:"Individual Members:"}),e.jsxs("ul",{className:"space-y-1 text-sm text-gray-700 ml-4",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-egyptian-blue mr-2",children:"→"}),"Real Estate Agent"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-egyptian-blue mr-2",children:"→"}),"Property Manager"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-egyptian-blue mr-2",children:"→"}),"Principal Real Estate Agent"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-egyptian-blue mr-2",children:"→"}),"Real Estate Negotiator"]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 mb-2",children:"Organizational Members:"}),e.jsxs("ul",{className:"space-y-1 text-sm text-gray-700 ml-4",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-egyptian-blue mr-2",children:"→"}),"Real Estate Firm"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-egyptian-blue mr-2",children:"→"}),"Property Management Firm"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-egyptian-blue mr-2",children:"→"}),"Brokerage Firm"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-egyptian-blue mr-2",children:"→"}),"Real Estate Development Firm"]})]})]})]})]}),e.jsxs(P,{size:"lg",className:`w-full bg-gradient-to-r ${r.gradient} hover:opacity-90 text-white border-0 font-semibold py-6 text-lg transition-all duration-300 shadow-lg hover:shadow-xl`,onClick:r.action,children:[r.buttonText,e.jsx(Io,{className:"w-5 h-5 ml-2"})]})]})]},r.id)})}),e.jsx($,{className:"bg-gradient-to-br from-orange-50 to-yellow-50 border-2 border-orange-100 shadow-lg",children:e.jsx(V,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(Js,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-orange-900 mb-2",children:"Before You Begin"}),e.jsx("p",{className:"text-orange-800 mb-3",children:"Please ensure you have the following documents ready to complete your application:"}),e.jsxs("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-orange-700",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-orange-600 mr-2",children:"•"}),"National ID or Passport"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-orange-600 mr-2",children:"•"}),"Educational Certificates"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-orange-600 mr-2",children:"•"}),"Proof of Address"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-orange-600 mr-2",children:"•"}),"Professional References"]})]})]})]})})})]})]}),e.jsx(wt,{})]})}function WJ(){const[,t]=Xe(),s=[{id:"individual",title:"Individual Member Login",description:"Continue your individual membership application",icon:et,gradient:"from-blue-600 to-cyan-600",bgGradient:"from-blue-50 to-cyan-50",route:"/applicant-login",applicantIdFormat:"APP-MBR-YYYY-XXXX"},{id:"organization",title:"Organization Login",description:"Continue your organization/firm registration",icon:qe,gradient:"from-green-600 to-emerald-600",bgGradient:"from-green-50 to-emerald-50",route:"/organization-applicant-login",applicantIdFormat:"APP-ORG-YYYY-XXXX"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:[e.jsx(Kt,{title:"Continue Your Application",subtitle:"Select your application type to log in"}),e.jsxs("div",{className:"w-full px-4 py-8 flex-1",children:[e.jsx(Et,{items:[{label:"Apply for Membership",href:"/apply-landing"},{label:"Login Choice"}]}),e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-egyptian-blue to-powder-blue bg-clip-text text-transparent mb-4",children:"Welcome Back"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Select your application type to continue where you left off"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:s.map(r=>{const n=r.icon;return e.jsxs($,{className:"relative overflow-hidden hover:shadow-2xl transition-all duration-300 group border-2 border-gray-100 bg-white shadow-lg hover:-translate-y-1",children:[e.jsx("div",{className:`absolute top-0 left-0 right-0 h-2 bg-gradient-to-r ${r.gradient}`}),e.jsxs(J,{className:`bg-gradient-to-br ${r.bgGradient} border-b-2 border-gray-100 pb-6`,children:[e.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-br ${r.gradient} flex items-center justify-center mb-4 shadow-md`,children:e.jsx(n,{className:"w-7 h-7 text-white"})}),e.jsx(ee,{className:"text-2xl font-bold text-gray-900 mb-2",children:r.title}),e.jsx(Gt,{className:"text-gray-700 text-base",children:r.description})]}),e.jsxs(V,{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"You'll need:"}),e.jsxs("ul",{className:"space-y-2 text-gray-600",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-egyptian-blue mr-2",children:"•"}),"Your registered email address"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-egyptian-blue mr-2",children:"•"}),"Your Applicant ID (",r.applicantIdFormat,")"]})]})]}),e.jsxs(P,{size:"lg",className:`w-full bg-gradient-to-r ${r.gradient} hover:opacity-90 text-white border-0 font-semibold py-6 text-lg transition-all duration-300 shadow-lg hover:shadow-xl`,onClick:()=>t(r.route),children:["Continue as ",r.id==="individual"?"Individual":"Organization",e.jsx(Io,{className:"w-5 h-5 ml-2"})]})]})]},r.id)})}),e.jsx("div",{className:"text-center",children:e.jsxs(P,{variant:"outline",size:"lg",onClick:()=>t("/apply-landing"),className:"border-2 border-gray-200",children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Back to Options"]})})]})]}),e.jsx(wt,{})]})}function HJ(){const[,t]=Xe(),s=[{id:"individual",title:"Individual Membership",description:"Apply for individual estate agent registration",icon:et,gradient:"from-blue-600 to-cyan-600",bgGradient:"from-blue-50 to-cyan-50",features:["Personal estate agent license","Access to EACZ member benefits","CPD training opportunities","Professional certification"],requirements:["5 O-Level subjects (including English & Math)","2 A-Level subjects OR mature entry (27+ years)","Valid National ID or Passport","Proof of Address","Educational Certificates"],fee:"$150 USD",processingTime:"2-4 weeks",route:"/applicant-registration"},{id:"organization",title:"Organization Registration",description:"Register your real estate firm with EACZ",icon:qe,gradient:"from-green-600 to-emerald-600",bgGradient:"from-green-50 to-emerald-50",features:["Company/firm registration","Principal agent designation","Multi-agent management","Corporate compliance"],requirements:["Valid company registration certificate","Principal Real Estate Agent (PREA)","Trust account verification","Tax clearance certificate","Company directors information"],fee:"$500 USD",processingTime:"3-6 weeks",route:"/organization-registration"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:[e.jsx(Kt,{title:"Choose Application Type",subtitle:"Select Individual or Organization membership"}),e.jsxs("div",{className:"w-full px-4 py-8 flex-1",children:[e.jsx(Et,{items:[{label:"Apply for Membership",href:"/apply-landing"},{label:"Application Type"}]}),e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-egyptian-blue to-powder-blue bg-clip-text text-transparent mb-4",children:"Select Your Membership Type"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Choose the membership category that best suits your professional needs"})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:s.map(r=>{const n=r.icon;return e.jsxs($,{className:"relative overflow-hidden hover:shadow-2xl transition-all duration-300 group border-2 border-gray-100 bg-white shadow-xl",children:[e.jsx("div",{className:`absolute top-0 left-0 right-0 h-2 bg-gradient-to-r ${r.gradient}`}),e.jsxs(J,{className:`bg-gradient-to-br ${r.bgGradient} border-b-2 border-gray-100 pb-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`w-16 h-16 rounded-xl bg-gradient-to-br ${r.gradient} flex items-center justify-center shadow-lg`,children:e.jsx(n,{className:"w-8 h-8 text-white"})}),e.jsx(oe,{variant:"secondary",className:"bg-white/90 text-gray-700 font-semibold px-3 py-1",children:r.fee})]}),e.jsx(ee,{className:"text-2xl font-bold text-gray-900 mb-2",children:r.title}),e.jsx(Gt,{className:"text-gray-700 text-base",children:r.description})]}),e.jsxs(V,{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(le,{className:"w-5 h-5 text-green-500 mr-2"}),"What You'll Get"]}),e.jsx("ul",{className:"space-y-2",children:r.features.map((a,i)=>e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx("div",{className:"w-2 h-2 bg-egyptian-blue rounded-full mr-3 flex-shrink-0"}),a]},i))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 text-orange-500 mr-2"}),"Required Documents"]}),e.jsx("ul",{className:"space-y-2",children:r.requirements.map((a,i)=>e.jsxs("li",{className:"flex items-start text-gray-700 text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full mr-3 mt-1.5 flex-shrink-0"}),a]},i))})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-br from-gray-50 to-blue-50 rounded-xl border border-gray-100",children:[e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(Gr,{className:"w-5 h-5 mr-2 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Application Fee"}),e.jsx("p",{className:"font-bold",children:r.fee})]})]}),e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(ft,{className:"w-5 h-5 mr-2 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Processing Time"}),e.jsx("p",{className:"font-bold",children:r.processingTime})]})]})]}),e.jsxs(P,{size:"lg",className:`w-full bg-gradient-to-r ${r.gradient} hover:opacity-90 text-white border-0 font-semibold py-6 text-lg transition-all duration-300 shadow-lg hover:shadow-xl`,onClick:()=>t(r.route),children:["Register as ",r.id==="individual"?"Individual":"Organization",e.jsx(Io,{className:"w-5 h-5 ml-2"})]})]})]},r.id)})}),e.jsx("div",{className:"text-center",children:e.jsxs(P,{variant:"outline",size:"lg",onClick:()=>t("/apply-landing"),className:"border-2 border-gray-200",children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Back to Options"]})})]})]}),e.jsx(wt,{})]})}function KJ(){const[,t]=Xe();return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Kt,{title:"Individual Membership Application",subtitle:"Estate Agents Council of Zimbabwe"}),e.jsxs("div",{className:"w-full px-4 py-8 flex-1",children:[e.jsx(Et,{items:[{label:"Individual Application"}]}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs($,{children:[e.jsxs(J,{className:"text-center",children:[e.jsx(ee,{className:"text-2xl",children:"Have you already registered?"}),e.jsx("p",{className:"text-muted-foreground",children:"Please choose the option that applies to you"})]}),e.jsxs(V,{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx($,{className:"border-2 hover:border-blue-500 transition-colors cursor-pointer",onClick:()=>t("/applicant-login"),children:e.jsxs(V,{className:"p-6 text-center",children:[e.jsx(xr,{className:"w-12 h-12 text-blue-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Yes, I'm registered"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"I have an Applicant ID and want to continue my application"}),e.jsx(P,{className:"w-full gradient-button text-white border-0","data-testid":"button-continue-application",children:"Continue Application"})]})}),e.jsx($,{className:"border-2 hover:border-green-500 transition-colors cursor-pointer",onClick:()=>t("/applicant-registration"),children:e.jsxs(V,{className:"p-6 text-center",children:[e.jsx(Us,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No, I need to register"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"I'm new and need to get an Applicant ID first"}),e.jsx(P,{variant:"outline",className:"w-full border-green-500 text-green-600 hover:bg-green-50","data-testid":"button-new-registration",children:"Start Registration"})]})})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"What's the difference?"}),e.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(xr,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Already registered:"})," You have received an Applicant ID (like MBR-APP-2025-XXXX) and verified your email address"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Us,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Need to register:"})," You're applying for the first time and need to get your Applicant ID"]})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(P,{variant:"outline",onClick:()=>t("/"),"data-testid":"button-back-home",children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})]})]})})]}),e.jsx(wt,{})]})}const GJ=I.object({email:I.string().email("Invalid email address"),password:I.string().min(1,"Password is required").regex(/^APP-MBR-\d{4}-\d{4}$/,"Password should be your Applicant ID (format: APP-MBR-YYYY-XXXX)")});function QJ(){const[,t]=Xe(),{loginMutation:s}=lg(),r=It({resolver:Ft(GJ),defaultValues:{email:"",password:""}}),n=a=>{const i={email:a.email,applicantId:a.password};s.mutate(i,{onSuccess:()=>{setTimeout(()=>{t("/member-registration")},1500)}})};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"relative bg-gradient-to-r from-egyptian-blue to-powder-blue py-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Continue Your Application"}),e.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-3xl mx-auto",children:"Log in with your Applicant ID and email address to complete your membership application"})]})})}),e.jsxs("div",{className:"w-full px-4 py-8 flex-1",children:[e.jsx(Et,{items:[{label:"Individual Application"},{label:"Login"}]}),e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs($,{children:[e.jsxs(J,{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(jc,{className:"w-6 h-6 text-blue-600"})}),e.jsx(ee,{children:"Welcome Back"}),e.jsx("p",{className:"text-muted-foreground",children:"Enter your details to continue your membership application"})]}),e.jsxs(V,{children:[e.jsx(Rt,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(n),className:"space-y-4",children:[e.jsx(Q,{control:r.control,name:"email",render:({field:a})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Email Address *"}),e.jsx(G,{children:e.jsx(Y,{type:"email",placeholder:"Enter your email address","data-testid":"input-email",...a})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Use the same email address from your registration"}),e.jsx(X,{})]})}),e.jsx(Q,{control:r.control,name:"password",render:({field:a})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Password (Your Applicant ID) *"}),e.jsx(G,{children:e.jsx(Y,{type:"password",placeholder:"APP-MBR-2025-0001","data-testid":"input-password",...a})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Use your Applicant ID that was sent to your email as your password"}),e.jsx(X,{})]})}),e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg flex items-start gap-2",children:[e.jsx(le,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-green-700",children:"Ready to continue?"}),e.jsx("p",{className:"text-green-600",children:"Once logged in, you'll be able to complete your membership application form with all required documents."})]})]}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx(P,{type:"submit",className:"w-full gradient-button text-white border-0",disabled:s.isPending,"data-testid":"button-login",children:s.isPending?"Logging in...":"Continue Application"})})]})}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsx("div",{className:"text-center",children:e.jsxs(P,{variant:"outline",onClick:()=>t("/apply/individual"),className:"text-sm","data-testid":"button-back-choice",children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Back to Options"]})}),e.jsx("div",{className:"bg-orange-50 p-3 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Je,{className:"w-4 h-4 text-orange-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-orange-700",children:"Don't have your Applicant ID password?"}),e.jsx("p",{className:"text-orange-600 mb-2",children:"Check your email for the welcome message we sent when you first registered. Your Applicant ID serves as your password."}),e.jsx(P,{variant:"outline",size:"sm",onClick:()=>t("/applicant-registration"),className:"text-orange-600 border-orange-300","data-testid":"button-register-instead",children:"Register Instead"})]})]})})]})]})]})})]}),e.jsx(wt,{})]})}const YJ=I.object({companyName:I.string().min(2,"Company name must be at least 2 characters"),email:I.string().email("Invalid email address")});function ZJ(){const[,t]=Xe(),[s,r]=p.useState(!1),[n,a]=p.useState(""),[i,l]=p.useState(!1),{toast:o}=tt(),c=It({resolver:Ft(YJ),defaultValues:{companyName:"",email:""}}),d=$e({mutationFn:async m=>await(await Be("POST","/api/organization-applicants/register",m)).json(),onSuccess:m=>{a(m.applicantId),r(!0),o({title:"Registration Successful!",description:`Your Organization Applicant ID is ${m.applicantId}. Please check your email for verification instructions.`})},onError:m=>{console.error("Registration error:",m),o({title:"Registration Failed",description:m.message||"An error occurred during registration. Please try again.",variant:"destructive"})}}),u=m=>{d.mutate(m)};return s?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Kt,{title:"Registration Complete",subtitle:"Please verify your email to continue with your organization application"}),e.jsxs("div",{className:"w-full px-4 py-8 flex-1",children:[e.jsx(Et,{items:[{label:"Organization Application",href:"/organization-applicant-registration"},{label:"Registration Complete"}]}),e.jsx("div",{className:"max-w-2xl mx-auto mt-8",children:e.jsxs($,{className:"border-green-200 bg-green-50",children:[e.jsxs(J,{className:"text-center pb-4",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(le,{className:"h-8 w-8 text-green-600"})}),e.jsx(ee,{className:"text-2xl text-green-800",children:"Registration Successful!"})]}),e.jsxs(V,{className:"space-y-6 text-center",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Your Organization Applicant ID"}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-2xl font-mono font-bold text-blue-800","data-testid":"text-applicant-id",children:n})}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Please save this ID for future reference. You'll need it to log in."})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(jt,{className:"h-5 w-5 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-semibold text-yellow-800",children:"Email Verification Required"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"We've sent a verification email to your registered email address. Please click the verification link to activate your account before proceeding with your organization application."})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(P,{onClick:()=>t("/organization-applicant-login"),className:"w-full","data-testid":"button-continue-login",children:"Continue to Login"}),e.jsxs(P,{variant:"outline",onClick:()=>t("/"),className:"w-full","data-testid":"button-home",children:[e.jsx(Ws,{className:"mr-2 h-4 w-4"}),"Back to Home"]})]})]})]})})]}),e.jsx(wt,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Kt,{title:"Start Your Organization Application",subtitle:"Register your organization with the Estate Agents Council of Zimbabwe"}),e.jsxs("div",{className:"w-full px-4 py-8 flex-1",children:[e.jsx(Et,{items:[{label:"Organization Application"}]}),e.jsx("div",{className:"max-w-lg mx-auto mt-8",children:e.jsxs($,{children:[e.jsxs(J,{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(qe,{className:"h-6 w-6 text-blue-600"})}),e.jsx(ee,{children:"Organization Registration"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your organization's details to start the application process"})]}),e.jsx(V,{children:e.jsx(Rt,{...c,children:e.jsxs("form",{onSubmit:c.handleSubmit(u),className:"space-y-6",children:[e.jsx(Q,{control:c.control,name:"companyName",render:({field:m})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Company Name"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Enter your company name",...m,"data-testid":"input-company-name"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:c.control,name:"email",render:({field:m})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Email Address"}),e.jsx(G,{children:e.jsx(Y,{type:"email",placeholder:"company@example.com",...m,"data-testid":"input-email"})}),e.jsx(X,{})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"What happens next?"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"• You'll receive an Organization Applicant ID (ORG-APP-YYYY-XXXX format)"}),e.jsx("li",{children:"• We'll send an email verification link to your email address"}),e.jsx("li",{children:"• After verification, you can complete your organization application"})]})]}),e.jsxs("div",{className:"pt-2",children:[e.jsx(aF,{onVerify:m=>l(!0)}),!i&&e.jsx("p",{className:"text-sm text-gray-500 text-center mt-2",children:"Please complete the verification above to continue"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(P,{type:"submit",className:"w-full",disabled:d.isPending||!i,"data-testid":"button-register",children:d.isPending?"Registering...":"Start Organization Application"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Already have an Organization Applicant ID?"}),e.jsx(P,{variant:"outline",onClick:()=>t("/organization-applicant-login"),className:"w-full","data-testid":"button-login",children:"Login to Continue Application"})]})]})]})})})]})})]}),e.jsx(wt,{})]})}const XJ=I.object({email:I.string().email("Invalid email address").transform(t=>t.trim().toLowerCase()),password:I.string().min(1,"Password is required").regex(/^ORG-APP-\d{4}-\d{4}$/,"Password should be your Organization Applicant ID (format: ORG-APP-YYYY-XXXX)").transform(t=>t.trim().toUpperCase())});function JJ(){const[,t]=Xe(),[s,r]=p.useState(!1),[n,a]=p.useState(null),{toast:i}=tt(),l=It({resolver:Ft(XJ),defaultValues:{email:"",password:""}}),o=$e({mutationFn:async d=>{const u={email:d.email,applicantId:d.password};return await(await Be("POST","/api/organization-applicants/login",u)).json()},onSuccess:d=>{if(d&&d.applicantId&&d.companyName&&d.email)a(d),r(!0),i({title:"Login Successful!",description:`Welcome back, ${d.companyName}!`}),setTimeout(()=>{t("/organization-application")},2e3);else throw new Error("Invalid response format from server")},onError:d=>{console.error("Login error:",d),i({title:"Login Failed",description:d.message||"Invalid credentials. Please check your Organization Applicant ID and email address.",variant:"destructive"})}}),c=d=>{o.mutate(d)};return s&&n?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Kt,{title:"Login Successful",subtitle:"Redirecting to your organization application..."}),e.jsxs("div",{className:"w-full px-4 py-8 flex-1",children:[e.jsx(Et,{items:[{label:"Organization Login",href:"/organization-applicant-login"},{label:"Login Successful"}]}),e.jsx("div",{className:"max-w-md mx-auto mt-8",children:e.jsxs($,{className:"border-green-200 bg-green-50",children:[e.jsxs(J,{className:"text-center pb-4",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(le,{className:"h-8 w-8 text-green-600"})}),e.jsx(ee,{className:"text-xl text-green-800",children:"Welcome Back!"})]}),e.jsxs(V,{className:"text-center space-y-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[e.jsx("p",{className:"font-semibold","data-testid":"text-company-name",children:n.companyName}),e.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-applicant-id",children:n.applicantId}),e.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-email",children:n.email})]}),!n.emailVerified&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"h-4 w-4 text-yellow-600"}),e.jsx("p",{className:"text-sm text-yellow-700 font-medium",children:"Email verification required"})]}),e.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Please check your email and verify your address to continue."})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Redirecting to your organization application..."})]})]})})]}),e.jsx(wt,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Kt,{title:"Continue Your Organization Application",subtitle:"Log in with your Organization Applicant ID and email address"}),e.jsxs("div",{className:"w-full px-4 py-8 flex-1",children:[e.jsx(Et,{items:[{label:"Organization Login"}]}),e.jsx("div",{className:"max-w-md mx-auto mt-8",children:e.jsxs($,{children:[e.jsxs(J,{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(qe,{className:"h-6 w-6 text-blue-600"})}),e.jsx(ee,{children:"Organization Login"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your Organization Applicant ID and email to continue"})]}),e.jsx(V,{children:e.jsx(Rt,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-6",children:[e.jsx(Q,{control:l.control,name:"email",render:({field:d})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Email Address"}),e.jsx(G,{children:e.jsx(Y,{type:"email",placeholder:"company@example.com",...d,"data-testid":"input-email"})}),e.jsx(X,{}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Use the same email address from your registration"})]})}),e.jsx(Q,{control:l.control,name:"password",render:({field:d})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Password (Your Organization Applicant ID)"}),e.jsx(G,{children:e.jsx(Y,{type:"password",placeholder:"ORG-APP-YYYY-XXXX",...d,"data-testid":"input-password"})}),e.jsx(X,{}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Use your Organization Applicant ID that was sent to your email as your password"})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Need Help?"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"• Use your Organization Applicant ID from your registration email as your password"}),e.jsx("li",{children:"• Ensure your email address is verified before logging in"}),e.jsx("li",{children:"• Contact support if you've forgotten your Organization Applicant ID password"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(P,{type:"submit",className:"w-full",disabled:o.isPending,"data-testid":"button-login",children:[e.jsx(jc,{className:"mr-2 h-4 w-4"}),o.isPending?"Logging in...":"Login"]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Don't have an Organization Applicant ID?"}),e.jsx(P,{variant:"outline",onClick:()=>t("/organization-applicant-registration"),className:"w-full","data-testid":"button-register",children:"Start Organization Application"})]}),e.jsxs(P,{variant:"ghost",onClick:()=>t("/"),className:"w-full","data-testid":"button-home",children:[e.jsx(Ws,{className:"mr-2 h-4 w-4"}),"Back to Home"]})]})]})})})]})})]}),e.jsx(wt,{})]})}function iF(t,s){return Object.hasOwn(t,s)}const{AbortController:W0}=globalThis,lF=(t="Aborted",s)=>{const r=new DOMException(t,"AbortError");return s!=null&&iF(s,"cause")&&Object.defineProperty(r,"cause",{__proto__:null,configurable:!0,writable:!0,value:s.cause}),r},eee=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function tee(t,s,r){const n=eee.exec(t),a=s.mimeType??(n==null?void 0:n[1])??"plain/text";let i;if((n==null?void 0:n[2])!=null){const l=atob(decodeURIComponent(n[3])),o=new Uint8Array(l.length);for(let c=0;c<l.length;c++)o[c]=l.charCodeAt(c);i=[o]}else(n==null?void 0:n[3])!=null&&(i=[decodeURIComponent(n[3])]);return new Blob(i,{type:a})}class see extends Error{constructor(r,n){super(r);T(this,"isNetworkError");T(this,"cause");this.cause=n==null?void 0:n.cause,this.cause&&iF(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}function HC(t,s,r,n){return t===s?t:n===0?s:t+(s-t)*2**(-n/r)}const oF=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];class ree extends Error{constructor(r,n=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");T(this,"cause");T(this,"isNetworkError");T(this,"request");this.cause=r,this.isNetworkError=!0,this.request=n}}function nee(...t){return fetch(...t).catch(s=>{throw s.name==="AbortError"?s:new ree(s)})}function aee(t){const s=r=>"error"in r&&!!r.error;return t.filter(r=>!s(r))}function iee(t){return t.filter(s=>{var r;return!((r=s.progress)!=null&&r.uploadStarted)||!s.isRestored})}function cF(t){return typeof t!="object"||t===null||!("nodeType"in t)?!1:t.nodeType===Node.ELEMENT_NODE}function KC(t){if(typeof t=="string"){const s=document.querySelectorAll(t);return s.length===0?null:Array.from(s)}return typeof t=="object"&&cF(t)?[t]:null}function lee(t,s=document){return typeof t=="string"?s.querySelector(t):cF(t)?t:null}function dF(t){const s=t.lastIndexOf(".");return s===-1||s===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,s),extension:t.slice(s+1)}}const GC={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function uF(t){var r;if(t.type)return t.type;const s=t.name?(r=dF(t.name).extension)==null?void 0:r.toLowerCase():null;return s&&s in GC?GC[s]:"application/octet-stream"}function oee(t){return t.charCodeAt(0).toString(32)}function QC(t){let s="";return t.replace(/[^A-Z0-9]/gi,r=>(s+=`-${oee(r)}`,"/"))+s}function cee(t,s){let r=s||"uppy";return typeof t.name=="string"&&(r+=`-${QC(t.name.toLowerCase())}`),t.type!==void 0&&(r+=`-${t.type}`),t.meta&&typeof t.meta.relativePath=="string"&&(r+=`-${QC(t.meta.relativePath.toLowerCase())}`),t.data.size!==void 0&&(r+=`-${t.data.size}`),t.data.lastModified!==void 0&&(r+=`-${t.data.lastModified}`),r}function dee(t){return!t.isRemote||!t.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(t.remote.provider)}function uee(t,s){if(dee(t))return t.id;const r=uF(t);return cee({...t,type:r},s)}function YC(t,s){return t===!0?Object.keys(s):Array.isArray(t)?t:[]}const Uu=Array.from;function mee(t){const s=Uu(t.files);return Promise.resolve(s)}function mF(t,s,r,{onSuccess:n}){t.readEntries(a=>{const i=[...s,...a];a.length?queueMicrotask(()=>{mF(t,i,r,{onSuccess:n})}):n(i)},a=>{r(a),n(s)})}function hF(t,s){return t==null?t:{kind:t.isFile?"file":t.isDirectory?"directory":void 0,name:t.name,getFile(){return new Promise((r,n)=>t.file(r,n))},async*values(){const r=t.createReader();yield*await new Promise(a=>{mF(r,[],s,{onSuccess:i=>a(i.map(l=>hF(l,s)))})})},isSameEntry:void 0}}async function*pF(t,s,r=void 0){const n=()=>`${s}/${t.name}`;if(t.kind==="file"){const a=await t.getFile();a!=null?(a.relativePath=s?n():null,yield a):r!=null&&(yield r)}else if(t.kind==="directory")for await(const a of t.values())yield*pF(a,s?n():t.name);else r!=null&&(yield r)}async function*hee(t,s){const r=await Promise.all(Array.from(t.items,async n=>{let a;return a??(a=hF(typeof n.getAsEntry=="function"?n.getAsEntry():n.webkitGetAsEntry(),s)),{fileSystemHandle:a,lastResortFile:n.getAsFile()}}));for(const{lastResortFile:n,fileSystemHandle:a}of r)if(a!=null)try{yield*pF(a,"",n)}catch(i){n!=null?yield n:s(i)}else n!=null&&(yield n)}async function pee(t,s){const r=(s==null?void 0:s.logDropError)??Function.prototype;try{const n=[];for await(const a of hee(t,r))n.push(a);return n}catch{return mee(t)}}function fee(t){var a;const r=(a=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(t))==null?void 0:a[1];return`${/^http:\/\//i.test(t)?"ws":"wss"}://${r}`}function xee(t){for(;t&&!t.dir;)t=t.parentNode;return t==null?void 0:t.dir}function H0(t){return t<10?`0${t}`:t.toString()}function Gp(){const t=new Date,s=H0(t.getHours()),r=H0(t.getMinutes()),n=H0(t.getSeconds());return`${s}:${r}:${n}`}function gee(){const t=document.body;return!(!("draggable"in t)||!("ondragstart"in t&&"ondrop"in t)||!("FormData"in window)||!("FileReader"in window))}function ZC(t){return t.startsWith("blob:")}function XC(t){return t?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(t):!1}function bee(t){const s=Math.floor(t/3600)%24,r=Math.floor(t/60)%60,n=Math.floor(t%60);return{hours:s,minutes:r,seconds:n}}function yee(t){const s=bee(t),r=s.hours===0?"":`${s.hours}h`,n=s.minutes===0?"":`${s.hours===0?s.minutes:` ${s.minutes.toString(10).padStart(2,"0")}`}m`,a=s.hours!==0?"":`${s.minutes===0?s.seconds:` ${s.seconds.toString(10).padStart(2,"0")}`}s`;return`${r}${n}${a}`}function vee(t){return new Error("Cancelled",{cause:t})}function JC(t){var s;if(t!=null){const r=()=>this.abort(t.reason);t.addEventListener("abort",r,{once:!0});const n=()=>{t.removeEventListener("abort",r)};(s=this.then)==null||s.call(this,n,n)}return this}var ti,ba,si,qc,ya,Wc,Xl,pr,uv,vu,fF,xF,gF,dx,Hc;class jee{constructor(s){de(this,pr);de(this,ti,0);de(this,ba,[]);de(this,si,!1);de(this,qc);de(this,ya,1);de(this,Wc);de(this,Xl);T(this,"limit");de(this,dx,()=>this.resume());de(this,Hc,()=>{if(C(this,si)){me(this,Xl,setTimeout(C(this,Hc),0));return}me(this,ya,this.limit),this.limit=Math.ceil((C(this,Wc)+C(this,ya))/2);for(let s=C(this,ya);s<=this.limit;s++)xe(this,pr,vu).call(this);C(this,Wc)-C(this,ya)>3?me(this,Xl,setTimeout(C(this,Hc),2e3)):me(this,ya,Math.floor(C(this,ya)/2))});typeof s!="number"||s===0?this.limit=1/0:this.limit=s}run(s,r){return!C(this,si)&&C(this,ti)<this.limit?xe(this,pr,uv).call(this,s):xe(this,pr,xF).call(this,s,r)}wrapSyncFunction(s,r){return(...n)=>{const a=this.run(()=>(s(...n),queueMicrotask(()=>a.done()),()=>{}),r);return{abortOn:JC,abort(){a.abort()}}}}wrapPromiseFunction(s,r){return(...n)=>{let a;const i=new Promise((l,o)=>{a=this.run(()=>{let c,d;try{d=Promise.resolve(s(...n))}catch(u){d=Promise.reject(u)}return d.then(u=>{c?o(c):(a.done(),l(u))},u=>{c?o(c):(a.done(),o(u))}),u=>{c=vee(u)}},r)});return i.abort=l=>{a.abort(l)},i.abortOn=JC,i}}resume(){me(this,si,!1),clearTimeout(C(this,qc));for(let s=0;s<this.limit;s++)xe(this,pr,vu).call(this)}pause(s=null){me(this,si,!0),clearTimeout(C(this,qc)),s!=null&&me(this,qc,setTimeout(C(this,dx),s))}rateLimit(s){clearTimeout(C(this,Xl)),this.pause(s),this.limit>1&&Number.isFinite(this.limit)&&(me(this,Wc,this.limit-1),this.limit=C(this,ya),me(this,Xl,setTimeout(C(this,Hc),s)))}get isPaused(){return C(this,si)}}ti=new WeakMap,ba=new WeakMap,si=new WeakMap,qc=new WeakMap,ya=new WeakMap,Wc=new WeakMap,Xl=new WeakMap,pr=new WeakSet,uv=function(s){me(this,ti,C(this,ti)+1);let r=!1,n;try{n=s()}catch(a){throw me(this,ti,C(this,ti)-1),a}return{abort:a=>{r||(r=!0,me(this,ti,C(this,ti)-1),n==null||n(a),xe(this,pr,vu).call(this))},done:()=>{r||(r=!0,me(this,ti,C(this,ti)-1),xe(this,pr,vu).call(this))}}},vu=function(){queueMicrotask(()=>xe(this,pr,fF).call(this))},fF=function(){if(C(this,si)||C(this,ti)>=this.limit||C(this,ba).length===0)return;const s=C(this,ba).shift();if(s==null)throw new Error("Invariant violation: next is null");const r=xe(this,pr,uv).call(this,s.fn);s.abort=r.abort,s.done=r.done},xF=function(s,r){const n={fn:s,priority:(r==null?void 0:r.priority)||0,abort:()=>{xe(this,pr,gF).call(this,n)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},a=C(this,ba).findIndex(i=>n.priority>i.priority);return a===-1?C(this,ba).push(n):C(this,ba).splice(a,0,n),n},gF=function(s){const r=C(this,ba).indexOf(s);r!==-1&&C(this,ba).splice(r,1)},dx=new WeakMap,Hc=new WeakMap;function wee(t,s,r){const n=[];return t.forEach(a=>typeof a!="string"?n.push(a):s[Symbol.split](a).forEach((i,l,o)=>{i!==""&&n.push(i),l<o.length-1&&n.push(r)})),n}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function eS(t,s){const r=/\$/g,n="$$$$";let a=[t];if(s==null)return a;for(const i of Object.keys(s))if(i!=="_"){let l=s[i];typeof l=="string"&&(l=r[Symbol.replace](l,n)),a=wee(a,new RegExp(`%\\{${i}\\}`,"g"),l)}return a}const Nee=t=>{throw new Error(`missing string: ${t}`)};var Mm,Om,mv;class bF{constructor(s,{onMissingKey:r=Nee}={}){de(this,Om);T(this,"locale");de(this,Mm);this.locale={strings:{},pluralize(n){return n===1?0:1}},Array.isArray(s)?s.forEach(xe(this,Om,mv),this):xe(this,Om,mv).call(this,s),me(this,Mm,r)}translate(s,r){return this.translateArray(s,r).join("")}translateArray(s,r){let n=this.locale.strings[s];if(n==null&&(C(this,Mm).call(this,s),n=s),typeof n=="object"){if(r&&typeof r.smart_count<"u"){const i=this.locale.pluralize(r.smart_count);return eS(n[i],r)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof n!="string")throw new Error("string was not a string");return eS(n,r)}}Mm=new WeakMap,Om=new WeakSet,mv=function(s){if(!(s!=null&&s.strings))return;const r=this.locale;Object.assign(this.locale,{strings:{...r.strings,...s.strings},pluralize:s.pluralize||r.pluralize})};const K0="...";function yF(t,s){if(s===0)return"";if(t.length<=s)return t;if(s<=K0.length+1)return`${t.slice(0,s-1)}…`;const r=s-K0.length,n=Math.ceil(r/2),a=Math.floor(r/2);return t.slice(0,n)+K0+t.slice(-a)}class Cee extends Error{constructor(){super(...arguments);T(this,"name","UserFacingApiError")}}var Sh,Yt,vF,Ll,tS,jF,wF,NF,cN,hv,pv,_m={},CF=[],See=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,_h=Array.isArray;function Pa(t,s){for(var r in s)t[r]=s[r];return t}function dN(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function uN(t,s,r){var n,a,i,l={};for(i in s)i=="key"?n=s[i]:i=="ref"?a=s[i]:l[i]=s[i];if(arguments.length>2&&(l.children=arguments.length>3?Sh.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)l[i]===void 0&&(l[i]=t.defaultProps[i]);return $u(t,l,n,a,null)}function $u(t,s,r,n,a){var i={type:t,props:s,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:a??++vF,__i:-1,__u:0};return a==null&&Yt.vnode!=null&&Yt.vnode(i),i}function _ee(){return{current:null}}function ci(t){return t.children}function Da(t,s){this.props=t,this.context=s}function Ad(t,s){if(s==null)return t.__?Ad(t.__,t.__i+1):null;for(var r;s<t.__k.length;s++)if((r=t.__k[s])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Ad(t):null}function SF(t){var s,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,s=0;s<t.__k.length;s++)if((r=t.__k[s])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return SF(t)}}function sS(t){(!t.__d&&(t.__d=!0)&&Ll.push(t)&&!nx.__r++||tS!=Yt.debounceRendering)&&((tS=Yt.debounceRendering)||jF)(nx)}function nx(){for(var t,s,r,n,a,i,l,o=1;Ll.length;)Ll.length>o&&Ll.sort(wF),t=Ll.shift(),o=Ll.length,t.__d&&(r=void 0,a=(n=(s=t).__v).__e,i=[],l=[],s.__P&&((r=Pa({},n)).__v=n.__v+1,Yt.vnode&&Yt.vnode(r),mN(s.__P,r,n,s.__n,s.__P.namespaceURI,32&n.__u?[a]:null,i,a??Ad(n),!!(32&n.__u),l),r.__v=n.__v,r.__.__k[r.__i]=r,PF(i,r,l),r.__e!=a&&SF(r)));nx.__r=0}function _F(t,s,r,n,a,i,l,o,c,d,u){var m,h,f,b,x,v,g,y=n&&n.__k||CF,j=s.length;for(c=kee(r,s,y,c,j),m=0;m<j;m++)(f=r.__k[m])!=null&&(h=f.__i==-1?_m:y[f.__i]||_m,f.__i=m,v=mN(t,f,h,a,i,l,o,c,d,u),b=f.__e,f.ref&&h.ref!=f.ref&&(h.ref&&hN(h.ref,null,f),u.push(f.ref,f.__c||b,f)),x==null&&b!=null&&(x=b),(g=!!(4&f.__u))||h.__k===f.__k?c=kF(f,c,t,g):typeof f.type=="function"&&v!==void 0?c=v:b&&(c=b.nextSibling),f.__u&=-7);return r.__e=x,c}function kee(t,s,r,n,a){var i,l,o,c,d,u=r.length,m=u,h=0;for(t.__k=new Array(a),i=0;i<a;i++)(l=s[i])!=null&&typeof l!="boolean"&&typeof l!="function"?(c=i+h,(l=t.__k[i]=typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?$u(null,l,null,null,null):_h(l)?$u(ci,{children:l},null,null,null):l.constructor==null&&l.__b>0?$u(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l).__=t,l.__b=t.__b+1,o=null,(d=l.__i=Pee(l,r,c,m))!=-1&&(m--,(o=r[d])&&(o.__u|=2)),o==null||o.__v==null?(d==-1&&(a>u?h--:a<u&&h++),typeof l.type!="function"&&(l.__u|=4)):d!=c&&(d==c-1?h--:d==c+1?h++:(d>c?h--:h++,l.__u|=4))):t.__k[i]=null;if(m)for(i=0;i<u;i++)(o=r[i])!=null&&!(2&o.__u)&&(o.__e==n&&(n=Ad(o)),AF(o,o));return n}function kF(t,s,r,n){var a,i;if(typeof t.type=="function"){for(a=t.__k,i=0;a&&i<a.length;i++)a[i]&&(a[i].__=t,s=kF(a[i],s,r,n));return s}t.__e!=s&&(n&&(s&&t.type&&!s.parentNode&&(s=Ad(t)),r.insertBefore(t.__e,s||null)),s=t.__e);do s=s&&s.nextSibling;while(s!=null&&s.nodeType==8);return s}function Li(t,s){return s=s||[],t==null||typeof t=="boolean"||(_h(t)?t.some(function(r){Li(r,s)}):s.push(t)),s}function Pee(t,s,r,n){var a,i,l,o=t.key,c=t.type,d=s[r],u=d!=null&&(2&d.__u)==0;if(d===null&&t.key==null||u&&o==d.key&&c==d.type)return r;if(n>(u?1:0)){for(a=r-1,i=r+1;a>=0||i<s.length;)if((d=s[l=a>=0?a--:i++])!=null&&!(2&d.__u)&&o==d.key&&c==d.type)return l}return-1}function rS(t,s,r){s[0]=="-"?t.setProperty(s,r??""):t[s]=r==null?"":typeof r!="number"||See.test(s)?r:r+"px"}function mp(t,s,r,n,a){var i,l;e:if(s=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(s in n)r&&s in r||rS(t.style,s,"");if(r)for(s in r)n&&r[s]==n[s]||rS(t.style,s,r[s])}else if(s[0]=="o"&&s[1]=="n")i=s!=(s=s.replace(NF,"$1")),l=s.toLowerCase(),s=l in t||s=="onFocusOut"||s=="onFocusIn"?l.slice(2):s.slice(2),t.l||(t.l={}),t.l[s+i]=r,r?n?r.u=n.u:(r.u=cN,t.addEventListener(s,i?pv:hv,i)):t.removeEventListener(s,i?pv:hv,i);else{if(a=="http://www.w3.org/2000/svg")s=s.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(s!="width"&&s!="height"&&s!="href"&&s!="list"&&s!="form"&&s!="tabIndex"&&s!="download"&&s!="rowSpan"&&s!="colSpan"&&s!="role"&&s!="popover"&&s in t)try{t[s]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&s[4]!="-"?t.removeAttribute(s):t.setAttribute(s,s=="popover"&&r==1?"":r))}}function nS(t){return function(s){if(this.l){var r=this.l[s.type+t];if(s.t==null)s.t=cN++;else if(s.t<r.u)return;return r(Yt.event?Yt.event(s):s)}}}function mN(t,s,r,n,a,i,l,o,c,d){var u,m,h,f,b,x,v,g,y,j,w,N,_,k,S,A,z,re=s.type;if(s.constructor!=null)return null;128&r.__u&&(c=!!(32&r.__u),i=[o=s.__e=r.__e]),(u=Yt.__b)&&u(s);e:if(typeof re=="function")try{if(g=s.props,y="prototype"in re&&re.prototype.render,j=(u=re.contextType)&&n[u.__c],w=u?j?j.props.value:u.__:n,r.__c?v=(m=s.__c=r.__c).__=m.__E:(y?s.__c=m=new re(g,w):(s.__c=m=new Da(g,w),m.constructor=re,m.render=Aee),j&&j.sub(m),m.props=g,m.state||(m.state={}),m.context=w,m.__n=n,h=m.__d=!0,m.__h=[],m._sb=[]),y&&m.__s==null&&(m.__s=m.state),y&&re.getDerivedStateFromProps!=null&&(m.__s==m.state&&(m.__s=Pa({},m.__s)),Pa(m.__s,re.getDerivedStateFromProps(g,m.__s))),f=m.props,b=m.state,m.__v=s,h)y&&re.getDerivedStateFromProps==null&&m.componentWillMount!=null&&m.componentWillMount(),y&&m.componentDidMount!=null&&m.__h.push(m.componentDidMount);else{if(y&&re.getDerivedStateFromProps==null&&g!==f&&m.componentWillReceiveProps!=null&&m.componentWillReceiveProps(g,w),!m.__e&&m.shouldComponentUpdate!=null&&m.shouldComponentUpdate(g,m.__s,w)===!1||s.__v==r.__v){for(s.__v!=r.__v&&(m.props=g,m.state=m.__s,m.__d=!1),s.__e=r.__e,s.__k=r.__k,s.__k.some(function(F){F&&(F.__=s)}),N=0;N<m._sb.length;N++)m.__h.push(m._sb[N]);m._sb=[],m.__h.length&&l.push(m);break e}m.componentWillUpdate!=null&&m.componentWillUpdate(g,m.__s,w),y&&m.componentDidUpdate!=null&&m.__h.push(function(){m.componentDidUpdate(f,b,x)})}if(m.context=w,m.props=g,m.__P=t,m.__e=!1,_=Yt.__r,k=0,y){for(m.state=m.__s,m.__d=!1,_&&_(s),u=m.render(m.props,m.state,m.context),S=0;S<m._sb.length;S++)m.__h.push(m._sb[S]);m._sb=[]}else do m.__d=!1,_&&_(s),u=m.render(m.props,m.state,m.context),m.state=m.__s;while(m.__d&&++k<25);m.state=m.__s,m.getChildContext!=null&&(n=Pa(Pa({},n),m.getChildContext())),y&&!h&&m.getSnapshotBeforeUpdate!=null&&(x=m.getSnapshotBeforeUpdate(f,b)),A=u,u!=null&&u.type===ci&&u.key==null&&(A=EF(u.props.children)),o=_F(t,_h(A)?A:[A],s,r,n,a,i,l,o,c,d),m.base=s.__e,s.__u&=-161,m.__h.length&&l.push(m),v&&(m.__E=m.__=null)}catch(F){if(s.__v=null,c||i!=null)if(F.then){for(s.__u|=c?160:128;o&&o.nodeType==8&&o.nextSibling;)o=o.nextSibling;i[i.indexOf(o)]=null,s.__e=o}else{for(z=i.length;z--;)dN(i[z]);fv(s)}else s.__e=r.__e,s.__k=r.__k,F.then||fv(s);Yt.__e(F,s,r)}else i==null&&s.__v==r.__v?(s.__k=r.__k,s.__e=r.__e):o=s.__e=Eee(r.__e,s,r,n,a,i,l,c,d);return(u=Yt.diffed)&&u(s),128&s.__u?void 0:o}function fv(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(fv)}function PF(t,s,r){for(var n=0;n<r.length;n++)hN(r[n],r[++n],r[++n]);Yt.__c&&Yt.__c(s,t),t.some(function(a){try{t=a.__h,a.__h=[],t.some(function(i){i.call(a)})}catch(i){Yt.__e(i,a.__v)}})}function EF(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:_h(t)?t.map(EF):Pa({},t)}function Eee(t,s,r,n,a,i,l,o,c){var d,u,m,h,f,b,x,v=r.props,g=s.props,y=s.type;if(y=="svg"?a="http://www.w3.org/2000/svg":y=="math"?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),i!=null){for(d=0;d<i.length;d++)if((f=i[d])&&"setAttribute"in f==!!y&&(y?f.localName==y:f.nodeType==3)){t=f,i[d]=null;break}}if(t==null){if(y==null)return document.createTextNode(g);t=document.createElementNS(a,y,g.is&&g),o&&(Yt.__m&&Yt.__m(s,i),o=!1),i=null}if(y==null)v===g||o&&t.data==g||(t.data=g);else{if(i=i&&Sh.call(t.childNodes),v=r.props||_m,!o&&i!=null)for(v={},d=0;d<t.attributes.length;d++)v[(f=t.attributes[d]).name]=f.value;for(d in v)if(f=v[d],d!="children"){if(d=="dangerouslySetInnerHTML")m=f;else if(!(d in g)){if(d=="value"&&"defaultValue"in g||d=="checked"&&"defaultChecked"in g)continue;mp(t,d,null,f,a)}}for(d in g)f=g[d],d=="children"?h=f:d=="dangerouslySetInnerHTML"?u=f:d=="value"?b=f:d=="checked"?x=f:o&&typeof f!="function"||v[d]===f||mp(t,d,f,v[d],a);if(u)o||m&&(u.__html==m.__html||u.__html==t.innerHTML)||(t.innerHTML=u.__html),s.__k=[];else if(m&&(t.innerHTML=""),_F(s.type=="template"?t.content:t,_h(h)?h:[h],s,r,n,y=="foreignObject"?"http://www.w3.org/1999/xhtml":a,i,l,i?i[0]:r.__k&&Ad(r,0),o,c),i!=null)for(d=i.length;d--;)dN(i[d]);o||(d="value",y=="progress"&&b==null?t.removeAttribute("value"):b!=null&&(b!==t[d]||y=="progress"&&!b||y=="option"&&b!=v[d])&&mp(t,d,b,v[d],a),d="checked",x!=null&&x!=t[d]&&mp(t,d,x,v[d],a))}return t}function hN(t,s,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&s==null||(t.__u=t(s))}else t.current=s}catch(a){Yt.__e(a,r)}}function AF(t,s,r){var n,a;if(Yt.unmount&&Yt.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||hN(n,null,s)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){Yt.__e(i,s)}n.base=n.__P=null}if(n=t.__k)for(a=0;a<n.length;a++)n[a]&&AF(n[a],s,r||typeof t.type!="function");r||dN(t.__e),t.__c=t.__=t.__e=void 0}function Aee(t,s,r){return this.constructor(t,r)}function aS(t,s,r){var n,a,i,l;s==document&&(s=document.documentElement),Yt.__&&Yt.__(t,s),a=(n=typeof r=="function")?null:s.__k,i=[],l=[],mN(s,t=(!n&&r||s).__k=uN(ci,null,[t]),a||_m,_m,s.namespaceURI,!n&&r?[r]:a?null:s.firstChild?Sh.call(s.childNodes):null,i,!n&&r?r:a?a.__e:s.firstChild,n,l),PF(i,t,l)}function TF(t,s,r){var n,a,i,l,o=Pa({},t.props);for(i in t.type&&t.type.defaultProps&&(l=t.type.defaultProps),s)i=="key"?n=s[i]:i=="ref"?a=s[i]:o[i]=s[i]===void 0&&l!=null?l[i]:s[i];return arguments.length>2&&(o.children=arguments.length>3?Sh.call(arguments,2):r),$u(t.type,o,n||t.key,a||t.ref,null)}Sh=CF.slice,Yt={__e:function(t,s,r,n){for(var a,i,l;s=s.__;)if((a=s.__c)&&!a.__)try{if((i=a.constructor)&&i.getDerivedStateFromError!=null&&(a.setState(i.getDerivedStateFromError(t)),l=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(t,n||{}),l=a.__d),l)return a.__E=a}catch(o){t=o}throw t}},vF=0,Da.prototype.setState=function(t,s){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Pa({},this.state),typeof t=="function"&&(t=t(Pa({},r),this.props)),t&&Pa(r,t),t!=null&&this.__v&&(s&&this._sb.push(s),sS(this))},Da.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),sS(this))},Da.prototype.render=ci,Ll=[],jF=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,wF=function(t,s){return t.__v.__b-s.__v.__b},nx.__r=0,NF=/(PointerCapture)$|Capture$/i,cN=0,hv=nS(!1),pv=nS(!0);var Tee=0;function L(t,s,r,n,a,i){s||(s={});var l,o,c=s;if("ref"in c)for(o in c={},s)o=="ref"?l=s[o]:c[o]=s[o];var d={type:t,props:c,key:r,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Tee,__i:-1,__u:0,__source:a,__self:i};if(typeof t=="function"&&(l=t.defaultProps))for(o in l)c[o]===void 0&&(c[o]=l[o]);return Yt.vnode&&Yt.vnode(d),d}var km,Cs,G0,iS,Pm=0,RF=[],As=Yt,lS=As.__b,oS=As.__r,cS=As.diffed,dS=As.__c,uS=As.unmount,mS=As.__;function pN(t,s){As.__h&&As.__h(Cs,t,Pm||s),Pm=0;var r=Cs.__H||(Cs.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function Td(t){return Pm=1,Ree(MF,t)}function Ree(t,s,r){var n=pN(km++,2);if(n.t=t,!n.__c&&(n.__=[MF(void 0,s),function(o){var c=n.__N?n.__N[0]:n.__[0],d=n.t(c,o);c!==d&&(n.__N=[d,n.__[1]],n.__c.setState({}))}],n.__c=Cs,!Cs.__f)){var a=function(o,c,d){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(h){return!!h.__c});if(u.every(function(h){return!h.__N}))return!i||i.call(this,o,c,d);var m=n.__c.props!==o;return u.forEach(function(h){if(h.__N){var f=h.__[0];h.__=h.__N,h.__N=void 0,f!==h.__[0]&&(m=!0)}}),i&&i.call(this,o,c,d)||m};Cs.__f=!0;var i=Cs.shouldComponentUpdate,l=Cs.componentWillUpdate;Cs.componentWillUpdate=function(o,c,d){if(this.__e){var u=i;i=void 0,a(o,c,d),i=u}l&&l.call(this,o,c,d)},Cs.shouldComponentUpdate=a}return n.__N||n.__}function ax(t,s){var r=pN(km++,3);!As.__s&&DF(r.__H,s)&&(r.__=t,r.u=s,Cs.__H.__h.push(r))}function Vu(t){return Pm=5,fN(function(){return{current:t}},[])}function fN(t,s){var r=pN(km++,7);return DF(r.__H,s)&&(r.__=t(),r.__H=s,r.__h=t),r.__}function ix(t,s){return Pm=8,fN(function(){return t},s)}function Dee(){for(var t;t=RF.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Qp),t.__H.__h.forEach(xv),t.__H.__h=[]}catch(s){t.__H.__h=[],As.__e(s,t.__v)}}As.__b=function(t){Cs=null,lS&&lS(t)},As.__=function(t,s){t&&s.__k&&s.__k.__m&&(t.__m=s.__k.__m),mS&&mS(t,s)},As.__r=function(t){oS&&oS(t),km=0;var s=(Cs=t.__c).__H;s&&(G0===Cs?(s.__h=[],Cs.__h=[],s.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(s.__h.forEach(Qp),s.__h.forEach(xv),s.__h=[],km=0)),G0=Cs},As.diffed=function(t){cS&&cS(t);var s=t.__c;s&&s.__H&&(s.__H.__h.length&&(RF.push(s)!==1&&iS===As.requestAnimationFrame||((iS=As.requestAnimationFrame)||Mee)(Dee)),s.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),G0=Cs=null},As.__c=function(t,s){s.some(function(r){try{r.__h.forEach(Qp),r.__h=r.__h.filter(function(n){return!n.__||xv(n)})}catch(n){s.some(function(a){a.__h&&(a.__h=[])}),s=[],As.__e(n,r.__v)}}),dS&&dS(t,s)},As.unmount=function(t){uS&&uS(t);var s,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Qp(n)}catch(a){s=a}}),r.__H=void 0,s&&As.__e(s,r.__v))};var hS=typeof requestAnimationFrame=="function";function Mee(t){var s,r=function(){clearTimeout(n),hS&&cancelAnimationFrame(s),setTimeout(t)},n=setTimeout(r,35);hS&&(s=requestAnimationFrame(r))}function Qp(t){var s=Cs,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Cs=s}function xv(t){var s=Cs;t.__c=t.__(),Cs=s}function DF(t,s){return!t||t.length!==s.length||s.some(function(r,n){return r!==t[n]})}function MF(t,s){return typeof s=="function"?s(t):s}const Oee={position:"relative",width:"100%",minHeight:"100%"},Iee={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};function Fee({data:t,rowHeight:s,renderRow:r,overscanCount:n=10,padding:a=4,...i}){const l=Vu(null),[o,c]=Td(0),[d,u]=Td(0);ax(()=>{function y(){l.current!=null&&d!==l.current.offsetHeight&&u(l.current.offsetHeight)}return y(),window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}},[d]);const m=ix(()=>{l.current&&c(l.current.scrollTop)},[]);let h=Math.floor(o/s),f=Math.floor(d/s);n&&(h=Math.max(0,h-h%n),f+=n);const b=h+f+a,x=t.slice(h,b),v={...Oee,height:t.length*s},g={...Iee,top:h*s};return L("div",{onScroll:m,ref:l,...i,children:L("div",{role:"presentation",style:v,children:L("div",{role:"presentation",style:g,children:x.map(r)})})})}class OF{constructor(s,r){T(this,"uppy");T(this,"opts");T(this,"id");T(this,"defaultLocale");T(this,"i18n");T(this,"i18nArray");T(this,"type");T(this,"VERSION");this.uppy=s,this.opts=r??{}}getPluginState(){const{plugins:s}=this.uppy.getState();return(s==null?void 0:s[this.id])||{}}setPluginState(s){const{plugins:r}=this.uppy.getState();this.uppy.setState({plugins:{...r,[this.id]:{...r[this.id],...s}}})}setOptions(s){this.opts={...this.opts,...s},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const s=new bF([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=s.translate.bind(s),this.i18nArray=s.translateArray.bind(s),this.setPluginState(void 0)}addTarget(s){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(s){}afterUpdate(){}}var va,Im;class Lee{constructor(s){de(this,va);de(this,Im,[]);me(this,va,s)}on(s,r){return C(this,Im).push([s,r]),C(this,va).on(s,r)}remove(){for(const[s,r]of C(this,Im).splice(0))C(this,va).off(s,r)}onFilePause(s,r){this.on("upload-pause",(n,a)=>{s===(n==null?void 0:n.id)&&r(a)})}onFileRemove(s,r){this.on("file-removed",n=>{s===n.id&&r(n.id)})}onPause(s,r){this.on("upload-pause",(n,a)=>{s===(n==null?void 0:n.id)&&r(a)})}onRetry(s,r){this.on("upload-retry",n=>{s===(n==null?void 0:n.id)&&r()})}onRetryAll(s,r){this.on("retry-all",()=>{C(this,va).getFile(s)&&r()})}onPauseAll(s,r){this.on("pause-all",()=>{C(this,va).getFile(s)&&r()})}onCancelAll(s,r){this.on("cancel-all",(...n)=>{C(this,va).getFile(s)&&r(...n)})}onResumeAll(s,r){this.on("resume-all",()=>{C(this,va).getFile(s)&&r()})}}va=new WeakMap,Im=new WeakMap;const zee={debug:()=>{},warn:()=>{},error:(...t)=>console.error(`[Uppy] [${Gp()}]`,...t)},Uee={debug:(...t)=>console.debug(`[Uppy] [${Gp()}]`,...t),warn:(...t)=>console.warn(`[Uppy] [${Gp()}]`,...t),error:(...t)=>console.error(`[Uppy] [${Gp()}]`,...t)};function $ee(t){let s=null,r;return(...n)=>(r=n,s||(s=Promise.resolve().then(()=>(s=null,t(...r)))),s)}var Fm;const ux=class ux extends OF{constructor(){super(...arguments);de(this,Fm);T(this,"isTargetDOMEl");T(this,"el");T(this,"parent");T(this,"title")}getTargetPlugin(r){let n;if(typeof(r==null?void 0:r.addTarget)=="function")n=r,n instanceof ux||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:n,UIPlugin:ux}}));else if(typeof r=="function"){const a=r;this.uppy.iteratePlugins(i=>{i instanceof a&&(n=i)})}return n}mount(r,n){const a=n.id,i=lee(r);if(i){this.isTargetDOMEl=!0;const c=document.createElement("div");return c.classList.add("uppy-Root"),me(this,Fm,$ee(d=>{this.uppy.getPlugin(this.id)&&(aS(this.render(d,c),c),this.afterUpdate())})),this.uppy.log(`Installing ${a} to a DOM element '${r}'`),this.opts.replaceTargetContent&&(i.innerHTML=""),aS(this.render(this.uppy.getState(),c),c),this.el=c,i.appendChild(c),c.dir=this.opts.direction||xee(c)||"ltr",this.onMount(),this.el}const l=this.getTargetPlugin(r);if(l)return this.uppy.log(`Installing ${a} to ${l.id}`),this.parent=l,this.el=l.addTarget(n),this.onMount(),this.el;this.uppy.log(`Not installing ${a}`);let o=`Invalid target option given to ${a}.`;throw typeof r=="function"?o+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":o+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(o)}render(r,n){throw new Error("Extend the render method to add your plugin to a DOM element")}update(r){var n;this.el!=null&&((n=C(this,Fm))==null||n.call(this,r))}unmount(){var r;this.isTargetDOMEl&&((r=this.el)==null||r.remove()),this.onUnmount()}onMount(){}onUnmount(){}};Fm=new WeakMap;let lx=ux;const Vee="@uppy/store-default",Bee="The default simple object-based store for Uppy.",qee="5.0.0",Wee="MIT",Hee="lib/index.js",Kee="module",Gee=!1,Qee={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Yee=["file uploader","uppy","uppy-store"],Zee="https://uppy.io",Xee={url:"https://github.com/transloadit/uppy/issues"},Jee={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},ete={type:"git",url:"git+https://github.com/transloadit/uppy.git"},tte={".":"./lib/index.js","./package.json":"./package.json"},ste=["src","lib","dist","CHANGELOG.md"],rte={name:Vee,description:Bee,version:qee,license:Wee,main:Hee,type:Kee,sideEffects:Gee,scripts:Qee,keywords:Yee,homepage:Zee,bugs:Xee,devDependencies:Jee,repository:ete,exports:tte,files:ste};var Kc,mx,FF;class IF{constructor(){de(this,mx);T(this,"state",{});de(this,Kc,new Set)}getState(){return this.state}setState(s){const r={...this.state},n={...this.state,...s};this.state=n,xe(this,mx,FF).call(this,r,n,s)}subscribe(s){return C(this,Kc).add(s),()=>{C(this,Kc).delete(s)}}}Kc=new WeakMap,mx=new WeakSet,FF=function(...s){C(this,Kc).forEach(r=>{r(...s)})},T(IF,"VERSION",rte.version);function nte(t){var s=typeof t;return t!=null&&(s=="object"||s=="function")}var xN=nte,ate=typeof Ph=="object"&&Ph&&Ph.Object===Object&&Ph,ite=ate,lte=ite,ote=typeof self=="object"&&self&&self.Object===Object&&self,cte=lte||ote||Function("return this")(),LF=cte,dte=LF,ute=function(){return dte.Date.now()},mte=ute,hte=/\s/;function pte(t){for(var s=t.length;s--&&hte.test(t.charAt(s)););return s}var fte=pte,xte=fte,gte=/^\s+/;function bte(t){return t&&t.slice(0,xte(t)+1).replace(gte,"")}var yte=bte,vte=LF,jte=vte.Symbol,zF=jte,pS=zF,UF=Object.prototype,wte=UF.hasOwnProperty,Nte=UF.toString,ru=pS?pS.toStringTag:void 0;function Cte(t){var s=wte.call(t,ru),r=t[ru];try{t[ru]=void 0;var n=!0}catch{}var a=Nte.call(t);return n&&(s?t[ru]=r:delete t[ru]),a}var Ste=Cte,_te=Object.prototype,kte=_te.toString;function Pte(t){return kte.call(t)}var Ete=Pte,fS=zF,Ate=Ste,Tte=Ete,Rte="[object Null]",Dte="[object Undefined]",xS=fS?fS.toStringTag:void 0;function Mte(t){return t==null?t===void 0?Dte:Rte:xS&&xS in Object(t)?Ate(t):Tte(t)}var Ote=Mte;function Ite(t){return t!=null&&typeof t=="object"}var Fte=Ite,Lte=Ote,zte=Fte,Ute="[object Symbol]";function $te(t){return typeof t=="symbol"||zte(t)&&Lte(t)==Ute}var Vte=$te,Bte=yte,gS=xN,qte=Vte,bS=NaN,Wte=/^[-+]0x[0-9a-f]+$/i,Hte=/^0b[01]+$/i,Kte=/^0o[0-7]+$/i,Gte=parseInt;function Qte(t){if(typeof t=="number")return t;if(qte(t))return bS;if(gS(t)){var s=typeof t.valueOf=="function"?t.valueOf():t;t=gS(s)?s+"":s}if(typeof t!="string")return t===0?t:+t;t=Bte(t);var r=Hte.test(t);return r||Kte.test(t)?Gte(t.slice(2),r?2:8):Wte.test(t)?bS:+t}var Yte=Qte,Zte=xN,Q0=mte,yS=Yte,Xte="Expected a function",Jte=Math.max,ese=Math.min;function tse(t,s,r){var n,a,i,l,o,c,d=0,u=!1,m=!1,h=!0;if(typeof t!="function")throw new TypeError(Xte);s=yS(s)||0,Zte(r)&&(u=!!r.leading,m="maxWait"in r,i=m?Jte(yS(r.maxWait)||0,s):i,h="trailing"in r?!!r.trailing:h);function f(_){var k=n,S=a;return n=a=void 0,d=_,l=t.apply(S,k),l}function b(_){return d=_,o=setTimeout(g,s),u?f(_):l}function x(_){var k=_-c,S=_-d,A=s-k;return m?ese(A,i-S):A}function v(_){var k=_-c,S=_-d;return c===void 0||k>=s||k<0||m&&S>=i}function g(){var _=Q0();if(v(_))return y(_);o=setTimeout(g,x(_))}function y(_){return o=void 0,h&&n?f(_):(n=a=void 0,l)}function j(){o!==void 0&&clearTimeout(o),d=0,n=c=a=o=void 0}function w(){return o===void 0?l:y(Q0())}function N(){var _=Q0(),k=v(_);if(n=arguments,a=this,c=_,k){if(o===void 0)return b(c);if(m)return clearTimeout(o),o=setTimeout(g,s),f(c)}return o===void 0&&(o=setTimeout(g,s)),l}return N.cancel=j,N.flush=w,N}var $F=tse;const sse=ji($F);var rse=$F,nse=xN,ase="Expected a function";function ise(t,s,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(ase);return nse(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),rse(t,s,{leading:n,maxWait:s,trailing:a})}var lse=ise;const ose=ji(lse);var cse=function(){var s={},r=s._fns={};s.emit=function(l,o,c,d,u,m,h){var f=n(l);f.length&&a(l,f,[o,c,d,u,m,h])},s.on=function(l,o){r[l]||(r[l]=[]),r[l].push(o)},s.once=function(l,o){function c(){o.apply(this,arguments),s.off(l,c)}this.on(l,c)},s.off=function(l,o){var c=[];if(l&&o){var d=this._fns[l],u=0,m=d?d.length:0;for(u;u<m;u++)d[u]!==o&&c.push(d[u])}c.length?this._fns[l]=c:delete this._fns[l]};function n(i){var l=r[i]?r[i]:[],o=i.indexOf(":"),c=o===-1?[i]:[i.substring(0,o),i.substring(o+1)],d=Object.keys(r),u=0,m=d.length;for(u;u<m;u++){var h=d[u];if(h==="*"&&(l=l.concat(r[h])),c.length===2&&c[0]===h){l=l.concat(r[h]);break}}return l}function a(i,l,o){var c=0,d=l.length;for(c;c<d&&l[c];c++)l[c].event=i,l[c].apply(l[c],o)}return s};const dse=ji(cse);let use="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",gN=(t=21)=>{let s="",r=t|0;for(;r--;)s+=use[Math.random()*64|0];return s};const mse="@uppy/core",hse="Core module for the extensible JavaScript file upload widget with support for drag&drop, resumable uploads, previews, restrictions, file processing/encoding, remote providers like Instagram, Dropbox, Google Drive, S3 and more :dog:",pse="5.0.1",fse="MIT",xse="lib/index.js",gse="dist/style.min.css",bse="module",yse=["*.css"],vse={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},jse=["file uploader","uppy","uppy-plugin"],wse="https://uppy.io",Nse={url:"https://github.com/transloadit/uppy/issues"},Cse={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Sse=["src","lib","dist","CHANGELOG.md"],_se={".":"./lib/index.js","./css/style.min.css":"./dist/style.min.css","./css/style.css":"./dist/style.css","./package.json":"./package.json"},kse={"@transloadit/prettier-bytes":"^0.3.4","@uppy/store-default":"^5.0.0","@uppy/utils":"^7.0.1",lodash:"^4.17.21","mime-match":"^1.0.2","namespace-emitter":"^2.0.1",nanoid:"^5.0.9",preact:"^10.5.13"},Pse={"@types/deep-freeze":"^0",cssnano:"^7.0.7","deep-freeze":"^0.0.1",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},Ese={name:mse,description:hse,version:pse,license:fse,main:xse,style:gse,type:bse,sideEffects:yse,scripts:vse,keywords:jse,homepage:wse,bugs:Nse,repository:Cse,files:Sse,exports:_se,dependencies:kse,devDependencies:Pse};function Ase(t,s){return s.name?s.name:t.split("/")[0]==="image"?`${t.split("/")[0]}.${t.split("/")[1]}`:"noname"}const Tse={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};var Rse=function(s){if(typeof s!="number"||Number.isNaN(s))throw new TypeError(`Expected a number, got ${typeof s}`);const r=s<0;let n=Math.abs(s);if(r&&(n=-n),n===0)return"0 B";const a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.min(Math.floor(Math.log(n)/Math.log(1024)),a.length-1),l=Number(n/1024**i),o=a[i];return`${l>=10||l%1===0?Math.round(l):l.toFixed(1)} ${o}`};const ql=ji(Rse);function VF(t,s){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=s,this.parts=t.split(s)}VF.prototype.match=function(t){var s=!0,r=this.parts,n,a=r.length,i;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)s=!1;else{for(i=(t||"").split(this.separator),n=0;s&&n<a;n++)r[n]!=="*"&&(n<i.length?s=r[n]===i[n]:s=!1);s=s&&i}else if(typeof t.splice=="function")for(s=[],n=t.length;n--;)this.match(t[n])&&(s[s.length]=t[n]);else if(typeof t=="object"){s={};for(var l in t)this.match(l)&&(s[l]=t[l])}return s};var Dse=function(t,s,r){var n=new VF(t,r||/[\/\.]/);return typeof s<"u"?n.match(s):n},Mse=Dse,Ose=/[\/\+\.]/,Ise=function(t,s){function r(n){var a=Mse(n,t,Ose);return a&&a.length>=2}return s?r(s.split(";")[0]):r};const Fse=ji(Ise),Lse={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class $n extends Error{constructor(r,n){super(r);T(this,"isUserFacing");T(this,"file");T(this,"isRestriction",!0);this.isUserFacing=(n==null?void 0:n.isUserFacing)??!0,n!=null&&n.file&&(this.file=n.file)}}class zse{constructor(s,r){T(this,"getI18n");T(this,"getOpts");this.getI18n=r,this.getOpts=()=>{var a;const n=s();if(((a=n.restrictions)==null?void 0:a.allowedFileTypes)!=null&&!Array.isArray(n.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return n}}validateAggregateRestrictions(s,r){const{maxTotalFileSize:n,maxNumberOfFiles:a}=this.getOpts().restrictions;if(a&&s.filter(l=>!l.isGhost).length+r.length>a)throw new $n(`${this.getI18n()("youCanOnlyUploadX",{smart_count:a})}`);if(n){const i=[...s,...r].reduce((l,o)=>l+(o.size??0),0);if(i>n)throw new $n(this.getI18n()("aggregateExceedsSize",{sizeAllowed:ql(n),size:ql(i)}))}}validateSingleFile(s){const{maxFileSize:r,minFileSize:n,allowedFileTypes:a}=this.getOpts().restrictions;if(a&&!a.some(l=>l.includes("/")?s.type?Fse(s.type.replace(/;.*?$/,""),l):!1:l[0]==="."&&s.extension?s.extension.toLowerCase()===l.slice(1).toLowerCase():!1)){const l=a.join(", ");throw new $n(this.getI18n()("youCanOnlyUploadFileTypes",{types:l}),{file:s})}if(r&&s.size!=null&&s.size>r)throw new $n(this.getI18n()("exceedsSize",{size:ql(r),file:s.name??this.getI18n()("unnamed")}),{file:s});if(n&&s.size!=null&&s.size<n)throw new $n(this.getI18n()("inferiorSize",{size:ql(n)}),{file:s})}validate(s,r){r.forEach(n=>{this.validateSingleFile(n)}),this.validateAggregateRestrictions(s,r)}validateMinNumberOfFiles(s){const{minNumberOfFiles:r}=this.getOpts().restrictions;if(r&&Object.keys(s).length<r)throw new $n(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:r}))}getMissingRequiredMetaFields(s){const r=new $n(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:s.name??this.getI18n()("unnamed")})),{requiredMetaFields:n}=this.getOpts().restrictions,a=[];for(const i of n)(!Object.hasOwn(s.meta,i)||s.meta[i]==="")&&a.push(i);return{missingFields:a,error:r}}}function Use(t){if(t==null&&typeof navigator<"u"&&(t=navigator.userAgent),!t)return!0;const s=/Edge\/(\d+\.\d+)/.exec(t);if(!s)return!0;const n=s[1].split(".",2),a=parseInt(n[0],10),i=parseInt(n[1],10);return a<15||a===15&&i<15063||a>18||a===18&&i>=18218}const hp={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var Mn,On,Lm,Jl,Gc,Qc,eo,nt,Il,bv,BF,yv,qF,vv,jv,wv,Nv,hx,Cv,to,WF,HF,Zi,zm,ju,KF,Yp,wu;const px=class px{constructor(s){de(this,nt);de(this,Mn,Object.create(null));de(this,On);de(this,Lm);de(this,Jl,dse());de(this,Gc,new Set);de(this,Qc,new Set);de(this,eo,new Set);T(this,"defaultLocale");T(this,"locale");T(this,"opts");T(this,"store");T(this,"i18n");T(this,"i18nArray");T(this,"scheduledAutoProceed",null);T(this,"wasOffline",!1);de(this,hx,(s,r)=>{const n=s?this.getFile(s.id):void 0;if(s==null||!n){this.log(`Not setting progress for a file that has been removed: ${s==null?void 0:s.id}`);return}if(n.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${s.id}`);return}const a={bytesTotal:r.bytesTotal,percentage:r.bytesTotal!=null&&Number.isFinite(r.bytesTotal)&&r.bytesTotal>0?Math.round(r.bytesUploaded/r.bytesTotal*100):void 0};n.progress.uploadStarted!=null?this.setFileState(s.id,{progress:{...n.progress,...a,bytesUploaded:r.bytesUploaded}}):this.setFileState(s.id,{progress:{...n.progress,...a}}),C(this,to).call(this)});de(this,to,ose(()=>xe(this,nt,Cv).call(this),500,{leading:!0,trailing:!0}));de(this,Zi,this.updateOnlineStatus.bind(this));de(this,zm,new Map);this.defaultLocale=Tse;const r={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:Lse,meta:{},onBeforeFileAdded:(a,i)=>!Object.hasOwn(i,a.id),onBeforeUpload:a=>a,store:new IF,logger:zee,infoTimeout:5e3},n={...r,...s};this.opts={...n,restrictions:{...r.restrictions,...s==null?void 0:s.restrictions}},s!=null&&s.logger&&s.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):s!=null&&s.debug&&(this.opts.logger=Uee),this.log(`Using Core v${px.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...hp,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:Use(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),me(this,On,new zse(()=>this.opts,()=>this.i18n)),me(this,Lm,this.store.subscribe((a,i,l)=>{this.emit("state-update",a,i,l),this.updateAll(i)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),xe(this,nt,HF).call(this)}emit(s,...r){C(this,Jl).emit(s,...r)}on(s,r){return C(this,Jl).on(s,r),this}once(s,r){return C(this,Jl).once(s,r),this}off(s,r){return C(this,Jl).off(s,r),this}updateAll(s){this.iteratePlugins(r=>{r.update(s)})}setState(s){this.store.setState(s)}getState(){return this.store.getState()}patchFilesState(s){const r=this.getState().files;this.setState({files:{...r,...Object.fromEntries(Object.entries(s).map(([n,a])=>[n,{...r[n],...a}]))}})}setFileState(s,r){if(!this.getState().files[s])throw new Error(`Can’t set state for ${s} (the file could have been removed)`);this.patchFilesState({[s]:r})}i18nInit(){const s=n=>this.log(`Missing i18n string: ${n}`,"error"),r=new bF([this.defaultLocale,this.opts.locale],{onMissingKey:s});this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.locale=r.locale}setOptions(s){this.opts={...this.opts,...s,restrictions:{...this.opts.restrictions,...s==null?void 0:s.restrictions}},s.meta&&this.setMeta(s.meta),this.i18nInit(),s.locale&&this.iteratePlugins(r=>{r.setOptions(s)}),this.setState(void 0)}resetProgress(){const s={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},r={...this.getState().files},n=Object.create(null);Object.keys(r).forEach(a=>{n[a]={...r[a],progress:{...r[a].progress,...s},tus:void 0,transloadit:void 0}}),this.setState({files:n,...hp})}clear(){const{capabilities:s,currentUploads:r}=this.getState();if(Object.keys(r).length>0&&!s.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...hp,files:{}})}addPreProcessor(s){C(this,Gc).add(s)}removePreProcessor(s){return C(this,Gc).delete(s)}addPostProcessor(s){C(this,eo).add(s)}removePostProcessor(s){return C(this,eo).delete(s)}addUploader(s){C(this,Qc).add(s)}removeUploader(s){return C(this,Qc).delete(s)}setMeta(s){const r={...this.getState().meta,...s},n={...this.getState().files};Object.keys(n).forEach(a=>{n[a]={...n[a],meta:{...n[a].meta,...s}}}),this.log("Adding metadata:"),this.log(s),this.setState({meta:r,files:n})}setFileMeta(s,r){const n={...this.getState().files};if(!n[s]){this.log(`Was trying to set metadata for a file that has been removed: ${s}`);return}const a={...n[s].meta,...r};n[s]={...n[s],meta:a},this.setState({files:n})}getFile(s){return this.getState().files[s]}getFiles(){const{files:s}=this.getState();return Object.values(s)}getFilesByIds(s){return s.map(r=>this.getFile(r))}getObjectOfFilesPerState(){const{files:s,totalProgress:r,error:n}=this.getState(),a=Object.values(s),i=[],l=[],o=[],c=[],d=[],u=[],m=[],h=[],f=[];for(const b of a){const{progress:x}=b;!x.uploadComplete&&x.uploadStarted&&(i.push(b),b.isPaused||h.push(b)),x.uploadStarted||l.push(b),(x.uploadStarted||x.preprocess||x.postprocess)&&o.push(b),x.uploadStarted&&c.push(b),b.isPaused&&d.push(b),x.uploadComplete&&u.push(b),b.error&&m.push(b),(x.preprocess||x.postprocess)&&f.push(b)}return{newFiles:l,startedFiles:o,uploadStartedFiles:c,pausedFiles:d,completeFiles:u,erroredFiles:m,inProgressFiles:i,inProgressNotPausedFiles:h,processingFiles:f,isUploadStarted:c.length>0,isAllComplete:r===100&&u.length===a.length&&f.length===0,isAllErrored:!!n&&m.length===a.length,isAllPaused:i.length!==0&&d.length===i.length,isUploadInProgress:i.length>0,isSomeGhost:a.some(b=>b.isGhost)}}validateRestrictions(s,r=this.getFiles()){try{C(this,On).validate(r,[s])}catch(n){return n}return null}validateSingleFile(s){try{C(this,On).validateSingleFile(s)}catch(r){return r.message}return null}validateAggregateRestrictions(s){const r=this.getFiles();try{C(this,On).validateAggregateRestrictions(r,s)}catch(n){return n.message}return null}checkIfFileAlreadyExists(s){const{files:r}=this.getState();return!!(r[s]&&!r[s].isGhost)}addFile(s){xe(this,nt,yv).call(this,s);const{nextFilesState:r,validFilesToAdd:n,errors:a}=xe(this,nt,jv).call(this,[s]),i=a.filter(o=>o.isRestriction);if(xe(this,nt,Il).call(this,i),a.length>0)throw a[0];this.setState({files:r});const[l]=n;return this.emit("file-added",l),this.emit("files-added",n),this.log(`Added file: ${l.name}, ${l.id}, mime type: ${l.type}`),xe(this,nt,vv).call(this),l.id}addFiles(s){xe(this,nt,yv).call(this);const{nextFilesState:r,validFilesToAdd:n,errors:a}=xe(this,nt,jv).call(this,s),i=a.filter(o=>o.isRestriction);xe(this,nt,Il).call(this,i);const l=a.filter(o=>!o.isRestriction);if(l.length>0){let o=`Multiple errors occurred while adding files:
`;if(l.forEach(c=>{o+=`
 * ${c.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:l.length}),details:o},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(l,o);{const c=new Error(o);throw c.errors=l,c}}this.setState({files:r}),n.forEach(o=>{this.emit("file-added",o)}),this.emit("files-added",n),n.length>5?this.log(`Added batch of ${n.length} files`):Object.values(n).forEach(o=>{this.log(`Added file: ${o.name}
 id: ${o.id}
 type: ${o.type}`)}),n.length>0&&xe(this,nt,vv).call(this)}removeFiles(s){const{files:r,currentUploads:n}=this.getState(),a={...r},i={...n},l=Object.create(null);s.forEach(u=>{r[u]&&(l[u]=r[u],delete a[u])});function o(u){return l[u]===void 0}Object.keys(i).forEach(u=>{const m=n[u].fileIDs.filter(o);if(m.length===0){delete i[u];return}const{capabilities:h}=this.getState();if(m.length!==n[u].fileIDs.length&&!h.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");i[u]={...n[u],fileIDs:m}});const c={currentUploads:i,files:a};Object.keys(a).length===0&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),C(this,to).call(this);const d=Object.keys(l);d.forEach(u=>{this.emit("file-removed",l[u])}),d.length>5?this.log(`Removed ${d.length} files`):this.log(`Removed files: ${d.join(", ")}`)}removeFile(s){this.removeFiles([s])}pauseResume(s){if(!this.getState().capabilities.resumableUploads||this.getFile(s).progress.uploadComplete)return;const r=this.getFile(s),a=!(r.isPaused||!1);return this.setFileState(s,{isPaused:a}),this.emit("upload-pause",r,a),a}pauseAll(){const s={...this.getState().files};Object.keys(s).filter(n=>!s[n].progress.uploadComplete&&s[n].progress.uploadStarted).forEach(n=>{const a={...s[n],isPaused:!0};s[n]=a}),this.setState({files:s}),this.emit("pause-all")}resumeAll(){const s={...this.getState().files};Object.keys(s).filter(n=>!s[n].progress.uploadComplete&&s[n].progress.uploadStarted).forEach(n=>{const a={...s[n],isPaused:!1,error:null};s[n]=a}),this.setState({files:s}),this.emit("resume-all")}async retryAll(){const s=await xe(this,nt,Nv).call(this);return this.emit("complete",s),s}cancelAll(){this.emit("cancel-all");const{files:s}=this.getState(),r=Object.keys(s);r.length&&this.removeFiles(r),this.setState(hp)}retryUpload(s){this.setFileState(s,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(s));const r=xe(this,nt,ju).call(this,[s],{forceAllowNewUpload:!0});return xe(this,nt,wu).call(this,r)}logout(){this.iteratePlugins(s=>{var r,n;(n=(r=s.provider)==null?void 0:r.logout)==null||n.call(r)})}[Symbol.for("uppy test: updateTotalProgress")](){return xe(this,nt,Cv).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(s,...r){if(typeof s!="function"){const l=`Expected a plugin class, but got ${s===null?"null":typeof s}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(l)}const n=new s(this,...r),a=n.id;if(!a)throw new Error("Your plugin must have an id");if(!n.type)throw new Error("Your plugin must have a type");const i=this.getPlugin(a);if(i){const l=`Already found a plugin named '${i.id}'. Tried to use: '${a}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(l)}return s.VERSION&&this.log(`Using ${a} v${s.VERSION}`),n.type in C(this,Mn)?C(this,Mn)[n.type].push(n):C(this,Mn)[n.type]=[n],n.install(),this.emit("plugin-added",n),this}getPlugin(s){for(const r of Object.values(C(this,Mn))){const n=r.find(a=>a.id===s);if(n!=null)return n}}[Symbol.for("uppy test: getPlugins")](s){return C(this,Mn)[s]}iteratePlugins(s){Object.values(C(this,Mn)).flat(1).forEach(s)}removePlugin(s){this.log(`Removing plugin ${s.id}`),this.emit("plugin-remove",s),s.uninstall&&s.uninstall();const r=C(this,Mn)[s.type],n=r.findIndex(l=>l.id===s.id);n!==-1&&r.splice(n,1);const i={plugins:{...this.getState().plugins,[s.id]:void 0}};this.setState(i)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),C(this,Lm).call(this),this.iteratePlugins(s=>{this.removePlugin(s)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",C(this,Zi)),window.removeEventListener("offline",C(this,Zi)))}hideInfo(){const{info:s}=this.getState();this.setState({info:s.slice(1)}),this.emit("info-hidden")}info(s,r="info",n=3e3){const a=typeof s=="object";this.setState({info:[...this.getState().info,{type:r,message:a?s.message:s,details:a?s.details:null}]}),setTimeout(()=>this.hideInfo(),n),this.emit("info-visible")}log(s,r){const{logger:n}=this.opts;switch(r){case"error":n.error(s);break;case"warning":n.warn(s);break;default:n.debug(s);break}}registerRequestClient(s,r){C(this,zm).set(s,r)}getRequestClientForFile(s){if(!s.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${s.id}`);const r=C(this,zm).get(s.remote.requestClientId);if(r==null)throw new Error(`requestClientId "${s.remote.requestClientId}" not registered for file "${s.id}"`);return r}restore(s){return this.log(`Core: attempting to restore upload "${s}"`),this.getState().currentUploads[s]?xe(this,nt,wu).call(this,s):(xe(this,nt,Yp).call(this,s),Promise.reject(new Error("Nonexistent upload")))}[Symbol.for("uppy test: createUpload")](...s){return xe(this,nt,ju).call(this,...s)}addResultData(s,r){if(!xe(this,nt,KF).call(this,s)){this.log(`Not setting result for an upload that has been removed: ${s}`);return}const{currentUploads:n}=this.getState(),a={...n[s],result:{...n[s].result,...r}};this.setState({currentUploads:{...n,[s]:a}})}async upload(){var a;(a=C(this,Mn).uploader)!=null&&a.length||this.log("No uploader type plugins are used","warning");let{files:s}=this.getState();if(xe(this,nt,wv).call(this).length>0){const i=await xe(this,nt,Nv).call(this);if(!(this.getFiles().filter(o=>o.progress.uploadStarted==null).length>0))return this.emit("complete",i),i;({files:s}=this.getState())}const n=this.opts.onBeforeUpload(s);return n===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(n&&typeof n=="object"&&(s=n,this.setState({files:s})),Promise.resolve().then(()=>C(this,On).validateMinNumberOfFiles(s)).catch(i=>{throw xe(this,nt,Il).call(this,[i]),i}).then(()=>{if(!xe(this,nt,BF).call(this,s))throw new $n(this.i18n("missingRequiredMetaField"))}).catch(i=>{throw i}).then(async()=>{const{currentUploads:i}=this.getState(),l=Object.values(i).flatMap(u=>u.fileIDs),o=[];Object.keys(s).forEach(u=>{const m=this.getFile(u);!m.progress.uploadStarted&&l.indexOf(u)===-1&&o.push(m.id)});const c=xe(this,nt,ju).call(this,o),d=await xe(this,nt,wu).call(this,c);return this.emit("complete",d),d}).catch(i=>{throw this.emit("error",i),this.log(i,"error"),i}))}};Mn=new WeakMap,On=new WeakMap,Lm=new WeakMap,Jl=new WeakMap,Gc=new WeakMap,Qc=new WeakMap,eo=new WeakMap,nt=new WeakSet,Il=function(s){for(const l of s)l.isRestriction?this.emit("restriction-failed",l.file,l):this.emit("error",l,l.file),this.log(l,"warning");const r=s.filter(l=>l.isUserFacing),n=4,a=r.slice(0,n),i=r.slice(n);a.forEach(({message:l,details:o=""})=>{this.info({message:l,details:o},"error",this.opts.infoTimeout)}),i.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:i.length})})},bv=function(s){const{missingFields:r,error:n}=C(this,On).getMissingRequiredMetaFields(s);return r.length>0?(this.setFileState(s.id,{missingRequiredMetaFields:r,error:n.message}),this.log(n.message),this.emit("restriction-failed",s,n),!1):(r.length===0&&s.missingRequiredMetaFields&&this.setFileState(s.id,{missingRequiredMetaFields:[]}),!0)},BF=function(s){let r=!0;for(const n of Object.values(s))xe(this,nt,bv).call(this,n)||(r=!1);return r},yv=function(s){const{allowNewUpload:r}=this.getState();if(r===!1){const n=new $n(this.i18n("noMoreFilesAllowed"),{file:s});throw xe(this,nt,Il).call(this,[n]),n}},qF=function(s){const r=s instanceof File?{name:s.name,type:s.type,size:s.size,data:s}:s,n=uF(r),a=Ase(n,r),i=dF(a).extension,l=uee(r,this.getID()),o=r.meta||{};o.name=a,o.type=n;const c=Number.isFinite(r.data.size)?r.data.size:null;return{source:r.source||"",id:l,name:a,extension:i||"",meta:{...this.getState().meta,...o},type:n,data:r.data,progress:{percentage:0,bytesUploaded:!1,bytesTotal:c,uploadComplete:!1,uploadStarted:null},size:c,isGhost:!1,isRemote:r.isRemote||!1,remote:r.remote,preview:r.preview}},vv=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(s=>{s.isRestriction||this.log(s.stack||s.message||s)})},4))},jv=function(s){var l;let{files:r}=this.getState(),n={...r};const a=[],i=[];for(const o of s)try{let c=xe(this,nt,qF).call(this,o);const d=(l=r[c.id])==null?void 0:l.isGhost;d&&(c={...r[c.id],isGhost:!1,data:o.data},this.log(`Replaced the blob in the restored ghost file: ${c.name}, ${c.id}`));const u=this.opts.onBeforeFileAdded(c,n);if(r=this.getState().files,n={...r,...n},!u&&this.checkIfFileAlreadyExists(c.id))throw new $n(this.i18n("noDuplicates",{fileName:c.name??this.i18n("unnamed")}),{file:o});if(u===!1&&!d)throw new $n("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:o});typeof u=="object"&&u!==null&&(c=u),C(this,On).validateSingleFile(c),n[c.id]=c,a.push(c)}catch(c){i.push(c)}try{C(this,On).validateAggregateRestrictions(Object.values(r),a)}catch(o){return i.push(o),{nextFilesState:r,validFilesToAdd:[],errors:i}}return{nextFilesState:n,validFilesToAdd:a,errors:i}},wv=function(){const{files:s}=this.getState();return Object.keys(s).filter(r=>{const n=s[r];return n.error&&(!n.missingRequiredMetaFields||n.missingRequiredMetaFields.length===0)})},Nv=async function(){const s=xe(this,nt,wv).call(this),r={...this.getState().files};if(s.forEach(a=>{r[a]={...r[a],isPaused:!1,error:null}}),this.setState({files:r,error:null}),this.emit("retry-all",this.getFilesByIds(s)),s.length===0)return{successful:[],failed:[]};const n=xe(this,nt,ju).call(this,s,{forceAllowNewUpload:!0});return xe(this,nt,wu).call(this,n)},hx=new WeakMap,Cv=function(){const s=xe(this,nt,WF).call(this);let r=null;s!=null&&(r=Math.round(s*100),r>100?r=100:r<0&&(r=0)),this.emit("progress",r??0),this.setState({totalProgress:r??0})},to=new WeakMap,WF=function(){const r=this.getFiles().filter(c=>c.progress.uploadStarted||c.progress.preprocess||c.progress.postprocess);if(r.length===0)return 0;if(r.every(c=>c.progress.uploadComplete))return 1;const n=c=>c.progress.bytesTotal!=null&&c.progress.bytesTotal!==0,a=r.filter(n),i=r.filter(c=>!n(c));if(a.every(c=>c.progress.uploadComplete)&&i.length>0&&!i.every(c=>c.progress.uploadComplete))return null;const l=a.reduce((c,d)=>c+(d.progress.bytesTotal??0),0),o=a.reduce((c,d)=>c+(d.progress.bytesUploaded||0),0);return l===0?0:o/l},HF=function(){const s=(a,i,l)=>{let o=a.message||"Unknown error";a.details&&(o+=` ${a.details}`),this.setState({error:o}),i!=null&&i.id in this.getState().files&&this.setFileState(i.id,{error:o,response:l})};this.on("error",s),this.on("upload-error",(a,i,l)=>{if(s(i,a,l),typeof i=="object"&&i.message){this.log(i.message,"error");const o=new Error(this.i18n("failedToUpload",{file:(a==null?void 0:a.name)??""}));o.isUserFacing=!0,o.details=i.message,i.details&&(o.details+=` ${i.details}`),xe(this,nt,Il).call(this,[o])}else xe(this,nt,Il).call(this,[i])});let r=null;this.on("upload-stalled",(a,i)=>{const{message:l}=a,o=i.map(c=>c.meta.name).join(", ");r||(this.info({message:l,details:o},"warning",this.opts.infoTimeout),r=setTimeout(()=>{r=null},this.opts.infoTimeout)),this.log(`${l} ${o}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const n=a=>{const i=a.filter(o=>{const c=o!=null&&this.getFile(o.id);return c||this.log(`Not setting progress for a file that has been removed: ${o==null?void 0:o.id}`),c}),l=Object.fromEntries(i.map(o=>[o.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:o.size}}]));this.patchFilesState(l)};this.on("upload-start",n),this.on("upload-progress",C(this,hx)),this.on("upload-success",(a,i)=>{if(a==null||!this.getFile(a.id)){this.log(`Not setting progress for a file that has been removed: ${a==null?void 0:a.id}`);return}const l=this.getFile(a.id).progress;this.setFileState(a.id,{progress:{...l,postprocess:C(this,eo).size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:l.bytesTotal},response:i,uploadURL:i.uploadURL,isPaused:!1}),a.size==null&&this.setFileState(a.id,{size:i.bytesUploaded||l.bytesTotal}),C(this,to).call(this)}),this.on("preprocess-progress",(a,i)=>{if(a==null||!this.getFile(a.id)){this.log(`Not setting progress for a file that has been removed: ${a==null?void 0:a.id}`);return}this.setFileState(a.id,{progress:{...this.getFile(a.id).progress,preprocess:i}})}),this.on("preprocess-complete",a=>{if(a==null||!this.getFile(a.id)){this.log(`Not setting progress for a file that has been removed: ${a==null?void 0:a.id}`);return}const i={...this.getState().files};i[a.id]={...i[a.id],progress:{...i[a.id].progress}},delete i[a.id].progress.preprocess,this.setState({files:i})}),this.on("postprocess-progress",(a,i)=>{if(a==null||!this.getFile(a.id)){this.log(`Not setting progress for a file that has been removed: ${a==null?void 0:a.id}`);return}this.setFileState(a.id,{progress:{...this.getState().files[a.id].progress,postprocess:i}})}),this.on("postprocess-complete",a=>{if(a==null||!this.getFile(a.id)){this.log(`Not setting progress for a file that has been removed: ${a==null?void 0:a.id}`);return}const i={...this.getState().files};i[a.id]={...i[a.id],progress:{...i[a.id].progress}},delete i[a.id].progress.postprocess,this.setState({files:i})}),this.on("restored",()=>{C(this,to).call(this)}),this.on("dashboard:file-edit-complete",a=>{a&&xe(this,nt,bv).call(this,a)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",C(this,Zi)),window.addEventListener("offline",C(this,Zi)),setTimeout(C(this,Zi),3e3))},Zi=new WeakMap,zm=new WeakMap,ju=function(s,r={}){const{forceAllowNewUpload:n=!1}=r,{allowNewUpload:a,currentUploads:i}=this.getState();if(!a&&!n)throw new Error("Cannot create a new upload: already uploading.");const l=gN();return this.emit("upload",l,this.getFilesByIds(s)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...i,[l]:{fileIDs:s,step:0,result:{}}}}),l},KF=function(s){const{currentUploads:r}=this.getState();return r[s]},Yp=function(s){const r={...this.getState().currentUploads};delete r[s],this.setState({currentUploads:r})},wu=async function(s){const r=()=>{const{currentUploads:l}=this.getState();return l[s]};let n=r();const a=[...C(this,Gc),...C(this,Qc),...C(this,eo)];try{for(let l=n.step||0;l<a.length&&n;l++){const o=a[l];this.setState({currentUploads:{...this.getState().currentUploads,[s]:{...n,step:l}}});const{fileIDs:c}=n;await o(c,s),n=r()}}catch(l){throw xe(this,nt,Yp).call(this,s),l}if(n){n.fileIDs.forEach(d=>{const u=this.getFile(d);u!=null&&u.progress.postprocess&&this.emit("postprocess-complete",u)});const l=n.fileIDs.map(d=>this.getFile(d)),o=l.filter(d=>!d.error),c=l.filter(d=>d.error);this.addResultData(s,{successful:o,failed:c,uploadID:s}),n=r()}let i;return n&&(i=n.result,xe(this,nt,Yp).call(this,s)),i==null&&(this.log(`Not setting result for an upload that has been removed: ${s}`),i={successful:[],failed:[],uploadID:s}),i},T(px,"VERSION",Ese.version);let gv=px;var GF={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var s={}.hasOwnProperty;function r(){for(var i="",l=0;l<arguments.length;l++){var o=arguments[l];o&&(i=a(i,n(o)))}return i}function n(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return r.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var l="";for(var o in i)s.call(i,o)&&i[o]&&(l=a(l,o));return l}function a(i,l){return l?i?i+" "+l:i+l:i}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(GF);var $se=GF.exports;const ia=ji($se);function Vse(){return L("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30",children:L("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"})})}function Ut(t,s,r){return s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}var QF=typeof self<"u"?self:global;const Em=typeof navigator<"u",Bse=Em&&typeof HTMLImageElement>"u",vS=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),YF=QF.Buffer,ZF=!!YF,qse=t=>t!==void 0;function XF(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(qse).length===0)}function Hs(t){let s=new Error(t);throw delete s.stack,s}function jS(t){let s=function(r){let n=0;return r.ifd0.enabled&&(n+=1024),r.exif.enabled&&(n+=2048),r.makerNote&&(n+=2048),r.userComment&&(n+=1024),r.gps.enabled&&(n+=512),r.interop.enabled&&(n+=100),r.ifd1.enabled&&(n+=1024),n+2048}(t);return t.jfif.enabled&&(s+=50),t.xmp.enabled&&(s+=2e4),t.iptc.enabled&&(s+=14e3),t.icc.enabled&&(s+=6e3),s}const Y0=t=>String.fromCharCode.apply(null,t),wS=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;class Kn{static from(s,r){return s instanceof this&&s.le===r?s:new Kn(s,void 0,void 0,r)}constructor(s,r=0,n,a){if(typeof a=="boolean"&&(this.le=a),Array.isArray(s)&&(s=new Uint8Array(s)),s===0)this.byteOffset=0,this.byteLength=0;else if(s instanceof ArrayBuffer){n===void 0&&(n=s.byteLength-r);let i=new DataView(s,r,n);this._swapDataView(i)}else if(s instanceof Uint8Array||s instanceof DataView||s instanceof Kn){n===void 0&&(n=s.byteLength-r),(r+=s.byteOffset)+n>s.byteOffset+s.byteLength&&Hs("Creating view outside of available memory in ArrayBuffer");let i=new DataView(s.buffer,r,n);this._swapDataView(i)}else if(typeof s=="number"){let i=new DataView(new ArrayBuffer(s));this._swapDataView(i)}else Hs("Invalid input argument for BufferView: "+s)}_swapArrayBuffer(s){this._swapDataView(new DataView(s))}_swapBuffer(s){this._swapDataView(new DataView(s.buffer,s.byteOffset,s.byteLength))}_swapDataView(s){this.dataView=s,this.buffer=s.buffer,this.byteOffset=s.byteOffset,this.byteLength=s.byteLength}_lengthToEnd(s){return this.byteLength-s}set(s,r,n=Kn){return s instanceof DataView||s instanceof Kn?s=new Uint8Array(s.buffer,s.byteOffset,s.byteLength):s instanceof ArrayBuffer&&(s=new Uint8Array(s)),s instanceof Uint8Array||Hs("BufferView.set(): Invalid data argument."),this.toUint8().set(s,r),new n(this,r,s.byteLength)}subarray(s,r){return r=r||this._lengthToEnd(s),new Kn(this,s,r)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(s,r){return new Uint8Array(this.buffer,this.byteOffset+s,r)}getString(s=0,r=this.byteLength){return a=this.getUint8Array(s,r),wS?wS.decode(a):ZF?Buffer.from(a).toString("utf8"):decodeURIComponent(escape(Y0(a)));var a}getLatin1String(s=0,r=this.byteLength){let n=this.getUint8Array(s,r);return Y0(n)}getUnicodeString(s=0,r=this.byteLength){const n=[];for(let a=0;a<r&&s+a<this.byteLength;a+=2)n.push(this.getUint16(s+a));return Y0(n)}getInt8(s){return this.dataView.getInt8(s)}getUint8(s){return this.dataView.getUint8(s)}getInt16(s,r=this.le){return this.dataView.getInt16(s,r)}getInt32(s,r=this.le){return this.dataView.getInt32(s,r)}getUint16(s,r=this.le){return this.dataView.getUint16(s,r)}getUint32(s,r=this.le){return this.dataView.getUint32(s,r)}getFloat32(s,r=this.le){return this.dataView.getFloat32(s,r)}getFloat64(s,r=this.le){return this.dataView.getFloat64(s,r)}getFloat(s,r=this.le){return this.dataView.getFloat32(s,r)}getDouble(s,r=this.le){return this.dataView.getFloat64(s,r)}getUintBytes(s,r,n){switch(r){case 1:return this.getUint8(s,n);case 2:return this.getUint16(s,n);case 4:return this.getUint32(s,n);case 8:return this.getUint64&&this.getUint64(s,n)}}getUint(s,r,n){switch(r){case 8:return this.getUint8(s,n);case 16:return this.getUint16(s,n);case 32:return this.getUint32(s,n);case 64:return this.getUint64&&this.getUint64(s,n)}}toString(s){return this.dataView.toString(s,this.constructor.name)}ensureChunk(){}}function Sv(t,s){Hs(`${t} '${s}' was not loaded, try using full build of exifr.`)}class bN extends Map{constructor(s){super(),this.kind=s}get(s,r){return this.has(s)||Sv(this.kind,s),r&&(s in r||function(n,a){Hs(`Unknown ${n} '${a}'.`)}(this.kind,s),r[s].enabled||Sv(this.kind,s)),super.get(s)}keyList(){return Array.from(this.keys())}}var JF=new bN("file parser"),Vn=new bN("segment parser"),yN=new bN("file reader");let Wse=QF.fetch;function NS(t,s){return(r=t).startsWith("data:")||r.length>1e4?kv(t,s,"base64"):vS&&t.includes("://")?_v(t,s,"url",CS):vS?kv(t,s,"fs"):Em?_v(t,s,"url",CS):void Hs("Invalid input argument");var r}async function _v(t,s,r,n){return yN.has(r)?kv(t,s,r):n?async function(a,i){let l=await i(a);return new Kn(l)}(t,n):void Hs(`Parser ${r} is not loaded`)}async function kv(t,s,r){let n=new(yN.get(r))(t,s);return await n.read(),n}const CS=t=>Wse(t).then(s=>s.arrayBuffer()),Pv=t=>new Promise((s,r)=>{let n=new FileReader;n.onloadend=()=>s(n.result||new ArrayBuffer),n.onerror=r,n.readAsArrayBuffer(t)}),vN=new Map,Hse=new Map,Kse=new Map,pp=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],eL=["jfif","xmp","icc","iptc","ihdr"],Ev=["tiff",...eL],$s=["ifd0","ifd1","exif","gps","interop"],fp=[...Ev,...$s],xp=["makerNote","userComment"],tL=["translateKeys","translateValues","reviveValues","multiSegment"],gp=[...tL,"sanitize","mergeOutput","silentErrors"];class sL{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class nu extends sL{get needed(){return this.enabled||this.deps.size>0}constructor(s,r,n,a){if(super(),Ut(this,"enabled",!1),Ut(this,"skip",new Set),Ut(this,"pick",new Set),Ut(this,"deps",new Set),Ut(this,"translateKeys",!1),Ut(this,"translateValues",!1),Ut(this,"reviveValues",!1),this.key=s,this.enabled=r,this.parse=this.enabled,this.applyInheritables(a),this.canBeFiltered=$s.includes(s),this.canBeFiltered&&(this.dict=vN.get(s)),n!==void 0)if(Array.isArray(n))this.parse=this.enabled=!0,this.canBeFiltered&&n.length>0&&this.translateTagSet(n,this.pick);else if(typeof n=="object"){if(this.enabled=!0,this.parse=n.parse!==!1,this.canBeFiltered){let{pick:i,skip:l}=n;i&&i.length>0&&this.translateTagSet(i,this.pick),l&&l.length>0&&this.translateTagSet(l,this.skip)}this.applyInheritables(n)}else n===!0||n===!1?this.parse=this.enabled=n:Hs(`Invalid options argument: ${n}`)}applyInheritables(s){let r,n;for(r of tL)n=s[r],n!==void 0&&(this[r]=n)}translateTagSet(s,r){if(this.dict){let n,a,{tagKeys:i,tagValues:l}=this.dict;for(n of s)typeof n=="string"?(a=l.indexOf(n),a===-1&&(a=i.indexOf(Number(n))),a!==-1&&r.add(Number(i[a]))):r.add(n)}else for(let n of s)r.add(n)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,ox(this.pick,this.deps)):this.enabled&&this.pick.size>0&&ox(this.pick,this.deps)}}var vr={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},SS=new Map;class jN extends sL{static useCached(s){let r=SS.get(s);return r!==void 0||(r=new this(s),SS.set(s,r)),r}constructor(s){super(),s===!0?this.setupFromTrue():s===void 0?this.setupFromUndefined():Array.isArray(s)?this.setupFromArray(s):typeof s=="object"?this.setupFromObject(s):Hs(`Invalid options argument ${s}`),this.firstChunkSize===void 0&&(this.firstChunkSize=Em?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let s;for(s of pp)this[s]=vr[s];for(s of gp)this[s]=vr[s];for(s of xp)this[s]=vr[s];for(s of fp)this[s]=new nu(s,vr[s],void 0,this)}setupFromTrue(){let s;for(s of pp)this[s]=vr[s];for(s of gp)this[s]=vr[s];for(s of xp)this[s]=!0;for(s of fp)this[s]=new nu(s,!0,void 0,this)}setupFromArray(s){let r;for(r of pp)this[r]=vr[r];for(r of gp)this[r]=vr[r];for(r of xp)this[r]=vr[r];for(r of fp)this[r]=new nu(r,!1,void 0,this);this.setupGlobalFilters(s,void 0,$s)}setupFromObject(s){let r;for(r of($s.ifd0=$s.ifd0||$s.image,$s.ifd1=$s.ifd1||$s.thumbnail,Object.assign(this,s),pp))this[r]=Z0(s[r],vr[r]);for(r of gp)this[r]=Z0(s[r],vr[r]);for(r of xp)this[r]=Z0(s[r],vr[r]);for(r of Ev)this[r]=new nu(r,vr[r],s[r],this);for(r of $s)this[r]=new nu(r,vr[r],s[r],this.tiff);this.setupGlobalFilters(s.pick,s.skip,$s,fp),s.tiff===!0?this.batchEnableWithBool($s,!0):s.tiff===!1?this.batchEnableWithUserValue($s,s):Array.isArray(s.tiff)?this.setupGlobalFilters(s.tiff,void 0,$s):typeof s.tiff=="object"&&this.setupGlobalFilters(s.tiff.pick,s.tiff.skip,$s)}batchEnableWithBool(s,r){for(let n of s)this[n].enabled=r}batchEnableWithUserValue(s,r){for(let n of s){let a=r[n];this[n].enabled=a!==!1&&a!==void 0}}setupGlobalFilters(s,r,n,a=n){if(s&&s.length){for(let l of a)this[l].enabled=!1;let i=_S(s,n);for(let[l,o]of i)ox(this[l].pick,o),this[l].enabled=!0}else if(r&&r.length){let i=_S(r,n);for(let[l,o]of i)ox(this[l].skip,o)}}filterNestedSegmentTags(){let{ifd0:s,exif:r,xmp:n,iptc:a,icc:i}=this;this.makerNote?r.deps.add(37500):r.skip.add(37500),this.userComment?r.deps.add(37510):r.skip.add(37510),n.enabled||s.skip.add(700),a.enabled||s.skip.add(33723),i.enabled||s.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:s,exif:r,gps:n,interop:a}=this;a.needed&&(r.deps.add(40965),s.deps.add(40965)),r.needed&&s.deps.add(34665),n.needed&&s.deps.add(34853),this.tiff.enabled=$s.some(i=>this[i].enabled===!0)||this.makerNote||this.userComment;for(let i of $s)this[i].finalizeFilters()}get onlyTiff(){return!eL.map(s=>this[s].enabled).some(s=>s===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let s of Ev)this[s].enabled&&!Vn.has(s)&&Sv("segment parser",s)}}function _S(t,s){let r,n,a,i,l=[];for(a of s){for(i of(r=vN.get(a),n=[],r))(t.includes(i[0])||t.includes(i[1]))&&n.push(i[0]);n.length&&l.push([a,n])}return l}function Z0(t,s){return t!==void 0?t:s!==void 0?s:void 0}function ox(t,s){for(let r of s)t.add(r)}Ut(jN,"default",vr);class Gse{constructor(s){Ut(this,"parsers",{}),Ut(this,"output",{}),Ut(this,"errors",[]),Ut(this,"pushToErrors",r=>this.errors.push(r)),this.options=jN.useCached(s)}async read(s){this.file=await function(r,n){return typeof r=="string"?NS(r,n):Em&&!Bse&&r instanceof HTMLImageElement?NS(r.src,n):r instanceof Uint8Array||r instanceof ArrayBuffer||r instanceof DataView?new Kn(r):Em&&r instanceof Blob?_v(r,n,"blob",Pv):void Hs("Invalid input argument")}(s,this.options)}setup(){if(this.fileParser)return;let{file:s}=this,r=s.getUint16(0);for(let[n,a]of JF)if(a.canHandle(s,r))return this.fileParser=new a(this.options,this.file,this.parsers),s[n]=!0;this.file.close&&this.file.close(),Hs("Unknown file format")}async parse(){let{output:s,errors:r}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),r.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&r.length>0&&(s.errors=r),XF(n=s)?void 0:n;var n}async executeParsers(){let{output:s}=this;await this.fileParser.parse();let r=Object.values(this.parsers).map(async n=>{let a=await n.parse();n.assignToOutput(s,a)});this.options.silentErrors&&(r=r.map(n=>n.catch(this.pushToErrors))),await Promise.all(r)}async extractThumbnail(){this.setup();let{options:s,file:r}=this,n=Vn.get("tiff",s);var a;if(r.tiff?a={start:0,type:"tiff"}:r.jpeg&&(a=await this.fileParser.getOrFindSegment("tiff")),a===void 0)return;let i=await this.fileParser.ensureSegmentChunk(a),l=this.parsers.tiff=new n(i,s,r),o=await l.extractThumbnail();return r.close&&r.close(),o}}class mc{static findPosition(s,r){let n=s.getUint16(r+2)+2,a=typeof this.headerLength=="function"?this.headerLength(s,r,n):this.headerLength,i=r+a,l=n-a;return{offset:r,length:n,headerLength:a,start:i,size:l,end:i+l}}static parse(s,r={}){return new this(s,new jN({[this.type]:r}),s).parse()}normalizeInput(s){return s instanceof Kn?s:new Kn(s)}constructor(s,r={},n){Ut(this,"errors",[]),Ut(this,"raw",new Map),Ut(this,"handleError",a=>{if(!this.options.silentErrors)throw a;this.errors.push(a.message)}),this.chunk=this.normalizeInput(s),this.file=n,this.type=this.constructor.type,this.globalOptions=this.options=r,this.localOptions=r[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(s,r){let n=Kse.get(r),a=Hse.get(r),i=vN.get(r),l=this.options[r],o=l.reviveValues&&!!n,c=l.translateValues&&!!a,d=l.translateKeys&&!!i,u={};for(let[m,h]of s)o&&n.has(m)?h=n.get(m)(h):c&&a.has(m)&&(h=this.translateValue(h,a.get(m))),d&&i.has(m)&&(m=i.get(m)||m),u[m]=h;return u}translateValue(s,r){return r[s]||r.DEFAULT||s}assignToOutput(s,r){this.assignObjectToOutput(s,this.constructor.type,r)}assignObjectToOutput(s,r,n){if(this.globalOptions.mergeOutput)return Object.assign(s,n);s[r]?Object.assign(s[r],n):s[r]=n}}Ut(mc,"headerLength",4),Ut(mc,"type",void 0),Ut(mc,"multiSegment",!1),Ut(mc,"canHandle",()=>!1);function Qse(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function Yse(t){return t>=224&&t<=239}function Zse(t,s,r){for(let[n,a]of Vn)if(a.canHandle(t,s,r))return n}class kS extends class{constructor(s,r,n){Ut(this,"errors",[]),Ut(this,"ensureSegmentChunk",async a=>{let i=a.start,l=a.size||65536;if(this.file.chunked)if(this.file.available(i,l))a.chunk=this.file.subarray(i,l);else try{a.chunk=await this.file.readChunk(i,l)}catch(o){Hs(`Couldn't read segment: ${JSON.stringify(a)}. ${o.message}`)}else this.file.byteLength>i+l?a.chunk=this.file.subarray(i,l):a.size===void 0?a.chunk=this.file.subarray(i):Hs("Segment unreachable: "+JSON.stringify(a));return a.chunk}),this.extendOptions&&this.extendOptions(s),this.options=s,this.file=r,this.parsers=n}injectSegment(s,r){this.options[s].enabled&&this.createParser(s,r)}createParser(s,r){let n=new(Vn.get(s))(r,this.options,this.file);return this.parsers[s]=n}createParsers(s){for(let r of s){let{type:n,chunk:a}=r,i=this.options[n];if(i&&i.enabled){let l=this.parsers[n];l&&l.append||l||this.createParser(n,a)}}}async readSegments(s){let r=s.map(this.ensureSegmentChunk);await Promise.all(r)}}{constructor(...s){super(...s),Ut(this,"appSegments",[]),Ut(this,"jpegSegments",[]),Ut(this,"unknownSegments",[])}static canHandle(s,r){return r===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(s){s===!0?(this.findAll=!0,this.wanted=new Set(Vn.keyList())):(s=s===void 0?Vn.keyList().filter(r=>this.options[r].enabled):s.filter(r=>this.options[r].enabled&&Vn.has(r)),this.findAll=!1,this.remaining=new Set(s),this.wanted=new Set(s)),this.unfinishedMultiSegment=!1}async findAppSegments(s=0,r){this.setupSegmentFinderArgs(r);let{file:n,findAll:a,wanted:i,remaining:l}=this;if(!a&&this.file.chunked&&(a=Array.from(i).some(o=>{let c=Vn.get(o),d=this.options[o];return c.multiSegment&&d.multiSegment}),a&&await this.file.readWhole()),s=this.findAppSegmentsInRange(s,n.byteLength),!this.options.onlyTiff&&n.chunked){let o=!1;for(;l.size>0&&!o&&(n.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:c}=n,d=this.appSegments.some(u=>!this.file.available(u.offset||u.start,u.length||u.size));if(o=s>c&&!d?!await n.readNextChunk(s):!await n.readNextChunk(c),(s=this.findAppSegmentsInRange(s,n.byteLength))===void 0)return}}}findAppSegmentsInRange(s,r){r-=2;let n,a,i,l,o,c,{file:d,findAll:u,wanted:m,remaining:h,options:f}=this;for(;s<r;s++)if(d.getUint8(s)===255){if(n=d.getUint8(s+1),Yse(n)){if(a=d.getUint16(s+2),i=Zse(d,s,a),i&&m.has(i)&&(l=Vn.get(i),o=l.findPosition(d,s),c=f[i],o.type=i,this.appSegments.push(o),!u&&(l.multiSegment&&c.multiSegment?(this.unfinishedMultiSegment=o.chunkNumber<o.chunkCount,this.unfinishedMultiSegment||h.delete(i)):h.delete(i),h.size===0)))break;f.recordUnknownSegments&&(o=mc.findPosition(d,s),o.marker=n,this.unknownSegments.push(o)),s+=a+1}else if(Qse(n)){if(a=d.getUint16(s+2),n===218&&f.stopAfterSos!==!1)return;f.recordJpegSegments&&this.jpegSegments.push({offset:s,length:a,marker:n}),s+=a+1}}return s}mergeMultiSegments(){if(!this.appSegments.some(r=>r.multiSegment))return;let s=function(r,n){let a,i,l,o=new Map;for(let c=0;c<r.length;c++)a=r[c],i=a[n],o.has(i)?l=o.get(i):o.set(i,l=[]),l.push(a);return Array.from(o)}(this.appSegments,"type");this.mergedAppSegments=s.map(([r,n])=>{let a=Vn.get(r,this.options);return a.handleMultiSegments?{type:r,chunk:a.handleMultiSegments(n)}:n[0]})}getSegment(s){return this.appSegments.find(r=>r.type===s)}async getOrFindSegment(s){let r=this.getSegment(s);return r===void 0&&(await this.findAppSegments(0,[s]),r=this.getSegment(s)),r}}Ut(kS,"type","jpeg"),JF.set("jpeg",kS);const Xse=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class Jse extends mc{parseHeader(){var s=this.chunk.getUint16();s===18761?this.le=!0:s===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(s,r,n=new Map){let{pick:a,skip:i}=this.options[r];a=new Set(a);let l=a.size>0,o=i.size===0,c=this.chunk.getUint16(s);s+=2;for(let d=0;d<c;d++){let u=this.chunk.getUint16(s);if(l){if(a.has(u)&&(n.set(u,this.parseTag(s,u,r)),a.delete(u),a.size===0))break}else!o&&i.has(u)||n.set(u,this.parseTag(s,u,r));s+=12}return n}parseTag(s,r,n){let{chunk:a}=this,i=a.getUint16(s+2),l=a.getUint32(s+4),o=Xse[i];if(o*l<=4?s+=8:s=a.getUint32(s+8),(i<1||i>13)&&Hs(`Invalid TIFF value type. block: ${n.toUpperCase()}, tag: ${r.toString(16)}, type: ${i}, offset ${s}`),s>a.byteLength&&Hs(`Invalid TIFF value offset. block: ${n.toUpperCase()}, tag: ${r.toString(16)}, type: ${i}, offset ${s} is outside of chunk size ${a.byteLength}`),i===1)return a.getUint8Array(s,l);if(i===2)return(c=function(d){for(;d.endsWith("\0");)d=d.slice(0,-1);return d}(c=a.getString(s,l)).trim())===""?void 0:c;var c;if(i===7)return a.getUint8Array(s,l);if(l===1)return this.parseTagValue(i,s);{let d=new(function(m){switch(m){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(i))(l),u=o;for(let m=0;m<l;m++)d[m]=this.parseTagValue(i,s),s+=u;return d}}parseTagValue(s,r){let{chunk:n}=this;switch(s){case 1:return n.getUint8(r);case 3:return n.getUint16(r);case 4:return n.getUint32(r);case 5:return n.getUint32(r)/n.getUint32(r+4);case 6:return n.getInt8(r);case 8:return n.getInt16(r);case 9:return n.getInt32(r);case 10:return n.getInt32(r)/n.getInt32(r+4);case 11:return n.getFloat(r);case 12:return n.getDouble(r);case 13:return n.getUint32(r);default:Hs(`Invalid tiff type ${s}`)}}}class X0 extends Jse{static canHandle(s,r){return s.getUint8(r+1)===225&&s.getUint32(r+4)===1165519206&&s.getUint16(r+8)===0}async parse(){this.parseHeader();let{options:s}=this;return s.ifd0.enabled&&await this.parseIfd0Block(),s.exif.enabled&&await this.safeParse("parseExifBlock"),s.gps.enabled&&await this.safeParse("parseGpsBlock"),s.interop.enabled&&await this.safeParse("parseInteropBlock"),s.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(s){let r=this[s]();return r.catch!==void 0&&(r=r.catch(this.handleError)),r}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let s=this.chunk.getUint16(this.ifd0Offset),r=this.ifd0Offset+2+12*s;this.ifd1Offset=this.chunk.getUint32(r)}}parseBlock(s,r){let n=new Map;return this[r]=n,this.parseTags(s,r,n),n}async parseIfd0Block(){if(this.ifd0)return;let{file:s}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Hs("Malformed EXIF data"),!s.chunked&&this.ifd0Offset>s.byteLength&&Hs(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${s.byteLength}`),s.tiff&&await s.ensureChunk(this.ifd0Offset,jS(this.options));let r=this.parseBlock(this.ifd0Offset,"ifd0");return r.size!==0?(this.exifOffset=r.get(34665),this.interopOffset=r.get(40965),this.gpsOffset=r.get(34853),this.xmp=r.get(700),this.iptc=r.get(33723),this.icc=r.get(34675),this.options.sanitize&&(r.delete(34665),r.delete(40965),r.delete(34853),r.delete(700),r.delete(33723),r.delete(34675)),r):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,jS(this.options));let s=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=s.get(40965)),this.makerNote=s.get(37500),this.userComment=s.get(37510),this.options.sanitize&&(s.delete(40965),s.delete(37500),s.delete(37510)),this.unpack(s,41728),this.unpack(s,41729),s}unpack(s,r){let n=s.get(r);n&&n.length===1&&s.set(r,n[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let s=this.parseBlock(this.gpsOffset,"gps");return s&&s.has(2)&&s.has(4)&&(s.set("latitude",PS(...s.get(2),s.get(1))),s.set("longitude",PS(...s.get(4),s.get(3)))),s}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(s=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||s))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let s=this.ifd1.get(513),r=this.ifd1.get(514);return this.chunk.getUint8Array(s,r)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let s,r,n,a={};for(r of $s)if(s=this[r],!XF(s))if(n=this.canTranslate?this.translateBlock(s,r):Object.fromEntries(s),this.options.mergeOutput){if(r==="ifd1")continue;Object.assign(a,n)}else a[r]=n;return this.makerNote&&(a.makerNote=this.makerNote),this.userComment&&(a.userComment=this.userComment),a}assignToOutput(s,r){if(this.globalOptions.mergeOutput)Object.assign(s,r);else for(let[n,a]of Object.entries(r))this.assignObjectToOutput(s,n,a)}}function PS(t,s,r,n){var a=t+s/60+r/3600;return n!=="S"&&n!=="W"||(a*=-1),a}Ut(X0,"type","tiff"),Ut(X0,"headerLength",10),Vn.set("tiff",X0);const wN={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},wN,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},wN,{tiff:!1,ifd1:!0,mergeOutput:!1});const ere=Object.assign({},wN,{firstChunkSize:4e4,ifd0:[274]});async function tre(t){let s=new Gse(ere);await s.read(t);let r=await s.parse();if(r&&r.ifd0)return r.ifd0[274]}const sre=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Nu=!0,Cu=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let s=t.match(/OS (\d+)_(\d+)/);if(s){let[,r,n]=s;Nu=Number(r)+.1*Number(n)<13.4,Cu=!1}}else if(t.includes("OS X 10")){let[,s]=t.match(/OS X 10[_.](\d+)/);Nu=Cu=Number(s)<15}if(t.includes("Chrome/")){let[,s]=t.match(/Chrome\/(\d+)/);Nu=Cu=Number(s)<81}else if(t.includes("Firefox/")){let[,s]=t.match(/Firefox\/(\d+)/);Nu=Cu=Number(s)<77}}async function rre(t){let s=await tre(t);return Object.assign({canvas:Nu,css:Cu},sre[s])}class nre extends Kn{constructor(...s){super(...s),Ut(this,"ranges",new are),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(s,r,n){if(s===0&&this.byteLength===0&&n){let a=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(a)}else{let a=s+r;if(a>this.byteLength){let{dataView:i}=this._extend(a);this._swapDataView(i)}}}_extend(s){let r;r=ZF?YF.allocUnsafe(s):new Uint8Array(s);let n=new DataView(r.buffer,r.byteOffset,r.byteLength);return r.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:r,dataView:n}}subarray(s,r,n=!1){return r=r||this._lengthToEnd(s),n&&this._tryExtend(s,r),this.ranges.add(s,r),super.subarray(s,r)}set(s,r,n=!1){n&&this._tryExtend(r,s.byteLength,s);let a=super.set(s,r);return this.ranges.add(r,a.byteLength),a}async ensureChunk(s,r){this.chunked&&(this.ranges.available(s,r)||await this.readChunk(s,r))}available(s,r){return this.ranges.available(s,r)}}class are{constructor(){Ut(this,"list",[])}get length(){return this.list.length}add(s,r,n=0){let a=s+r,i=this.list.filter(l=>ES(s,l.offset,a)||ES(s,l.end,a));if(i.length>0){s=Math.min(s,...i.map(o=>o.offset)),a=Math.max(a,...i.map(o=>o.end)),r=a-s;let l=i.shift();l.offset=s,l.length=r,l.end=a,this.list=this.list.filter(o=>!i.includes(o))}else this.list.push({offset:s,length:r,end:a})}available(s,r){let n=s+r;return this.list.some(a=>a.offset<=s&&n<=a.end)}}function ES(t,s,r){return t<=s&&s<=r}class ire extends nre{constructor(s,r){super(0),Ut(this,"chunksRead",0),this.input=s,this.options=r}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(s=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let r=this.options.chunkSize,n=await this.readChunk(s,r);return!!n&&n.byteLength===r}async readChunk(s,r){if(this.chunksRead++,(r=this.safeWrapAddress(s,r))!==0)return this._readChunk(s,r)}safeWrapAddress(s,r){return this.size!==void 0&&s+r>this.size?Math.max(0,this.size-s):r}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}yN.set("blob",class extends ire{async readWhole(){this.chunked=!1;let t=await Pv(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,s){let r=s?t+s:void 0,n=this.input.slice(t,r),a=await Pv(n);return this.set(a,t,!0)}});const lre="@uppy/thumbnail-generator",ore="Uppy plugin that generates small previews of images to show on your upload UI.",cre="5.0.0",dre="MIT",ure="lib/index.js",mre="module",hre=!1,pre={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},fre=["file uploader","uppy","uppy-plugin","thumbnail","preview","resize"],xre="https://uppy.io",gre={url:"https://github.com/transloadit/uppy/issues"},bre={type:"git",url:"git+https://github.com/transloadit/uppy.git"},yre=["src","lib","dist","CHANGELOG.md"],vre={".":"./lib/index.js","./package.json":"./package.json"},jre={"@uppy/utils":"^7.0.0",exifr:"^7.0.0"},wre={jsdom:"^26.1.0","namespace-emitter":"2.0.1",typescript:"^5.8.3",vitest:"^3.2.4"},Nre={"@uppy/core":"^5.0.0"},Cre={name:lre,description:ore,version:cre,license:dre,main:ure,type:mre,sideEffects:hre,scripts:pre,keywords:fre,homepage:xre,bugs:gre,repository:bre,files:yre,exports:vre,dependencies:jre,devDependencies:wre,peerDependencies:Nre},Sre={strings:{generatingThumbnails:"Generating thumbnails..."}};function _re(t,s,r){try{t.getContext("2d").getImageData(0,0,1,1)}catch(n){if(n.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return t.toBlob?new Promise(n=>{t.toBlob(n,s,r)}).then(n=>{if(n===null)throw new Error("cannot read image, probably an svg with external resources");return n}):Promise.resolve().then(()=>tee(t.toDataURL(s,r),{})).then(n=>{if(n===null)throw new Error("could not extract blob, probably an old browser");return n})}function kre(t,s){let r=t.width,n=t.height;(s.deg===90||s.deg===270)&&(r=t.height,n=t.width);const a=document.createElement("canvas");a.width=r,a.height=n;const i=a.getContext("2d");return i.translate(r/2,n/2),s.canvas&&(i.rotate(s.rad),i.scale(s.scaleX,s.scaleY)),i.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),a}function Pre(t){const s=t.width/t.height,r=5e6,n=4096;let a=Math.floor(Math.sqrt(r*s)),i=Math.floor(r/Math.sqrt(r*s));if(a>n&&(a=n,i=Math.round(a/s)),i>n&&(i=n,a=Math.round(s*i)),t.width>a){const l=document.createElement("canvas");return l.width=a,l.height=i,l.getContext("2d").drawImage(t,0,0,a,i),l}return t}const Ere={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class rL extends lx{constructor(r,n){super(r,{...Ere,...n});T(this,"queue");T(this,"queueProcessing");T(this,"defaultThumbnailDimension");T(this,"thumbnailType");T(this,"onFileAdded",r=>{!r.preview&&r.data&&XC(r.type)&&!r.isRemote&&this.addToQueue(r.id)});T(this,"onCancelRequest",r=>{const n=this.queue.indexOf(r.id);n!==-1&&this.queue.splice(n,1)});T(this,"onFileRemoved",r=>{const n=this.queue.indexOf(r.id);n!==-1&&this.queue.splice(n,1),r.preview&&ZC(r.preview)&&URL.revokeObjectURL(r.preview)});T(this,"onRestored",()=>{this.uppy.getFiles().filter(n=>n.isRestored).forEach(n=>{(!n.preview||ZC(n.preview))&&this.addToQueue(n.id)})});T(this,"onAllFilesRemoved",()=>{this.queue=[]});T(this,"waitUntilAllProcessed",r=>{r.forEach(a=>{const i=this.uppy.getFile(a);this.uppy.emit("preprocess-progress",i,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const n=()=>{r.forEach(a=>{const i=this.uppy.getFile(a);this.uppy.emit("preprocess-complete",i)})};return new Promise(a=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{n(),a()}):(n(),a())})});if(this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=Sre,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(r,n,a){const i=URL.createObjectURL(r.data),l=new Promise((c,d)=>{const u=new Image;u.src=i,u.addEventListener("load",()=>{URL.revokeObjectURL(i),c(u)}),u.addEventListener("error",m=>{URL.revokeObjectURL(i),d(m.error||new Error("Could not create thumbnail"))})}),o=rre(r.data).catch(()=>1);return Promise.all([l,o]).then(([c,d])=>{const u=this.getProportionalDimensions(c,n,a,d.deg),m=kre(c,d),h=this.resizeImage(m,u.width,u.height);return _re(h,this.thumbnailType,80)}).then(c=>URL.createObjectURL(c))}getProportionalDimensions(r,n,a,i){let l=r.width/r.height;if((i===90||i===270)&&(l=r.height/r.width),n!=null){let o=n;return r.width<n&&(o=r.width),{width:o,height:Math.round(o/l)}}if(a!=null){let o=a;return r.height<a&&(o=r.height),{width:Math.round(o*l),height:o}}return{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/l)}}resizeImage(r,n,a){let i=Pre(r),l=Math.ceil(Math.log2(i.width/n));l<1&&(l=1);let o=n*2**(l-1),c=a*2**(l-1);const d=2;for(;l--;){const u=document.createElement("canvas");u.width=o,u.height=c,u.getContext("2d").drawImage(i,0,0,o,c),i=u,o=Math.round(o/d),c=Math.round(c/d)}return i}setPreviewURL(r,n){this.uppy.setFileState(r,{preview:n})}addToQueue(r){this.queue.push(r),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const r=this.uppy.getFile(this.queue.shift());return r?this.requestThumbnail(r).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(r){return XC(r.type)&&!r.isRemote?this.createThumbnail(r,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(n=>{this.setPreviewURL(r.id,n),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${r.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(r.id),n)}).catch(n=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${r.id}:`,"warning"),this.uppy.log(n,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(r.id),n)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}T(rL,"VERSION",Cre.version);const Are="@uppy/dashboard",Tre="Universal UI plugin for Uppy.",Rre="5.0.1",Dre="MIT",Mre="lib/index.js",Ore="dist/style.min.css",Ire="module",Fre=["*.css"],Lre={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --silent='passed-only'","test:e2e":"vitest watch --project browser --browser.headless false"},zre=["file uploader","uppy","uppy-plugin","dashboard","ui"],Ure="https://uppy.io",$re={url:"https://github.com/transloadit/uppy/issues"},Vre={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Bre=["src","lib","dist","CHANGELOG.md"],qre={".":"./lib/index.js","./css/style.css":"./dist/style.css","./css/style.min.css":"./dist/style.min.css","./package.json":"./package.json"},Wre={"@transloadit/prettier-bytes":"^0.3.4","@uppy/provider-views":"^5.0.1","@uppy/thumbnail-generator":"^5.0.0","@uppy/utils":"^7.0.1",classnames:"^2.2.6",lodash:"^4.17.21",nanoid:"^5.0.9",preact:"^10.5.13","shallow-equal":"^3.0.0"},Hre={"@uppy/core":"^5.0.1","@uppy/google-drive":"^5.0.0","@uppy/url":"^5.0.0","@uppy/webcam":"^5.0.0","@vitest/browser":"^3.2.4",cssnano:"^7.0.7",jsdom:"^26.1.0",playwright:"1.54.1",postcss:"^8.5.6","postcss-cli":"^11.0.1","resize-observer-polyfill":"^1.5.0",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},Kre={"@uppy/core":"^5.0.1"},Gre={name:Are,description:Tre,version:Rre,license:Dre,main:Mre,style:Ore,type:Ire,sideEffects:Fre,scripts:Lre,keywords:zre,homepage:Ure,bugs:$re,repository:Vre,files:Bre,exports:qre,dependencies:Wre,devDependencies:Hre,peerDependencies:Kre};class nL extends Da{constructor(){super(...arguments);T(this,"fileInput",null);T(this,"folderInput",null);T(this,"mobilePhotoFileInput",null);T(this,"mobileVideoFileInput",null);T(this,"triggerFileInputClick",()=>{var r;(r=this.fileInput)==null||r.click()});T(this,"triggerFolderInputClick",()=>{var r;(r=this.folderInput)==null||r.click()});T(this,"triggerVideoCameraInputClick",()=>{var r;(r=this.mobileVideoFileInput)==null||r.click()});T(this,"triggerPhotoCameraInputClick",()=>{var r;(r=this.mobilePhotoFileInput)==null||r.click()});T(this,"onFileInputChange",r=>{this.props.handleInputChange(r),r.currentTarget.value=""});T(this,"renderHiddenInput",(r,n)=>{var a;return L("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:r,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:(a=this.props.allowedFileTypes)==null?void 0:a.join(", "),ref:n})});T(this,"renderHiddenCameraInput",(r,n,a)=>{const l={photo:"image/*",video:"video/*"}[r];return L("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${r}`,onChange:this.onFileInputChange,capture:n===""?"environment":n,accept:l,ref:a})});T(this,"renderMyDeviceAcquirer",()=>L("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice",children:L("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick,children:[L("div",{className:"uppy-DashboardTab-inner",children:L("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:L("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"})})}),L("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("myDevice")})]})}));T(this,"renderPhotoCamera",()=>L("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera",children:L("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick,children:[L("div",{className:"uppy-DashboardTab-inner",children:L("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:L("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"})})}),L("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("takePictureBtn")})]})}));T(this,"renderVideoCamera",()=>L("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera",children:L("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick,children:[L("div",{className:"uppy-DashboardTab-inner",children:L("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:L("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})})}),L("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("recordVideoBtn")})]})}));T(this,"renderBrowseButton",(r,n)=>{const a=this.props.acquirers.length;return L("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:n,"data-uppy-super-focusable":a===0,children:r})});T(this,"renderDropPasteBrowseTagline",r=>{const n=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),a=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),i=this.props.fileManagerSelectionType,l=i.charAt(0).toUpperCase()+i.slice(1);return L("div",{class:"uppy-Dashboard-AddFiles-title",children:this.props.disableLocalFiles?this.props.i18n("importFiles"):r>0?this.props.i18nArray(`dropPasteImport${l}`,{browseFiles:n,browseFolders:a,browse:n}):this.props.i18nArray(`dropPaste${l}`,{browseFiles:n,browseFolders:a,browse:n})})});T(this,"renderAcquirer",r=>{var n;return L("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":r.id,children:L("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":r.id,"aria-controls":`uppy-DashboardContent-panel--${r.id}`,"aria-selected":((n=this.props.activePickerPanel)==null?void 0:n.id)===r.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(r.id),children:[L("div",{className:"uppy-DashboardTab-inner",children:r.icon()}),L("div",{className:"uppy-DashboardTab-name",children:r.name})]})})});T(this,"renderAcquirers",r=>{const n=[...r],a=n.splice(r.length-2,r.length);return L(ci,{children:[n.map(i=>this.renderAcquirer(i)),L("span",{role:"presentation",style:{"white-space":"nowrap"},children:a.map(i=>this.renderAcquirer(i))})]})});T(this,"renderSourcesList",(r,n)=>{const{showNativePhotoCameraButton:a,showNativeVideoCameraButton:i}=this.props;let l=[];const o="myDevice";n||l.push({key:o,elements:this.renderMyDeviceAcquirer()}),a&&l.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),i&&l.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),l.push(...r.map(m=>({key:m.id,elements:this.renderAcquirer(m)}))),l.length===1&&l[0].key===o&&(l=[]);const d=[...l],u=d.splice(l.length-2,l.length);return L(ci,{children:[this.renderDropPasteBrowseTagline(l.length),L("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist",children:[d.map(({key:m,elements:h})=>L(ci,{children:h},m)),L("span",{role:"presentation",style:{"white-space":"nowrap"},children:u.map(({key:m,elements:h})=>L(ci,{children:h},m))})]})]})})}[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:r}=this.props,n=L("span",{children:[L("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",children:L("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})}),L("span",{className:"uppy-Dashboard-poweredByUppy",children:"Uppy"})]}),a=r("poweredBy",{uppy:n});return L("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy",children:a})}render(){const{showNativePhotoCameraButton:r,showNativeVideoCameraButton:n,nativeCameraFacingMode:a}=this.props;return L("div",{className:"uppy-Dashboard-AddFiles",children:[this.renderHiddenInput(!1,i=>{this.fileInput=i}),this.renderHiddenInput(!0,i=>{this.folderInput=i}),r&&this.renderHiddenCameraInput("photo",a,i=>{this.mobilePhotoFileInput=i}),n&&this.renderHiddenCameraInput("video",a,i=>{this.mobileVideoFileInput=i}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),L("div",{className:"uppy-Dashboard-AddFiles-info",children:[this.props.note&&L("div",{className:"uppy-Dashboard-note",children:this.props.note}),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy()]})]})}}const Qre=t=>L("div",{className:ia("uppy-Dashboard-AddFilesPanel",t.className),"data-uppy-panelType":"AddFiles","aria-hidden":!t.showAddFilesPanel,children:[L("div",{className:"uppy-DashboardContent-bar",children:[L("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18n("addingMoreFiles")}),L("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>t.toggleAddFilesPanel(!1),children:t.i18n("back")})]}),L(nL,{...t})]});function Yre(t){const s=t.files[t.fileCardFor],r=()=>{t.uppy.emit("file-editor:cancel",s),t.closeFileEditor()};return L("div",{className:ia("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor",children:[L("div",{className:"uppy-DashboardContent-bar",children:[L("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18nArray("editing",{file:L("span",{className:"uppy-DashboardContent-titleFile",children:s.meta?s.meta.name:s.name})})}),L("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r,children:t.i18n("cancel")}),L("button",{className:"uppy-DashboardContent-save",type:"button",onClick:t.saveFileEditor,children:t.i18n("save")})]}),L("div",{className:"uppy-DashboardContent-panelBody",children:t.editors.map(n=>t.uppy.getPlugin(n.id).render(t.state))})]})}function Zre(){return L("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:L("g",{fill:"#686DE0",fillRule:"evenodd",children:[L("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),L("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),L("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})})}function Xre(){return L("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:L("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"})})}function Jre(){return L("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:L("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"})})}function ene(){return L("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:L("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"})})}function tne(){return L("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:L("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"})})}function sne(){return L("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:L("g",{fill:"#A7AFB7",fillRule:"nonzero",children:[L("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),L("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})})}function rne(){return L("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:L("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"})})}function NN(t){const s={color:"#838999",icon:sne()};if(!t)return s;const r=t.split("/")[0],n=t.split("/")[1];return r==="text"?{color:"#5a5e69",icon:rne()}:r==="image"?{color:"#686de0",icon:Zre()}:r==="audio"?{color:"#068dbb",icon:Xre()}:r==="video"?{color:"#19af67",icon:Jre()}:r==="application"&&n==="pdf"?{color:"#e25149",icon:ene()}:r==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(n)!==-1?{color:"#00C469",icon:tne()}:s}function rl(t){const{tagName:s}=t.target;if(s==="INPUT"||s==="TEXTAREA"){t.stopPropagation();return}t.preventDefault(),t.stopPropagation()}function aL(t){const{file:s}=t;if(s.preview)return L("img",{draggable:!1,className:"uppy-Dashboard-Item-previewImg",alt:s.name,src:s.preview});const{color:r,icon:n}=NN(s.type);return L("div",{className:"uppy-Dashboard-Item-previewIconWrap",children:[L("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:r},children:n}),L("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76",children:L("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})})]})}function nne(t){const{computedMetaFields:s,requiredMetaFields:r,updateMeta:n,form:a,formState:i}=t,l={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return s.map(o=>{const c=`uppy-Dashboard-FileCard-input-${o.id}`,d=r.includes(o.id);return L("fieldset",{className:"uppy-Dashboard-FileCard-fieldset",children:[L("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:c,children:o.name}),o.render!==void 0?o.render({value:i[o.id],onChange:u=>n(u,o.id),fieldCSSClasses:l,required:d,form:a.id},uN):L("input",{className:l.text,id:c,form:a.id,type:o.type||"text",required:d,value:i[o.id],placeholder:o.placeholder,onInput:u=>n(u.target.value,o.id),"data-uppy-super-focusable":!0})]},o.id)})}function ane(t){const{files:s,fileCardFor:r,toggleFileCard:n,saveFileCard:a,metaFields:i,requiredMetaFields:l,openFileEditor:o,i18n:c,i18nArray:d,className:u,canEditFile:m}=t,h=()=>typeof i=="function"?i(s[r]):i,f=s[r],b=h()??[],x=m(f),v={};b.forEach(k=>{v[k.id]=f.meta[k.id]??""});const[g,y]=Td(v),j=ix(k=>{k.preventDefault(),a(g,r)},[a,g,r]),w=(k,S)=>{y({...g,[S]:k})},N=()=>{n(!1)},[_]=Td(()=>{const k=document.createElement("form");return k.setAttribute("tabindex","-1"),k.id=gN(),k});return ax(()=>(document.body.appendChild(_),_.addEventListener("submit",j),()=>{_.removeEventListener("submit",j),_.parentNode&&document.body.removeChild(_)}),[_,j]),L("div",{className:ia("uppy-Dashboard-FileCard",u),"data-uppy-panelType":"FileCard",onDragOver:rl,onDragLeave:rl,onDrop:rl,onPaste:rl,children:[L("div",{className:"uppy-DashboardContent-bar",children:[L("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:d("editing",{file:L("span",{className:"uppy-DashboardContent-titleFile",children:f.meta?f.meta.name:f.name})})}),L("button",{className:"uppy-DashboardContent-back",type:"button",form:_.id,title:c("finishEditingFile"),onClick:N,children:c("cancel")})]}),L("div",{className:"uppy-Dashboard-FileCard-inner",children:[L("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:NN(f.type).color},children:[L(aL,{file:f}),x&&L("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:k=>{j(k),o(f)},children:c("editImage")})]}),L("div",{className:"uppy-Dashboard-FileCard-info",children:L(nne,{computedMetaFields:b,requiredMetaFields:l,updateMeta:w,form:_,formState:g})}),L("div",{className:"uppy-Dashboard-FileCard-actions",children:[L("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:_.id,children:c("saveChanges")}),L("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:N,form:_.id,children:c("cancel")})]})]})]})}function ine(t,s){if(t===s)return!0;if(!t||!s)return!1;const r=Object.keys(t),n=Object.keys(s),a=r.length;if(n.length!==a)return!1;for(let i=0;i<a;i++){const l=r[i];if(t[l]!==s[l]||!Object.prototype.hasOwnProperty.call(s,l))return!1}return!0}function lne(t,s="Copy the URL below"){return new Promise(r=>{const n=document.createElement("textarea");n.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),n.value=t,document.body.appendChild(n),n.select();const a=()=>{document.body.removeChild(n),window.prompt(s,t),r()};try{return document.execCommand("copy")?(document.body.removeChild(n),r()):a()}catch{return document.body.removeChild(n),a()}})}function one({file:t,uploadInProgressOrComplete:s,metaFields:r,canEditFile:n,i18n:a,onClick:i}){return!s&&r&&r.length>0||!s&&n(t)?L("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":a("editFileWithFilename",{file:t.meta.name}),title:a("editFileWithFilename",{file:t.meta.name}),onClick:()=>i(),children:L("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14",children:L("g",{fillRule:"evenodd",children:[L("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),L("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),L("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})]})})}):null}function cne({i18n:t,onClick:s,file:r}){return L("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:r.meta.name}),title:t("removeFile",{file:r.meta.name}),onClick:()=>s(),children:L("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18",children:[L("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),L("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})]})})}function dne({file:t,uppy:s,i18n:r}){const n=a=>{lne(t.uploadURL,r("copyLinkToClipboardFallback")).then(()=>{s.log("Link copied to clipboard."),s.info(r("copyLinkToClipboardSuccess"),"info",3e3)}).catch(s.log).then(()=>a.target.focus({preventScroll:!0}))};return L("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":r("copyLink"),title:r("copyLink"),onClick:a=>n(a),children:L("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12",children:L("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})})})}function une(t){const{uppy:s,file:r,uploadInProgressOrComplete:n,canEditFile:a,metaFields:i,showLinkToFileUploadResult:l,showRemoveButton:o,i18n:c,toggleFileCard:d,openFileEditor:u}=t;return L("div",{className:"uppy-Dashboard-Item-actionWrapper",children:[L(one,{i18n:c,file:r,uploadInProgressOrComplete:n,canEditFile:a,metaFields:i,onClick:()=>{i&&i.length>0?d(!0,r.id):u(r)}}),l&&r.uploadURL?L(dne,{file:r,uppy:s,i18n:c}):null,o?L(cne,{i18n:c,file:r,onClick:()=>s.removeFile(r.id)}):null]})}const mne=(t,s)=>(typeof s=="function"?s():s).filter(a=>a.id===t)[0].name;function iL(t){const{file:s,toggleFileCard:r,i18n:n,metaFields:a}=t,{missingRequiredMetaFields:i}=s;if(!(i!=null&&i.length))return null;const l=i.map(o=>mne(o,a)).join(", ");return L("div",{className:"uppy-Dashboard-Item-errorMessage",children:[n("missingRequiredMetaFields",{smart_count:i.length,fields:l})," ",L("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>r(!0,s.id),children:n("editFile")})]})}const hne=t=>{const{author:s,name:r}=t.file.meta;function n(){return t.isSingleFile&&t.containerHeight>=350?90:t.containerWidth<=352?35:t.containerWidth<=576?60:s?20:30}return L("div",{className:"uppy-Dashboard-Item-name",title:r,children:yF(r,n())})},pne=t=>{var a;const{author:s}=t.file.meta,r=(a=t.file.remote)==null?void 0:a.providerName,n="·";return s?L("div",{className:"uppy-Dashboard-Item-author",children:[L("a",{href:`${s.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",children:yF(s.name,13)}),r?L(ci,{children:[` ${n} `,r,` ${n} `]}):null]}):null},fne=t=>t.file.size&&L("div",{className:"uppy-Dashboard-Item-statusSize",children:ql(t.file.size)}),xne=t=>t.file.isGhost&&L("span",{children:[" • ",L("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>t.toggleAddFilesPanel(!0),children:t.i18n("reSelect")})]}),gne=({file:t,onClick:s})=>t.error?L("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:s,type:"button",children:"?"}):null;function bne(t){const{file:s,i18n:r,toggleFileCard:n,metaFields:a,toggleAddFilesPanel:i,isSingleFile:l,containerHeight:o,containerWidth:c}=t;return L("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":s.source,children:[L("div",{className:"uppy-Dashboard-Item-fileName",children:[hne({file:s,isSingleFile:l,containerHeight:o,containerWidth:c}),L(gne,{file:s,onClick:()=>alert(s.error)})]}),L("div",{className:"uppy-Dashboard-Item-status",children:[pne({file:s}),fne({file:s}),xne({file:s,toggleAddFilesPanel:i,i18n:r})]}),L(iL,{file:s,i18n:r,toggleFileCard:n,metaFields:a})]})}function yne(t){const{file:s,i18n:r,toggleFileCard:n,metaFields:a,showLinkToFileUploadResult:i}=t,o=s.preview?"rgba(255, 255, 255, 0.5)":NN(s.type).color;return L("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:o},children:[i&&s.uploadURL&&L("a",{className:"uppy-Dashboard-Item-previewLink",href:s.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":s.meta.name,children:L("span",{hidden:!0,children:s.meta.name})}),L(aL,{file:s}),L(iL,{file:s,i18n:r,toggleFileCard:n,metaFields:a})]})}function vne(t){if(!t.isUploaded){if(t.error&&!t.hideRetryButton){t.uppy.retryUpload(t.file.id);return}t.resumableUploads&&!t.hidePauseResumeButton?t.uppy.pauseResume(t.file.id):t.individualCancellation&&!t.hideCancelButton&&t.uppy.removeFile(t.file.id)}}function AS(t){return t.isUploaded?t.i18n("uploadComplete"):t.error?t.i18n("retryUpload"):t.resumableUploads?t.file.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):t.individualCancellation?t.i18n("cancelUpload"):""}function J0(t){return L("div",{className:"uppy-Dashboard-Item-progress",children:L("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":AS(t),title:AS(t),onClick:()=>vne(t),children:t.children})})}function bp({children:t}){return L("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle",children:t})}function eb({progress:t}){const s=2*Math.PI*15;return L("g",{children:[L("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),L("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":s,"stroke-dashoffset":s-s/100*t})]})}function jne(t){return!t.file.progress.uploadStarted||t.file.progress.percentage===void 0?null:t.isUploaded?L("div",{className:"uppy-Dashboard-Item-progress",children:L("div",{className:"uppy-Dashboard-Item-progressIndicator",children:L(bp,{children:[L("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),L("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})]})})}):t.recoveredState?null:t.error&&!t.hideRetryButton?L(J0,{...t,children:L("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19",children:[L("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),L("path",{d:"M7.9 3H10v2H7.9z"}),L("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),L("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"})]})}):t.resumableUploads&&!t.hidePauseResumeButton?L(J0,{...t,children:L(bp,{children:[L(eb,{progress:t.file.progress.percentage}),t.file.isPaused?L("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):L("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)",children:[L("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),L("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})]})]})}):!t.resumableUploads&&t.individualCancellation&&!t.hideCancelButton?L(J0,{...t,children:L(bp,{children:[L(eb,{progress:t.file.progress.percentage}),L("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})]})}):L("div",{className:"uppy-Dashboard-Item-progress",children:L("div",{className:"uppy-Dashboard-Item-progressIndicator",children:L(bp,{children:L(eb,{progress:t.file.progress.percentage})})})})}class wne extends Da{componentDidMount(){const{file:s}=this.props;s.preview||this.props.handleRequestThumbnail(s)}shouldComponentUpdate(s){return!ine(this.props,s)}componentDidUpdate(){const{file:s}=this.props;s.preview||this.props.handleRequestThumbnail(s)}componentWillUnmount(){const{file:s}=this.props;s.preview||this.props.handleCancelThumbnail(s)}render(){const{file:s}=this.props,r=s.progress.preprocess||s.progress.postprocess,n=!!s.progress.uploadComplete&&!r&&!s.error,a=!!s.progress.uploadStarted||!!r,i=s.progress.uploadStarted&&!s.progress.uploadComplete||r,l=s.error||!1,{isGhost:o}=s;let c=(this.props.individualCancellation||!i)&&!n;n&&this.props.showRemoveButtonAfterComplete&&(c=!0);const d=ia({"uppy-Dashboard-Item":!0,"is-inprogress":i&&!this.props.recoveredState,"is-processing":r,"is-complete":n,"is-error":!!l,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":o});return L("div",{className:d,id:`uppy_${s.id}`,role:this.props.role,children:[L("div",{className:"uppy-Dashboard-Item-preview",children:[L(yne,{file:s,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),L(jne,{uppy:this.props.uppy,file:s,error:l,isUploaded:n,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})]}),L("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons",children:[L(bne,{file:s,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),L(une,{file:s,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:c,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:a,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})]})]})}}function Nne(t,s){const r=[];let n=[];return t.forEach(a=>{n.length<s?n.push(a):(r.push(n),n=[a])}),n.length&&r.push(n),r}function Cne({id:t,i18n:s,uppy:r,files:n,resumableUploads:a,hideRetryButton:i,hidePauseResumeButton:l,hideCancelButton:o,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:u,isSingleFile:m,toggleFileCard:h,handleRequestThumbnail:f,handleCancelThumbnail:b,recoveredState:x,individualCancellation:v,itemsPerRow:g,openFileEditor:y,canEditFile:j,toggleAddFilesPanel:w,containerWidth:N,containerHeight:_}){const k=g===1?71:200,S=fN(()=>{const z=(F,B)=>Number(n[B].isGhost)-Number(n[F].isGhost),re=Object.keys(n);return x&&re.sort(z),Nne(re,g)},[n,g,x]),A=z=>L("div",{class:"uppy-Dashboard-filesInner",role:"presentation",children:z.map(re=>L(wne,{uppy:r,id:t,i18n:s,resumableUploads:a,individualCancellation:v,hideRetryButton:i,hidePauseResumeButton:l,hideCancelButton:o,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:u,recoveredState:x,isSingleFile:m,containerWidth:N,containerHeight:_,toggleFileCard:h,handleRequestThumbnail:f,handleCancelThumbnail:b,role:"listitem",openFileEditor:y,canEditFile:j,toggleAddFilesPanel:w,file:n[re]},re))},z[0]);return m?L("div",{class:"uppy-Dashboard-files",children:A(S[0])}):L(Fee,{class:"uppy-Dashboard-files",role:"list",data:S,renderRow:A,rowHeight:k})}const TS=300;class Sne extends Da{constructor(){super(...arguments);T(this,"ref",_ee())}componentWillEnter(r){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(r,TS)}componentWillLeave(r){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(r,TS)}render(){const{children:r}=this.props;return L("div",{className:"uppy-Informer-animated",ref:this.ref,children:r})}}function _ne(t,s){return Object.assign(t,s)}function kne(t,s){return(t==null?void 0:t.key)??s}function Pne(t,s){const r=t._ptgLinkedRefs||(t._ptgLinkedRefs={});return r[s]||(r[s]=n=>{t.refs[s]=n})}function au(t){const s={};for(let r=0;r<t.length;r++)if(t[r]!=null){const n=kne(t[r],r.toString(36));s[n]=t[r]}return s}function Ene(t,s){t=t||{},s=s||{};const r=l=>Object.hasOwn(s,l)?s[l]:t[l],n={};let a=[];for(const l in t)Object.hasOwn(s,l)?a.length&&(n[l]=a,a=[]):a.push(l);const i={};for(const l in s){if(Object.hasOwn(n,l))for(let o=0;o<n[l].length;o++){const c=n[l][o];i[n[l][o]]=r(c)}i[l]=r(l)}for(let l=0;l<a.length;l++)i[a[l]]=r(a[l]);return i}const Ane=t=>t;class lL extends Da{constructor(s,r){super(s,r),this.refs={},this.state={children:au(Li(Li(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const s=this.state.children;for(const r in s)s[r]&&this.performAppear(r)}componentWillReceiveProps(s){const r=au(Li(s.children)||[]),n=this.state.children;this.setState(i=>({children:Ene(i.children,r)}));let a;for(a in r)if(Object.hasOwn(r,a)){const i=n&&Object.hasOwn(n,a);r[a]&&i&&this.currentlyTransitioningKeys[a]?(this.keysToEnter.push(a),this.keysToAbortLeave.push(a)):r[a]&&!i&&!this.currentlyTransitioningKeys[a]&&this.keysToEnter.push(a)}for(a in n)if(Object.hasOwn(n,a)){const i=r&&Object.hasOwn(r,a);n[a]&&!i&&!this.currentlyTransitioningKeys[a]&&this.keysToLeave.push(a)}}componentDidUpdate(){const{keysToEnter:s}=this;this.keysToEnter=[],s.forEach(this.performEnter);const{keysToLeave:r}=this;this.keysToLeave=[],r.forEach(this.performLeave)}_finishAbort(s){const r=this.keysToAbortLeave.indexOf(s);r!==-1&&this.keysToAbortLeave.splice(r,1)}performAppear(s){this.currentlyTransitioningKeys[s]=!0;const r=this.refs[s];r!=null&&r.componentWillAppear?r.componentWillAppear(this._handleDoneAppearing.bind(this,s)):this._handleDoneAppearing(s)}_handleDoneAppearing(s){const r=this.refs[s];r!=null&&r.componentDidAppear&&r.componentDidAppear(),delete this.currentlyTransitioningKeys[s],this._finishAbort(s);const n=au(Li(this.props.children)||[]);(!n||!Object.hasOwn(n,s))&&this.performLeave(s)}performEnter(s){this.currentlyTransitioningKeys[s]=!0;const r=this.refs[s];r!=null&&r.componentWillEnter?r.componentWillEnter(this._handleDoneEntering.bind(this,s)):this._handleDoneEntering(s)}_handleDoneEntering(s){const r=this.refs[s];r!=null&&r.componentDidEnter&&r.componentDidEnter(),delete this.currentlyTransitioningKeys[s],this._finishAbort(s);const n=au(Li(this.props.children)||[]);(!n||!Object.hasOwn(n,s))&&this.performLeave(s)}performLeave(s){if(this.keysToAbortLeave.indexOf(s)!==-1)return;this.currentlyTransitioningKeys[s]=!0;const n=this.refs[s];n!=null&&n.componentWillLeave?n.componentWillLeave(this._handleDoneLeaving.bind(this,s)):this._handleDoneLeaving(s)}_handleDoneLeaving(s){if(this.keysToAbortLeave.indexOf(s)!==-1)return;const n=this.refs[s];n!=null&&n.componentDidLeave&&n.componentDidLeave(),delete this.currentlyTransitioningKeys[s];const a=au(Li(this.props.children)||[]);if(a&&Object.hasOwn(a,s))this.performEnter(s);else{const i=_ne({},this.state.children);delete i[s],this.setState({children:i})}}render({childFactory:s,transitionLeave:r,transitionName:n,transitionAppear:a,transitionEnter:i,transitionLeaveTimeout:l,transitionEnterTimeout:o,transitionAppearTimeout:c,component:d,...u},{children:m}){const h=Object.entries(m).map(([f,b])=>{if(!b)return;const x=Pne(this,f);return TF(s(b),{ref:x,key:f})}).filter(Boolean);return uN(d,u,h)}}lL.defaultProps={component:"span",childFactory:Ane};class RS extends Da{render(){const{info:s}=this.props.uppy.getState();return L("div",{className:"uppy uppy-Informer",children:L(lL,{children:s.map(r=>L(Sne,{children:L("p",{role:"alert",children:[r.message," ",r.details&&L("span",{"aria-label":r.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${r.message} 

 ${r.details}`),children:"?"})]})},r.message))})})}}function Tne({activePickerPanel:t,className:s,hideAllPanels:r,i18n:n,state:a,uppy:i}){const l=Vu(null);return L("div",{className:ia("uppy-DashboardContent-panel",s),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${t.id}`,onDragOver:rl,onDragLeave:rl,onDrop:rl,onPaste:rl,children:[L("div",{className:"uppy-DashboardContent-bar",children:[L("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:n("importFrom",{name:t.name})}),L("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r,children:n("cancel")})]}),L("div",{ref:l,className:"uppy-DashboardContent-panelBody",children:i.getPlugin(t.id).render(a,l.current)})]})}const ua={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function Rne(t,s,r,n={}){if(t)return ua.STATE_ERROR;if(s)return ua.STATE_COMPLETE;if(r)return ua.STATE_PAUSED;let a=ua.STATE_WAITING;const i=Object.keys(n);for(let l=0;l<i.length;l++){const{progress:o}=n[i[l]];if(o.uploadStarted&&!o.uploadComplete)return ua.STATE_UPLOADING;o.preprocess&&a!==ua.STATE_UPLOADING&&(a=ua.STATE_PREPROCESSING),o.postprocess&&a!==ua.STATE_UPLOADING&&a!==ua.STATE_PREPROCESSING&&(a=ua.STATE_POSTPROCESSING)}return a}function Dne({files:t,i18n:s,isAllComplete:r,isAllErrored:n,isAllPaused:a,inProgressNotPausedFiles:i,newFiles:l,processingFiles:o}){switch(Rne(n,r,a,t)){case"uploading":return s("uploadingXFiles",{smart_count:i.length});case"preprocessing":case"postprocessing":return s("processingXFiles",{smart_count:o.length});case"paused":return s("uploadPaused");case"waiting":return s("xFilesSelected",{smart_count:l.length});case"complete":return s("uploadComplete");case"error":return s("error")}}function Mne(t){const{i18n:s,isAllComplete:r,hideCancelButton:n,maxNumberOfFiles:a,toggleAddFilesPanel:i,uppy:l}=t;let{allowNewUpload:o}=t;return o&&a&&(o=t.totalFileCount<t.maxNumberOfFiles),L("div",{className:"uppy-DashboardContent-bar",children:[!r&&!n?L("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>l.cancelAll(),children:s("cancel")}):L("div",{}),L("div",{className:"uppy-DashboardContent-title",children:L(Dne,{...t})}),o?L("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":s("addMoreFiles"),title:s("addMoreFiles"),onClick:()=>i(!0),children:[L("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15",children:L("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})}),L("span",{className:"uppy-DashboardContent-addMoreCaption",children:s("addMore")})]}):L("div",{})]})}const Ho="uppy-transition-slideDownUp",DS=250;function yp({children:t}){const[s,r]=Td(null),[n,a]=Td(""),i=Vu(),l=Vu(),o=Vu(),c=ix(()=>{a(`${Ho}-enter`),cancelAnimationFrame(o.current),clearTimeout(l.current),l.current=void 0,o.current=requestAnimationFrame(()=>{a(`${Ho}-enter ${Ho}-enter-active`),i.current=setTimeout(()=>{a("")},DS)})},[]),d=ix(()=>{a(`${Ho}-leave`),cancelAnimationFrame(o.current),clearTimeout(i.current),i.current=void 0,o.current=requestAnimationFrame(()=>{a(`${Ho}-leave ${Ho}-leave-active`),l.current=setTimeout(()=>{r(null),a("")},DS)})},[]);return ax(()=>{const u=Li(t)[0];s!==u&&(u&&!s?c():s&&!u&&!l.current&&d(),r(u))},[t,s,c,d]),ax(()=>()=>{clearTimeout(i.current),clearTimeout(l.current),cancelAnimationFrame(o.current)},[]),s?TF(s,{className:ia(n,s.props.className)}):null}const ha={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"},One="·",MS=()=>` ${One} `;function Ine(t){const{newFiles:s,isUploadStarted:r,recoveredState:n,i18n:a,uploadState:i,isSomeGhost:l,startUpload:o}=t,c=ia("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":i===ha.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":l}),d=s&&r&&!n?a("uploadXNewFiles",{smart_count:s}):a("uploadXFiles",{smart_count:s});return L("button",{type:"button",className:c,"aria-label":a("uploadXFiles",{smart_count:s}),onClick:o,disabled:l,"data-uppy-super-focusable":!0,children:d})}function Fne(t){const{i18n:s,uppy:r}=t;return L("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":s("retryUpload"),onClick:()=>r.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry",children:[L("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10",children:L("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})}),s("retry")]})}function Lne(t){const{i18n:s,uppy:r}=t;return L("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:s("cancel"),"aria-label":s("cancel"),onClick:()=>r.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0,children:L("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:L("g",{fill:"none",fillRule:"evenodd",children:[L("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),L("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})]})})})}function zne(t){const{isAllPaused:s,i18n:r,isAllComplete:n,resumableUploads:a,uppy:i}=t,l=r(s?"resume":"pause");function o(){if(!n){if(!a){i.cancelAll();return}if(s){i.resumeAll();return}i.pauseAll()}}return L("button",{title:l,"aria-label":l,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:o,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0,children:L("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:L("g",{fill:"none",fillRule:"evenodd",children:[L("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),L("path",{fill:"#FFF",d:s?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"})]})})})}function Une(t){const{i18n:s,doneButtonHandler:r}=t;return L("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:r,"data-uppy-super-focusable":!0,children:s("done")})}function oL(){return L("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14",children:L("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})})}function $ne(t){const{progress:s}=t,{value:r,mode:n,message:a}=s;return L("div",{className:"uppy-StatusBar-content",children:[L(oL,{}),n==="determinate"?`${Math.round(r*100)}% · `:"",a]})}function Vne(t){const{numUploads:s,complete:r,totalUploadedSize:n,totalSize:a,totalETA:i,i18n:l}=t,o=s>1,c=ql(n);return L("div",{className:"uppy-StatusBar-statusSecondary",children:[o&&l("filesUploadedOfTotal",{complete:r,smart_count:s}),L("span",{className:"uppy-StatusBar-additionalInfo",children:[o&&MS(),a!=null?l("dataUploadedOfTotal",{complete:c,total:ql(a)}):l("dataUploadedOfUnknown",{complete:c}),MS(),i!=null&&l("xTimeLeft",{time:yee(i)})]})]})}function cL(t){const{i18n:s,complete:r,numUploads:n}=t;return L("div",{className:"uppy-StatusBar-statusSecondary",children:s("filesUploadedOfTotal",{complete:r,smart_count:n})})}function Bne(t){const{i18n:s,newFiles:r,startUpload:n}=t,a=ia("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return L("div",{className:"uppy-StatusBar-statusSecondary",children:[L("div",{className:"uppy-StatusBar-statusSecondaryHint",children:s("xMoreFilesAdded",{smart_count:r})}),L("button",{type:"button",className:a,"aria-label":s("uploadXFiles",{smart_count:r}),onClick:n,children:s("upload")})]})}function qne(t){const{i18n:s,supportsUploadProgress:r,totalProgress:n,hideProgressDetails:a,isUploadStarted:i,isAllComplete:l,isAllPaused:o,newFiles:c,numUploads:d,complete:u,totalUploadedSize:m,totalSize:h,totalETA:f,startUpload:b}=t,x=c&&i;if(!i||l)return null;const v=s(o?"paused":"uploading");function g(){return!o&&!x&&!a?r?L(Vne,{numUploads:d,complete:u,totalUploadedSize:m,totalSize:h,totalETA:f,i18n:s}):L(cL,{i18n:s,complete:u,numUploads:d}):null}return L("div",{className:"uppy-StatusBar-content",title:v,children:[o?null:L(oL,{}),L("div",{className:"uppy-StatusBar-status",children:[L("div",{className:"uppy-StatusBar-statusPrimary",children:r&&n!==0?`${v}: ${n}%`:v}),g(),x?L(Bne,{i18n:s,newFiles:c,startUpload:b}):null]})]})}function Wne(t){const{i18n:s}=t;return L("div",{className:"uppy-StatusBar-content",role:"status",title:s("complete"),children:L("div",{className:"uppy-StatusBar-status",children:L("div",{className:"uppy-StatusBar-statusPrimary",children:[L("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11",children:L("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})}),s("complete")]})})})}function Hne(t){const{error:s,i18n:r,complete:n,numUploads:a}=t;function i(){const l=`${r("uploadFailed")} 

 ${s}`;alert(l)}return L("div",{className:"uppy-StatusBar-content",title:r("uploadFailed"),children:[L("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11",children:L("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})}),L("div",{className:"uppy-StatusBar-status",children:[L("div",{className:"uppy-StatusBar-statusPrimary",children:[r("uploadFailed"),L("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":r("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:i,type:"button",children:"?"})]}),L(cL,{i18n:r,complete:n,numUploads:a})]})]})}function tb(t){const s=[];let r="indeterminate",n;for(const{progress:i}of Object.values(t)){const{preprocess:l,postprocess:o}=i;n==null&&(l||o)&&({mode:r,message:n}=l||o),(l==null?void 0:l.mode)==="determinate"&&s.push(l.value),(o==null?void 0:o.mode)==="determinate"&&s.push(o.value)}const a=s.reduce((i,l)=>i+l/s.length,0);return{mode:r,message:n,value:a}}const{STATE_ERROR:OS,STATE_WAITING:Kne,STATE_PREPROCESSING:sb,STATE_UPLOADING:vp,STATE_POSTPROCESSING:rb,STATE_COMPLETE:jp}=ha;function Gne({newFiles:t,allowNewUpload:s,isUploadInProgress:r,isAllPaused:n,resumableUploads:a,error:i,hideUploadButton:l=void 0,hidePauseResumeButton:o=!1,hideCancelButton:c=!1,hideRetryButton:d=!1,recoveredState:u,uploadState:m,totalProgress:h,files:f,supportsUploadProgress:b,hideAfterFinish:x=!1,isSomeGhost:v,doneButtonHandler:g=void 0,isUploadStarted:y,i18n:j,startUpload:w,uppy:N,isAllComplete:_,hideProgressDetails:k=void 0,numUploads:S,complete:A,totalSize:z,totalETA:re,totalUploadedSize:F}){function B(){switch(m){case rb:case sb:{const Ze=tb(f);return Ze.mode==="determinate"?Ze.value*100:h}case OS:return null;case vp:return b?h:null;default:return h}}function U(){switch(m){case rb:case sb:{const{mode:Ze}=tb(f);return Ze==="indeterminate"}case vp:return!b;default:return!1}}const W=B(),E=W??100,M=!i&&t&&(!r&&!n||u)&&s&&!l,q=!c&&m!==Kne&&m!==jp,R=a&&!o&&m===vp,ie=i&&!_&&!d,O=g&&m===jp,te=ia("uppy-StatusBar-progress",{"is-indeterminate":U()}),se=ia("uppy-StatusBar",`is-${m}`,{"has-ghosts":v}),Te=(()=>{switch(m){case sb:case rb:return L($ne,{progress:tb(f)});case jp:return L(Wne,{i18n:j});case OS:return L(Hne,{error:i,i18n:j,numUploads:S,complete:A});case vp:return L(qne,{i18n:j,supportsUploadProgress:b,totalProgress:h,hideProgressDetails:k,isUploadStarted:y,isAllComplete:_,isAllPaused:n,newFiles:t,numUploads:S,complete:A,totalUploadedSize:F,totalSize:z,totalETA:re,startUpload:w});default:return null}})();return!(M||ie||R||q||O)&&!Te||m===jp&&x?null:L("div",{className:se,children:[L("div",{className:te,style:{width:`${E}%`},role:"progressbar","aria-label":`${E}%`,"aria-valuetext":`${E}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":W}),Te,L("div",{className:"uppy-StatusBar-actions",children:[M?L(Ine,{newFiles:t,isUploadStarted:y,recoveredState:u,i18n:j,isSomeGhost:v,startUpload:w,uploadState:m}):null,ie?L(Fne,{i18n:j,uppy:N}):null,R?L(zne,{isAllPaused:n,i18n:j,isAllComplete:_,resumableUploads:a,uppy:N}):null,q?L(Lne,{i18n:j,uppy:N}):null,O?L(Une,{i18n:j,doneButtonHandler:g}):null]})]})}const Qne=2e3,Yne=2e3;function Zne(t,s,r,n){if(t)return ha.STATE_ERROR;if(s)return ha.STATE_COMPLETE;if(r)return ha.STATE_WAITING;let a=ha.STATE_WAITING;const i=Object.keys(n);for(let l=0;l<i.length;l++){const{progress:o}=n[i[l]];if(o.uploadStarted&&!o.uploadComplete)return ha.STATE_UPLOADING;o.preprocess&&(a=ha.STATE_PREPROCESSING),o.postprocess&&a!==ha.STATE_PREPROCESSING&&(a=ha.STATE_POSTPROCESSING)}return a}var Xi,ja,so,ri,Um,fx,dL;class Xne extends Da{constructor(){super(...arguments);de(this,fx);de(this,Xi);de(this,ja);de(this,so);de(this,ri);de(this,Um,()=>{const{recoveredState:r}=this.props.uppy.getState();if(me(this,so,null),me(this,ri,null),r){me(this,ja,Object.values(r.files).reduce((n,{progress:a})=>n+(a.bytesUploaded||0),0)),this.props.uppy.emit("restore-confirmed");return}me(this,Xi,performance.now()),me(this,ja,0)});T(this,"startUpload",()=>this.props.uppy.upload().catch(()=>{}))}componentDidMount(){me(this,Xi,performance.now()),me(this,ja,this.props.uppy.getFiles().reduce((r,n)=>r+(n.progress.bytesUploaded||0),0)),this.props.uppy.on("upload",C(this,Um))}componentWillUnmount(){this.props.uppy.off("upload",C(this,Um))}render(){const{capabilities:r,files:n,allowNewUpload:a,totalProgress:i,error:l,recoveredState:o}=this.props.uppy.getState(),{newFiles:c,startedFiles:d,completeFiles:u,isUploadStarted:m,isAllComplete:h,isAllPaused:f,isUploadInProgress:b,isSomeGhost:x}=this.props.uppy.getObjectOfFilesPerState(),v=o?Object.values(n):c,g=!!r.resumableUploads,y=r.uploadProgress!==!1;let j=null,w=0;d.every(_=>_.progress.bytesTotal!=null&&_.progress.bytesTotal!==0)?(j=0,d.forEach(_=>{j+=_.progress.bytesTotal||0,w+=_.progress.bytesUploaded||0})):d.forEach(_=>{w+=_.progress.bytesUploaded||0});const N=xe(this,fx,dL).call(this,{uploaded:w,total:j});return L(Gne,{error:l,uploadState:Zne(l,h,o,n||{}),allowNewUpload:a,totalProgress:i,totalSize:j,totalUploadedSize:w,isAllComplete:h,isAllPaused:f,isUploadStarted:m,isUploadInProgress:b,isSomeGhost:x,recoveredState:o,complete:u.length,newFiles:v.length,numUploads:d.length,totalETA:N,files:n,i18n:this.props.i18n,uppy:this.props.uppy,startUpload:this.startUpload,doneButtonHandler:this.props.doneButtonHandler,resumableUploads:g,supportsUploadProgress:y,hideProgressDetails:this.props.hideProgressDetails,hideUploadButton:this.props.hideUploadButton,hideRetryButton:this.props.hideRetryButton,hidePauseResumeButton:this.props.hidePauseResumeButton,hideCancelButton:this.props.hideCancelButton,hideAfterFinish:this.props.hideAfterFinish})}}Xi=new WeakMap,ja=new WeakMap,so=new WeakMap,ri=new WeakMap,Um=new WeakMap,fx=new WeakSet,dL=function(r){if(r.total==null||r.total===0)return null;const n=r.total-r.uploaded;if(n<=0)return null;C(this,Xi)??me(this,Xi,performance.now());const a=performance.now()-C(this,Xi);if(a===0)return Math.round((C(this,ri)??0)/100)/10;if(C(this,ja)==null)return me(this,ja,r.uploaded),null;const i=r.uploaded-C(this,ja);if(me(this,ja,r.uploaded),i<=0)return Math.round((C(this,ri)??0)/100)/10;const l=i/a;if(!Number.isFinite(l)||l<=0)return null;const o=C(this,so)==null?l:HC(l,C(this,so),Qne,a);if(!Number.isFinite(o)||o<=0)return null;me(this,so,o);const c=n/o;if(!Number.isFinite(c)||c<0)return null;const d=Math.max((C(this,ri)??0)-a,0),u=C(this,ri)==null?c:HC(c,d,Yne,a);return!Number.isFinite(u)||u<0?null:(me(this,ri,u),me(this,Xi,performance.now()),Math.round(u/100)/10)};const IS=900,FS=700,nb=576,LS=330;function Jne(t){const s=t.totalFileCount===0,r=t.totalFileCount===1,n=t.containerWidth>nb,a=t.containerHeight>LS,i=ia({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":t.disabled,"uppy-Dashboard--animateOpenClose":t.animateOpenClose,"uppy-Dashboard--isClosing":t.isClosing,"uppy-Dashboard--isDraggingOver":t.isDraggingOver,"uppy-Dashboard--modal":!t.inline,"uppy-size--md":t.containerWidth>nb,"uppy-size--lg":t.containerWidth>FS,"uppy-size--xl":t.containerWidth>IS,"uppy-size--height-md":t.containerHeight>LS,"uppy-Dashboard--isAddFilesPanelVisible":t.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":t.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":t.singleFileFullScreen&&r&&a});let l=1;t.containerWidth>IS?l=5:t.containerWidth>FS?l=4:t.containerWidth>nb&&(l=3);const o=t.showSelectedFiles&&!s,c=t.recoveredState?Object.keys(t.recoveredState.files).length:null,d=t.files?Object.keys(t.files).filter(h=>t.files[h].isGhost).length:0,u=()=>d>0?t.i18n("recoveredXFiles",{smart_count:d}):t.i18n("recoveredAllFiles");return L("div",{className:i,"data-uppy-theme":t.theme,"data-uppy-num-acquirers":t.acquirers.length,"data-uppy-drag-drop-supported":!t.disableLocalFiles&&gee(),"aria-hidden":t.inline?"false":t.isHidden,"aria-disabled":t.disabled,"aria-label":t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"),onPaste:t.handlePaste,onDragOver:t.handleDragOver,onDragLeave:t.handleDragLeave,onDrop:t.handleDrop,children:[L("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:t.handleClickOutside}),L("div",{className:"uppy-Dashboard-inner",role:t.inline?void 0:"dialog",style:{width:t.inline&&t.width?t.width:"",height:t.inline&&t.height?t.height:""},children:[t.inline?null:L("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":t.i18n("closeModal"),title:t.i18n("closeModal"),onClick:t.closeModal,children:L("span",{"aria-hidden":"true",children:"×"})}),L("div",{className:"uppy-Dashboard-innerWrap",children:[L("div",{className:"uppy-Dashboard-dropFilesHereHint",children:t.i18n("dropHint")}),o&&L(Mne,{...t}),c&&L("div",{className:"uppy-Dashboard-serviceMsg",children:[L("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19",children:L("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd",children:[L("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),L("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),L("circle",{fill:"#000",cx:"12",cy:"17",r:"1"})]})}),L("strong",{className:"uppy-Dashboard-serviceMsg-title",children:t.i18n("sessionRestored")}),L("div",{className:"uppy-Dashboard-serviceMsg-text",children:u()})]}),o?L(Cne,{id:t.id,i18n:t.i18n,uppy:t.uppy,files:t.files,resumableUploads:t.resumableUploads,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,metaFields:t.metaFields,toggleFileCard:t.toggleFileCard,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail,recoveredState:t.recoveredState,individualCancellation:t.individualCancellation,openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,toggleAddFilesPanel:t.toggleAddFilesPanel,isSingleFile:r,itemsPerRow:l,containerWidth:t.containerWidth,containerHeight:t.containerHeight}):L(nL,{i18n:t.i18n,i18nArray:t.i18nArray,acquirers:t.acquirers,handleInputChange:t.handleInputChange,maxNumberOfFiles:t.maxNumberOfFiles,allowedFileTypes:t.allowedFileTypes,showNativePhotoCameraButton:t.showNativePhotoCameraButton,showNativeVideoCameraButton:t.showNativeVideoCameraButton,nativeCameraFacingMode:t.nativeCameraFacingMode,showPanel:t.showPanel,activePickerPanel:t.activePickerPanel,disableLocalFiles:t.disableLocalFiles,fileManagerSelectionType:t.fileManagerSelectionType,note:t.note,proudlyDisplayPoweredByUppy:t.proudlyDisplayPoweredByUppy}),L(yp,{children:t.showAddFilesPanel?L(Qre,{...t,isSizeMD:n},"AddFiles"):null}),L(yp,{children:t.fileCardFor?L(ane,{...t},"FileCard"):null}),L(yp,{children:t.activePickerPanel?L(Tne,{...t},"Picker"):null}),L(yp,{children:t.showFileEditor?L(Yre,{...t},"Editor"):null}),L("div",{className:"uppy-Dashboard-progressindicators",children:[!t.disableInformer&&L(RS,{uppy:t.uppy}),!t.disableStatusBar&&L(Xne,{uppy:t.uppy,i18n:t.i18n,hideProgressDetails:t.hideProgressDetails,hideUploadButton:t.hideUploadButton,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,hideAfterFinish:t.hideProgressAfterFinish,doneButtonHandler:t.doneButtonHandler}),!t.disableInformer&&L(RS,{uppy:t.uppy}),t.progressindicators.map(h=>t.uppy.getPlugin(h.id).render(t.state))]})]})]})]})}const eae={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video",uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function uL(t,s){if(s){const r=t.querySelector(`[data-uppy-paneltype="${s}"]`);if(r)return r}return t}function tae(){let t=!1;return sse((r,n)=>{const a=uL(r,n),i=a.contains(document.activeElement);if(i&&t)return;const l=a.querySelector("[data-uppy-super-focusable]");if(!(i&&!l))if(l)l.focus({preventScroll:!0}),t=!0;else{const o=a.querySelector(oF);o==null||o.focus({preventScroll:!0}),t=!1}},260)}function zS(t,s){const r=s[0];r&&(r.focus(),t.preventDefault())}function sae(t,s){const r=s[s.length-1];r&&(r.focus(),t.preventDefault())}function rae(t){return t.contains(document.activeElement)}function mL(t,s,r){const n=uL(r,s),a=Uu(n.querySelectorAll(oF)),i=a.indexOf(document.activeElement);rae(n)?t.shiftKey&&i===0?sae(t,a):!t.shiftKey&&i===a.length-1&&zS(t,a):zS(t,a)}function nae(t,s,r){s===null||mL(t,s,r)}const US=9,aae=27;function $S(){const t={};return t.promise=new Promise((s,r)=>{t.resolve=s,t.reject=r}),t}const iae={target:"body",metaFields:[],thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:Vse,showLinkToFileUploadResult:!1,hideProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,nativeCameraFacingMode:"",onDragLeave:()=>{},onDragOver:()=>{},onDrop:()=>{},plugins:[],doneButtonHandler:void 0,onRequestCloseModal:null,inline:!1,animateOpenClose:!0,browserBackButtonClose:!1,closeAfterFinish:!1,closeModalOnClickOutside:!1,disablePageScrollWhenModalOpen:!0,trigger:null,width:750,height:550};var Yc,ro,$m,Zc,xx,gx,bx,no,yx,vx,Xc,Nl,Av,Tv;class hL extends lx{constructor(r,n){var i;const a=(n==null?void 0:n.autoOpen)??null;super(r,{...iae,...n,autoOpen:a});de(this,Nl);de(this,Yc);T(this,"modalName",`uppy-Dashboard-${gN()}`);T(this,"superFocus",tae());T(this,"ifFocusedOnUppyRecently",!1);T(this,"dashboardIsDisabled");T(this,"savedScrollPosition");T(this,"savedActiveElement");T(this,"resizeObserver");T(this,"darkModeMediaQuery");T(this,"makeDashboardInsidesVisibleAnywayTimeout");T(this,"removeTarget",r=>{const a=this.getPluginState().targets.filter(i=>i.id!==r.id);this.setPluginState({targets:a})});T(this,"addTarget",r=>{const n=r.id||r.constructor.name,a=r.title||n,i=r.type;if(i!=="acquirer"&&i!=="progressindicator"&&i!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const l={id:n,name:a,type:i},c=this.getPluginState().targets.slice();return c.push(l),this.setPluginState({targets:c}),this.el});T(this,"hideAllPanels",()=>{var a;const r=this.getPluginState(),n={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};r.activePickerPanel===n.activePickerPanel&&r.showAddFilesPanel===n.showAddFilesPanel&&r.showFileEditor===n.showFileEditor&&r.activeOverlayType===n.activeOverlayType||(this.setPluginState(n),this.uppy.emit("dashboard:close-panel",(a=r.activePickerPanel)==null?void 0:a.id))});T(this,"showPanel",r=>{const{targets:n}=this.getPluginState(),a=n.find(i=>i.type==="acquirer"&&i.id===r);this.setPluginState({activePickerPanel:a,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",r)});T(this,"canEditFile",r=>{const{targets:n}=this.getPluginState();return C(this,no).call(this,n).some(i=>this.uppy.getPlugin(i.id).canEditFile(r))});T(this,"openFileEditor",r=>{const{targets:n}=this.getPluginState(),a=C(this,no).call(this,n);this.setPluginState({showFileEditor:!0,fileCardFor:r.id||null,activeOverlayType:"FileEditor"}),a.forEach(i=>{this.uppy.getPlugin(i.id).selectFile(r)})});T(this,"closeFileEditor",()=>{const{metaFields:r}=this.getPluginState();r&&r.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})});T(this,"saveFileEditor",()=>{const{targets:r}=this.getPluginState();C(this,no).call(this,r).forEach(a=>{this.uppy.getPlugin(a.id).save()}),this.closeFileEditor()});T(this,"openModal",()=>{const{promise:r,resolve:n}=$S();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const a=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",a,!1),n()};this.el.addEventListener("animationend",a,!1)}else this.setPluginState({isHidden:!1}),n();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),r});T(this,"closeModal",r=>{var c;const n=(r==null?void 0:r.manualClose)??!0,{isHidden:a,isClosing:i}=this.getPluginState();if(a||i)return;const{promise:l,resolve:o}=$S();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const d=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",d,!1),o()};this.el.addEventListener("animationend",d,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),o();return document.removeEventListener("keydown",this.handleKeyDownInModal),n&&this.opts.browserBackButtonClose&&(c=history.state)!=null&&c[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),l});T(this,"isModalOpen",()=>!this.getPluginState().isHidden||!1);T(this,"requestCloseModal",()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal());T(this,"setDarkModeCapability",r=>{const{capabilities:n}=this.uppy.getState();this.uppy.setState({capabilities:{...n,darkMode:r}})});T(this,"handleSystemDarkModeChange",r=>{const n=r.matches;this.uppy.log(`[Dashboard] Dark mode is ${n?"on":"off"}`),this.setDarkModeCapability(n)});T(this,"toggleFileCard",(r,n)=>{const a=this.uppy.getFile(n);r?this.uppy.emit("dashboard:file-edit-start",a):this.uppy.emit("dashboard:file-edit-complete",a),this.setPluginState({fileCardFor:r?n:null,activeOverlayType:r?"FileCard":null})});T(this,"toggleAddFilesPanel",r=>{this.setPluginState({showAddFilesPanel:r,activeOverlayType:r?"AddFiles":null})});T(this,"addFiles",r=>{const n=r.map(a=>({source:this.id,name:a.name,type:a.type,data:a,meta:{relativePath:a.relativePath||a.webkitRelativePath||null}}));try{this.uppy.addFiles(n)}catch(a){this.uppy.log(a)}});T(this,"startListeningToResize",()=>{this.resizeObserver=new ResizeObserver(r=>{const n=r[0],{width:a,height:i}=n.contentRect;this.setPluginState({containerWidth:a,containerHeight:i,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const r=this.getPluginState(),n=!this.opts.inline&&r.isHidden;!r.areInsidesReadyToBeVisible&&!n&&(this.uppy.log("[Dashboard] resize event didn’t fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)});T(this,"stopListeningToResize",()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)});T(this,"recordIfFocusedOnUppyRecently",r=>{this.el.contains(r.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())});T(this,"disableInteractiveElements",r=>{const n=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],a=C(this,Yc)??Uu(this.el.querySelectorAll(n)).filter(i=>!i.classList.contains("uppy-Dashboard-close"));for(const i of a)i.tagName==="A"?i.setAttribute("aria-disabled",r):i.disabled=r;r?me(this,Yc,a):me(this,Yc,null),this.dashboardIsDisabled=r});T(this,"updateBrowserHistory",()=>{var r;(r=history.state)!=null&&r[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)});T(this,"handlePopState",r=>{var n;this.isModalOpen()&&(!r.state||!r.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&((n=r.state)!=null&&n[this.modalName])&&history.back()});T(this,"handleKeyDownInModal",r=>{r.keyCode===aae&&this.requestCloseModal(),r.keyCode===US&&mL(r,this.getPluginState().activeOverlayType,this.el)});T(this,"handleClickOutside",()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()});T(this,"handlePaste",r=>{this.uppy.iteratePlugins(a=>{var i;a.type==="acquirer"&&((i=a.handleRootPaste)==null||i.call(a,r))});const n=Uu(r.clipboardData.files);n.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(n))});T(this,"handleInputChange",r=>{r.preventDefault();const n=Uu(r.currentTarget.files||[]);n.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(n))});T(this,"handleDragOver",r=>{r.preventDefault(),r.stopPropagation();const n=()=>{let o=!0;return this.uppy.iteratePlugins(c=>{var d;(d=c.canHandleRootDrop)!=null&&d.call(c,r)&&(o=!0)}),o},a=()=>{const{types:o}=r.dataTransfer;return o.some(c=>c==="Files")},i=n(),l=a();if(!i&&!l||this.opts.disabled||this.opts.disableLocalFiles&&(l||!i)||!this.uppy.getState().allowNewUpload){r.dataTransfer.dropEffect="none";return}r.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver(r)});T(this,"handleDragLeave",r=>{r.preventDefault(),r.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave(r)});T(this,"handleDrop",async r=>{r.preventDefault(),r.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(l=>{var o;l.type==="acquirer"&&((o=l.handleRootDrop)==null||o.call(l,r))});let n=!1;const a=l=>{this.uppy.log(l,"error"),n||(this.uppy.info(l.message,"error"),n=!0)};this.uppy.log("[Dashboard] Processing dropped files");const i=await pee(r.dataTransfer,{logDropError:a});i.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(i)),this.opts.onDrop(r)});T(this,"handleRequestThumbnail",r=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",r)});T(this,"handleCancelThumbnail",r=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",r)});T(this,"handleKeyDownInInline",r=>{r.keyCode===US&&nae(r,this.getPluginState().activeOverlayType,this.el)});T(this,"handlePasteOnBody",r=>{this.el.contains(document.activeElement)&&this.handlePaste(r)});T(this,"handleComplete",({failed:r})=>{this.opts.closeAfterFinish&&!(r!=null&&r.length)&&this.requestCloseModal()});T(this,"handleCancelRestore",()=>{this.uppy.emit("restore-canceled")});de(this,ro,()=>{if(this.opts.disableThumbnailGenerator)return;const r=600,n=this.uppy.getFiles();if(n.length===1){const a=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);a==null||a.setOptions({thumbnailWidth:r});const i={...n[0],preview:void 0};a==null||a.requestThumbnail(i).then(()=>{a==null||a.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}});de(this,$m,r=>{const n=r[0],{metaFields:a}=this.getPluginState(),i=a&&a.length>0,l=this.canEditFile(n);i&&this.opts.autoOpen==="metaEditor"?this.toggleFileCard(!0,n.id):l&&this.opts.autoOpen==="imageEditor"&&this.openFileEditor(n)});T(this,"initEvents",()=>{if(this.opts.trigger&&!this.opts.inline){const r=KC(this.opts.trigger);r?r.forEach(n=>n.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",C(this,Xc)),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",C(this,ro)),this.uppy.on("file-removed",C(this,ro)),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",C(this,$m))});T(this,"removeEvents",()=>{const r=KC(this.opts.trigger);!this.opts.inline&&r&&r.forEach(n=>n.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",C(this,Xc)),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",C(this,ro)),this.uppy.off("file-removed",C(this,ro)),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",C(this,$m))});T(this,"superFocusOnEachUpdate",()=>{const r=this.el.contains(document.activeElement),n=document.activeElement===document.body||document.activeElement===null,a=this.uppy.getState().info.length===0,i=!this.opts.inline;a&&(i||r||n&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()});T(this,"afterUpdate",()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()});T(this,"saveFileCard",(r,n)=>{this.uppy.setFileMeta(n,r),this.toggleFileCard(!1,n)});de(this,Zc,r=>{const n=this.uppy.getPlugin(r.id);return{...r,icon:n.icon||this.opts.defaultPickerIcon,render:n.render}});de(this,xx,r=>{const n=this.uppy.getPlugin(r.id);return typeof n.isSupported!="function"?!0:n.isSupported()});de(this,gx,r=>r.filter(n=>n.type==="acquirer"&&C(this,xx).call(this,n)).map(C(this,Zc)));de(this,bx,r=>r.filter(n=>n.type==="progressindicator").map(C(this,Zc)));de(this,no,r=>r.filter(n=>n.type==="editor").map(C(this,Zc)));T(this,"render",r=>{const n=this.getPluginState(),{files:a,capabilities:i,allowNewUpload:l}=r,{newFiles:o,uploadStartedFiles:c,completeFiles:d,erroredFiles:u,inProgressFiles:m,inProgressNotPausedFiles:h,processingFiles:f,isUploadStarted:b,isAllComplete:x,isAllPaused:v}=this.uppy.getObjectOfFilesPerState(),g=C(this,gx).call(this,n.targets),y=C(this,bx).call(this,n.targets),j=C(this,no).call(this,n.targets);let w;return this.opts.theme==="auto"?w=i.darkMode?"dark":"light":w=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),Jne({state:r,isHidden:n.isHidden,files:a,newFiles:o,uploadStartedFiles:c,completeFiles:d,erroredFiles:u,inProgressFiles:m,inProgressNotPausedFiles:h,processingFiles:f,isUploadStarted:b,isAllComplete:x,isAllPaused:v,totalFileCount:Object.keys(a).length,totalProgress:r.totalProgress,allowNewUpload:l,acquirers:g,theme:w,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:n.activePickerPanel,showFileEditor:n.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:n.isClosing,progressindicators:y,editors:j,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:r.recoveredState,metaFields:n.metaFields,resumableUploads:i.resumableUploads||!1,individualCancellation:i.individualCancellation,isMobileDevice:i.isMobileDevice,fileCardFor:n.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:n.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:n.containerWidth,containerHeight:n.containerHeight,areInsidesReadyToBeVisible:n.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:n.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop,disableInformer:this.opts.disableInformer,disableStatusBar:this.opts.disableStatusBar,hideProgressDetails:this.opts.hideProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideProgressAfterFinish:this.opts.hideProgressAfterFinish,doneButtonHandler:this.opts.doneButtonHandler})});de(this,yx,()=>{const{plugins:r}=this.opts;r.forEach(n=>{const a=this.uppy.getPlugin(n);a?a.mount(this,a):this.uppy.log(`[Uppy] Dashboard could not find plugin '${n}', make sure to uppy.use() the plugins you are specifying`,"warning")})});de(this,vx,()=>{this.uppy.iteratePlugins(C(this,Xc))});de(this,Xc,r=>{var a;const n=["acquirer","editor"];r&&!((a=r.opts)!=null&&a.target)&&n.includes(r.type)&&(this.getPluginState().targets.some(l=>r.id===l.id)||r.mount(this,r))});T(this,"install",()=>{var c;this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:r,closeAfterFinish:n}=this.opts;if(r&&n)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:a,allowMultipleUploadBatches:i}=this.uppy.opts;(a||i)&&n&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:l}=this.opts;l&&this.mount(l,this),this.opts.disableThumbnailGenerator||this.uppy.use(rL,{id:xe(this,Nl,Tv).call(this),...xe(this,Nl,Av).call(this)}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const o=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${o?"on":"off"}`),this.setDarkModeCapability(o),this.opts.theme==="auto"&&((c=this.darkModeMediaQuery)==null||c.addListener(this.handleSystemDarkModeChange)),C(this,yx).call(this),C(this,vx).call(this),this.initEvents()});T(this,"uninstall",()=>{var n;if(!this.opts.disableThumbnailGenerator){const a=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);a&&this.uppy.removePlugin(a)}const{plugins:r}=this.opts;r.forEach(a=>{const i=this.uppy.getPlugin(a);i&&i.unmount()}),this.opts.theme==="auto"&&((n=this.darkModeMediaQuery)==null||n.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()});this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=eae,this.opts.doneButtonHandler===void 0&&(this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()}),(i=this.opts).onRequestCloseModal??(i.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}setOptions(r){var n;super.setOptions(r),(n=this.uppy.getPlugin(xe(this,Nl,Tv).call(this)))==null||n.setOptions(xe(this,Nl,Av).call(this))}}Yc=new WeakMap,ro=new WeakMap,$m=new WeakMap,Zc=new WeakMap,xx=new WeakMap,gx=new WeakMap,bx=new WeakMap,no=new WeakMap,yx=new WeakMap,vx=new WeakMap,Xc=new WeakMap,Nl=new WeakSet,Av=function(){const{thumbnailWidth:r,thumbnailHeight:n,thumbnailType:a,waitForThumbnailsBeforeUpload:i}=this.opts;return{thumbnailWidth:r,thumbnailHeight:n,thumbnailType:a,waitForThumbnailsBeforeUpload:i,lazy:!i}},Tv=function(){return`${this.id}:ThumbnailGenerator`},T(hL,"VERSION",Gre.version);const lae=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],oae=/^(aria-|data-)/,pL=t=>Object.fromEntries(Object.entries(t).filter(([s])=>oae.test(s)||lae.includes(s)));function cae(t,s){const r=pL(t);return Object.keys(t).some(n=>!Object.hasOwn(r,n)&&t[n]!==s[n])}class fL extends p.Component{constructor(){super(...arguments);T(this,"container");T(this,"plugin")}componentDidMount(){this.installPlugin()}componentDidUpdate(r){const{uppy:n,open:a,onRequestClose:i}=this.props;if(r.uppy!==n)this.uninstallPlugin(r),this.installPlugin();else if(cae(this.props,r)){const{uppy:l,...o}={...this.props,inline:!1,onRequestCloseModal:i};this.plugin.setOptions(o)}r.open&&!a?this.plugin.closeModal():!r.open&&a&&this.plugin.openModal()}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{target:r=this.container,open:n,onRequestClose:a,uppy:i,...l}=this.props,o={id:"DashboardModal",...l,inline:!1,target:r,open:n,onRequestCloseModal:a};i.use(hL,o),this.plugin=i.getPlugin(o.id),n&&this.plugin.openModal()}uninstallPlugin(r=this.props){const{uppy:n}=r;n.removePlugin(this.plugin)}render(){return p.createElement("div",{className:"uppy-Container",ref:r=>{this.container=r},...pL(this.props)})}}T(fL,"defaultProps",{open:void 0,onRequestClose:void 0});var xL={};function En(t,s){typeof s=="boolean"&&(s={forever:s}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=s||{},this._maxRetryTime=s&&s.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var dae=En;En.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};En.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};En.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var s=new Date().getTime();if(t&&s-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};En.prototype.attempt=function(t,s){this._fn=t,s&&(s.timeout&&(this._operationTimeout=s.timeout),s.cb&&(this._operationTimeoutCb=s.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};En.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};En.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};En.prototype.start=En.prototype.try;En.prototype.errors=function(){return this._errors};En.prototype.attempts=function(){return this._attempts};En.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},s=null,r=0,n=0;n<this._errors.length;n++){var a=this._errors[n],i=a.message,l=(t[i]||0)+1;t[i]=l,l>=r&&(s=a,r=l)}return s};(function(t){var s=dae;t.operation=function(r){var n=t.timeouts(r);return new s(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},t.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var a in r)n[a]=r[a];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var i=[],l=0;l<n.retries;l++)i.push(this.createTimeout(l,n));return r&&r.forever&&!i.length&&i.push(this.createTimeout(l,n)),i.sort(function(o,c){return o-c}),i},t.createTimeout=function(r,n){var a=n.randomize?Math.random()+1:1,i=Math.round(a*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return i=Math.min(i,n.maxTimeout),i},t.wrap=function(r,n,a){if(n instanceof Array&&(a=n,n=null),!a){a=[];for(var i in r)typeof r[i]=="function"&&a.push(i)}for(var l=0;l<a.length;l++){var o=a[l],c=r[o];r[o]=(function(u){var m=t.operation(n),h=Array.prototype.slice.call(arguments,1),f=h.pop();h.push(function(b){m.retry(b)||(b&&(arguments[0]=m.mainError()),f.apply(this,arguments))}),m.attempt(function(){u.apply(r,h)})}).bind(r,c),r[o].options=n}}})(xL);var uae=xL;const mae=ji(uae),hae=Object.prototype.toString,pae=t=>hae.call(t)==="[object Error]",fae=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function xae(t){return t&&pae(t)&&t.name==="TypeError"&&typeof t.message=="string"?t.message==="Load failed"?t.stack===void 0:fae.has(t.message):!1}class Rv extends Error{constructor(s){super(),s instanceof Error?(this.originalError=s,{message:s}=s):(this.originalError=new Error(s),this.originalError.stack=this.stack),this.name="AbortError",this.message=s}}const VS=(t,s,r)=>{const n=r.retries-(s-1);return t.attemptNumber=s,t.retriesLeft=n,t};async function BS(t,s){return new Promise((r,n)=>{s={...s},s.onFailedAttempt??(s.onFailedAttempt=()=>{}),s.shouldRetry??(s.shouldRetry=()=>!0),s.retries??(s.retries=10);const a=mae.operation(s),i=()=>{var o;a.stop(),n((o=s.signal)==null?void 0:o.reason)};s.signal&&!s.signal.aborted&&s.signal.addEventListener("abort",i,{once:!0});const l=()=>{var o;(o=s.signal)==null||o.removeEventListener("abort",i),a.stop()};a.attempt(async o=>{try{const c=await t(o);l(),r(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof Rv)throw c.originalError;if(c instanceof TypeError&&!xae(c))throw c;if(VS(c,o,s),await s.shouldRetry(c)||(a.stop(),n(c)),await s.onFailedAttempt(c),!a.retry(c))throw a.mainError()}catch(d){VS(d,o,s),l(),n(d)}}})})}const gae="@uppy/companion-client",bae="Client library for communication with Companion. Intended for use in Uppy plugins.",yae="5.0.0",vae="MIT",jae="lib/index.js",wae="module",Nae=!1,Cae={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Sae=["file uploader","uppy","uppy-plugin","companion","provider"],_ae="https://uppy.io",kae={url:"https://github.com/transloadit/uppy/issues"},Pae={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Eae=["src","lib","dist","CHANGELOG.md"],Aae={".":"./lib/index.js","./package.json":"./package.json"},Tae={"@uppy/utils":"^7.0.0","namespace-emitter":"^2.0.1","p-retry":"^6.1.0"},Rae={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},Dae={"@uppy/core":"^5.0.0"},Mae={name:gae,description:bae,version:yae,license:vae,main:jae,type:wae,sideEffects:Nae,scripts:Cae,keywords:Sae,homepage:_ae,bugs:kae,repository:Pae,files:Eae,exports:Aae,dependencies:Tae,devDependencies:Rae,peerDependencies:Dae};class Oae extends Error{constructor(){super("Authorization required");T(this,"isAuthError");this.name="AuthError",this.isAuthError=!0}}function Iae(t){return t.replace(/\/$/,"")}const qS=10,Fae=5*60*1e3,Lae=401;class zae extends Error{constructor({statusCode:r,message:n}){super(n);T(this,"statusCode");this.name="HttpError",this.statusCode=r}}async function Uae(t){if(t.status===Lae)throw new Oae;if(t.ok)return t.json();let s=`Failed request with status: ${t.status}. ${t.statusText}`,r;try{r=await t.json(),r.message&&(s=`${s} message: ${r.message}`),r.requestId&&(s=`${s} request-Id: ${r.requestId}`)}catch(n){throw new Error(s,{cause:n})}throw t.status>=400&&t.status<=499&&r.message?new Cee(r.message):new zae({statusCode:t.status,message:s})}function $ae(t,s,r){const{progress:n,bytesUploaded:a,bytesTotal:i}=s;n&&(t.uppy.log(`Upload progress: ${n}`),t.uppy.emit("upload-progress",r,{uploadStarted:r.progress.uploadStarted??0,bytesUploaded:a,bytesTotal:i}))}var ao,Cl,Dv,jx,Mv;class gL{constructor(s,r){de(this,Cl);de(this,ao);T(this,"uppy");T(this,"opts");de(this,jx,async({file:s,postBody:r,signal:n})=>{var i;if(((i=s.remote)==null?void 0:i.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(s.remote.url,{...s.remote.body,...r},{signal:n})).token});this.uppy=s,this.opts=r,this.onReceiveResponse=this.onReceiveResponse.bind(this),me(this,ao,r.companionHeaders)}setCompanionHeaders(s){me(this,ao,s)}[Symbol.for("uppy test: getCompanionHeaders")](){return C(this,ao)}get hostname(){const{companion:s}=this.uppy.getState(),r=this.opts.companionUrl;return Iae(s!=null&&s[r]?s[r]:r)}async headers(s=!1){return{...{Accept:"application/json",...s?void 0:{"Content-Type":"application/json"}},...C(this,ao)}}onReceiveResponse(s){const{headers:r}=s,a=this.uppy.getState().companion||{},i=this.opts.companionUrl;r.has("i-am")&&r.get("i-am")!==a[i]&&this.uppy.setState({companion:{...a,[i]:r.get("i-am")}})}async request({path:s,method:r="GET",data:n,skipPostResponse:a,signal:i}){try{const l=await this.headers(!n),o=await nee(xe(this,Cl,Dv).call(this,s),{method:r,signal:i,headers:l,credentials:this.opts.companionCookiesRule||"same-origin",body:n?JSON.stringify(n):null});return a||this.onReceiveResponse(o),await Uae(o)}catch(l){throw l.isAuthError||l.name==="UserFacingApiError"||l.name==="AbortError"?l:new see(`Could not ${r} ${xe(this,Cl,Dv).call(this,s)}`,{cause:l})}}async get(s,r){return this.request({...r,path:s})}async post(s,r,n){return this.request({...n,path:s,method:"POST",data:r})}async delete(s,r,n){return this.request({...n,path:s,method:"DELETE",data:r})}async uploadRemoteFile(s,r,n){try{const{signal:a,getQueue:i}=n||{};return await BS(async()=>{var d;const l=(d=this.uppy.getFile(s.id))==null?void 0:d.serverToken;if(l!=null)return this.uppy.log(`Connecting to exiting websocket ${l}`),xe(this,Cl,Mv).call(this,{file:s,queue:i(),signal:a});const c=await i().wrapPromiseFunction(async(...u)=>{try{return await C(this,jx).call(this,...u)}catch(m){if(m.isAuthError)throw new Rv(m);if(m.cause==null)throw m;const h=m.cause,f=()=>[408,409,429,418,423].includes(h.statusCode)||h.statusCode>=500&&h.statusCode<=599&&![501,505].includes(h.statusCode);throw h.name==="HttpError"&&!f()?new Rv(h):h}},{priority:-1})({file:s,postBody:r,signal:a}).abortOn(a);if(this.uppy.getFile(s.id))return this.uppy.setFileState(s.id,{serverToken:c}),xe(this,Cl,Mv).call(this,{file:this.uppy.getFile(s.id),queue:i(),signal:a})},{retries:qS,signal:a,onFailedAttempt:l=>this.uppy.log(`Retrying upload due to: ${l.message}`,"warning")})}catch(a){if(a.name==="AbortError")return;throw this.uppy.emit("upload-error",s,a),a}}}ao=new WeakMap,Cl=new WeakSet,Dv=function(s){return/^(https?:|)\/\//.test(s)?s:`${this.hostname}/${s}`},jx=new WeakMap,Mv=async function({file:s,queue:r,signal:n}){let a;const{capabilities:i}=this.uppy.getState();try{return await new Promise((l,o)=>{const c=s.serverToken,d=fee(s.remote.companionUrl);let u,m,h,{isPaused:f}=s;const b=(k,S)=>{if(u==null||u.readyState!==u.OPEN){this.uppy.log(`Cannot send "${k}" to socket ${s.id} because the socket state was ${String(u==null?void 0:u.readyState)}`,"warning");return}u.send(JSON.stringify({action:k,payload:S??{}}))};function x(){i.resumableUploads&&b(f?"pause":"resume")}const v=async()=>{m&&m.abort(),m=new AbortController;const k=A=>{var z;this.uppy.setFileState(s.id,{serverToken:null}),(z=m==null?void 0:m.abort)==null||z.call(m),o(A)};function S(){clearTimeout(h),!f&&(h=setTimeout(()=>k(new Error("Timeout waiting for message from Companion socket")),Fae))}try{await r.wrapPromiseFunction(async()=>{await BS(async()=>new Promise((z,re)=>{u=new WebSocket(`${d}/api/${c}`),S(),u.addEventListener("close",()=>{u=void 0,re(new Error("Socket closed unexpectedly"))}),u.addEventListener("error",B=>{this.uppy.log(`Companion socket error ${JSON.stringify(B)}, closing socket`,"warning"),u==null||u.close()}),u.addEventListener("open",()=>{x()}),u.addEventListener("message",B=>{var U,W,E;S();try{const{action:M,payload:q}=JSON.parse(B.data);switch(M){case"progress":{$ae(this,q,this.uppy.getFile(s.id));break}case"success":{const R=(U=q.response)==null?void 0:U.responseText;this.uppy.emit("upload-success",this.uppy.getFile(s.id),{uploadURL:q.url,status:((W=q.response)==null?void 0:W.status)??200,body:R?JSON.parse(R):void 0}),(E=m==null?void 0:m.abort)==null||E.call(m),l();break}case"error":{const{message:R}=q.error;throw Object.assign(new Error(R),{cause:q.error})}default:this.uppy.log(`Companion socket unknown action ${M}`,"warning")}}catch(M){k(M)}});const F=()=>{this.uppy.log(`Closing socket ${s.id}`),clearTimeout(h),u&&u.close(),u=void 0};m.signal.addEventListener("abort",()=>{F()})}),{retries:qS,signal:m.signal,onFailedAttempt:()=>{m.signal.aborted||this.uppy.log(`Retrying websocket ${s.id}`)}})})().abortOn(m.signal)}catch(A){if(m.signal.aborted)return;k(A)}},g=k=>{i.resumableUploads&&(f=k,u&&x())},y=k=>{var S;i.individualCancellation&&k.id===s.id&&(b("cancel"),(S=m==null?void 0:m.abort)==null||S.call(m),this.uppy.log(`upload ${s.id} was removed`),l())},j=()=>{var k;b("cancel"),(k=m==null?void 0:m.abort)==null||k.call(m),this.uppy.log(`upload ${s.id} was canceled`),l()},w=(k,S)=>{(k==null?void 0:k.id)===s.id&&g(S)},N=()=>g(!0),_=()=>g(!1);this.uppy.on("file-removed",y),this.uppy.on("cancel-all",j),this.uppy.on("upload-pause",w),this.uppy.on("pause-all",N),this.uppy.on("resume-all",_),a=()=>{this.uppy.off("file-removed",y),this.uppy.off("cancel-all",j),this.uppy.off("upload-pause",w),this.uppy.off("pause-all",N),this.uppy.off("resume-all",_)},n.addEventListener("abort",()=>{m==null||m.abort()}),v()})}finally{a==null||a()}},T(gL,"VERSION",Mae.version);const Vae="@uppy/aws-s3",Bae="Upload to Amazon S3 with Uppy",qae="5.0.0",Wae="MIT",Hae="lib/index.js",Kae="module",Gae=!1,Qae={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Yae=["file uploader","aws s3","amazon s3","s3","uppy","uppy-plugin","multipart"],Zae="https://uppy.io",Xae={url:"https://github.com/transloadit/uppy/issues"},Jae={type:"git",url:"git+https://github.com/transloadit/uppy.git"},eie=["src","lib","dist","CHANGELOG.md"],tie={".":"./lib/index.js","./package.json":"./package.json"},sie={"@uppy/companion-client":"^5.0.0","@uppy/utils":"^7.0.0"},rie={"@aws-sdk/client-s3":"^3.362.0","@aws-sdk/s3-request-presigner":"^3.362.0","@uppy/core":"^5.0.0",jsdom:"^26.1.0",nock:"^13.1.0",typescript:"^5.8.3",vitest:"^3.2.4","whatwg-fetch":"3.6.2"},nie={"@uppy/core":"^5.0.0"},aie={name:Vae,description:Bae,version:qae,license:Wae,main:Hae,type:Kae,sideEffects:Gae,scripts:Qae,keywords:Yae,homepage:Zae,bugs:Xae,repository:Jae,files:eie,exports:tie,dependencies:sie,devDependencies:rie,peerDependencies:nie};function iie({method:t="PUT",CanonicalUri:s="/",CanonicalQueryString:r="",SignedHeaders:n,HashedPayload:a}){const i=Object.keys(n).map(l=>l.toLowerCase()).sort();return[t,s,r,...i.map(l=>`${l}:${n[l]}`),"",i.join(";"),a].join(`
`)}const CN=new TextEncoder,SN={name:"HMAC",hash:"SHA-256"};async function lie(t){const{subtle:s}=globalThis.crypto;return s.digest(SN.hash,CN.encode(t))}async function oie(t){const{subtle:s}=globalThis.crypto;return s.importKey("raw",typeof t=="string"?CN.encode(t):t,SN,!1,["sign"])}function WS(t){const s=new Uint8Array(t);let r="";for(let n=0;n<s.length;n++)r+=s[n].toString(16).padStart(2,"0");return r}async function iu(t,s){const{subtle:r}=globalThis.crypto;return r.sign(SN,await oie(t),CN.encode(s))}async function cie({accountKey:t,accountSecret:s,sessionToken:r,bucketName:n,Key:a,Region:i,expires:l,uploadId:o,partNumber:c}){const d="s3",u=`${d}.${i}.amazonaws.com`,m=`/${n}/${encodeURI(a).replace(/[;?:@&=+$,#!'()*]/g,A=>`%${A.charCodeAt(0).toString(16).toUpperCase()}`)}`,h="UNSIGNED-PAYLOAD",f=new Date().toISOString().replace(/[-:]|\.\d+/g,""),b=f.slice(0,8),x=`${b}/${i}/${d}/aws4_request`,v=new URL(`https://${u}${m}`);v.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),v.searchParams.set("X-Amz-Content-Sha256",h),v.searchParams.set("X-Amz-Credential",`${t}/${x}`),v.searchParams.set("X-Amz-Date",f),v.searchParams.set("X-Amz-Expires",l),v.searchParams.set("X-Amz-Security-Token",r),v.searchParams.set("X-Amz-SignedHeaders","host"),c&&v.searchParams.set("partNumber",c),o&&v.searchParams.set("uploadId",o),v.searchParams.set("x-id",c&&o?"UploadPart":"PutObject");const g=iie({CanonicalUri:m,CanonicalQueryString:v.search.slice(1),SignedHeaders:{host:u},HashedPayload:h}),y=WS(await lie(g)),j=["AWS4-HMAC-SHA256",f,x,y].join(`
`),w=await iu(`AWS4${s}`,b),N=await iu(w,i),_=await iu(N,d),k=await iu(_,"aws4_request"),S=WS(await iu(k,j));return v.searchParams.set("X-Amz-Signature",S),v}const die=1024*1024,HS={getChunkSize(t){return Math.ceil(t.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(t){throw t}};function uie(t){if(typeof t=="string")return parseInt(t,10);if(typeof t=="number")return t;throw new TypeError("Expected a number")}const Zp=Symbol("pausing upload, not an actual error");var In,xn,wa,ni,ai,Vm,Bm,Jc,io,ed,qm,td,Wm,la,bL,yL,Ov,Hm,Km,vL;class mie{constructor(s,r){de(this,la);T(this,"options");de(this,In,new W0);de(this,xn,[]);de(this,wa,[]);de(this,ni);de(this,ai);de(this,Vm,!1);de(this,Bm);de(this,Jc);de(this,io);de(this,ed);de(this,qm,s=>(s==null?void 0:s.cause)===Zp?null:C(this,Bm).call(this,s));de(this,td,1e4);de(this,Wm,5*die);de(this,Hm,s=>r=>{if(!r.lengthComputable)return;C(this,wa)[s].uploaded=uie(r.loaded);const n=C(this,wa).reduce((a,i)=>a+i.uploaded,0);this.options.onProgress(n,C(this,ni).size)});de(this,Km,s=>r=>{C(this,xn)[s]=null,C(this,wa)[s].etag=r,C(this,wa)[s].done=!0;const n={PartNumber:s+1,ETag:r};this.options.onPartComplete(n)});var n;this.options={...HS,...r},(n=this.options).getChunkSize??(n.getChunkSize=HS.getChunkSize),me(this,ni,s),me(this,ai,r.file),me(this,Jc,this.options.onSuccess),me(this,Bm,this.options.onError),me(this,io,this.options.shouldUseMultipart),me(this,ed,r.uploadId&&r.key),xe(this,la,bL).call(this)}start(){C(this,Vm)?(C(this,In).signal.aborted||C(this,In).abort(Zp),me(this,In,new W0),xe(this,la,Ov).call(this)):C(this,ed)?(this.options.companionComm.restoreUploadFile(C(this,ai),{uploadId:this.options.uploadId,key:this.options.key}),xe(this,la,Ov).call(this)):xe(this,la,yL).call(this)}pause(){C(this,In).abort(Zp),me(this,In,new W0)}abort(s){s!=null&&s.really?xe(this,la,vL).call(this):this.pause()}[Symbol.for("uppy test: getChunkState")](){return C(this,wa)}}In=new WeakMap,xn=new WeakMap,wa=new WeakMap,ni=new WeakMap,ai=new WeakMap,Vm=new WeakMap,Bm=new WeakMap,Jc=new WeakMap,io=new WeakMap,ed=new WeakMap,qm=new WeakMap,td=new WeakMap,Wm=new WeakMap,la=new WeakSet,bL=function(){const s=C(this,ni).size,r=typeof C(this,io)=="function"?C(this,io).call(this,C(this,ai)):!!C(this,io);if(r&&s>C(this,Wm)){let n=Math.max(this.options.getChunkSize(C(this,ni)),C(this,Wm)),a=Math.floor(s/n);a>C(this,td)&&(a=C(this,td),n=s/C(this,td)),me(this,xn,Array(a));for(let i=0,l=0;i<s;i+=n,l++){const o=Math.min(s,i+n),c=()=>{const d=i;return C(this,ni).slice(d,o)};if(C(this,xn)[l]={getData:c,onProgress:C(this,Hm).call(this,l),onComplete:C(this,Km).call(this,l),shouldUseMultipart:r},C(this,ed)){const d=i+n>s?s-i:n;C(this,xn)[l].setAsUploaded=()=>{C(this,xn)[l]=null,C(this,wa)[l].uploaded=d}}}}else me(this,xn,[{getData:()=>C(this,ni),onProgress:C(this,Hm).call(this,0),onComplete:C(this,Km).call(this,0),shouldUseMultipart:r}]);me(this,wa,C(this,xn).map(()=>({uploaded:0})))},yL=function(){this.options.companionComm.uploadFile(C(this,ai),C(this,xn),C(this,In).signal).then(C(this,Jc),C(this,qm)),me(this,Vm,!0)},Ov=function(){this.options.companionComm.resumeUploadFile(C(this,ai),C(this,xn),C(this,In).signal).then(C(this,Jc),C(this,qm))},Hm=new WeakMap,Km=new WeakMap,vL=function(){C(this,In).abort(),this.options.companionComm.abortFileUpload(C(this,ai)).catch(s=>this.options.log(s))};function ur(t){if(t!=null&&t.aborted)throw lF("The operation was aborted",{cause:t.reason})}function hie(t){const s=new URL(t);return s.search="",s.hash="",s.href}var Gm,Fn,Qm,Ym,Zm,Xm,sd,rd,nd,ad,lo,id,Ln,Do,jL,Iv;class pie{constructor(s,r,n,a){de(this,Do);de(this,Gm);de(this,Fn,new WeakMap);de(this,Qm);de(this,Ym);de(this,Zm);de(this,Xm);de(this,sd);de(this,rd);de(this,nd);de(this,ad);de(this,lo);de(this,id);de(this,Ln);me(this,rd,s),me(this,lo,n),me(this,Ln,a),this.setOptions(r)}setOptions(s){const r=C(this,rd);"abortMultipartUpload"in s&&me(this,Gm,r.wrapPromiseFunction(s.abortMultipartUpload,{priority:1})),"createMultipartUpload"in s&&me(this,Qm,r.wrapPromiseFunction(s.createMultipartUpload,{priority:-1})),"signPart"in s&&me(this,Ym,r.wrapPromiseFunction(s.signPart)),"listParts"in s&&me(this,Xm,r.wrapPromiseFunction(s.listParts)),"completeMultipartUpload"in s&&me(this,ad,r.wrapPromiseFunction(s.completeMultipartUpload,{priority:1})),"retryDelays"in s&&me(this,nd,s.retryDelays??[]),"uploadPartBytes"in s&&me(this,id,r.wrapPromiseFunction(s.uploadPartBytes,{priority:1/0})),"getUploadParameters"in s&&me(this,Zm,r.wrapPromiseFunction(s.getUploadParameters))}async getUploadId(s,r){let n;for(;n=C(this,Fn).get(s.data),n!=null;)try{return await n}catch{}const a=C(this,Qm).call(this,C(this,Ln).call(this,s),r),i=()=>{a.abort(r.reason),C(this,Fn).delete(s.data)};return r.addEventListener("abort",i,{once:!0}),C(this,Fn).set(s.data,a),a.then(async l=>{r.removeEventListener("abort",i),C(this,lo).call(this,s,l),C(this,Fn).set(s.data,l)},()=>{r.removeEventListener("abort",i),C(this,Fn).delete(s.data)}),a}async abortFileUpload(s){const r=C(this,Fn).get(s.data);if(r==null)return;C(this,Fn).delete(s.data),C(this,lo).call(this,s,Object.create(null));let n;try{n=await r}catch{return}await C(this,Gm).call(this,C(this,Ln).call(this,s),n)}async uploadFile(s,r,n){if(ur(n),r.length===1&&!r[0].shouldUseMultipart)return xe(this,Do,Iv).call(this,s,r[0],n);const{uploadId:a,key:i}=await this.getUploadId(s,n);ur(n);try{const l=await Promise.all(r.map((o,c)=>this.uploadChunk(s,c+1,o,n)));return ur(n),await C(this,ad).call(this,C(this,Ln).call(this,s),{key:i,uploadId:a,parts:l,signal:n},n).abortOn(n)}catch(l){throw(l==null?void 0:l.cause)!==Zp&&(l==null?void 0:l.name)!=="AbortError"&&this.abortFileUpload(s),l}}restoreUploadFile(s,r){C(this,Fn).set(s.data,r)}async resumeUploadFile(s,r,n){if(ur(n),r.length===1&&r[0]!=null&&!r[0].shouldUseMultipart)return xe(this,Do,Iv).call(this,s,r[0],n);const{uploadId:a,key:i}=await this.getUploadId(s,n);ur(n);const l=await C(this,Xm).call(this,C(this,Ln).call(this,s),{uploadId:a,key:i,signal:n},n).abortOn(n);ur(n);const o=await Promise.all(r.map((c,d)=>{var h;const u=d+1,m=l.find(({PartNumber:f})=>f===u);return m==null?this.uploadChunk(s,u,c,n):((h=c==null?void 0:c.setAsUploaded)==null||h.call(c),{PartNumber:u,ETag:m.ETag})}));return ur(n),C(this,ad).call(this,C(this,Ln).call(this,s),{key:i,uploadId:a,parts:o,signal:n},n).abortOn(n)}async uploadChunk(s,r,n,a){ur(a);const{uploadId:i,key:l}=await this.getUploadId(s,a),o=C(this,nd).values(),c=C(this,nd).values(),d=()=>{const u=o.next();return u==null||u.done?null:u.value};for(;;){ur(a);const u=n.getData(),{onProgress:m,onComplete:h}=n;let f;try{f=await C(this,Ym).call(this,C(this,Ln).call(this,s),{uploadId:i,key:l,partNumber:r,body:u,signal:a}).abortOn(a)}catch(b){const x=d();if(x==null||a.aborted)throw b;await new Promise(v=>setTimeout(v,x));continue}ur(a);try{return{PartNumber:r,...await C(this,id).call(this,{signature:f,body:u,size:u.size,onProgress:m,onComplete:h,signal:a}).abortOn(a)}}catch(b){if(!await xe(this,Do,jL).call(this,b,c))throw b}}}}Gm=new WeakMap,Fn=new WeakMap,Qm=new WeakMap,Ym=new WeakMap,Zm=new WeakMap,Xm=new WeakMap,sd=new WeakMap,rd=new WeakMap,nd=new WeakMap,ad=new WeakMap,lo=new WeakMap,id=new WeakMap,Ln=new WeakMap,Do=new WeakSet,jL=async function(s,r){var i;const n=C(this,rd),a=(i=s==null?void 0:s.source)==null?void 0:i.status;if(a==null)return!1;if(a===403&&s.message==="Request has expired"){if(!n.isPaused){if(n.limit===1||C(this,sd)==null){const l=r.next();if(l==null||l.done)return!1;me(this,sd,l.value)}n.rateLimit(0),await new Promise(l=>setTimeout(l,C(this,sd)))}}else if(a===429){if(!n.isPaused){const l=r.next();if(l==null||l.done)return!1;n.rateLimit(l.value)}}else{if(a>400&&a<500&&a!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)n.isPaused||(n.pause(),window.addEventListener("online",()=>{n.resume()},{once:!0}));else{const l=r.next();if(l==null||l.done)return!1;await new Promise(o=>setTimeout(o,l.value))}}return!0},Iv=async function(s,r,n){const{method:a="POST",url:i,fields:l,headers:o}=await C(this,Zm).call(this,C(this,Ln).call(this,s),{signal:n}).abortOn(n);let c;const d=r.getData();if(a.toUpperCase()==="POST"){const b=new FormData;Object.entries(l).forEach(([x,v])=>b.set(x,v)),b.set("file",d),c=b}else c=d;const{onProgress:u,onComplete:m}=r,h=await C(this,id).call(this,{signature:{url:i,headers:o,method:a},body:c,size:d.size,onProgress:u,onComplete:m,signal:n}).abortOn(n),f=l==null?void 0:l.key;return C(this,lo).call(this,s,{key:f}),{...h,location:h.location??hie(i),bucket:l==null?void 0:l.bucket,key:f}};function Ko(t){if(t!=null&&t.error){const s=new Error(t.message);throw Object.assign(s,t.error),s}return t}function KS(t){const s=t.Expiration;if(s){const r=Math.floor((new Date(s)-Date.now())/1e3);if(r>9)return r}}function GS({meta:t,allowedMetaFields:s,querify:r=!1}){const n=s??Object.keys(t);return t?Object.fromEntries(n.filter(a=>t[a]!=null).map(a=>{const i=r?`metadata[${a}]`:a,l=String(t[a]);return[i,l]})):{}}const fie={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:t=>(t.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]};var ld,Nr,Os,Lv,Di,zn,wL,wx,od,NL,CL,Jm,cd,oo,eh;const Nx=class Nx extends OF{constructor(r,n){super(r,{...fie,uploadPartBytes:Nx.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...n});de(this,Os);de(this,ld);de(this,Nr);T(this,"requests");T(this,"uploaderEvents");T(this,"uploaders");de(this,zn);de(this,wx,(r,{key:n,uploadId:a})=>{const i=this.uppy.getFile(r.id);i!=null&&this.uppy.setFileState(r.id,{s3Multipart:{...i.s3Multipart,key:n,uploadId:a}})});de(this,od,r=>this.uppy.getFile(r.id)||r);de(this,Jm,async r=>{if(r.length===0)return;const n=this.uppy.getFilesByIds(r),a=aee(n),i=iee(a);this.uppy.emit("upload-start",i);const l=a.map(c=>{if(c.isRemote){const d=()=>this.requests;C(this,oo).call(this,!1);const u=new AbortController,m=f=>{f.id===c.id&&u.abort()};this.uppy.on("file-removed",m);const h=this.uppy.getRequestClientForFile(c).uploadRemoteFile(c,xe(this,Os,CL).call(this,c),{signal:u.signal,getQueue:d});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",m)},{priority:-1})(),h}return xe(this,Os,NL).call(this,c)}),o=await Promise.allSettled(l);return C(this,oo).call(this,!0),o});de(this,cd,()=>{var r;(r=C(this,Nr))==null||r.setCompanionHeaders(this.opts.headers)});de(this,oo,r=>{const{capabilities:n}=this.uppy.getState();this.uppy.setState({capabilities:{...n,resumableUploads:r}})});de(this,eh,()=>{C(this,oo).call(this,!0)});this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",xe(this,Os,Lv).call(this,n);const a={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:n!=null&&n.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:n!=null&&n.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(const i of Object.keys(a))this.opts[i]==null&&(this.opts[i]=a[i].bind(this));this.requests=this.opts.rateLimitedQueue??new jee(this.opts.limit),me(this,ld,new pie(this.requests,this.opts,C(this,wx),C(this,od))),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return C(this,Nr)}setOptions(r){C(this,ld).setOptions(r),super.setOptions(r),xe(this,Os,Lv).call(this,r)}resetUploaderReferences(r,n){this.uploaders[r]&&(this.uploaders[r].abort({really:(n==null?void 0:n.abort)||!1}),this.uploaders[r]=null),this.uploaderEvents[r]&&(this.uploaderEvents[r].remove(),this.uploaderEvents[r]=null)}createMultipartUpload(r,n){xe(this,Os,Di).call(this,"createMultipartUpload"),ur(n);const a=YC(this.opts.allowedMetaFields,r.meta),i=GS({meta:r.meta,allowedMetaFields:a});return C(this,Nr).post("s3/multipart",{filename:r.name,type:r.type,metadata:i},{signal:n}).then(Ko)}listParts(r,{key:n,uploadId:a,signal:i},l){i??(i=l),xe(this,Os,Di).call(this,"listParts"),ur(i);const o=encodeURIComponent(n);return C(this,Nr).get(`s3/multipart/${encodeURIComponent(a)}?key=${o}`,{signal:i}).then(Ko)}completeMultipartUpload(r,{key:n,uploadId:a,parts:i,signal:l},o){l??(l=o),xe(this,Os,Di).call(this,"completeMultipartUpload"),ur(l);const c=encodeURIComponent(n),d=encodeURIComponent(a);return C(this,Nr).post(`s3/multipart/${d}/complete?key=${c}`,{parts:i.map(({ETag:u,PartNumber:m})=>({ETag:u,PartNumber:m}))},{signal:l}).then(Ko)}async createSignedURL(r,n){const a=await xe(this,Os,wL).call(this,n),i=KS(a.credentials)||604800,{uploadId:l,key:o,partNumber:c}=n;return{method:"PUT",expires:i,fields:{},url:`${await cie({accountKey:a.credentials.AccessKeyId,accountSecret:a.credentials.SecretAccessKey,sessionToken:a.credentials.SessionToken,expires:i,bucketName:a.bucket,Region:a.region,Key:o??`${crypto.randomUUID()}-${r.name}`,uploadId:l,partNumber:c})}`,headers:{"Content-Type":r.type}}}signPart(r,{uploadId:n,key:a,partNumber:i,signal:l}){if(xe(this,Os,Di).call(this,"signPart"),ur(l),n==null||a==null||i==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");const o=encodeURIComponent(a);return C(this,Nr).get(`s3/multipart/${encodeURIComponent(n)}/${i}?key=${o}`,{signal:l}).then(Ko)}abortMultipartUpload(r,{key:n,uploadId:a,signal:i}){xe(this,Os,Di).call(this,"abortMultipartUpload");const l=encodeURIComponent(n),o=encodeURIComponent(a);return C(this,Nr).delete(`s3/multipart/${o}?key=${l}`,void 0,{signal:i}).then(Ko)}getUploadParameters(r,n){xe(this,Os,Di).call(this,"getUploadParameters");const{meta:a}=r,{type:i,name:l}=a,o=YC(this.opts.allowedMetaFields,r.meta),c=GS({meta:a,allowedMetaFields:o,querify:!0}),d=new URLSearchParams({filename:l,type:i,...c});return C(this,Nr).get(`s3/params?${d}`,n)}static async uploadPartBytes({signature:{url:r,expires:n,headers:a,method:i="PUT"},body:l,size:o=l.size,onProgress:c,onComplete:d,signal:u}){if(ur(u),r==null)throw new Error("Cannot upload to an undefined URL");return new Promise((m,h)=>{const f=new XMLHttpRequest;f.open(i,r,!0),a&&Object.keys(a).forEach(v=>{f.setRequestHeader(v,a[v])}),f.responseType="text",typeof n=="number"&&(f.timeout=n*1e3);function b(){f.abort()}function x(){u==null||u.removeEventListener("abort",b)}u==null||u.addEventListener("abort",b),f.upload.addEventListener("progress",v=>{c(v)}),f.addEventListener("abort",()=>{x(),h(lF())}),f.addEventListener("timeout",()=>{x();const v=new Error("Request has expired");v.source={status:403},h(v)}),f.addEventListener("load",()=>{if(x(),f.status===403&&f.responseText.includes("<Message>Request has expired</Message>")){const w=new Error("Request has expired");w.source=f,h(w);return}if(f.status<200||f.status>=300){const w=new Error("Non 2xx");w.source=f,h(w);return}c==null||c({loaded:o,lengthComputable:!0});const v=f.getAllResponseHeaders().trim().split(/[\r\n]+/),g={__proto__:null};for(const w of v){const N=w.split(": "),_=N.shift(),k=N.join(": ");g[_]=k}const{etag:y,location:j}=g;if(i.toUpperCase()==="POST"&&j==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),y==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}d==null||d(y),m({...g,ETag:y})}),f.addEventListener("error",v=>{x();const g=new Error("Unknown error");g.source=v.target,h(g)}),f.send(l)})}install(){C(this,oo).call(this,!0),this.uppy.addPreProcessor(C(this,cd)),this.uppy.addUploader(C(this,Jm)),this.uppy.on("cancel-all",C(this,eh))}uninstall(){this.uppy.removePreProcessor(C(this,cd)),this.uppy.removeUploader(C(this,Jm)),this.uppy.off("cancel-all",C(this,eh))}};ld=new WeakMap,Nr=new WeakMap,Os=new WeakSet,Lv=function(r){r==null||!("endpoint"in r||"companionUrl"in r||"headers"in r||"companionHeaders"in r||"cookiesRule"in r||"companionCookiesRule"in r)||("companionUrl"in r&&!("endpoint"in r)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in r&&!("headers"in r)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in r&&!("cookiesRule"in r)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in r?me(this,Nr,new gL(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule})):("headers"in r&&C(this,cd).call(this),"cookiesRule"in r&&(C(this,Nr).opts.companionCookiesRule=r.cookiesRule)))},Di=function(r){if(!C(this,Nr))throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${r}\` implementation.`)},zn=new WeakMap,wL=async function(r){if(ur(r==null?void 0:r.signal),C(this,zn)==null){const{getTemporarySecurityCredentials:n}=this.opts;n===!0?(xe(this,Os,Di).call(this,"getTemporarySecurityCredentials"),me(this,zn,C(this,Nr).get("s3/sts",r).then(Ko))):me(this,zn,n(r)),me(this,zn,await C(this,zn)),setTimeout(()=>{me(this,zn,null)},(KS(C(this,zn).credentials)||0)*500)}return C(this,zn)},wx=new WeakMap,od=new WeakMap,NL=function(r){return new Promise((n,a)=>{const i=(u,m)=>{const h=this.uppy.getFile(r.id);this.uppy.emit("upload-progress",h,{uploadStarted:h.progress.uploadStarted??0,bytesUploaded:u,bytesTotal:m})},l=u=>{this.uppy.log(u),this.uppy.emit("upload-error",r,u),this.resetUploaderReferences(r.id),a(u)},o=u=>{const m={body:{...u},status:200,uploadURL:u.location};this.resetUploaderReferences(r.id),this.uppy.emit("upload-success",C(this,od).call(this,r),m),u.location&&this.uppy.log(`Download ${r.name} from ${u.location}`),n(void 0)},c=new mie(r.data,{companionComm:C(this,ld),log:(...u)=>this.uppy.log(...u),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:i,onError:l,onSuccess:o,onPartComplete:u=>{this.uppy.emit("s3-multipart:part-uploaded",C(this,od).call(this,r),u)},file:r,shouldUseMultipart:this.opts.shouldUseMultipart,...r.s3Multipart});this.uploaders[r.id]=c;const d=new Lee(this.uppy);this.uploaderEvents[r.id]=d,d.onFileRemove(r.id,u=>{c.abort(),this.resetUploaderReferences(r.id,{abort:!0}),n(`upload ${u} was removed`)}),d.onCancelAll(r.id,()=>{c.abort(),this.resetUploaderReferences(r.id,{abort:!0}),n(`upload ${r.id} was canceled`)}),d.onFilePause(r.id,u=>{u?c.pause():c.start()}),d.onPauseAll(r.id,()=>{c.pause()}),d.onResumeAll(r.id,()=>{c.start()}),c.start()})},CL=function(r){var n;return{...(n=r.remote)==null?void 0:n.body,protocol:"s3-multipart",size:r.data.size,metadata:r.meta}},Jm=new WeakMap,cd=new WeakMap,oo=new WeakMap,eh=new WeakMap,T(Nx,"VERSION",aie.version);let Fv=Nx;function xie({maxNumberOfFiles:t=1,maxFileSize:s=10485760,onGetUploadParameters:r,onComplete:n,buttonClassName:a,children:i}){const[l,o]=p.useState(!1),[c]=p.useState(()=>(console.log("Creating Uppy instance"),new gv({restrictions:{maxNumberOfFiles:t,maxFileSize:s},autoProceed:!1}).use(Fv,{shouldUseMultipart:!1,getUploadParameters:r}).on("complete",d=>{console.log("Upload complete:",d),n==null||n(d),o(!1)}).on("error",d=>{console.error("Upload error:",d)}).on("upload-error",(d,u)=>{console.error("Upload error for file:",d,u)})));return console.log("ObjectUploader render, showModal:",l),e.jsxs("div",{children:[e.jsx(P,{onClick:()=>{console.log("Upload button clicked, showModal before:",l),o(!0),console.log("Upload button clicked, showModal after:",!0)},className:a,children:i}),e.jsx(fL,{uppy:c,open:l,onRequestClose:()=>{console.log("Upload modal closed"),o(!1)},proudlyDisplayPoweredByUppy:!1})]})}const gie=I.object({name:I.string().min(1,"Name is required"),qualifications:I.string().min(1,"Qualifications are required"),yearsOfExperience:I.string().min(1,"Years of experience is required"),registrationNumber:I.string().optional(),role:I.string().min(1,"Role is required")}),bie=I.object({bankName:I.string().min(1,"Bank name is required"),accountNumber:I.string().min(1,"Account number is required"),accountName:I.string().min(1,"Account name is required"),branchCode:I.string().min(1,"Branch code is required")}),yie=I.object({companyName:I.string().min(2,"Company name must be at least 2 characters"),tradingName:I.string().optional(),registrationNumber:I.string().min(1,"Registration number is required"),vatNumber:I.string().optional(),dateOfIncorporation:I.string().min(1,"Date of incorporation is required"),companyType:I.enum(["private_company","public_company","partnership","sole_proprietorship","trust","other"],{required_error:"Company type is required"}),email:I.string().email("Invalid email address"),phoneCountryCode:I.string().min(1,"Country code is required"),phone:I.string().min(10,"Phone number must be at least 10 digits"),fax:I.string().optional(),website:I.string().url("Invalid website URL").optional().or(I.literal("")),physicalAddress:I.string().min(10,"Physical address must be at least 10 characters"),postalAddress:I.string().min(10,"Postal address must be at least 10 characters"),city:I.string().min(2,"City is required"),province:I.string().min(2,"Province is required"),postalCode:I.string().min(4,"Postal code is required"),businessDescription:I.string().min(50,"Business description must be at least 50 characters"),yearsInOperation:I.string().min(1,"Years in operation is required"),numberOfEmployees:I.string().min(1,"Number of employees is required"),branchOffices:I.string().optional(),principalAgents:I.array(gie).min(1,"At least one principal agent is required"),trustAccounts:I.array(bie).min(1,"At least one trust account is required"),hasValidLicense:I.boolean(),hasProfessionalIndemnity:I.boolean(),hasPublicLiability:I.boolean(),hasBeenPenalized:I.boolean(),penaltyDetails:I.string().optional(),agreeToTerms:I.boolean().refine(t=>t===!0,{message:"You must agree to the terms and conditions"}),agreeToCodeOfConduct:I.boolean().refine(t=>t===!0,{message:"You must agree to the code of conduct"})}),vie=[{country:"Zimbabwe",code:"+263"},{country:"South Africa",code:"+27"},{country:"Botswana",code:"+267"},{country:"Zambia",code:"+260"},{country:"Mozambique",code:"+258"},{country:"United Kingdom",code:"+44"},{country:"United States",code:"+1"}],ab=[{id:1,title:"Company Details",icon:qe,description:"Basic company information"},{id:2,title:"Contact & Address",icon:Ma,description:"Contact details and address"},{id:3,title:"Directors & Principal Agent",icon:et,description:"Company directors and principal agent"},{id:4,title:"Document Uploads",icon:Le,description:"Required business documents"},{id:5,title:"Payment",icon:le,description:"Registration fee payment"},{id:6,title:"Final Checklist",icon:le,description:"Review and confirmation"}];function jie({onSubmit:t,isLoading:s=!1,initialData:r}){const[n,a]=p.useState(1),[i,l]=p.useState([]),[o,c]=p.useState(""),d=It({resolver:Ft(yie),defaultValues:{companyName:"",tradingName:"",registrationNumber:"",vatNumber:"",dateOfIncorporation:"",email:"",phoneCountryCode:"+263",phone:"",fax:"",website:"",physicalAddress:"",postalAddress:"",city:"",province:"",postalCode:"",businessDescription:"",yearsInOperation:"",numberOfEmployees:"",branchOffices:"",principalAgents:[{name:"",qualifications:"",yearsOfExperience:"",registrationNumber:"",role:""}],trustAccounts:[{bankName:"",accountNumber:"",accountName:"",branchCode:""}],hasValidLicense:!1,hasProfessionalIndemnity:!1,hasPublicLiability:!1,hasBeenPenalized:!1,penaltyDetails:"",agreeToTerms:!1,agreeToCodeOfConduct:!1,...r}}),{fields:u,append:m,remove:h}=qy({control:d.control,name:"principalAgents"}),{fields:f,append:b,remove:x}=qy({control:d.control,name:"trustAccounts"}),v=()=>{m({name:"",qualifications:"",yearsOfExperience:"",registrationNumber:"",role:""})},g=()=>{b({bankName:"",accountNumber:"",accountName:"",branchCode:""})},y=vie.filter(S=>S.country.toLowerCase().includes(o.toLowerCase())||S.code.includes(o));d.watch("phoneCountryCode");const j=d.watch("hasBeenPenalized"),w=async()=>{const A={1:["companyName","registrationNumber","dateOfIncorporation","companyType"],2:["email","phoneCountryCode","phone","physicalAddress","postalAddress","city","province","postalCode"],3:["businessDescription","yearsInOperation","numberOfEmployees","principalAgents","trustAccounts","hasValidLicense","hasProfessionalIndemnity","hasPublicLiability","hasBeenPenalized",...j?["penaltyDetails"]:[]],4:[],5:[]}[n]||[];if(await d.trigger(A)){if(n===3){if(!d.getValues("principalAgents").some(W=>W.name&&W.qualifications&&W.yearsOfExperience&&W.role)){d.setError("principalAgents",{type:"manual",message:"At least one complete principal agent entry is required"});return}if(!d.getValues("trustAccounts").some(W=>W.bankName&&W.accountNumber&&W.accountName&&W.branchCode)){d.setError("trustAccounts",{type:"manual",message:"At least one complete trust account entry is required"});return}}a(re=>re+1)}},N=S=>{t({...S,documents:i})},_=async()=>{try{const S=await fetch("/api/object-storage/upload-url",{method:"POST",headers:{"Content-Type":"application/json"}});if(!S.ok)throw new Error("Failed to get upload URL");return{method:"PUT",url:(await S.json()).uploadUrl}}catch(S){throw console.error("Error getting upload URL:",S),new Error("Document upload is not available. Please contact support.")}},k=S=>{const A=S.successful.map(z=>z.uploadURL);l(z=>[...z,...A])};return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:ab.map(S=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-2 transition-colors ${n>=S.id?"bg-egyptian-blue text-white":"bg-gray-200 text-gray-500"}`,"data-testid":`step-${S.id}`,children:e.jsx(S.icon,{size:20})}),e.jsx("span",{className:`text-sm font-medium ${n>=S.id?"text-egyptian-blue":"text-muted-foreground"}`,children:S.title})]},S.id))}),e.jsx(Ci,{value:(n-1)/(ab.length-1)*100,className:"mt-4"})]}),e.jsx($,{children:e.jsxs("form",{onSubmit:d.handleSubmit(n===6?N:w),children:[n===1&&e.jsxs(V,{className:"p-6",children:[e.jsx(J,{className:"px-0 pt-0",children:e.jsxs(ee,{className:"text-xl flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5"}),"Company Details"]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Q,{control:d.control,name:"companyName",render:({field:S})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Company Name *"}),e.jsx(G,{children:e.jsx(Y,{...S,placeholder:"Enter company name"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:"tradingName",render:({field:S})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Trading Name"}),e.jsx(G,{children:e.jsx(Y,{...S,placeholder:"Enter trading name (if different)"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:"registrationNumber",render:({field:S})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Company Registration Number *"}),e.jsx(G,{children:e.jsx(Y,{...S,placeholder:"Enter registration number"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:"vatNumber",render:({field:S})=>e.jsxs(K,{children:[e.jsx(Z,{children:"VAT Registration Number"}),e.jsx(G,{children:e.jsx(Y,{...S,placeholder:"Enter VAT number (if applicable)"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:"dateOfIncorporation",render:({field:S})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Date of Incorporation *"}),e.jsx(G,{children:e.jsx(Y,{...S,type:"date"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:"companyType",render:({field:S})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Company Type *"}),e.jsxs(Ie,{onValueChange:S.onChange,value:S.value,children:[e.jsx(G,{children:e.jsx(De,{children:e.jsx(Fe,{placeholder:"Select company type"})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"private_company",children:"Private Company"}),e.jsx(D,{value:"public_company",children:"Public Company"}),e.jsx(D,{value:"partnership",children:"Partnership"}),e.jsx(D,{value:"sole_proprietorship",children:"Sole Proprietorship"}),e.jsx(D,{value:"trust",children:"Trust"}),e.jsx(D,{value:"other",children:"Other"})]})]}),e.jsx(X,{})]})})]})]}),n===2&&e.jsxs(V,{className:"p-6",children:[e.jsx(J,{className:"px-0 pt-0",children:e.jsxs(ee,{className:"text-xl flex items-center gap-2",children:[e.jsx(Ma,{className:"w-5 h-5"}),"Contact & Address"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Rr,{className:"w-4 h-4"}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[e.jsx(Q,{control:d.control,name:"email",render:({field:S})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Email Address *"}),e.jsx(G,{children:e.jsx(Y,{...S,type:"email",placeholder:"Enter email address"})}),e.jsx(X,{})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx(Q,{control:d.control,name:"phoneCountryCode",render:({field:S})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Code"}),e.jsxs(Ie,{onValueChange:S.onChange,value:S.value,children:[e.jsx(G,{children:e.jsx(De,{children:e.jsx(Fe,{})})}),e.jsxs(Me,{children:[e.jsx("div",{className:"p-2",children:e.jsx(Y,{placeholder:"Search...",value:o,onChange:A=>c(A.target.value),className:"mb-2"})}),y.map(A=>e.jsxs(D,{value:A.code,children:[A.code," ",A.country]},A.code))]})]}),e.jsx(X,{})]})}),e.jsx("div",{className:"col-span-2",children:e.jsx(Q,{control:d.control,name:"phone",render:({field:S})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Phone Number *"}),e.jsx(G,{children:e.jsx(Y,{...S,placeholder:"Enter phone number"})}),e.jsx(X,{})]})})})]}),e.jsx(Q,{control:d.control,name:"fax",render:({field:S})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Fax Number"}),e.jsx(G,{children:e.jsx(Y,{...S,placeholder:"Enter fax number"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:"website",render:({field:S})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Website"}),e.jsx(G,{children:e.jsx(Y,{...S,placeholder:"https://example.com"})}),e.jsx(X,{})]})})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Ma,{className:"w-4 h-4"}),"Address Information"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 mt-4",children:[e.jsx(Q,{control:d.control,name:"physicalAddress",render:({field:S})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Physical Address *"}),e.jsx(G,{children:e.jsx(kt,{...S,placeholder:"Enter complete physical address",rows:3})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:"postalAddress",render:({field:S})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Postal Address *"}),e.jsx(G,{children:e.jsx(kt,{...S,placeholder:"Enter complete postal address",rows:3})}),e.jsx(X,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(Q,{control:d.control,name:"city",render:({field:S})=>e.jsxs(K,{children:[e.jsx(Z,{children:"City *"}),e.jsx(G,{children:e.jsx(Y,{...S,placeholder:"Enter city"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:"province",render:({field:S})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Province *"}),e.jsx(G,{children:e.jsx(Y,{...S,placeholder:"Enter province"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:"postalCode",render:({field:S})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Postal Code *"}),e.jsx(G,{children:e.jsx(Y,{...S,placeholder:"Enter postal code"})}),e.jsx(X,{})]})})]})]})]})]})]}),n===3&&e.jsxs(V,{className:"p-6",children:[e.jsx(J,{className:"px-0 pt-0",children:e.jsxs(ee,{className:"text-xl flex items-center gap-2",children:[e.jsx(xr,{className:"w-5 h-5"}),"Directors & Principal Agent"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Q,{control:d.control,name:"yearsInOperation",render:({field:S})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Years in Operation *"}),e.jsx(G,{children:e.jsx(Y,{...S,type:"number",min:"0",placeholder:"Enter years in operation"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:"numberOfEmployees",render:({field:S})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Number of Employees *"}),e.jsx(G,{children:e.jsx(Y,{...S,type:"number",min:"1",placeholder:"Enter number of employees"})}),e.jsx(X,{})]})})]}),e.jsx(Q,{control:d.control,name:"businessDescription",render:({field:S})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Business Description *"}),e.jsx(G,{children:e.jsx(kt,{...S,placeholder:"Describe your business activities, services offered, and areas of specialization",rows:4})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:"branchOffices",render:({field:S})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Branch Offices"}),e.jsx(G,{children:e.jsx(kt,{...S,placeholder:"List any branch offices with their addresses (if applicable)",rows:3})}),e.jsx(X,{})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Principal Real Estate Agents"}),e.jsxs(P,{type:"button",onClick:v,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(gs,{className:"w-4 h-4"}),"Add Agent"]})]}),e.jsx("div",{className:"space-y-4",children:u.map((S,A)=>e.jsxs($,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"font-medium",children:["Agent ",A+1]}),u.length>1&&e.jsx(P,{type:"button",onClick:()=>h(A),variant:"outline",size:"sm",children:e.jsx(Oa,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Q,{control:d.control,name:`principalAgents.${A}.name`,render:({field:z})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Full Name *"}),e.jsx(G,{children:e.jsx(Y,{...z,placeholder:"Enter full name"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:`principalAgents.${A}.qualifications`,render:({field:z})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Qualifications *"}),e.jsx(G,{children:e.jsx(Y,{...z,placeholder:"Enter qualifications"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:`principalAgents.${A}.yearsOfExperience`,render:({field:z})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Years of Experience *"}),e.jsx(G,{children:e.jsx(Y,{...z,type:"number",min:"0",placeholder:"Enter years"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:`principalAgents.${A}.registrationNumber`,render:({field:z})=>e.jsxs(K,{children:[e.jsx(Z,{children:"EACZ Registration Number"}),e.jsx(G,{children:e.jsx(Y,{...z,placeholder:"Enter registration number"})}),e.jsx(X,{})]})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(Q,{control:d.control,name:`principalAgents.${A}.role`,render:({field:z})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Role in Organization *"}),e.jsx(G,{children:e.jsx(Y,{...z,placeholder:"e.g., Managing Director, Principal Agent"})}),e.jsx(X,{})]})})})]})]},S.id))})]})]})]}),n===3&&e.jsxs(V,{className:"p-6",children:[e.jsx(J,{className:"px-0 pt-0",children:e.jsxs(ee,{className:"text-xl flex items-center gap-2",children:[e.jsx(Le,{className:"w-5 h-5"}),"Trust Accounts & Compliance"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Trust Account Details"}),e.jsxs(P,{type:"button",onClick:g,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(gs,{className:"w-4 h-4"}),"Add Account"]})]}),e.jsx("div",{className:"space-y-4",children:f.map((S,A)=>e.jsxs($,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"font-medium",children:["Trust Account ",A+1]}),f.length>1&&e.jsx(P,{type:"button",onClick:()=>x(A),variant:"outline",size:"sm",children:e.jsx(Oa,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Q,{control:d.control,name:`trustAccounts.${A}.bankName`,render:({field:z})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Bank Name *"}),e.jsx(G,{children:e.jsx(Y,{...z,placeholder:"Enter bank name"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:`trustAccounts.${A}.accountNumber`,render:({field:z})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Account Number *"}),e.jsx(G,{children:e.jsx(Y,{...z,placeholder:"Enter account number"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:`trustAccounts.${A}.accountName`,render:({field:z})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Account Name *"}),e.jsx(G,{children:e.jsx(Y,{...z,placeholder:"Enter account name"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:`trustAccounts.${A}.branchCode`,render:({field:z})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Branch Code *"}),e.jsx(G,{children:e.jsx(Y,{...z,placeholder:"Enter branch code"})}),e.jsx(X,{})]})})]})]},S.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Compliance & Legal Requirements"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Q,{control:d.control,name:"hasValidLicense",render:({field:S})=>e.jsxs(K,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(G,{children:e.jsx(Xs,{checked:S.value,onCheckedChange:S.onChange})}),e.jsx("div",{className:"space-y-1 leading-none",children:e.jsx(Z,{children:"The organization holds all required business licenses and permits"})})]})}),e.jsx(Q,{control:d.control,name:"hasProfessionalIndemnity",render:({field:S})=>e.jsxs(K,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(G,{children:e.jsx(Xs,{checked:S.value,onCheckedChange:S.onChange})}),e.jsx("div",{className:"space-y-1 leading-none",children:e.jsx(Z,{children:"The organization has professional indemnity insurance coverage"})})]})}),e.jsx(Q,{control:d.control,name:"hasPublicLiability",render:({field:S})=>e.jsxs(K,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(G,{children:e.jsx(Xs,{checked:S.value,onCheckedChange:S.onChange})}),e.jsx("div",{className:"space-y-1 leading-none",children:e.jsx(Z,{children:"The organization has public liability insurance coverage"})})]})}),e.jsx(Q,{control:d.control,name:"hasBeenPenalized",render:({field:S})=>e.jsxs(K,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(G,{children:e.jsx(Xs,{checked:S.value,onCheckedChange:S.onChange})}),e.jsx("div",{className:"space-y-1 leading-none",children:e.jsx(Z,{children:"The organization or its directors have been penalized by a regulatory body"})})]})}),j&&e.jsx(Q,{control:d.control,name:"penaltyDetails",render:({field:S})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Penalty Details *"}),e.jsx(G,{children:e.jsx(kt,{...S,placeholder:"Please provide details of any penalties or regulatory actions",rows:3})}),e.jsx(X,{})]})})]})]})]})]}),n===4&&e.jsxs(V,{className:"p-6",children:[e.jsx(J,{className:"px-0 pt-0",children:e.jsxs(ee,{className:"text-xl flex items-center gap-2",children:[e.jsx(hr,{className:"w-5 h-5"}),"Document Upload"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Required Documents"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"• Certificate of Incorporation"}),e.jsx("li",{children:"• Memorandum and Articles of Association"}),e.jsx("li",{children:"• CR6 (Register of Directors)"}),e.jsx("li",{children:"• Trust Account Bank Statements (last 3 months)"}),e.jsx("li",{children:"• Professional Indemnity Insurance Certificate"}),e.jsx("li",{children:"• Public Liability Insurance Certificate"}),e.jsx("li",{children:"• Principal Agents' Qualification Certificates"}),e.jsx("li",{children:"• Principal Agents' CVs"}),e.jsx("li",{children:"• Any other relevant business permits or licenses"})]})]}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg",children:e.jsx(xie,{uploader:_,onComplete:k,allowedFileTypes:["image/*","application/pdf",".doc",".docx"],maxFileSize:10*1024*1024,multiple:!0})}),i.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Uploaded Documents:"}),e.jsx("div",{className:"space-y-2",children:i.map((S,A)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(oe,{variant:"secondary",children:["Document ",A+1]}),e.jsx("span",{className:"text-sm text-green-600",children:"✓ Uploaded successfully"})]},A))})]})]})]}),n===5&&e.jsxs(V,{className:"p-6",children:[e.jsx(J,{className:"px-0 pt-0",children:e.jsxs(ee,{className:"text-xl flex items-center gap-2",children:[e.jsx(Qt,{className:"w-5 h-5"}),"Payment"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Registration Fee"}),e.jsx("p",{className:"text-sm text-blue-700",children:"The organization registration fee is $500 USD. You can choose to pay in full or set up an installment plan."})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Payment Options"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 hover:bg-gray-100 cursor-pointer",children:[e.jsx("h5",{className:"font-medium",children:"PayNow EcoCash"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pay using EcoCash mobile payment"})]}),e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 hover:bg-gray-100 cursor-pointer",children:[e.jsx("h5",{className:"font-medium",children:"PayNow OneMoney"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pay using OneMoney mobile payment"})]}),e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 hover:bg-gray-100 cursor-pointer",children:[e.jsx("h5",{className:"font-medium",children:"Credit/Debit Card"}),e.jsx("p",{className:"text-sm text-gray-600",children:"International card payments via Stripe"})]}),e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 hover:bg-gray-100 cursor-pointer",children:[e.jsx("h5",{className:"font-medium",children:"Bank Transfer"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Direct bank transfer"})]})]})})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Payment Plan Options"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"radio",name:"paymentPlan",value:"full",className:"text-blue-600",defaultChecked:!0}),e.jsxs("label",{className:"text-sm",children:[e.jsx("strong",{children:"Full Payment:"})," Pay $500 USD now"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"radio",name:"paymentPlan",value:"installments",className:"text-blue-600"}),e.jsxs("label",{className:"text-sm",children:[e.jsx("strong",{children:"Installment Plan:"})," Pay $200 USD now, then $150 USD monthly for 2 months"]})]})]})]})]})]}),n===6&&e.jsxs(V,{className:"p-6",children:[e.jsx(J,{className:"px-0 pt-0",children:e.jsxs(ee,{className:"text-xl flex items-center gap-2",children:[e.jsx(le,{className:"w-5 h-5"}),"Final Checklist"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Before You Submit"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Please review all information carefully. Once submitted, changes will require administrative approval. Ensure all required documents have been uploaded."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs($,{className:"p-4",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Company Information"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",d.watch("companyName")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Registration:"})," ",d.watch("registrationNumber")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",d.watch("companyType")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",d.watch("email")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",d.watch("phoneCountryCode")," ",d.watch("phone")]})]})]}),e.jsxs($,{className:"p-4",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Principal Agents"}),e.jsx("div",{className:"space-y-2 text-sm",children:d.watch("principalAgents").map((S,A)=>e.jsxs("div",{className:"border-b pb-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:S.name})," - ",S.role]}),e.jsxs("p",{children:[S.yearsOfExperience," years experience"]})]},A))})]}),e.jsxs($,{className:"p-4",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Trust Accounts"}),e.jsx("div",{className:"space-y-2 text-sm",children:d.watch("trustAccounts").map((S,A)=>e.jsxs("div",{className:"border-b pb-1",children:[e.jsx("p",{children:e.jsx("strong",{children:S.bankName})}),e.jsxs("p",{children:["Account: ",S.accountNumber]})]},A))})]}),e.jsxs($,{className:"p-4",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Documents"}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("p",{children:[i.length," document(s) uploaded"]}),i.length===0&&e.jsx("p",{className:"text-red-500",children:"⚠️ No documents uploaded"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Q,{control:d.control,name:"agreeToTerms",render:({field:S})=>e.jsxs(K,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(G,{children:e.jsx(Xs,{checked:S.value,onCheckedChange:S.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsxs(Z,{children:["I agree to the ",e.jsx("span",{className:"text-egyptian-blue underline cursor-pointer",children:"Terms and Conditions"})," of the Estate Agents Council of Zimbabwe"]}),e.jsx(X,{})]})]})}),e.jsx(Q,{control:d.control,name:"agreeToCodeOfConduct",render:({field:S})=>e.jsxs(K,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(G,{children:e.jsx(Xs,{checked:S.value,onCheckedChange:S.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsxs(Z,{children:["I agree to abide by the ",e.jsx("span",{className:"text-egyptian-blue underline cursor-pointer",children:"Code of Conduct"})," for Real Estate Practitioners"]}),e.jsx(X,{})]})]})})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center p-6 border-t",children:[e.jsx(P,{type:"button",variant:"outline",onClick:()=>a(S=>Math.max(1,S-1)),disabled:n===1,children:"Previous"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Step ",n," of ",ab.length]})}),e.jsx(P,{type:"submit",disabled:s,children:n===6?s?"Submitting...":"Submit Application":"Next"})]})]})})]})}function wie(){const[,t]=Xe(),[s,r]=p.useState(!1),{applicant:n}=lg(),{toast:a}=tt();if(!n)return t("/organization-applicant-login"),null;if(n!=null&&n.email&&!(n!=null&&n.emailVerified))return a({title:"Access denied",description:"This page is for organization applicants only.",variant:"destructive"}),t("/"),null;const i=async l=>{r(!0);try{const o=await fetch("/api/organization-applications",{method:"POST",headers:{"Content-Type":"application/json",email:n.email,applicantId:n.applicantId},body:JSON.stringify(l)});if(!o.ok){const d=await o.json();throw new Error(d.message||"Failed to submit application")}const c=await o.json();a({title:"Application submitted successfully!",description:"Your organization application has been submitted for review."}),t("/organization-application-success")}catch(o){console.error("Application submission error:",o),a({title:"Failed to submit application",description:o.message||"Please try again or contact support.",variant:"destructive"})}finally{r(!1)}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Kt,{title:"Organization Application Form",subtitle:`Complete your organization membership application - ${n.firstName} ${n.surname}`}),e.jsxs("div",{className:"w-full px-4 py-8 flex-1",children:[e.jsx(Et,{items:[{label:"Home",href:"/"},{label:"Organization Login",href:"/organization-applicant-login"},{label:"Application Form",href:"/organization-application"}]}),e.jsxs("div",{className:"mt-8",children:[!n.emailVerified&&e.jsx("div",{className:"max-w-4xl mx-auto mb-6",children:e.jsx($,{className:"border-yellow-200 bg-yellow-50",children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Je,{className:"h-5 w-5 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-yellow-800",children:"Email Verification Required"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Please verify your email address before submitting your application. Check your inbox for the verification link."})]})]})})})}),e.jsx(jie,{onSubmit:i,isLoading:s,initialData:{companyName:"",email:n.email||""}})]})]}),e.jsx(wt,{})]})}function Nie(){const[,t]=Xe();return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"relative bg-gradient-to-r from-egyptian-blue to-powder-blue py-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Register Your Organization"}),e.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-3xl mx-auto",children:"Join the Estate Agents Council of Zimbabwe as a registered real estate firm or organization"}),e.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[e.jsxs(P,{className:"bg-white text-egyptian-blue hover:bg-white/90 border-0 font-semibold",onClick:()=>t("/organization-applicant-registration"),children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Start Registration"]}),e.jsx(P,{variant:"outline",className:"bg-white/10 hover:bg-white/20 text-white border-white/30",onClick:()=>t("/organization-applicant-login"),children:"Continue Existing Application"})]})]})})}),e.jsxs("div",{className:"w-full px-4 py-8 flex-1",children:[e.jsx(Et,{items:[{label:"Register Your Firm"}]}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs($,{children:[e.jsxs(J,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(qe,{className:"w-8 h-8 text-blue-600"})}),e.jsx(ee,{className:"text-2xl",children:"Have you already started your organization registration?"}),e.jsx("p",{className:"text-muted-foreground",children:"Please choose the option that applies to you"})]}),e.jsxs(V,{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx($,{className:"border-2 hover:border-blue-500 transition-colors cursor-pointer",onClick:()=>t("/organization-applicant-login"),children:e.jsxs(V,{className:"p-6 text-center",children:[e.jsx(xr,{className:"w-12 h-12 text-blue-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Yes, I've started"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"I have an Organization Applicant ID and want to continue my registration"}),e.jsx(P,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white border-0","data-testid":"button-continue-organization-application",children:"Continue Registration"})]})}),e.jsx($,{className:"border-2 hover:border-green-500 transition-colors cursor-pointer",onClick:()=>t("/organization-applicant-registration"),children:e.jsxs(V,{className:"p-6 text-center",children:[e.jsx(Us,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No, I need to start"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"I'm new and need to get an Organization Applicant ID first"}),e.jsx(P,{variant:"outline",className:"w-full border-2 border-green-500 text-green-700 hover:bg-green-50","data-testid":"button-start-organization-registration",children:"Start Registration"})]})})]}),e.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(qe,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsx("h4",{className:"font-semibold text-blue-900",children:"What you'll need for organization registration:"})]}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Company name and contact details"}),e.jsx("li",{children:"• Valid business email address"}),e.jsx("li",{children:"• Certificate of incorporation"}),e.jsx("li",{children:"• Trust account details"})]})]})]})]})})]}),e.jsx(wt,{})]})}const Cie=I.object({token:I.string().min(1,"Verification token is required")});function Sie(){const[,t]=Xe(),[s,r]=p.useState(!1),[n,a]=p.useState(null),{toast:i}=tt(),l=It({resolver:Ft(Cie),defaultValues:{token:""}});p.useEffect(()=>{const m=new URLSearchParams(window.location.search).get("token");m&&(l.setValue("token",m),c({token:m}))},[]);const o=$e({mutationFn:async u=>await(await Be("POST","/api/organization-applicants/verify-email",u)).json(),onSuccess:u=>{if(u&&u.applicantId&&u.companyName)a(u),r(!0),i({title:"Email Verified!",description:`${u.companyName} email verification completed successfully.`});else throw new Error("Invalid response format from server")},onError:u=>{var h,f,b,x;console.error("Verification error:",u);let m="An error occurred during verification. Please try again.";(h=u.message)!=null&&h.includes("Invalid verification token")||(f=u.message)!=null&&f.includes("Invalid or expired")?m="Invalid verification token. Please check your email for the correct link.":(b=u.message)!=null&&b.includes("expired")?m="Verification token has expired. Please contact support to resend the verification email.":(x=u.message)!=null&&x.includes("already verified")&&(m="Email already verified. You can proceed to login."),i({title:"Verification Failed",description:m,variant:"destructive"})}}),c=u=>{o.mutate(u)},d=u=>{c(u)};return s&&n?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Kt,{title:"Email Verified",subtitle:"Continue with your organization membership application"}),e.jsxs("div",{className:"w-full px-4 py-8 flex-1",children:[e.jsx(Et,{items:[{label:"Organization Email Verification"},{label:"Complete"}]}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsx($,{children:e.jsxs(V,{className:"p-8 text-center",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(le,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-2",children:"Email Successfully Verified!"})]}),e.jsxs("div",{className:"bg-green-50 p-6 rounded-lg mb-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[e.jsx(qe,{className:"w-5 h-5 text-green-600"}),e.jsx("h3",{className:"font-semibold text-green-800",children:n.companyName})]}),e.jsx("p",{className:"text-green-800 mb-3",children:"Your organization email address has been confirmed. You can now continue with your membership application."}),e.jsxs("div",{className:"text-sm text-green-600 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Organization Applicant ID:"})," ",n.applicantId]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",n.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",n.status]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsx("p",{className:"text-muted-foreground",children:"You're now ready to complete your organization application form, including company details, principal agent information, and required document uploads."})}),e.jsxs("div",{className:"mt-8 space-y-3",children:[e.jsx(P,{onClick:()=>t("/organization-applicant-login"),className:"gradient-button text-white border-0 w-full","data-testid":"button-continue-login",children:"Continue to Login"}),e.jsxs(P,{variant:"outline",onClick:()=>t("/"),className:"w-full","data-testid":"button-back-home",children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]})]})})})]}),e.jsx(wt,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Kt,{title:"Verify Organization Email",subtitle:"Complete email verification to continue your organization application"}),e.jsxs("div",{className:"w-full px-4 py-8 flex-1",children:[e.jsx(Et,{items:[{label:"Organization Email Verification"}]}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs($,{children:[e.jsxs(J,{children:[e.jsxs(ee,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5"}),"Organization Email Verification"]}),e.jsx("p",{className:"text-muted-foreground",children:"Please check your organization email and click the verification link, or enter the verification token below"})]}),e.jsxs(V,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[e.jsx(Js,{className:"w-4 h-4"}),"Check Your Organization Email"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"We've sent a verification email to your organization's registered email address. Please check your inbox and spam folder for an email from EACZ."})]})}),e.jsx(Rt,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(d),className:"space-y-6",children:[e.jsx(Q,{control:l.control,name:"token",render:({field:u})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Verification Token"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Enter verification token from email","data-testid":"input-verification-token",...u})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"If you can't find the email, you can manually enter the verification token here"}),e.jsx(X,{})]})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(P,{type:"button",variant:"outline",onClick:()=>t("/organization-applicant-registration"),"data-testid":"button-back",children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Back to Registration"]}),e.jsx(P,{type:"submit",className:"gradient-button text-white border-0",disabled:o.isPending,"data-testid":"button-verify",children:o.isPending?"Verifying...":"Verify Email"})]})]})}),e.jsx("div",{className:"mt-6 pt-6 border-t",children:e.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Didn't receive the email? Please check your spam folder or contact support at"," ",e.jsx("a",{href:"mailto:support@eacz.co.zw",className:"text-blue-600 hover:underline",children:"support@eacz.co.zw"})]})})]})]})})]}),e.jsx(wt,{})]})}const _ie=I.object({token:I.string().min(1,"Verification token is required")}),kie=I.object({email:I.string().email("Invalid email address"),applicantId:I.string().min(1,"Applicant ID is required")});function Pie(){const[,t]=Xe(),[s,r]=p.useState(!1),[n,a]=p.useState(null),{toast:i}=tt(),l=It({resolver:Ft(_ie),defaultValues:{token:""}}),o=It({resolver:Ft(kie),defaultValues:{email:"",applicantId:""}});p.useEffect(()=>{const x=new URLSearchParams(window.location.search).get("token");x&&(l.setValue("token",x),u({token:x}))},[]);const c=$e({mutationFn:async b=>await(await Be("POST","/api/applicants/verify-email",b)).json(),onSuccess:b=>{a(b),r(!0),i({title:"Email Verified!",description:"Your email has been successfully verified. You can now continue with your application."})},onError:b=>{var v,g,y;console.error("Verification error:",b);let x="An error occurred during verification. Please try again.";(v=b.message)!=null&&v.includes("Invalid verification token")?x="Invalid verification token. Please check your email for the correct link.":(g=b.message)!=null&&g.includes("expired")?x="Verification token has expired. Please contact support to resend the verification email.":(y=b.message)!=null&&y.includes("already verified")&&(x="Email already verified. You can proceed to the application form."),i({title:"Verification Failed",description:x,variant:"destructive"})}}),d=$e({mutationFn:async b=>await(await Be("POST","/api/applicants/login",b)).json(),onSuccess:b=>{a(b),r(!0),i({title:"Login Successful!",description:"You have successfully logged in with your Applicant ID. You can now continue with your application."})},onError:b=>{var v,g;console.error("Login error:",b);let x="An error occurred during login. Please try again.";(v=b.message)!=null&&v.includes("Invalid credentials")?x="Invalid email or Applicant ID. Please check your credentials.":(g=b.message)!=null&&g.includes("Email not verified")&&(x="Your email address has not been verified. Please check your email for the verification link."),i({title:"Login Failed",description:x,variant:"destructive"})}}),u=b=>{c.mutate(b)},m=b=>{d.mutate(b)},h=b=>{u(b)},f=b=>{m(b)};return s?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Kt,{title:"Email Verified",subtitle:"Continue with your individual membership application"}),e.jsxs("div",{className:"w-full px-4 py-8 flex-1",children:[e.jsx(Et,{items:[{label:"Email Verification"},{label:"Complete"}]}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsx($,{children:e.jsxs(V,{className:"p-8 text-center",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(le,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-2",children:"Email Successfully Verified!"})]}),e.jsxs("div",{className:"bg-green-50 p-6 rounded-lg mb-6",children:[e.jsxs("p",{className:"text-green-800",children:["Your email address has been confirmed. You can now continue with your ",n==null?void 0:n.applicantType," membership application."]}),n&&e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsxs("p",{className:"text-sm text-green-600",children:["Applicant ID: ",e.jsx("strong",{children:n.applicantId})]}),e.jsxs("p",{className:"text-sm text-green-600",children:["Name: ",e.jsx("strong",{children:n.name})]}),e.jsxs("p",{className:"text-sm text-green-600",children:["Type: ",e.jsx("strong",{children:n.applicantType})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsx("p",{className:"text-muted-foreground",children:"You're now ready to complete your application form, including personal details, business experience, and document uploads."})}),e.jsxs("div",{className:"mt-8 space-y-3",children:[e.jsxs(P,{onClick:()=>{const b=(n==null?void 0:n.applicantType)==="organization"?"/organization-application":"/apply/individual";t(b)},className:"gradient-button text-white border-0 w-full","data-testid":"button-continue-application",children:["Continue to ",(n==null?void 0:n.applicantType)==="organization"?"Organization":"Individual"," Application Form"]}),e.jsxs(P,{variant:"outline",onClick:()=>t("/"),className:"w-full","data-testid":"button-back-home",children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]})]})})})]}),e.jsx(wt,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Kt,{title:"Verify Your Email",subtitle:"Complete email verification to continue your application"}),e.jsxs("div",{className:"w-full px-4 py-8 flex-1",children:[e.jsx(Et,{items:[{label:"Email Verification"}]}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs($,{children:[e.jsxs(J,{children:[e.jsxs(ee,{className:"flex items-center gap-2",children:[e.jsx(jt,{className:"w-5 h-5"}),"Email Verification & Login"]}),e.jsx("p",{className:"text-muted-foreground",children:"Verify your email using a verification token or login with your Applicant ID"})]}),e.jsxs(V,{children:[e.jsxs(Zt,{defaultValue:"token",className:"w-full",children:[e.jsxs(Ht,{className:"grid w-full grid-cols-2",children:[e.jsxs(Ae,{value:"token",className:"flex items-center gap-2",children:[e.jsx(jt,{className:"w-4 h-4"}),"Email Token"]}),e.jsxs(Ae,{value:"login",className:"flex items-center gap-2",children:[e.jsx(et,{className:"w-4 h-4"}),"Applicant Login"]})]}),e.jsxs(Oe,{value:"token",className:"mt-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[e.jsx(Js,{className:"w-4 h-4"}),"Check Your Email"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"We've sent a verification email to your registered email address. Please check your inbox and spam folder for an email from EACZ."})]})}),e.jsx(Rt,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(h),className:"space-y-6",children:[e.jsx(Q,{control:l.control,name:"token",render:({field:b})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Verification Token"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Enter verification token from email","data-testid":"input-verification-token",...b})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"If you can't find the email, you can manually enter the verification token here"}),e.jsx(X,{})]})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(P,{type:"button",variant:"outline",onClick:()=>t("/applicant-registration"),"data-testid":"button-back",children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Back to Registration"]}),e.jsx(P,{type:"submit",className:"gradient-button text-white border-0",disabled:c.isPending,"data-testid":"button-verify",children:c.isPending?"Verifying...":"Verify Email"})]})]})})]}),e.jsxs(Oe,{value:"login",className:"mt-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[e.jsx(et,{className:"w-4 h-4"}),"Login with Applicant ID"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"If you already have your Applicant ID, you can login directly using your email and Applicant ID as password."})]})}),e.jsx(Rt,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(f),className:"space-y-6",children:[e.jsx(Q,{control:o.control,name:"email",render:({field:b})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Email Address"}),e.jsx(G,{children:e.jsx(Y,{type:"email",placeholder:"Enter your registered email","data-testid":"input-login-email",...b})}),e.jsx(X,{})]})}),e.jsx(Q,{control:o.control,name:"applicantId",render:({field:b})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Applicant ID"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Enter your Applicant ID (e.g., APP-IND-2024-001)","data-testid":"input-applicant-id",...b})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Your Applicant ID was sent to your email after registration"}),e.jsx(X,{})]})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(P,{type:"button",variant:"outline",onClick:()=>t("/"),"data-testid":"button-back-home",children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),e.jsx(P,{type:"submit",className:"gradient-button text-white border-0",disabled:d.isPending,"data-testid":"button-login",children:d.isPending?"Logging in...":"Login"})]})]})})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsxs("h5",{className:"font-medium mb-2 flex items-center justify-center gap-2",children:[e.jsx(et,{className:"w-4 h-4"}),"Individual Applicants"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Use your personal email and Applicant ID for individual membership applications."})]}),e.jsxs("div",{children:[e.jsxs("h5",{className:"font-medium mb-2 flex items-center justify-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4"}),"Organization Applicants"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Use your organization email and Applicant ID for organization membership applications."})]})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Need help? Contact support at"," ",e.jsx("a",{href:"mailto:support@eacz.co.zw",className:"text-blue-600 hover:underline",children:"support@eacz.co.zw"})]})})]})]})]})})]}),e.jsx(wt,{})]})}const Eie=I.object({title:I.string().min(5,"Title must be at least 5 characters"),description:I.string().min(20,"Description must be at least 20 characters"),type:I.enum(["workshop","seminar","training","conference"]),startDate:I.string().min(1,"Start date is required"),endDate:I.string().optional(),location:I.string().min(5,"Location is required"),address:I.string().min(10,"Address is required"),instructor:I.string().min(2,"Instructor name is required"),capacity:I.number().min(1,"Capacity must be at least 1"),cost:I.number().min(0,"Cost must be non-negative"),cpdPoints:I.number().min(0,"CPD points must be non-negative")});function Aie(){const[t,s]=p.useState(!1),{toast:r}=tt(),{user:n,isLoading:a}=St(),[,i]=Xe();if(!a&&!n)return i("/auth"),null;if(a)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:"Loading..."})});const{data:l=[],isLoading:o}=Ge({queryKey:["/api/events"]}),{data:c=[]}=Ge({queryKey:["/api/events","upcoming=true"]}),d=It({resolver:Ft(Eie),defaultValues:{title:"",description:"",type:"workshop",startDate:"",endDate:"",location:"",address:"",instructor:"",capacity:50,cost:0,cpdPoints:0}}),u=$e({mutationFn:async f=>{const b={...f,startDate:new Date(f.startDate).toISOString(),endDate:f.endDate?new Date(f.endDate).toISOString():null};return await(await Be("POST","/api/events",b)).json()},onSuccess:()=>{st.invalidateQueries({queryKey:["/api/events"]}),s(!1),d.reset(),r({title:"Event Created",description:"New event has been successfully created."})},onError:f=>{r({title:"Error",description:f.message,variant:"destructive"})}}),m=f=>{u.mutate(f)},h={workshops:l.filter(f=>f.type==="workshop").length,seminars:l.filter(f=>f.type==="seminar").length,cpdEvents:l.filter(f=>f.cpdPoints&&f.cpdPoints>0).length,thisMonth:l.filter(f=>{const b=new Date(f.startDate),x=new Date;return b.getMonth()===x.getMonth()&&b.getFullYear()===x.getFullYear()}).length};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(mn,{currentPage:"events"}),e.jsxs("div",{className:"p-6",children:[e.jsx(Et,{items:[{label:"Admin Dashboard",href:"/admin-dashboard"},{label:"Event Management"}],className:"mb-6"}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Event Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage CPD events, workshops, and seminars"})]}),e.jsxs(P,{className:"gradient-button text-white border-0",onClick:()=>s(!0),"data-testid":"button-create-event",children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Create Event"]})]}),e.jsx(zo,{title:"Quick Actions",description:"Streamline your event management",actions:[{icon:dt,label:"Create Event",action:()=>s(!0),color:"text-blue-600",bg:"bg-blue-100",testId:"button-quick-create-event"},{icon:et,label:"Register Member",action:()=>i("/admin-dashboard/agents-applications"),color:"text-emerald-600",bg:"bg-emerald-100",testId:"button-quick-register-member"},{icon:Le,label:"Event Analytics",action:()=>r({title:"Feature Coming Soon",description:"Event analytics feature will be available soon."}),color:"text-purple-600",bg:"bg-purple-100",testId:"button-event-analytics"},{icon:jt,label:"Email Attendees",action:()=>r({title:"Feature Coming Soon",description:"Bulk email to attendees feature will be available soon."}),color:"text-orange-600",bg:"bg-orange-100",testId:"button-email-attendees"},{icon:ft,label:"Schedule Recurring",action:()=>r({title:"Feature Coming Soon",description:"Schedule recurring events feature will be available soon."}),color:"text-violet-600",bg:"bg-violet-100",testId:"button-schedule-recurring"},{icon:L2,label:"Event Reports",action:()=>r({title:"Feature Coming Soon",description:"Event reports feature will be available soon."}),color:"text-rose-600",bg:"bg-rose-100",testId:"button-event-reports"}]}),e.jsx(Lt,{open:t,onOpenChange:s,title:"Create New Event",subtitle:"Set up workshops, seminars, training sessions, and conferences",icon:dt,colorVariant:"orange",maxWidth:"2xl",footer:{primary:{label:u.isPending?"Creating...":"Create Event",onClick:()=>d.handleSubmit(m)(),loading:u.isPending,disabled:u.isPending,testId:"button-submit-event"},secondary:{label:"Cancel",onClick:()=>s(!1),variant:"outline",testId:"button-cancel-event"}},children:e.jsx(Rt,{...d,children:e.jsxs("form",{onSubmit:d.handleSubmit(m),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Q,{control:d.control,name:"title",render:({field:f})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Event Title *"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Enter event title","data-testid":"input-event-title",...f})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:"type",render:({field:f})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Event Type *"}),e.jsxs(Ie,{onValueChange:f.onChange,defaultValue:f.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"select-event-type",children:e.jsx(Fe,{placeholder:"Select type"})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"workshop",children:"Workshop"}),e.jsx(D,{value:"seminar",children:"Seminar"}),e.jsx(D,{value:"training",children:"Training"}),e.jsx(D,{value:"conference",children:"Conference"})]})]}),e.jsx(X,{})]})})]}),e.jsx(Q,{control:d.control,name:"description",render:({field:f})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Description *"}),e.jsx(G,{children:e.jsx(kt,{placeholder:"Describe the event...",rows:3,"data-testid":"textarea-event-description",...f})}),e.jsx(X,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Q,{control:d.control,name:"startDate",render:({field:f})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Start Date & Time *"}),e.jsx(G,{children:e.jsx(Y,{type:"datetime-local","data-testid":"input-start-date",...f})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:"endDate",render:({field:f})=>e.jsxs(K,{children:[e.jsx(Z,{children:"End Date & Time"}),e.jsx(G,{children:e.jsx(Y,{type:"datetime-local","data-testid":"input-end-date",...f})}),e.jsx(X,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Q,{control:d.control,name:"location",render:({field:f})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Venue Name *"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"e.g., Harare Convention Centre","data-testid":"input-location",...f})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:"instructor",render:({field:f})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Instructor/Speaker *"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Enter instructor name","data-testid":"input-instructor",...f})}),e.jsx(X,{})]})})]}),e.jsx(Q,{control:d.control,name:"address",render:({field:f})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Full Address *"}),e.jsx(G,{children:e.jsx(kt,{placeholder:"Enter complete address with directions",rows:2,"data-testid":"textarea-event-address",...f})}),e.jsx(X,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(Q,{control:d.control,name:"capacity",render:({field:f})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Capacity *"}),e.jsx(G,{children:e.jsx(Y,{type:"number",placeholder:"Max attendees","data-testid":"input-capacity",...f,onChange:b=>f.onChange(parseInt(b.target.value)||0)})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:"cost",render:({field:f})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Cost (USD)"}),e.jsx(G,{children:e.jsx(Y,{type:"number",step:"0.01",placeholder:"0.00","data-testid":"input-cost",...f,onChange:b=>f.onChange(parseFloat(b.target.value)||0)})}),e.jsx(X,{})]})}),e.jsx(Q,{control:d.control,name:"cpdPoints",render:({field:f})=>e.jsxs(K,{children:[e.jsx(Z,{children:"CPD Points *"}),e.jsx(G,{children:e.jsx(Y,{type:"number",placeholder:"Points awarded","data-testid":"input-cpd-points",...f,onChange:b=>f.onChange(parseInt(b.target.value)||0)})}),e.jsx(X,{})]})})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(Er,{icon:L2,title:"Workshops",value:h.workshops.toString(),iconColor:"text-blue-600",iconBg:"bg-blue-100","data-testid":"stat-workshops"}),e.jsx(Er,{icon:at,title:"Seminars",value:h.seminars.toString(),iconColor:"text-green-600",iconBg:"bg-green-100","data-testid":"stat-seminars"}),e.jsx(Er,{icon:Co,title:"CPD Events",value:h.cpdEvents.toString(),iconColor:"text-purple-600",iconBg:"bg-purple-100","data-testid":"stat-cpd-events"}),e.jsx(Er,{icon:dt,title:"This Month",value:h.thisMonth.toString(),iconColor:"text-orange-600",iconBg:"bg-orange-100","data-testid":"stat-this-month"})]}),e.jsxs($,{children:[e.jsx(J,{children:e.jsx(ee,{children:"Upcoming Events"})}),e.jsx(V,{children:o?e.jsx("div",{className:"space-y-6",children:Array.from({length:3}).map((f,b)=>e.jsx("div",{className:"animate-pulse bg-secondary rounded-lg h-32"},b))}):c.length>0?e.jsx("div",{className:"space-y-6",children:c.map(f=>e.jsx($,{className:"border",children:e.jsx(V,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(oe,{variant:"secondary",className:"bg-blue-100 text-blue-700","data-testid":`event-type-${f.id}`,children:f.type}),f.cpdPoints&&f.cpdPoints>0&&e.jsxs(oe,{variant:"secondary",className:"bg-green-100 text-green-700","data-testid":`event-cpd-points-${f.id}`,children:[f.cpdPoints," CPD Points"]})]}),e.jsx("h4",{className:"text-xl font-semibold text-card-foreground mb-2","data-testid":`event-title-${f.id}`,children:f.title}),e.jsx("p",{className:"text-muted-foreground mb-4","data-testid":`event-description-${f.id}`,children:f.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(dt,{className:"w-4 h-4 text-primary mr-2"}),e.jsx("span",{"data-testid":`event-date-${f.id}`,children:new Date(f.startDate).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ft,{className:"w-4 h-4 text-primary mr-2"}),e.jsx("span",{"data-testid":`event-time-${f.id}`,children:new Date(f.startDate).toLocaleTimeString()})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ma,{className:"w-4 h-4 text-primary mr-2"}),e.jsx("span",{"data-testid":`event-location-${f.id}`,children:f.location})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Gr,{className:"w-4 h-4 text-primary mr-2"}),e.jsxs("span",{"data-testid":`event-price-${f.id}`,children:["$",f.price]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(at,{className:"w-4 h-4 text-primary mr-2"}),e.jsxs("span",{"data-testid":`event-capacity-${f.id}`,children:["0/",f.capacity," registered"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(et,{className:"w-4 h-4 text-primary mr-2"}),e.jsx("span",{"data-testid":`event-instructor-${f.id}`,children:f.instructor})]})]})]}),e.jsxs("div",{className:"ml-6 text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-card-foreground mb-2",children:"0"}),e.jsx("div",{className:"text-sm text-muted-foreground mb-4",children:"registrations"}),e.jsx(P,{size:"sm",className:"gradient-button text-white border-0","data-testid":`button-manage-event-${f.id}`,children:"Manage Event"})]})]})})},f.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(dt,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No upcoming events"}),e.jsx(P,{className:"mt-4 bg-egyptian-blue hover:bg-egyptian-blue/90",onClick:()=>s(!0),"data-testid":"button-create-first-event",children:"Create Your First Event"})]})})]}),e.jsx(wt,{})]})]})}const Tie=[{id:"paynow",name:"Paynow",description:"Pay using EcoCash, OneMoney, or Bank Transfer",icon:rw,badges:["Mobile Money","Bank Transfer"],available:!0},{id:"stripe",name:"Credit/Debit Card",description:"Pay securely with Visa, Mastercard, or American Express",icon:Qt,badges:["Visa","Mastercard","Amex"],available:!0},{id:"cash",name:"Cash Payment",description:"Pay in person at our offices",icon:E9,badges:["In Person"],available:!0}];function Rie(){const[t,s]=p.useState(""),[,r]=Xe(),n={membershipFee:150,applicationFee:25,processingFee:5,totalAmount:180},a=()=>{if(t)switch(t){case"paynow":window.open("https://www.paynow.co.zw/payment/erpnext-usd","_blank");break;case"stripe":r("/payment/stripe");break;case"cash":r("/payment/cash-instructions");break}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Kt,{title:"Payment",subtitle:"Complete your membership payment"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 flex-1",children:[e.jsx("div",{className:"flex items-center mb-8",children:e.jsxs(P,{variant:"outline",size:"sm",onClick:()=>r("/member-portal"),className:"mr-4","data-testid":"button-back",children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Back"]})}),e.jsxs($,{className:"mb-6",children:[e.jsx(J,{children:e.jsx(ee,{children:"Payment Summary"})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Annual Membership Fee"}),e.jsxs("span",{className:"font-medium text-card-foreground","data-testid":"fee-membership",children:["$",n.membershipFee.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Application Fee"}),e.jsxs("span",{className:"font-medium text-card-foreground","data-testid":"fee-application",children:["$",n.applicationFee.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Processing Fee"}),e.jsxs("span",{className:"font-medium text-card-foreground","data-testid":"fee-processing",children:["$",n.processingFee.toFixed(2)]})]}),e.jsx(Ac,{}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-lg font-semibold text-card-foreground",children:"Total Amount"}),e.jsxs("span",{className:"text-lg font-bold text-egyptian-blue","data-testid":"total-amount",children:["$",n.totalAmount.toFixed(2)]})]})]})})]}),e.jsxs($,{children:[e.jsx(J,{children:e.jsx(ee,{children:"Select Payment Method"})}),e.jsxs(V,{children:[e.jsx(Ro,{value:t,onValueChange:s,children:e.jsx("div",{className:"space-y-4",children:Tie.map(i=>e.jsx("div",{className:"relative",children:e.jsxs(ue,{htmlFor:i.id,className:`flex items-center p-4 border rounded-lg cursor-pointer transition-colors ${t===i.id?"border-egyptian-blue bg-egyptian-blue/5":"border-border hover:border-egyptian-blue/50"}`,"data-testid":`payment-method-${i.id}`,children:[e.jsx(Cn,{value:i.id,id:i.id,className:"mr-4"}),e.jsx(i.icon,{className:"w-5 h-5 mr-3 text-egyptian-blue"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-medium text-card-foreground",children:i.name}),e.jsx("div",{className:"flex space-x-2",children:i.badges.map((l,o)=>e.jsx(oe,{variant:"secondary",className:"text-xs",children:l},o))})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]})]})},i.id))})}),e.jsxs("div",{className:"mt-8 flex space-x-4",children:[e.jsx(P,{type:"button",variant:"outline",className:"flex-1",onClick:()=>r("/member-portal"),"data-testid":"button-cancel-payment",children:"Cancel"}),e.jsx(P,{type:"button",className:"flex-1 gradient-button text-white border-0",onClick:a,disabled:!t,"data-testid":"button-proceed-payment",children:"Proceed to Payment"})]})]})]})]}),e.jsx(wt,{})]})}function Die({memberName:t,memberType:s,registrationNumber:r,issueDate:n,expiryDate:a,qrCodeData:i}){return e.jsx("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-12 min-h-[600px] print:min-h-0 print:shadow-none",style:{aspectRatio:"1.414/1"},children:e.jsxs("div",{className:"h-full flex flex-col justify-between",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 p-2 border border-gray-300",children:e.jsx("img",{src:cn,alt:"Estate Agents Council Logo",className:"w-full h-full object-contain"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2","data-testid":"certificate-council-name",children:"ESTATE AGENTS COUNCIL"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-6","data-testid":"certificate-country",children:"OF ZIMBABWE"}),e.jsx("h4",{className:"text-lg font-medium text-gray-700 mb-8","data-testid":"certificate-title",children:"CERTIFICATE OF REGISTRATION"})]}),e.jsxs("div",{className:"text-center flex-1 flex flex-col justify-center",children:[e.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"This is to certify that"}),e.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-4","data-testid":"certificate-member-name",children:t}),e.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"is a registered"}),e.jsx("h4",{className:"text-xl font-semibold text-egyptian-blue mb-6","data-testid":"certificate-member-type",children:s}),e.jsx("p",{className:"text-base text-gray-600 mb-8",children:"under the Estate Agents Act [Chapter 27:04]"}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Registration Number:"}),e.jsx("p",{className:"font-semibold text-gray-800 mb-4","data-testid":"certificate-registration-number",children:r}),e.jsx("p",{className:"text-sm text-gray-600",children:"Valid Until:"}),e.jsx("p",{className:"font-semibold text-gray-800","data-testid":"certificate-expiry-date",children:a})]}),e.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded","data-testid":"certificate-qr-code",children:e.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-gray-500",children:"QR"})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Scan to Verify"})]})})]})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("div",{className:"border-t border-gray-300 pt-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Issued on: ",e.jsx("span",{"data-testid":"certificate-issue-date",children:n})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"This certificate is valid only when verified online at www.eacz.co.zw"}),e.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-2",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Registrar's Signature"}),e.jsx("div",{className:"w-32 h-8 border-b border-gray-300 mx-auto mt-2"})]})]})})]})})}function Mie(){var o;const{user:t}=St(),[,s]=Xe(),{data:r,isLoading:n}=Ge({queryKey:["/api/members/profile"],enabled:!!t}),a=()=>{window.print()},i=()=>{navigator.share?navigator.share({title:"EACZ Certificate",text:"My Estate Agents Council of Zimbabwe Certificate",url:window.location.href}):navigator.clipboard.writeText(window.location.href)},l=()=>{s("/verify")};return n?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):e.jsx("div",{className:"min-h-screen bg-background py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center mb-8",children:[e.jsxs(P,{variant:"outline",size:"sm",onClick:()=>s("/member-portal"),className:"mr-4","data-testid":"button-back-to-portal",children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Back to Portal"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Digital Certificate"}),e.jsx("p",{className:"text-muted-foreground",children:"Estate Agents Council of Zimbabwe"})]})]}),e.jsx($,{className:"mb-8",children:e.jsx(V,{className:"p-0",children:e.jsx(Die,{memberName:r?`${r.firstName} ${r.lastName}`.toUpperCase():"",memberType:((o=r==null?void 0:r.memberType)==null?void 0:o.replace(/_/g," ").toUpperCase())||"",registrationNumber:(r==null?void 0:r.membershipNumber)||"",issueDate:r!=null&&r.joinedDate?new Date(r.joinedDate).toLocaleDateString():"",expiryDate:r!=null&&r.expiryDate?new Date(r.expiryDate).toLocaleDateString():"",qrCodeData:`${window.location.origin}/verify?member=${r==null?void 0:r.membershipNumber}`})})}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs(P,{size:"lg",className:"gradient-button text-white border-0",onClick:a,"data-testid":"button-download-pdf",children:[e.jsx(Wt,{className:"w-5 h-5 mr-2"}),"Download PDF"]}),e.jsxs(P,{size:"lg",variant:"outline",onClick:i,"data-testid":"button-share-certificate",children:[e.jsx(q9,{className:"w-5 h-5 mr-2"}),"Share Certificate"]}),e.jsxs(P,{size:"lg",variant:"outline",onClick:l,"data-testid":"button-verify-certificate",children:[e.jsx(le,{className:"w-5 h-5 mr-2"}),"Verify Online"]})]})]})})}function Oie({onVerify:t}){const[s,r]=p.useState(!1),n=()=>{r(!0),t("verified_token_placeholder")};return e.jsxs("div",{className:"border-2 border-dashed border-teal-300 rounded-xl p-6 text-center bg-gradient-to-br from-teal-50 to-teal-100/50",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"captcha",checked:s,onChange:n,className:"w-5 h-5 text-teal-600 focus:ring-teal-500 border-teal-300 rounded"}),e.jsx("label",{htmlFor:"captcha",className:"text-sm font-medium text-teal-800",children:"I'm not a robot"}),e.jsx(ds,{className:"w-5 h-5 text-teal-600"})]}),e.jsx("p",{className:"text-xs text-teal-600 mt-2",children:"Security verification required"})]})}function QS(){const[t,s]=p.useState(1),[r,n]=p.useState(""),[a,i]=p.useState(""),[l,o]=p.useState(""),[c,d]=p.useState(!1),[u,m]=p.useState("");p.useState("membership");const[h,f]=p.useState(!1),[b,x]=p.useState(!1),[v,g]=p.useState(""),[y,j]=p.useState("dropdown"),[,w]=Xe(),{data:N=[]}=Ge({queryKey:["/api/public/members"],enabled:r==="individual"}),{data:_=[]}=Ge({queryKey:["/api/public/organizations"],enabled:r==="organization"}),{data:k,isLoading:S,error:A}=Ge({queryKey:[`/api/public/verify/${v}`],enabled:b&&v.length>0&&h}),z=()=>{if(!h)return;let E="";if(y==="dropdown")if(r==="individual"){const M=N.find(q=>q.id===a);E=(M==null?void 0:M.membershipNumber)||""}else{const M=_.find(q=>q.id===a);E=(M==null?void 0:M.registrationNumber)||""}else E=u;E.trim()&&(g(E),x(!0))},re=()=>{s(1),n(""),g(""),m(""),i(""),o(""),d(!1),x(!1),f(!1),j("dropdown")},F=()=>{s(t+1)},B=()=>{s(t-1)},U=E=>{switch(E.toLowerCase()){case"active":return"bg-green-100 text-green-800";case"standby":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-blue-100 text-blue-800";case"expired":return"bg-red-100 text-red-800";case"revoked":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},W=E=>{switch(E){case"real_estate_agent":return"Real Estate Agent";case"property_manager":return"Property Manager";case"principal_agent":return"Principal Agent";case"negotiator":return"Negotiator";default:return E.replace("_"," ").toUpperCase()}};return N.filter(E=>E.membershipStatus==="active"&&(E.firstName.toLowerCase().includes(a.toLowerCase())||E.lastName.toLowerCase().includes(a.toLowerCase())||E.membershipNumber.toLowerCase().includes(a.toLowerCase()))),_.filter(E=>E.membershipStatus==="active"&&(E.name.toLowerCase().includes(a.toLowerCase())||E.registrationNumber.toLowerCase().includes(a.toLowerCase()))),e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsxs("div",{className:"h-[200px] bg-gradient-to-r from-egyptian-blue via-powder-blue to-egyptian-blue relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.8),transparent_50%)]"})}),e.jsx("div",{className:"relative h-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"h-full flex flex-col justify-center items-center text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-white/95 rounded-2xl flex items-center justify-center p-3 shadow-2xl mb-4 backdrop-blur-sm",children:e.jsx("img",{src:cn,alt:"EACZ Logo",className:"w-full h-full object-contain"})}),e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Member Verification Portal"}),e.jsx("p",{className:"text-base sm:text-lg text-white/95 max-w-2xl font-medium drop-shadow",children:"Verify if a person or organization is registered with the Estate Agents Council of Zimbabwe"}),e.jsx(P,{className:"absolute top-4 right-4 bg-white/10 hover:bg-white/20 text-white border border-white/30 backdrop-blur-sm",onClick:()=>w("/"),"data-testid":"button-home",children:"Return to Home"})]})})]}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx(Et,{items:[{label:"Member Verification"}],className:"mb-6"}),e.jsxs($,{className:"bg-white border shadow-lg mb-6",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ks,{className:"w-5 h-5 mr-2"}),"Verify Registration"]}),e.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["Step ",t," of 3"]})]})}),e.jsxs(V,{className:"space-y-6",children:[t===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-base font-medium mb-4 block",children:"Select Member Type"}),e.jsxs(Ro,{value:r,onValueChange:E=>{n(E),i(""),o(""),m(""),x(!1)},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-gray-50",children:[e.jsx(Cn,{value:"individual",id:"individual"}),e.jsxs(ue,{htmlFor:"individual",className:"flex items-center cursor-pointer",children:[e.jsx(et,{className:"w-5 h-5 mr-2 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Individual Member"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Real estate agents, property managers"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-gray-50",children:[e.jsx(Cn,{value:"organization",id:"organization"}),e.jsxs(ue,{htmlFor:"organization",className:"flex items-center cursor-pointer",children:[e.jsx(qe,{className:"w-5 h-5 mr-2 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Organization/Firm"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Real estate companies, agencies"})]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(P,{onClick:F,disabled:!r,className:"bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-next-step1",children:["Next",e.jsx(om,{className:"w-4 h-4 ml-1"})]})})]}),t===2&&r&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs(ue,{className:"text-base font-medium mb-4 block",children:["Choose Search Method for ",r==="individual"?"Individual Members":"Organizations"]}),e.jsxs(Zt,{value:y,onValueChange:j,className:"w-full",children:[e.jsxs(Ht,{className:"grid w-full grid-cols-3",children:[e.jsx(Ae,{value:"dropdown",children:"Select from List"}),e.jsx(Ae,{value:"membership",children:"Membership Number"}),e.jsx(Ae,{value:"email",children:"Email Address"})]}),e.jsx(Oe,{value:"dropdown",className:"space-y-4",children:e.jsxs("div",{className:"relative",children:[e.jsxs(ue,{htmlFor:"memberSelect",children:["Search Registered ",r==="individual"?"Members by Full Name":"Organizations by Name"]}),e.jsx(Y,{id:"memberSelect",type:"text",placeholder:`Type full name to search ${r==="individual"?"registered members":"registered organizations"}...`,value:l,onChange:E=>{o(E.target.value),d(E.target.value.length>0),i("")},onFocus:()=>d(l.length>0),onBlur:()=>setTimeout(()=>d(!1),200),"data-testid":"input-dropdown-search"}),c&&l.length>0&&e.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",children:[r==="individual"?N.filter(E=>E.membershipStatus==="active"&&(E.firstName.toLowerCase().includes(l.toLowerCase())||E.lastName.toLowerCase().includes(l.toLowerCase())||`${E.firstName} ${E.lastName}`.toLowerCase().includes(l.toLowerCase()))).slice(0,10).map(E=>e.jsxs("div",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100",onClick:()=>{i(E.id),o(`${E.firstName} ${E.lastName}`),d(!1)},children:[e.jsxs("div",{className:"font-medium",children:[E.firstName," ",E.lastName]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[E.membershipNumber," • ",E.memberType]})]},E.id)):_.filter(E=>E.membershipStatus==="active"&&E.name.toLowerCase().includes(l.toLowerCase())).slice(0,10).map(E=>e.jsxs("div",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100",onClick:()=>{i(E.id),o(E.name),d(!1)},children:[e.jsx("div",{className:"font-medium",children:E.name}),e.jsx("div",{className:"text-sm text-gray-500",children:E.registrationNumber})]},E.id)),r==="individual"&&N.filter(E=>E.membershipStatus==="active"&&(E.firstName.toLowerCase().includes(l.toLowerCase())||E.lastName.toLowerCase().includes(l.toLowerCase())||`${E.firstName} ${E.lastName}`.toLowerCase().includes(l.toLowerCase()))).length===0&&e.jsxs("div",{className:"px-3 py-2 text-gray-500 text-sm",children:['No registered members found matching "',l,'"']}),r==="organization"&&_.filter(E=>E.membershipStatus==="active"&&E.name.toLowerCase().includes(l.toLowerCase())).length===0&&e.jsxs("div",{className:"px-3 py-2 text-gray-500 text-sm",children:['No registered organizations found matching "',l,'"']})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Start typing the ",r==="individual"?"member's full name":"organization name"," to search registered ",r==="individual"?"members":"organizations"]})]})}),e.jsx(Oe,{value:"membership",className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"membershipSearch",children:"Membership Number"}),e.jsx(Y,{id:"membershipSearch",type:"text",placeholder:"e.g., EAC-MBR-24-0001",value:u,onChange:E=>m(E.target.value),"data-testid":"input-membership-search"})]})}),e.jsx(Oe,{value:"email",className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"emailSearch",children:"Email Address"}),e.jsx(Y,{id:"emailSearch",type:"email",placeholder:"e.g., john@example.com",value:u,onChange:E=>m(E.target.value),"data-testid":"input-email-search"})]})})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(P,{onClick:B,variant:"outline","data-testid":"button-prev-step2",children:[e.jsx(I2,{className:"w-4 h-4 mr-1"}),"Back"]}),e.jsxs(P,{onClick:F,disabled:y==="dropdown"&&!a||y!=="dropdown"&&!u.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-next-step2",children:["Next",e.jsx(om,{className:"w-4 h-4 ml-1"})]})]})]}),t===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-base font-medium mb-4 block",children:"Security Verification"}),e.jsx(Oie,{onVerify:()=>f(!0)})]}),e.jsxs("div",{className:"p-6 bg-gradient-to-br from-blue-50 to-indigo-100/50 rounded-xl border-2 border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full flex items-center justify-center",children:e.jsx(et,{className:"w-4 h-4 text-white"})}),e.jsx("h4",{className:"font-semibold text-blue-900",children:"Verification Summary"})]}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",r==="individual"?"Individual Member":"Organization"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Search Method:"})," ",y==="dropdown"?"Selected from list":y==="membership"?"Membership Number":y==="name"?"Full Name":"Email Address"]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(P,{onClick:B,variant:"outline","data-testid":"button-prev-step3",children:[e.jsx(I2,{className:"w-4 h-4 mr-1"}),"Back"]}),e.jsx(P,{onClick:z,disabled:!h||S,className:"bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-verify",children:S?"Verifying...":"Verify Registration"})]}),b&&e.jsx("div",{className:"text-center",children:e.jsx(P,{variant:"outline",onClick:re,"data-testid":"button-reset",children:"Start New Search"})})]})]})]}),A&&e.jsx(jl,{className:"mb-8 border-2 border-red-200 bg-gradient-to-br from-red-50 to-red-100/50",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-red-400 to-red-500 rounded-full flex items-center justify-center",children:e.jsx(Je,{className:"h-5 w-5 text-white"})}),e.jsx(wl,{className:"text-red-800 font-medium",children:"No registration found. Please check the details and try again."})]})}),k&&e.jsxs($,{className:"border-0 shadow-xl bg-gradient-to-br from-white to-green-50/50",children:[e.jsx(J,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-t-lg",children:e.jsxs(ee,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(le,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xl",children:"Registration Verified"}),e.jsx("p",{className:"text-green-100 text-sm mt-1",children:"Successfully verified member registration"})]})]}),e.jsx(oe,{className:`${U(k.status)} px-3 py-2 rounded-full font-medium shadow-lg`,children:k.status.toUpperCase()})]})}),e.jsxs(V,{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:k.type==="member"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Full Name"}),e.jsxs("p",{className:"font-semibold",children:[k.firstName," ",k.lastName]})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Membership Number"}),e.jsx("p",{className:"font-mono text-sm",children:k.membershipNumber})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Member Type"}),e.jsx("p",{children:W(k.memberType||"")})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Expiry Date"}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(dt,{className:"w-4 h-4 mr-1"}),k.expiryDate?new Date(k.expiryDate).toLocaleDateString():"N/A"]})]}),k.organizationName&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Organization"}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(qe,{className:"w-4 h-4 mr-1"}),k.organizationName]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Organization Name"}),e.jsxs("p",{className:"font-semibold flex items-center",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),k.name]})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Registration Number"}),e.jsx("p",{className:"font-mono text-sm",children:k.membershipNumber})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Organization Type"}),e.jsx("p",{children:W(k.organizationType||"")})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Expiry Date"}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(dt,{className:"w-4 h-4 mr-1"}),k.expiryDate?new Date(k.expiryDate).toLocaleDateString():"N/A"]})]})]})}),e.jsx(Ac,{}),e.jsx("div",{className:"text-center text-sm text-muted-foreground",children:e.jsxs("p",{className:"flex items-center justify-center",children:[e.jsx(ds,{className:"w-4 h-4 mr-1"}),"This verification was completed on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]})})]})]})]})}),e.jsx(wt,{})]})}function Iie(){const{toast:t}=tt(),[s,r]=p.useState(!1),[n,a]=p.useState(null),i=async(l,o)=>{r(!0),a(null);try{const d=await(await fetch("/api/payment/paynow/initiate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:l,currency:"USD",reference:`TEST-${Date.now()}`,email:"test@eacz.org",phone:"+263771234567",description:o,paymentType:"test"})})).json();a(d),d.success?t({title:"Payment Test Successful",description:"PayNow payment initiated successfully!"}):t({title:"Payment Test Failed",description:d.error||"Payment initiation failed",variant:"destructive"})}catch(c){console.error("Payment test error:",c),t({title:"Test Error",description:"Failed to test payment integration",variant:"destructive"})}finally{r(!1)}};return e.jsxs("div",{className:"min-h-screen gradient-bg",children:[e.jsx(Kt,{title:"EACZ Payment Integration",subtitle:"Test Payment System"}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Payment Integration Test"}),e.jsx("p",{className:"text-blue-100",children:"Test the improved PayNow payment workflow"})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 mb-6",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center text-gray-900",children:[e.jsx(Qt,{className:"w-5 h-5 mr-2"}),"PayNow Integration Test"]})}),e.jsxs(V,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(P,{onClick:()=>i(10,"Test Payment - $10"),disabled:s,className:"gradient-button text-white border-0",children:[e.jsx(Gr,{className:"w-4 h-4 mr-2"}),"Test $10 Payment"]}),e.jsxs(P,{onClick:()=>i(25.5,"Test Payment - $25.50"),disabled:s,variant:"outline",className:"border-blue-200 text-blue-700 hover:bg-blue-50",children:[e.jsx(rw,{className:"w-4 h-4 mr-2"}),"Test $25.50 Payment"]}),e.jsxs(P,{onClick:()=>i(100,"Test Payment - $100"),disabled:s,variant:"outline",className:"border-green-200 text-green-700 hover:bg-green-50",children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Test $100 Payment"]})]}),s&&e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"Testing payment integration..."})]})]})]}),n&&e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 mb-6",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center text-gray-900",children:[n.success?e.jsx(le,{className:"w-5 h-5 mr-2 text-green-600"}):e.jsx(Je,{className:"w-5 h-5 mr-2 text-red-600"}),"Payment Test Result"]})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx("span",{className:`px-2 py-1 rounded text-sm ${n.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.success?"Success":"Failed"})]}),n.success&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Reference:"}),e.jsx("span",{className:"text-blue-600 font-mono",children:n.reference})]}),n.paymentUrl&&e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"font-medium block mb-2",children:"Payment URL:"}),e.jsx("a",{href:n.paymentUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline break-all",children:n.paymentUrl})]}),n.message&&e.jsx("div",{className:"p-3 bg-blue-50 border-l-4 border-blue-400",children:e.jsx("p",{className:"text-blue-800",children:n.message})})]}),!n.success&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-3 bg-red-50 border-l-4 border-red-400",children:e.jsx("p",{className:"text-red-800",children:n.error})}),n.errorCode&&e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Error Code:"}),e.jsx("span",{className:"text-red-600 font-mono",children:n.errorCode})]})]})]})})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsx(J,{children:e.jsx(ee,{className:"text-gray-900",children:"Integration Status"})}),e.jsx(V,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx(le,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Enhanced Validation"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Improved input validation and error handling"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx(le,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Better Logging"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Comprehensive error logging and debugging"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx(le,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Status Tracking"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Enhanced payment status tracking"})]})]})})]})]})})]})}function Fie(){const{toast:t}=tt(),[s,r]=p.useState(!1),[n,a]=p.useState(!1),[i,l]=p.useState(null),[o,c]=p.useState(null),[d,u]=p.useState({amount:"100",purpose:"membership",paymentMethod:"paynow_ecocash",phoneNumber:"",email:"",description:"Test payment"}),m=async b=>{var x,v;b.preventDefault(),r(!0),l(null);try{const y=await(await fetch("/api/payments/create",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({amount:parseFloat(d.amount),purpose:d.purpose,paymentMethod:d.paymentMethod,phoneNumber:d.phoneNumber||void 0,email:d.email||void 0,description:d.description})})).json();y.success?(c(y.payment.id),y.payment.method==="redirect"&&((x=y.paynow)!=null&&x.redirectUrl)?(t({title:"Redirecting to PayNow",description:"You will be redirected to complete your payment."}),window.open(y.paynow.redirectUrl,"_blank"),h(y.payment.id)):y.payment.method==="express"?(t({title:"Payment Initiated",description:((v=y.paynow)==null?void 0:v.instructions)||"Check your phone for the payment prompt."}),h(y.payment.id)):t({title:"Payment Created",description:`Payment ID: ${y.payment.paymentNumber}`})):t({title:"Payment Failed",description:y.error||"Failed to create payment",variant:"destructive"})}catch(g){t({title:"Error",description:g.message||"Failed to initiate payment",variant:"destructive"})}finally{r(!1)}},h=b=>{a(!0),l("pending");const x=setInterval(async()=>{try{const g=await(await fetch(`/api/payments/${b}/status`,{credentials:"include"})).json();g.success&&(l(g.payment.status),g.payment.status==="completed"?(clearInterval(x),a(!1),t({title:"Payment Successful!",description:"Your payment has been completed."})):["failed","cancelled"].includes(g.payment.status)&&(clearInterval(x),a(!1),t({title:"Payment Failed",description:`Payment status: ${g.payment.status}`,variant:"destructive"})))}catch(v){console.error("Polling error:",v)}},3e3);setTimeout(()=>{clearInterval(x),a(!1),i==="pending"&&t({title:"Polling Timeout",description:"Payment status check timed out. Please check manually.",variant:"destructive"})},3e5)},f=()=>{if(!i)return null;switch(i){case"completed":return e.jsxs(oe,{className:"bg-green-100 text-green-800",children:[e.jsx(le,{className:"w-3 h-3 mr-1"}),"Completed"]});case"pending":return e.jsxs(oe,{className:"bg-yellow-100 text-yellow-800",children:[e.jsx(Lu,{className:"w-3 h-3 mr-1 animate-spin"}),"Pending"]});case"failed":return e.jsxs(oe,{className:"bg-red-100 text-red-800",children:[e.jsx(Js,{className:"w-3 h-3 mr-1"}),"Failed"]});case"cancelled":return e.jsx(oe,{className:"bg-gray-100 text-gray-800",children:"Cancelled"});default:return e.jsx(oe,{children:i})}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-purple-900 p-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"PayNow Payment Test"}),e.jsx("p",{className:"text-blue-100",children:"Test Zimbabwe Mobile Money Integration"})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur",children:[e.jsxs(J,{children:[e.jsxs(ee,{className:"flex items-center",children:[e.jsx(Qt,{className:"w-5 h-5 mr-2"}),"Test Payment"]}),e.jsx(Gt,{children:"Use this form to test PayNow EcoCash/OneMoney integration"})]}),e.jsxs(V,{children:[e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"amount",children:"Amount (USD)"}),e.jsx(Y,{id:"amount",type:"number",step:"0.01",min:"0.01",value:d.amount,onChange:b=>u({...d,amount:b.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"purpose",children:"Purpose"}),e.jsxs(Ie,{value:d.purpose,onValueChange:b=>u({...d,purpose:b}),children:[e.jsx(De,{children:e.jsx(Fe,{})}),e.jsxs(Me,{children:[e.jsx(D,{value:"membership",children:"Membership"}),e.jsx(D,{value:"application",children:"Application"}),e.jsx(D,{value:"renewal",children:"Renewal"}),e.jsx(D,{value:"event",children:"Event"}),e.jsx(D,{value:"subscription",children:"Subscription"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"paymentMethod",children:"Payment Method"}),e.jsxs(Ie,{value:d.paymentMethod,onValueChange:b=>u({...d,paymentMethod:b}),children:[e.jsx(De,{children:e.jsx(Fe,{})}),e.jsxs(Me,{children:[e.jsx(D,{value:"paynow_ecocash",children:"PayNow EcoCash"}),e.jsx(D,{value:"paynow_onemoney",children:"PayNow OneMoney"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"phoneNumber",children:"Phone Number (Optional - for Express Checkout)"}),e.jsx(Y,{id:"phoneNumber",type:"tel",placeholder:"+263771234567",value:d.phoneNumber,onChange:b=>u({...d,phoneNumber:b.target.value})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Provide phone number for direct mobile prompt. Leave empty for web redirect."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"email",children:"Email (Optional)"}),e.jsx(Y,{id:"email",type:"email",placeholder:"test@example.com",value:d.email,onChange:b=>u({...d,email:b.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"description",children:"Description"}),e.jsx(Y,{id:"description",value:d.description,onChange:b=>u({...d,description:b.target.value})})]}),e.jsx(P,{type:"submit",className:"w-full gradient-button text-white border-0",disabled:s||n,children:s?e.jsxs(e.Fragment,{children:[e.jsx(Lu,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Payment..."]}):n?e.jsxs(e.Fragment,{children:[e.jsx(Lu,{className:"w-4 h-4 mr-2 animate-spin"}),"Waiting for Payment..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Initiate Payment"]})})]}),o&&e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Payment Status:"}),f()]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Payment ID: ",o]}),n&&e.jsx("div",{className:"mt-2 text-xs text-blue-600",children:"Checking payment status every 3 seconds..."})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-sm mb-2",children:"Test Instructions:"}),e.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Express Checkout:"})," Enter your EcoCash/OneMoney number to receive a direct payment prompt"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Web Redirect:"})," Leave phone number empty to be redirected to PayNow website"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Testing:"})," Use sandbox credentials for testing in development mode"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Status:"})," Payment status will update automatically when payment is completed"]})]})]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-blue-100",children:["Integration ID: ","21044"]})})]})})}function Lie(){const[t,s]=p.useState(""),[r,n]=p.useState("case"),[a,i]=p.useState(!1),[,l]=Xe(),{data:o,isLoading:c,error:d}=Ge({queryKey:["/api/cases/track",t,r],enabled:a&&t.length>0}),u=()=>{t.trim()&&i(!0)},m=()=>{s(""),i(!1)},h=x=>{switch(x.toLowerCase()){case"open":return e.jsx(ft,{className:"w-4 h-4"});case"in_progress":return e.jsx(Js,{className:"w-4 h-4"});case"resolved":return e.jsx(le,{className:"w-4 h-4"});case"closed":return e.jsx(Xt,{className:"w-4 h-4"});default:return e.jsx(Le,{className:"w-4 h-4"})}},f=x=>{switch(x.toLowerCase()){case"open":return"default";case"in_progress":return"secondary";case"resolved":return"outline";case"closed":return"outline";default:return"secondary"}},b=x=>{switch(x.toLowerCase()){case"low":return"secondary";case"medium":return"default";case"high":return"destructive";case"critical":return"destructive";default:return"secondary"}};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"gradient-bg py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center p-2",children:e.jsx("img",{src:cn,alt:"EACZ Logo",className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"text-white",children:[e.jsx("h1",{className:"text-xl font-bold",children:"Track Your Case"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Monitor the progress of your submitted cases"})]})]}),e.jsx(P,{className:"bg-white/20 hover:bg-white/30 text-white border border-white/30",onClick:()=>l("/"),children:"Return to Home"})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-12 flex-1",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx(Et,{items:[{label:"Case Management",href:"/case-management"},{label:"Track Your Case"}],className:"mb-6"}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4 p-2",children:e.jsx("img",{src:cn,alt:"Estate Agents Council Logo",className:"w-full h-full object-contain"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Track Your Case"}),e.jsx("p",{className:"text-gray-600",children:"Check the status and progress of a case you have submitted to the council."})]}),e.jsxs($,{className:"bg-white border shadow-lg mb-6",children:[e.jsxs(J,{children:[e.jsxs(ee,{className:"flex items-center",children:[e.jsx(Ks,{className:"w-5 h-5 mr-2"}),"Find Your Case"]}),e.jsx(Gt,{children:"Search for a case using the methods below."})]}),e.jsxs(V,{children:[e.jsxs(Zt,{value:r,onValueChange:x=>n(x),children:[e.jsxs(Ht,{className:"grid w-full grid-cols-2 mb-4",children:[e.jsx(Ae,{value:"case",children:"Case Number"}),e.jsx(Ae,{value:"email",children:"Email Address"})]}),e.jsx(Oe,{value:"case",className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"case-number",children:"Case Tracking Number"}),e.jsx(Y,{id:"case-number",value:t,onChange:x=>s(x.target.value),placeholder:"Enter case number (e.g., CASE-2024-001247)",className:"mt-2","data-testid":"input-case-number"})]})}),e.jsx(Oe,{value:"email",className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"email",children:"Email Address"}),e.jsx(Y,{id:"email",type:"email",value:t,onChange:x=>s(x.target.value),placeholder:"Enter the email used when submitting the case",className:"mt-2","data-testid":"input-email"})]})})]}),e.jsxs("div",{className:"flex space-x-2 mt-4",children:[e.jsx(P,{onClick:u,disabled:!t.trim()||c,className:"gradient-button text-white border-0","data-testid":"button-track-case",children:c?"Searching...":"Track Case"}),a&&e.jsx(P,{variant:"outline",onClick:m,"data-testid":"button-reset-search",children:"Reset"})]})]})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur",children:[e.jsxs(J,{children:[e.jsx(ee,{children:"Case Status"}),e.jsx(Gt,{children:"The current status of the searched case will appear here."})]}),e.jsxs(V,{children:[!a&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Le,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Please enter a case number or email to see the status."})]}),a&&c&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-egyptian-blue mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Searching for case..."})]}),a&&d&&e.jsxs(jl,{className:"border-destructive",children:[e.jsx(Js,{className:"h-4 w-4"}),e.jsx(wl,{children:"Case not found. Please check your case number or email and try again."})]}),a&&o&&!c&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-secondary rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-card-foreground mb-1","data-testid":"case-title",children:o.title}),e.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"case-number",children:["Case Number: ",o.caseNumber]})]}),e.jsxs(oe,{variant:f(o.status),className:"flex items-center gap-1","data-testid":"case-status-badge",children:[h(o.status),o.status.replace("_"," ").toUpperCase()]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Type:"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"case-type",children:o.type.replace("_"," ").toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Priority:"}),e.jsx(oe,{variant:b(o.priority),className:"ml-2","data-testid":"case-priority",children:o.priority.toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Submitted:"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"case-submitted-date",children:new Date(o.createdAt).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Last Updated:"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"case-updated-date",children:new Date(o.updatedAt).toLocaleDateString()})]})]}),o.resolution&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-border",children:[e.jsx("span",{className:"font-medium text-sm",children:"Resolution:"}),e.jsx("p",{className:"text-muted-foreground mt-1","data-testid":"case-resolution",children:o.resolution})]})]}),e.jsx("div",{className:"text-center",children:e.jsx(P,{onClick:()=>l("/cases/report"),variant:"outline","data-testid":"button-report-new-case",children:"Report Another Case"})})]})]})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-gray-900 font-semibold mb-4",children:"Need More Help?"}),e.jsxs("div",{className:"space-y-2 text-gray-600 text-sm",children:[e.jsx("p",{children:"For additional assistance or inquiries about your case,"}),e.jsx("p",{children:"contact the Estate Agents Council of Zimbabwe directly."}),e.jsx("div",{className:"mt-4",children:e.jsx(P,{variant:"link",className:"text-blue-600 hover:text-blue-700",onClick:()=>l("/cases/report"),children:"Report a New Case"})})]})]})})]})}),e.jsx(wt,{})]})}function zie(){const[t,s]=p.useState(""),[r,n]=p.useState(!1);Xe();const{data:a,isLoading:i,error:l}=Ge({queryKey:["/api/public/applications",t],enabled:r&&t.length>0}),o=()=>{t.trim()&&n(!0)},c=()=>{s(""),n(!1)},d=h=>{switch(h.toLowerCase()){case"draft":return e.jsx(Le,{className:"w-4 h-4"});case"under_review":return e.jsx(ft,{className:"w-4 h-4"});case"approved":return e.jsx(le,{className:"w-4 h-4"});case"rejected":return e.jsx(Xt,{className:"w-4 h-4"});case"needs_applicant_action":return e.jsx(Je,{className:"w-4 h-4"});default:return e.jsx(Le,{className:"w-4 h-4"})}},u=h=>{switch(h.toLowerCase()){case"draft":return"bg-gray-100 text-gray-800";case"under_review":return"bg-blue-100 text-blue-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"needs_applicant_action":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},m=h=>{switch(h.toLowerCase()){case"settled":return"bg-green-100 text-green-800";case"proof_uploaded":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-blue-50 to-purple-50",children:[e.jsx(Kt,{title:"Track Your Application",subtitle:"Monitor your membership application progress in real time"}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs($,{className:"border-0 shadow-xl bg-gradient-to-br from-white to-indigo-50/50 mb-8",children:[e.jsx(J,{className:"bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-t-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(Ks,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx(ee,{className:"text-xl",children:"Application Lookup"}),e.jsx(Gt,{className:"text-indigo-100 mt-1",children:"Enter your application ID to check the status of your membership application"})]})]})}),e.jsxs(V,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(ue,{htmlFor:"applicationId",className:"text-sm font-medium text-gray-700",children:"Application ID"}),e.jsxs("div",{className:"relative",children:[e.jsx(Y,{id:"applicationId",type:"text",placeholder:"e.g., MBR-APP-0001 or ORG-APP-0001",value:t,onChange:h=>s(h.target.value),className:"pl-10 border-2 border-indigo-200 focus:border-indigo-500 focus:ring-indigo-200 rounded-lg h-12","data-testid":"input-application-id"}),e.jsx(Le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-indigo-400 w-5 h-5"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(P,{onClick:o,disabled:!t.trim()||i,className:"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white px-6 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 flex items-center space-x-2","data-testid":"button-search",children:[e.jsx(Ks,{className:"w-4 h-4"}),e.jsx("span",{children:i?"Searching...":"Track Application"})]}),r&&e.jsx(P,{variant:"outline",onClick:c,className:"border-2 border-purple-200 text-purple-700 hover:bg-purple-50 px-6 py-3 rounded-lg","data-testid":"button-reset",children:"Search Again"})]})]})]}),l&&e.jsx(jl,{className:"mb-8 border-2 border-red-200 bg-gradient-to-br from-red-50 to-red-100/50",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-red-400 to-red-500 rounded-full flex items-center justify-center",children:e.jsx(Je,{className:"h-5 w-5 text-white"})}),e.jsx(wl,{className:"text-red-800 font-medium",children:"Application not found. Please check your application ID and try again."})]})}),a&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs($,{className:"border-0 shadow-xl bg-gradient-to-br from-white to-emerald-50/50",children:[e.jsx(J,{className:"bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-t-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:d(a.status)}),e.jsxs("div",{children:[e.jsx(ee,{className:"text-xl",children:"Application Status"}),e.jsx("p",{className:"text-emerald-100 mt-1",children:"Real-time application tracking"})]})]}),e.jsx(oe,{className:`${u(a.status)} px-3 py-2 rounded-full font-medium shadow-lg`,children:e.jsx("span",{className:"capitalize",children:a.status.replace("_"," ")})})]})}),e.jsx(V,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Application ID"}),e.jsx("p",{className:"font-mono text-sm",children:a.applicationId})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Application Type"}),e.jsx("p",{className:"capitalize",children:a.applicationType})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Submitted Date"}),e.jsx("p",{children:a.submittedAt?new Date(a.submittedAt).toLocaleDateString():"Not submitted yet"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),e.jsx("p",{children:new Date(a.updatedAt).toLocaleDateString()})]})]})})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur",children:[e.jsx(J,{children:e.jsx(ee,{children:"Application Fee"})}),e.jsxs(V,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:[a.feeCurrency," ",a.feeAmount]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Application processing fee"})]}),e.jsx(oe,{className:m(a.feeStatus),children:a.feeStatus.replace("_"," ").toUpperCase()})]}),a.feeStatus==="pending"&&e.jsxs(jl,{children:[e.jsx(Je,{className:"h-4 w-4"}),e.jsx(wl,{children:"Payment is required to proceed with your application. You can pay online or upload proof of payment."})]})]})]}),a.statusHistory&&a.statusHistory.length>0&&e.jsxs($,{className:"bg-white/95 backdrop-blur",children:[e.jsx(J,{children:e.jsx(ee,{children:"Application Timeline"})}),e.jsx(V,{children:e.jsx("div",{className:"space-y-4",children:a.statusHistory.map((h,f)=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-egyptian-blue rounded-full mt-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium capitalize",children:h.toStatus.replace("_"," ")}),e.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(h.createdAt).toLocaleDateString()})]}),h.comment&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:h.comment})]})]},f))})})]})]})]})}),e.jsx(wt,{})]})}const Uie=I.object({activityTitle:I.string().min(5,"Activity title must be at least 5 characters"),activityType:I.enum(["workshop","seminar","training","conference","webinar","self_study","professional_meeting"]),pointsEarned:I.number().min(1,"Points must be at least 1").max(50,"Points cannot exceed 50 per activity"),completionDate:I.string().min(1,"Completion date is required"),description:I.string().min(10,"Description must be at least 10 characters"),certificateUrl:I.string().optional()});function $ie(){const[t,s]=p.useState(!1),{user:r}=St(),{toast:n}=tt(),{data:a=[],isLoading:i}=Ge({queryKey:["/api/cpd-activities"],enabled:!!r}),{data:l=[]}=Ge({queryKey:["/api/events","upcoming=true"]}),o=It({resolver:Ft(Uie),defaultValues:{activityTitle:"",activityType:"workshop",pointsEarned:1,completionDate:"",description:"",certificateUrl:""}}),c=$e({mutationFn:g=>Be("POST","/api/cpd-activities",g),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/cpd-activities"]}),n({title:"CPD Activity Added",description:"Your CPD activity has been recorded successfully."}),s(!1),o.reset()},onError:()=>{n({title:"Error",description:"Failed to add CPD activity. Please try again.",variant:"destructive"})}}),d=a.reduce((g,y)=>g+(y.pointsEarned||0),0),u=new Date().getFullYear(),m=30,h=Math.min(d/m*100,100),f=a.filter(g=>new Date(g.completionDate||"").getFullYear()===u),b=g=>{c.mutate(g)},x=g=>{switch(g){case"workshop":return e.jsx(O2,{className:"w-4 h-4"});case"seminar":return e.jsx(js,{className:"w-4 h-4"});case"training":return e.jsx(tR,{className:"w-4 h-4"});case"conference":return e.jsx(Dy,{className:"w-4 h-4"});default:return e.jsx(le,{className:"w-4 h-4"})}},v=g=>g?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800";return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(El,{currentPage:"cpd",title:"EACZ Member Portal",subtitle:"CPD Tracking"}),e.jsxs("div",{className:"p-6",children:[e.jsx(Et,{items:[{label:"Member Portal",href:"/member-portal"},{label:"CPD Tracking"}],className:"mb-6"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"CPD Tracking"}),e.jsx("p",{className:"text-muted-foreground",children:"Continuing Professional Development Management"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[e.jsxs($,{children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxs(ee,{className:"text-sm font-medium",children:["Total CPD Points (",u,")"]}),e.jsx(Dy,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(V,{children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:d}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["of ",m," required points"]}),e.jsx(Ci,{value:h,className:"mt-2"})]})]}),e.jsxs($,{children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ee,{className:"text-sm font-medium",children:"Activities Completed"}),e.jsx(le,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(V,{children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:f.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This year"})]})]}),e.jsxs($,{children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ee,{className:"text-sm font-medium",children:"Progress Status"}),e.jsx(sl,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(V,{children:[e.jsxs("div",{className:"text-2xl font-bold text-primary",children:[Math.round(h),"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:d>=m?"Requirements met!":`${m-d} points needed`})]})]})]}),e.jsxs(Zt,{defaultValue:"activities",className:"space-y-6",children:[e.jsxs(Ht,{className:"grid w-full grid-cols-2",children:[e.jsx(Ae,{value:"activities",children:"My CPD Activities"}),e.jsx(Ae,{value:"opportunities",children:"CPD Opportunities"})]}),e.jsxs(Oe,{value:"activities",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"CPD Activities"}),e.jsxs(za,{open:t,onOpenChange:s,children:[e.jsx(Vd,{asChild:!0,children:e.jsxs(P,{className:"gradient-button text-white border-0",children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Add Activity"]})}),e.jsxs(Ua,{className:"max-w-md",children:[e.jsxs($a,{children:[e.jsx(Va,{children:"Add CPD Activity"}),e.jsx(Yw,{children:"Add a new Continuing Professional Development activity to track your learning progress."})]}),e.jsx(Rt,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(b),className:"space-y-4",children:[e.jsx(Q,{control:o.control,name:"activityTitle",render:({field:g})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Activity Title"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"Enter activity title",...g})}),e.jsx(X,{})]})}),e.jsx(Q,{control:o.control,name:"activityType",render:({field:g})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Activity Type"}),e.jsx(G,{children:e.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",...g,children:[e.jsx("option",{value:"workshop",children:"Workshop"}),e.jsx("option",{value:"seminar",children:"Seminar"}),e.jsx("option",{value:"training",children:"Training"}),e.jsx("option",{value:"conference",children:"Conference"}),e.jsx("option",{value:"webinar",children:"Webinar"}),e.jsx("option",{value:"self_study",children:"Self Study"}),e.jsx("option",{value:"professional_meeting",children:"Professional Meeting"})]})}),e.jsx(X,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Q,{control:o.control,name:"pointsEarned",render:({field:g})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Points Earned"}),e.jsx(G,{children:e.jsx(Y,{type:"number",min:"1",max:"50",...g,onChange:y=>g.onChange(parseInt(y.target.value))})}),e.jsx(X,{})]})}),e.jsx(Q,{control:o.control,name:"completionDate",render:({field:g})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Completion Date"}),e.jsx(G,{children:e.jsx(Y,{type:"date",...g})}),e.jsx(X,{})]})})]}),e.jsx(Q,{control:o.control,name:"description",render:({field:g})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Description"}),e.jsx(G,{children:e.jsx(kt,{placeholder:"Describe the activity and what you learned",className:"min-h-[80px]",...g})}),e.jsx(X,{})]})}),e.jsx(Q,{control:o.control,name:"certificateUrl",render:({field:g})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Certificate URL (Optional)"}),e.jsx(G,{children:e.jsx(Y,{placeholder:"https://...",...g})}),e.jsx(X,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(P,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),e.jsx(P,{type:"submit",className:"gradient-button text-white border-0",disabled:c.isPending,children:c.isPending?"Adding...":"Add Activity"})]})]})})]})]})]}),i?e.jsx("div",{className:"text-center py-8",children:"Loading CPD activities..."}):f.length>0?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:f.map(g=>e.jsxs($,{children:[e.jsx(J,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[x(g.activityType),e.jsx(ee,{className:"text-lg",children:g.activityTitle})]}),e.jsx(oe,{className:v(g.isVerified||!1),children:g.isVerified?"Verified":"Pending"})]})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:g.activityType}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium",children:[g.pointsEarned," CPD Points"]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(g.completionDate||"").toLocaleDateString()})]}),g.certificateUrl&&e.jsx("a",{href:g.certificateUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline",children:"View Certificate"})]})})]},g.id))}):e.jsx($,{children:e.jsxs(V,{className:"text-center py-8",children:[e.jsx(O2,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No CPD Activities Yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Start tracking your professional development activities to meet your annual requirements."}),e.jsx(P,{className:"gradient-button text-white border-0",onClick:()=>s(!0),children:"Add Your First Activity"})]})})]}),e.jsxs(Oe,{value:"opportunities",className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"CPD Opportunities"}),l.length>0?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:l.map(g=>e.jsxs($,{children:[e.jsx(J,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx(ee,{className:"text-lg",children:g.title}),e.jsxs(oe,{variant:"outline",children:[g.cpdPoints," CPD Points"]})]})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:g.description}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(dt,{className:"w-4 h-4 mr-1"}),new Date(g.startDate).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ft,{className:"w-4 h-4 mr-1"}),g.location]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsxs("span",{className:"font-medium",children:["$",g.price||0]}),e.jsx(P,{size:"sm",className:"gradient-button text-white border-0",children:"Register"})]})]})})]},g.id))}):e.jsx($,{children:e.jsxs(V,{className:"text-center py-8",children:[e.jsx(dt,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Upcoming Events"}),e.jsx("p",{className:"text-muted-foreground",children:"Check back later for new CPD opportunities and events."})]})})]})]})]})]})}var _N="Collapsible",[Vie,tce]=Gs(_N),[Bie,kN]=Vie(_N),SL=p.forwardRef((t,s)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:l,...o}=t,[c=!1,d]=ta({prop:n,defaultProp:a,onChange:l});return e.jsx(Bie,{scope:r,disabled:i,contentId:Xn(),open:c,onOpenToggle:p.useCallback(()=>d(u=>!u),[d]),children:e.jsx(Qe.div,{"data-state":EN(c),"data-disabled":i?"":void 0,...o,ref:s})})});SL.displayName=_N;var _L="CollapsibleTrigger",kL=p.forwardRef((t,s)=>{const{__scopeCollapsible:r,...n}=t,a=kN(_L,r);return e.jsx(Qe.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":EN(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:s,onClick:ke(t.onClick,a.onOpenToggle)})});kL.displayName=_L;var PN="CollapsibleContent",PL=p.forwardRef((t,s)=>{const{forceMount:r,...n}=t,a=kN(PN,t.__scopeCollapsible);return e.jsx(Yr,{present:r||a.open,children:({present:i})=>e.jsx(qie,{...n,ref:s,present:i})})});PL.displayName=PN;var qie=p.forwardRef((t,s)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=t,l=kN(PN,r),[o,c]=p.useState(n),d=p.useRef(null),u=Nt(s,d),m=p.useRef(0),h=m.current,f=p.useRef(0),b=f.current,x=l.open||o,v=p.useRef(x),g=p.useRef(void 0);return p.useEffect(()=>{const y=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(y)},[]),Rs(()=>{const y=d.current;if(y){g.current=g.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const j=y.getBoundingClientRect();m.current=j.height,f.current=j.width,v.current||(y.style.transitionDuration=g.current.transitionDuration,y.style.animationName=g.current.animationName),c(n)}},[l.open,n]),e.jsx(Qe.div,{"data-state":EN(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!x,...i,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...t.style},children:x&&a})});function EN(t){return t?"open":"closed"}var Wie=SL;const Hie=Wie,Kie=kL,Gie=PL;function Uo({items:t,title:s,subtitle:r}){const{user:n,logoutMutation:a}=St(),[,i]=Xe(),[l,o]=p.useState(new Set),c=()=>{a.mutate(),i("/auth")},d=h=>{const f=new Set(l);f.has(h)?f.delete(h):f.add(h),o(f)},u=()=>n!=null&&n.email?n.email.split("@")[0].substring(0,2).toUpperCase():"U",m=()=>n!=null&&n.role?n.role.replace(/_/g," ").replace(/\b\w/g,h=>h.toUpperCase()):"User";return e.jsx("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-sidebar border-r border-sidebar-border",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center px-6 py-4 border-b border-sidebar-border",children:[e.jsx("div",{className:"w-8 h-8 bg-white rounded flex items-center justify-center mr-3 p-1",children:e.jsx("img",{src:cn,alt:"EACZ Logo",className:"w-full h-full object-contain"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-sidebar-foreground","data-testid":"sidebar-title",children:s}),e.jsx("p",{className:"text-xs text-muted-foreground","data-testid":"sidebar-subtitle",children:r})]})]}),e.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2",children:t.map(h=>e.jsx("div",{children:h.children?e.jsxs(Hie,{open:l.has(h.label),onOpenChange:()=>d(h.label),children:[e.jsx(Kie,{asChild:!0,children:e.jsxs(P,{variant:"ghost",className:ye("w-full justify-between text-sm font-medium",h.active?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground"),"data-testid":`nav-${h.label.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(h.icon,{className:"w-5 h-5 mr-3"}),h.label]}),e.jsx(Xx,{className:"w-4 h-4"})]})}),e.jsx(Gie,{className:"space-y-1 mt-1",children:h.children.map(f=>e.jsx(P,{variant:"ghost",className:ye("w-full justify-start text-sm pl-12",f.active?"bg-sidebar-accent text-sidebar-accent-foreground":"text-muted-foreground"),onClick:()=>i(f.href),"data-testid":`nav-child-${f.label.toLowerCase().replace(/\s+/g,"-")}`,children:f.label},f.label))})]}):e.jsxs(P,{variant:"ghost",className:ye("w-full justify-start text-sm font-medium",h.active?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground"),onClick:()=>i(h.href),"data-testid":`nav-${h.label.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx(h.icon,{className:"w-5 h-5 mr-3"}),h.label]})},h.label))}),e.jsx("div",{className:"px-4 py-4 border-t border-sidebar-border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Gw,{className:"w-8 h-8 mr-3",children:e.jsx(Qw,{className:"bg-sidebar-primary text-sidebar-primary-foreground text-sm",children:u()})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-sidebar-foreground","data-testid":"sidebar-user-email",children:n==null?void 0:n.email}),e.jsx("p",{className:"text-xs text-muted-foreground","data-testid":"sidebar-user-role",children:m()})]}),e.jsx(P,{variant:"ghost",size:"sm",onClick:c,className:"text-muted-foreground hover:text-sidebar-foreground","data-testid":"button-sidebar-logout",children:e.jsx(Jx,{className:"w-4 h-4"})})]})})]})})}function Qie(){const[t,s]=p.useState(""),[r,n]=p.useState("all"),[a,i]=p.useState("active"),[l,o]=p.useState("all"),[,c]=Xe(),{user:d}=St(),u=(d==null?void 0:d.role)==="admin"||(d==null?void 0:d.role)==="super_admin",{data:m=[],isLoading:h}=Ge({queryKey:u?["/api/members",{search:t,type:r!=="all"?r:void 0,status:a!=="all"?a:void 0,location:l!=="all"?l:void 0}]:["/api/public/members"]}),{data:f=[]}=Ge({queryKey:u?["/api/organizations"]:["/api/public/organizations"]}),b=m.filter(w=>{var S,A,z;const N=!t||`${w.firstName} ${w.lastName}`.toLowerCase().includes(t.toLowerCase())||((S=w.membershipNumber)==null?void 0:S.toLowerCase().includes(t.toLowerCase()))||((z=(A=w.organization)==null?void 0:A.name)==null?void 0:z.toLowerCase().includes(t.toLowerCase())),_=r==="all"||w.memberType===r,k=a==="all"||w.membershipStatus===a;return N&&_&&k}),x=f.filter(w=>!t||w.name.toLowerCase().includes(t.toLowerCase())),v=w=>{switch(w){case"real_estate_agent":return"Real Estate Agent";case"property_manager":return"Property Manager";case"principal_agent":return"Principal Agent";case"negotiator":return"Negotiator";default:return w.replace(/_/g," ")}},g=w=>{switch(w){case"active":return"bg-green-100 text-green-800";case"standby":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-blue-100 text-blue-800";case"expired":return"bg-red-100 text-red-800";case"revoked":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=()=>{const w=[["Name","Membership Number","Type","Status","Organization","Contact"].join(","),...b.map(S=>{var A;return[`"${S.firstName} ${S.lastName}"`,S.membershipNumber||"",v(S.memberType),S.membershipStatus||"",((A=S.organization)==null?void 0:A.name)||"",S.email||""].join(",")})].join("\\n"),N=new Blob([w],{type:"text/csv"}),_=URL.createObjectURL(N),k=document.createElement("a");k.href=_,k.download=`eacz-member-directory-${new Date().toISOString().split("T")[0]}.csv`,k.click(),URL.revokeObjectURL(_)},j=[{icon:at,label:"Dashboard",href:"/admin-dashboard"},{icon:at,label:"Members",href:"/admin-dashboard/members",children:[{label:"All Members",href:"/admin-dashboard/members"},{label:"Applications",href:"/admin-dashboard/applications"},{label:"Document Verification",href:"/admin-dashboard/documents"}]},{icon:qe,label:"Organizations",href:"/admin-dashboard/organizations",children:[{label:"All Organizations",href:"/admin-dashboard/organizations"},{label:"Register Organization",href:"/organization-registration"}]},{icon:Je,label:"Cases",href:"/case-management",children:[{label:"All Cases",href:"/case-management"},{label:"Pending Cases",href:"/case-management?status=open"}]},{icon:dt,label:"Events",href:"/event-management"},{icon:Co,label:"CPD Management",href:"/cpd-tracking"},{icon:ws,label:"Renewals",href:"/renewals"},{icon:at,label:"Member Directory",href:"/member-directory",active:!0}];return e.jsxs("div",{className:"min-h-screen bg-background",children:[u&&e.jsx(Uo,{items:j,title:"EACZ Admin",subtitle:"Management System"}),e.jsxs("div",{className:u?"ml-64":"",children:[e.jsx(Kt,{title:"EACZ Member Directory",subtitle:"Find registered estate agents and firms in Zimbabwe"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 flex-1",children:[e.jsx(Et,{items:[{label:"Admin Dashboard",href:"/admin-dashboard"},{label:"Member Directory"}],className:"mb-6"}),e.jsxs($,{className:"mb-8",children:[e.jsx(J,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ee,{className:"flex items-center",children:[e.jsx(Ks,{className:"w-5 h-5 mr-2"}),"Search Directory"]}),e.jsxs(P,{variant:"outline",size:"sm",onClick:y,disabled:b.length===0,children:[e.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Export"]})]})}),e.jsx(V,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Y,{placeholder:"Search by name, membership number, or organization...",value:t,onChange:w=>s(w.target.value),className:"w-full","data-testid":"input-search"})}),e.jsxs(Ie,{value:r,onValueChange:n,children:[e.jsx(De,{"data-testid":"select-member-type",children:e.jsx(Fe,{placeholder:"Member Type"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"all",children:"All Types"}),e.jsx(D,{value:"real_estate_agent",children:"Real Estate Agent"}),e.jsx(D,{value:"property_manager",children:"Property Manager"}),e.jsx(D,{value:"principal_real_estate_agent",children:"Principal Real Estate Agent"}),e.jsx(D,{value:"real_estate_negotiator",children:"Real Estate Negotiator"})]})]}),e.jsxs(Ie,{value:a,onValueChange:i,children:[e.jsx(De,{"data-testid":"select-status",children:e.jsx(Fe,{placeholder:"Status"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"all",children:"All Status"}),e.jsx(D,{value:"active",children:"Active"}),e.jsx(D,{value:"standby",children:"Standby"}),e.jsx(D,{value:"pending",children:"Pending"})]})]})]})})]}),e.jsxs(Zt,{defaultValue:"members",className:"space-y-6",children:[e.jsxs(Ht,{className:"grid w-full grid-cols-2",children:[e.jsx(Ae,{value:"members",children:"Individual Members"}),e.jsx(Ae,{value:"organizations",children:"Organizations"})]}),e.jsxs(Oe,{value:"members",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-2xl font-bold",children:["Individual Members (",b.length,")"]}),e.jsxs(P,{variant:"outline",onClick:()=>c("/verify"),children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Verify Member"]})]}),h?e.jsx("div",{className:"text-center py-8",children:"Loading members..."}):b.length>0?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:b.map(w=>e.jsxs($,{className:"hover:shadow-md transition-shadow",children:[e.jsx(J,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(et,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsxs(ee,{className:"text-lg",children:[w.firstName," ",w.lastName]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:w.membershipNumber})]})]}),e.jsx(oe,{className:g(w.membershipStatus||""),children:w.membershipStatus})]})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(et,{className:"w-4 h-4 mr-2 text-muted-foreground"}),v(w.memberType)]}),w.organization&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(qe,{className:"w-4 h-4 mr-2 text-muted-foreground"}),w.organization.name]}),w.email&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(jt,{className:"w-4 h-4 mr-2 text-muted-foreground"}),e.jsx("a",{href:`mailto:${w.email}`,className:"text-primary hover:underline",children:w.email})]}),w.phone&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Rr,{className:"w-4 h-4 mr-2 text-muted-foreground"}),e.jsx("a",{href:`tel:${w.phone}`,className:"text-primary hover:underline",children:w.phone})]})]})})]},w.id))}):e.jsx($,{children:e.jsxs(V,{className:"text-center py-8",children:[e.jsx(et,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Members Found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search criteria or filters."})]})})]}),e.jsxs(Oe,{value:"organizations",className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h2",{className:"text-2xl font-bold",children:["Registered Organizations (",x.length,")"]})}),x.length>0?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:x.map(w=>e.jsxs($,{className:"hover:shadow-md transition-shadow",children:[e.jsx(J,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(qe,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx(ee,{className:"text-lg",children:w.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:w.registrationNumber})]})]}),e.jsx(oe,{className:g(w.membershipStatus||""),children:w.membershipStatus})]})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(qe,{className:"w-4 h-4 mr-2 text-muted-foreground"}),w.type.replace(/_/g," ")]}),w.email&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(jt,{className:"w-4 h-4 mr-2 text-muted-foreground"}),e.jsx("a",{href:`mailto:${w.email}`,className:"text-primary hover:underline",children:w.email})]}),w.phone&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Rr,{className:"w-4 h-4 mr-2 text-muted-foreground"}),e.jsx("a",{href:`tel:${w.phone}`,className:"text-primary hover:underline",children:w.phone})]}),w.address&&e.jsxs("div",{className:"flex items-start text-sm",children:[e.jsx(Ma,{className:"w-4 h-4 mr-2 mt-0.5 text-muted-foreground"}),e.jsx("span",{children:w.address})]}),w.registrationDate&&e.jsxs("div",{className:"pt-2 border-t text-sm text-muted-foreground",children:["Registered: ",new Date(w.registrationDate).toLocaleDateString()]})]})})]},w.id))}):e.jsx($,{children:e.jsxs(V,{className:"text-center py-8",children:[e.jsx(qe,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Organizations Found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search criteria."})]})})]})]})]})]}),e.jsx(wt,{})]})}const Yie=I.object({firstName:I.string().min(1,"First name is required").max(50),surname:I.string().min(1,"Surname is required").max(50),dateOfBirth:I.string().min(1,"Date of birth is required").refine(t=>{const s=new Date(t),n=new Date().getFullYear()-s.getFullYear();return n>=18&&n<=80},"Age must be between 18 and 80 years"),email:I.string().email("Invalid email address"),memberType:I.enum(["real_estate_agent","property_manager","principal_real_estate_agent","real_estate_negotiator"],{errorMap:()=>({message:"Please select a member type"})}),educationLevel:I.enum(["normal_entry","mature_entry"],{errorMap:()=>({message:"Please select education/entry type"})}),countryOfResidence:I.string().min(1,"Country of residence is required"),nationality:I.string().min(1,"Nationality is required"),employmentStatus:I.enum(["self_employed","employed"],{errorMap:()=>({message:"Please select employment status"})}),organizationName:I.string().optional()}).refine(t=>{var s;return!(t.employmentStatus==="employed"&&!((s=t.organizationName)!=null&&s.trim()))},{message:"Organization/firm name is required when employed",path:["organizationName"]});function Zie({open:t,onOpenChange:s,trigger:r}){var B,U,W;const[n,a]=p.useState(1),[i,l]=p.useState(!1),[o,c]=p.useState(null),{toast:d}=tt(),u=new Date;u.setFullYear(u.getFullYear()-18);const m=u.toISOString().split("T")[0],{register:h,handleSubmit:f,watch:b,setValue:x,formState:{errors:v},reset:g,trigger:y}=It({resolver:Ft(Yie),defaultValues:{firstName:"",surname:"",dateOfBirth:"",email:"",memberType:void 0,educationLevel:void 0,countryOfResidence:"Zimbabwe",nationality:"Zimbabwean",employmentStatus:void 0,organizationName:""}}),j=b("memberType"),w=b("employmentStatus"),N=b("educationLevel"),_=4,k=n/_*100,S=$e({mutationFn:async E=>{try{const M=await Be("POST","/api/admin/members/create-with-clerk",E),q=M.headers.get("content-type");if(!q||!q.includes("application/json")){const R=await M.text();throw console.error("Non-JSON response received:",R.substring(0,200)),new Error("Server returned non-JSON response. Check console for details.")}return await M.json()}catch(M){throw console.error("Mutation error:",M),M}},onSuccess:E=>{st.invalidateQueries({queryKey:["/api/admin/members"]}),c(E.member),s(!1),l(!0),g(),a(1)},onError:E=>{console.error("onError handler:",E),d({title:"Error",description:E.message||"Failed to add member. Please try again.",variant:"destructive"})}}),A=async()=>{let E=[];n===1?E=["firstName","surname","dateOfBirth","email"]:n===2?E=["memberType","educationLevel"]:n===3&&(E=["countryOfResidence","nationality","employmentStatus"],w==="employed"&&E.push("organizationName")),await y(E)&&a(n+1)},z=()=>{a(n-1)},re=async E=>{console.log("Form submitted with data:",E);const M=new Date(E.dateOfBirth),q=new Date,R=q.getFullYear()-M.getFullYear()-(q.getMonth()<M.getMonth()||q.getMonth()===M.getMonth()&&q.getDate()<M.getDate()?1:0);if(E.educationLevel==="mature_entry"&&R<27){d({title:"Validation Error",description:"Mature Entry requires age 27 years and above",variant:"destructive"}),a(2);return}console.log("Calling createMemberMutation.mutate with data"),S.mutate(E)},F=j==="principal_real_estate_agent";return e.jsxs(e.Fragment,{children:[e.jsx(Lt,{open:t,onOpenChange:s,title:"Add New Member",subtitle:F?"Creating Principal Agent with dual portal access":"Create a new member account with email verification",icon:Us,colorVariant:"blue",maxWidth:"3xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mb-2",children:[e.jsxs("span",{children:["Step ",n," of ",_]}),e.jsxs("span",{children:[Math.round(k),"%"]})]}),e.jsx(Ci,{value:k,className:"h-2"}),e.jsxs("div",{className:"flex justify-between text-xs mt-2",children:[e.jsx("span",{className:n>=1?"text-blue-600 font-semibold":"text-muted-foreground",children:"Personal"}),e.jsx("span",{className:n>=2?"text-blue-600 font-semibold":"text-muted-foreground",children:"Professional"}),e.jsx("span",{className:n>=3?"text-blue-600 font-semibold":"text-muted-foreground",children:"Employment"}),e.jsx("span",{className:n>=4?"text-blue-600 font-semibold":"text-muted-foreground",children:"Review"})]})]}),e.jsxs("form",{onSubmit:f(re),className:"space-y-6",children:[n===1&&e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center",children:e.jsx(et,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Personal Information"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Basic details about the member"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"firstName",className:"text-gray-700 font-medium",children:"First Name *"}),e.jsx(Y,{id:"firstName",...h("firstName"),className:"border-gray-200 focus:border-blue-400 focus:ring-2 focus:ring-blue-100 bg-white shadow-sm hover:border-gray-300 transition-colors","data-testid":"input-first-name"}),v.firstName&&e.jsx("p",{className:"text-xs text-red-600",children:v.firstName.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"surname",className:"text-gray-700 font-medium",children:"Surname *"}),e.jsx(Y,{id:"surname",...h("surname"),className:"border-gray-200 focus:border-blue-400 focus:ring-2 focus:ring-blue-100 bg-white shadow-sm hover:border-gray-300 transition-colors","data-testid":"input-surname"}),v.surname&&e.jsx("p",{className:"text-xs text-red-600",children:v.surname.message})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ue,{htmlFor:"dateOfBirth",className:"text-blue-800 font-semibold flex items-center",children:[e.jsx(dt,{className:"w-4 h-4 mr-1"}),"Date of Birth *"]}),e.jsx(Y,{id:"dateOfBirth",type:"date",max:m,...h("dateOfBirth"),className:"border-gray-200 focus:border-blue-400 focus:ring-2 focus:ring-blue-100 bg-white shadow-sm hover:border-gray-300 transition-colors","data-testid":"input-date-of-birth"}),v.dateOfBirth&&e.jsx("p",{className:"text-xs text-red-600",children:v.dateOfBirth.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ue,{htmlFor:"email",className:"text-blue-800 font-semibold flex items-center",children:[e.jsx(jt,{className:"w-4 h-4 mr-1"}),"Email Address *"]}),e.jsx(Y,{id:"email",type:"email",...h("email"),className:"border-gray-200 focus:border-blue-400 focus:ring-2 focus:ring-blue-100 bg-white shadow-sm hover:border-gray-300 transition-colors","data-testid":"input-email"}),v.email&&e.jsx("p",{className:"text-xs text-red-600",children:v.email.message})]})]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-lg border border-blue-300 mt-4",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[e.jsx(jt,{className:"w-3 h-3 inline mr-1"}),"A welcome email will be sent to verify their email address and set up their password"]})})]}),n===2&&e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-500 flex items-center justify-center",children:e.jsx(Ay,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Professional Details"}),e.jsx("p",{className:"text-sm text-purple-700",children:"Member type and qualifications"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ue,{htmlFor:"memberType",className:"text-purple-800 font-semibold flex items-center",children:[e.jsx(ds,{className:"w-4 h-4 mr-1"}),"Member Type *"]}),e.jsxs(Ie,{onValueChange:E=>x("memberType",E),value:j,children:[e.jsx(De,{className:"border-gray-200 focus:border-blue-400 focus:ring-2 focus:ring-blue-100 bg-white shadow-sm hover:border-gray-300 transition-colors","data-testid":"select-member-type",children:e.jsx(Fe,{placeholder:"Select member type"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"real_estate_agent",children:"Real Estate Agent"}),e.jsx(D,{value:"property_manager",children:"Property Manager"}),e.jsx(D,{value:"principal_real_estate_agent",children:"Principal Real Estate Agent (PREA)"}),e.jsx(D,{value:"real_estate_negotiator",children:"Real Estate Negotiator"})]})]}),v.memberType&&e.jsx("p",{className:"text-xs text-red-600",children:v.memberType.message})]}),F&&e.jsx("div",{className:"bg-purple-100 p-4 rounded-lg border border-purple-300",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ds,{className:"w-5 h-5 text-purple-700 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-purple-900",children:"Principal Agent (PREA) Account"}),e.jsxs("p",{className:"text-xs text-purple-700 mt-1",children:["This member will receive ",e.jsx("strong",{children:"dual portal access"}),":"]}),e.jsxs("ul",{className:"text-xs text-purple-700 mt-2 space-y-1 ml-4",children:[e.jsx("li",{children:"• Personal Member Portal"}),e.jsx("li",{children:"• Organization Management Portal"})]})]})]})}),e.jsxs("div",{className:"space-y-3 mt-4",children:[e.jsx(ue,{className:"text-gray-700 font-medium",children:"Education/Entry Type *"}),e.jsxs(Ro,{onValueChange:E=>x("educationLevel",E),value:N,className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 border-2 border-purple-200 rounded-lg bg-white/80 hover:border-purple-400 transition-colors",children:[e.jsx(Cn,{value:"normal_entry",id:"normal-entry"}),e.jsxs(ue,{htmlFor:"normal-entry",className:"flex-1 cursor-pointer",children:[e.jsx("div",{className:"font-medium text-purple-900",children:"Normal Entry"}),e.jsx("div",{className:"text-xs text-purple-600",children:"5 O'levels and 2 A'levels (or equivalent qualifications)"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 border-2 border-purple-200 rounded-lg bg-white/80 hover:border-purple-400 transition-colors",children:[e.jsx(Cn,{value:"mature_entry",id:"mature-entry"}),e.jsxs(ue,{htmlFor:"mature-entry",className:"flex-1 cursor-pointer",children:[e.jsx("div",{className:"font-medium text-purple-900",children:"Mature Entry"}),e.jsx("div",{className:"text-xs text-purple-600",children:"Age 27+ with 5 O'levels (or equivalent experience)"})]})]})]}),v.educationLevel&&e.jsx("p",{className:"text-xs text-red-600",children:v.educationLevel.message})]})]}),n===3&&e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500 flex items-center justify-center",children:e.jsx(JT,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-emerald-900",children:"Residence & Employment"}),e.jsx("p",{className:"text-sm text-emerald-700",children:"Location and work details"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"countryOfResidence",className:"text-gray-700 font-medium",children:"Country of Residence *"}),e.jsxs(Ie,{onValueChange:E=>x("countryOfResidence",E),value:b("countryOfResidence"),children:[e.jsx(De,{className:"border-gray-200 focus:border-blue-400 focus:ring-2 focus:ring-blue-100 bg-white shadow-sm hover:border-gray-300 transition-colors",children:e.jsx(Fe,{placeholder:"Select country"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"Zimbabwe",children:"Zimbabwe"}),e.jsx(D,{value:"South Africa",children:"South Africa"}),e.jsx(D,{value:"Botswana",children:"Botswana"}),e.jsx(D,{value:"Namibia",children:"Namibia"}),e.jsx(D,{value:"Zambia",children:"Zambia"}),e.jsx(D,{value:"United Kingdom",children:"United Kingdom"}),e.jsx(D,{value:"United States",children:"United States"}),e.jsx(D,{value:"Australia",children:"Australia"}),e.jsx(D,{value:"Canada",children:"Canada"})]})]}),v.countryOfResidence&&e.jsx("p",{className:"text-xs text-red-600",children:v.countryOfResidence.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"nationality",className:"text-gray-700 font-medium",children:"Nationality *"}),e.jsxs(Ie,{onValueChange:E=>x("nationality",E),value:b("nationality"),children:[e.jsx(De,{className:"border-gray-200 focus:border-blue-400 focus:ring-2 focus:ring-blue-100 bg-white shadow-sm hover:border-gray-300 transition-colors",children:e.jsx(Fe,{placeholder:"Select nationality"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"Zimbabwean",children:"Zimbabwean"}),e.jsx(D,{value:"South African",children:"South African"}),e.jsx(D,{value:"British",children:"British"}),e.jsx(D,{value:"American",children:"American"}),e.jsx(D,{value:"Australian",children:"Australian"}),e.jsx(D,{value:"Canadian",children:"Canadian"})]})]}),v.nationality&&e.jsx("p",{className:"text-xs text-red-600",children:v.nationality.message})]})]}),e.jsxs("div",{className:"space-y-3 mt-4",children:[e.jsxs(ue,{className:"text-emerald-800 font-semibold flex items-center",children:[e.jsx(qe,{className:"w-4 h-4 mr-1"}),"Employment Status *"]}),e.jsxs(Ro,{onValueChange:E=>x("employmentStatus",E),value:w,className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 border-2 border-emerald-200 rounded-lg bg-white/80 hover:border-emerald-400 transition-colors",children:[e.jsx(Cn,{value:"self_employed",id:"self-employed"}),e.jsx(ue,{htmlFor:"self-employed",className:"flex-1 cursor-pointer",children:e.jsx("div",{className:"font-medium text-emerald-900",children:"Self-Employed"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 border-2 border-emerald-200 rounded-lg bg-white/80 hover:border-emerald-400 transition-colors",children:[e.jsx(Cn,{value:"employed",id:"employed"}),e.jsx(ue,{htmlFor:"employed",className:"flex-1 cursor-pointer",children:e.jsx("div",{className:"font-medium text-emerald-900",children:"Employed"})})]})]}),v.employmentStatus&&e.jsx("p",{className:"text-xs text-red-600",children:v.employmentStatus.message})]}),w==="employed"&&e.jsxs("div",{className:"space-y-2 mt-4",children:[e.jsx(ue,{htmlFor:"organizationName",className:"text-gray-700 font-medium",children:"Organization/Firm Name *"}),e.jsx(Y,{id:"organizationName",...h("organizationName"),placeholder:"Enter organization or firm name",className:"border-gray-200 focus:border-blue-400 focus:ring-2 focus:ring-blue-100 bg-white shadow-sm hover:border-gray-300 transition-colors","data-testid":"input-organization-name"}),v.organizationName&&e.jsx("p",{className:"text-xs text-red-600",children:v.organizationName.message})]})]}),n===4&&e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500 flex items-center justify-center",children:e.jsx(le,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:"Review & Confirm"}),e.jsx("p",{className:"text-sm text-amber-700",children:"Please verify all information before submitting"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-amber-200",children:[e.jsx("h4",{className:"font-semibold text-amber-900 mb-3",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Name:"})," ",b("firstName")," ",b("surname")]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",b("email")]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Date of Birth:"})," ",b("dateOfBirth")]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-amber-200",children:[e.jsx("h4",{className:"font-semibold text-amber-900 mb-3",children:"Professional Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Type:"})," ",(B=b("memberType"))==null?void 0:B.replace(/_/g," ")]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Education:"})," ",(U=b("educationLevel"))==null?void 0:U.replace(/_/g," ")]})]}),F&&e.jsx("div",{className:"mt-3 p-2 bg-purple-100 rounded border border-purple-200",children:e.jsx("p",{className:"text-xs text-purple-800 font-semibold",children:"✓ PREA Account with dual portal access"})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-amber-200",children:[e.jsx("h4",{className:"font-semibold text-amber-900 mb-3",children:"Residence & Employment"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Country:"})," ",b("countryOfResidence")]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Nationality:"})," ",b("nationality")]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",(W=b("employmentStatus"))==null?void 0:W.replace(/_/g," ")]}),b("organizationName")&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Organization:"})," ",b("organizationName")]})]})]})]}),e.jsxs("div",{className:"bg-amber-100 p-4 rounded-lg border border-amber-300 mt-4",children:[e.jsx("p",{className:"text-sm text-amber-900 font-semibold mb-2",children:"What happens next:"}),e.jsxs("ul",{className:"text-xs text-amber-800 space-y-1",children:[e.jsx("li",{children:"✓ Member account will be created in Clerk"}),e.jsx("li",{children:"✓ User account will be generated automatically"}),e.jsx("li",{children:"✓ Welcome email sent with verification link"}),e.jsx("li",{children:"✓ Member can set password and complete profile"}),F&&e.jsxs("li",{children:["✓ ",e.jsx("strong",{children:"Dual portal access enabled"})," (Member + Organization)"]})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[n>1&&e.jsxs(P,{type:"button",variant:"outline",onClick:z,"data-testid":"button-prev",children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Previous"]}),n<_?e.jsxs(P,{type:"button",onClick:A,className:"ml-auto gradient-button text-white border-0","data-testid":"button-next",children:["Next",e.jsx(Io,{className:"w-4 h-4 ml-2"})]}):e.jsx(P,{type:"submit",disabled:S.isPending,className:"ml-auto gradient-button text-white border-0","data-testid":"button-submit",children:S.isPending?"Creating Member...":e.jsxs(e.Fragment,{children:[e.jsx(No,{className:"w-4 h-4 mr-2"}),"Create Member"]})})]})]})]})}),e.jsx(Lt,{open:i,onOpenChange:l,title:"Member Created Successfully",subtitle:"The member account has been created and welcome email sent",icon:le,colorVariant:"green",maxWidth:"xl",children:e.jsxs("div",{className:"space-y-4",children:[o&&e.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-green-900",children:"Name:"}),e.jsxs("span",{className:"text-green-800",children:[o.firstName," ",o.surname]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-green-900",children:"Email:"}),e.jsx("span",{className:"text-green-800",children:o.email})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-green-900",children:"Member ID:"}),e.jsx("span",{className:"text-green-800 font-mono",children:o.membershipNumber})]}),o.memberType==="principal_real_estate_agent"&&e.jsx("div",{className:"mt-3 pt-3 border-t border-green-300",children:e.jsxs("div",{className:"flex items-center space-x-2 text-purple-700",children:[e.jsx(ds,{className:"w-4 h-4"}),e.jsx("span",{className:"font-semibold",children:"PREA Account Type - Dual Portal Access"})]})})]})}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsxs("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center",children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Welcome Email Sent"]}),e.jsx("p",{className:"text-sm text-blue-800",children:"The member will receive an email to:"}),e.jsxs("ul",{className:"text-sm text-blue-800 mt-2 space-y-1 ml-4",children:[e.jsx("li",{children:"• Verify their email address"}),e.jsx("li",{children:"• Set up their password"}),e.jsx("li",{children:"• Complete their profile"}),e.jsx("li",{children:"• Access their member portal"})]})]}),e.jsx(P,{onClick:()=>l(!1),className:"w-full gradient-button text-white border-0","data-testid":"button-close-success",children:"Close"})]})})]})}function zv({open:t,onOpenChange:s,type:r,onSuccess:n}){const[a,i]=p.useState(null),[l,o]=p.useState(null),[c,d]=p.useState(!1),[u,m]=p.useState(0),h=p.useRef(null),{toast:f}=tt(),b=$e({mutationFn:async j=>{const w=new FormData;return w.append("file",j),w.append("type",r),await(await Be("POST","/api/admin/bulk-import",w)).json()},onSuccess:j=>{o(j),n&&n(),st.invalidateQueries({queryKey:[`/api/admin/${r}`]}),f({title:"Import Completed",description:`Successfully imported ${j.success} out of ${j.total} records.`})},onError:j=>{f({title:"Import Failed",description:j.message||"Failed to import data. Please check your file format.",variant:"destructive"})}}),x=j=>{var N;const w=(N=j.target.files)==null?void 0:N[0];if(w){if(w.type!=="text/csv"&&!w.name.endsWith(".csv")){f({title:"Invalid File Type",description:"Please select a CSV file.",variant:"destructive"});return}i(w),o(null)}},v=()=>{if(!a)return;d(!0),m(0);const j=setInterval(()=>{m(w=>w>=90?(clearInterval(j),w):w+10)},300);b.mutate(a,{onSettled:()=>{d(!1),m(100),clearInterval(j)}})},g=()=>{let j="",w="";r==="members"?(j=["firstName,lastName,email,phone,memberType,nationalId,address","John,Doe,john.doe@email.com,+263123456789,real_estate_agent,12-123456A12,123 Main St Harare","Jane,Smith,jane.smith@email.com,+263987654321,property_manager,12-654321B21,456 Oak Ave Bulawayo"].join(`
`),w="members_template.csv"):(j=["name,email,phone,type,registrationNumber,address","ABC Real Estate,contact@abcrealestate.co.zw,+263123456789,real_estate_firm,REF-2024-001,123 Business Park Harare","XYZ Properties,info@xyzproperties.co.zw,+263987654321,property_management_firm,PMF-2024-002,456 Commercial St Bulawayo"].join(`
`),w="organizations_template.csv");const N=new Blob([j],{type:"text/csv"}),_=URL.createObjectURL(N),k=document.createElement("a");k.href=_,k.download=w,k.click(),URL.revokeObjectURL(_)},y=()=>{i(null),o(null),m(0),h.current&&(h.current.value="")};return e.jsx(Lt,{open:t,onOpenChange:s,title:`Bulk Import ${r==="members"?"Members":"Organizations"}`,subtitle:`Import multiple ${r} from CSV file`,icon:r==="members"?at:qe,colorVariant:"indigo",maxWidth:"4xl",footer:{secondary:{label:"Cancel",onClick:()=>s(!1),disabled:c},primary:a&&!l?{label:c?"Processing...":"Start Import",onClick:v,disabled:!a||c,loading:c}:l?{label:"Import More",onClick:y}:void 0},children:e.jsx("div",{className:"space-y-6",children:e.jsxs(Zt,{defaultValue:"upload",className:"w-full",children:[e.jsxs(Ht,{className:"grid w-full grid-cols-3",children:[e.jsxs(Ae,{value:"upload",className:"flex items-center gap-2",children:[e.jsx(hr,{className:"w-4 h-4"}),"Upload"]}),e.jsxs(Ae,{value:"template",className:"flex items-center gap-2",children:[e.jsx(Wt,{className:"w-4 h-4"}),"Template"]}),e.jsxs(Ae,{value:"results",className:"flex items-center gap-2",disabled:!l,children:[e.jsx(Le,{className:"w-4 h-4"}),"Results"]})]}),e.jsxs(Oe,{value:"upload",className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 p-6 rounded-xl border border-indigo-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-indigo-800 mb-4 flex items-center",children:[e.jsx(hr,{className:"w-5 h-5 mr-2"}),"Upload CSV File"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-indigo-300 rounded-lg p-8 text-center hover:border-indigo-400 transition-colors",children:[e.jsx(hr,{className:"w-12 h-12 text-indigo-400 mx-auto mb-4"}),e.jsxs(ue,{htmlFor:"file-upload",className:"cursor-pointer",children:[e.jsx("div",{className:"text-lg font-medium text-indigo-700 mb-2",children:a?a.name:"Choose CSV file"}),e.jsx("div",{className:"text-sm text-indigo-600",children:"Click to browse or drag and drop your CSV file here"})]}),e.jsx(Y,{ref:h,id:"file-upload",type:"file",accept:".csv",onChange:x,className:"hidden"})]}),a&&e.jsx("div",{className:"bg-white/60 p-4 rounded-lg border border-indigo-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Le,{className:"w-5 h-5 text-indigo-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-indigo-800",children:a.name}),e.jsxs("div",{className:"text-sm text-indigo-600",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx(P,{variant:"ghost",size:"sm",onClick:y,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(Oa,{className:"w-4 h-4"})})]})}),c&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-indigo-700 font-medium",children:"Processing import..."}),e.jsxs("span",{className:"text-indigo-600",children:[u,"%"]})]}),e.jsx(Ci,{value:u,className:"h-2"})]})]})]}),e.jsxs(jl,{children:[e.jsx(Je,{className:"h-4 w-4"}),e.jsxs(wl,{children:[e.jsx("strong",{children:"Important:"})," Make sure your CSV file follows the exact format shown in the template. Invalid formats may result in import errors."]})]})]}),e.jsx(Oe,{value:"template",className:"space-y-6",children:e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-6 rounded-xl border border-green-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center",children:[e.jsx(Wt,{className:"w-5 h-5 mr-2"}),"Download Template"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-green-700",children:["Download the CSV template with the correct format for importing ",r,". The template includes sample data to help you understand the required structure."]}),e.jsxs(P,{onClick:g,className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white",children:[e.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Download ",r==="members"?"Members":"Organizations"," Template"]}),e.jsxs("div",{className:"bg-white/60 p-4 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Required Fields:"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:r==="members"?e.jsxs(e.Fragment,{children:[e.jsx(oe,{variant:"outline",className:"text-green-700 border-green-300",children:"firstName"}),e.jsx(oe,{variant:"outline",className:"text-green-700 border-green-300",children:"lastName"}),e.jsx(oe,{variant:"outline",className:"text-green-700 border-green-300",children:"email"}),e.jsx(oe,{variant:"outline",className:"text-green-700 border-green-300",children:"phone"}),e.jsx(oe,{variant:"outline",className:"text-green-700 border-green-300",children:"memberType"}),e.jsx(oe,{variant:"outline",className:"text-green-700 border-green-300",children:"nationalId"})]}):e.jsxs(e.Fragment,{children:[e.jsx(oe,{variant:"outline",className:"text-green-700 border-green-300",children:"name"}),e.jsx(oe,{variant:"outline",className:"text-green-700 border-green-300",children:"email"}),e.jsx(oe,{variant:"outline",className:"text-green-700 border-green-300",children:"phone"}),e.jsx(oe,{variant:"outline",className:"text-green-700 border-green-300",children:"type"}),e.jsx(oe,{variant:"outline",className:"text-green-700 border-green-300",children:"registrationNumber"}),e.jsx(oe,{variant:"outline",className:"text-green-700 border-green-300",children:"address"})]})})]})]})]})}),e.jsx(Oe,{value:"results",className:"space-y-6",children:l&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-xl border border-green-200 text-center",children:[e.jsx(le,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-green-800",children:l.success}),e.jsx("div",{className:"text-sm text-green-600",children:"Successful"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 p-4 rounded-xl border border-red-200 text-center",children:[e.jsx(Xt,{className:"w-8 h-8 text-red-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-red-800",children:l.failed}),e.jsx("div",{className:"text-sm text-red-600",children:"Failed"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 p-4 rounded-xl border border-blue-200 text-center",children:[e.jsx(Le,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-blue-800",children:l.total}),e.jsx("div",{className:"text-sm text-blue-600",children:"Total"})]})]}),l.errors.length>0&&e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 p-4 rounded-xl border border-orange-200",children:[e.jsxs("h4",{className:"font-semibold text-orange-800 mb-3 flex items-center",children:[e.jsx(Je,{className:"w-5 h-5 mr-2"}),"Import Errors (",l.errors.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:l.errors.map((j,w)=>e.jsx("div",{className:"bg-white/60 p-3 rounded-lg border border-orange-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-orange-800",children:["Row ",j.row]}),e.jsx("div",{className:"text-sm text-orange-700",children:j.error})]}),e.jsx(P,{variant:"ghost",size:"sm",className:"text-orange-600 hover:text-orange-700",children:e.jsx(us,{className:"w-4 h-4"})})]})},w))})]})]})})]})})})}function Uv({open:t,onOpenChange:s,onSuccess:r,type:n}){const[a,i]=p.useState("all"),{toast:l}=tt(),o=d=>{l({title:"Application Reviewed",description:`Application has been ${d}.`}),r&&r()},c=[{id:1,name:"John Smith",type:"Individual",status:"initial_review",priority:"high"},{id:2,name:"ABC Real Estate",type:"Organization",status:"document_verification",priority:"medium"},{id:3,name:"Jane Doe",type:"Individual",status:"committee_review",priority:"low"},{id:4,name:"XYZ Properties",type:"Organization",status:"initial_review",priority:"medium"}].filter(d=>!n||n==="individual"&&d.type==="Individual"||n==="organization"&&d.type==="Organization");return e.jsx(Lt,{open:t,onOpenChange:s,title:"Review Applications",subtitle:`Process pending ${n==="organization"?"organization":n==="individual"?"individual":"membership"} applications`,icon:Le,colorVariant:"green",maxWidth:"5xl",footer:{secondary:{label:"Close",onClick:()=>s(!1)}},children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-6 rounded-xl border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-green-800",children:["Pending Applications (",c.length,")"]}),e.jsxs(Ie,{value:a,onValueChange:i,children:[e.jsx(De,{className:"w-48",children:e.jsx(Fe,{placeholder:"Filter by status"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"all",children:"All Applications"}),e.jsx(D,{value:"initial_review",children:"Initial Review"}),e.jsx(D,{value:"document_verification",children:"Document Review"}),e.jsx(D,{value:"background_check",children:"Background Check"}),e.jsx(D,{value:"committee_review",children:"Committee Review"})]})]})]}),e.jsx("div",{className:"space-y-4",children:c.map(d=>e.jsx("div",{className:"bg-white/80 p-4 rounded-lg border border-green-200 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${d.type==="Individual"?"bg-blue-100 text-blue-600":"bg-purple-100 text-purple-600"}`,children:d.type==="Individual"?e.jsx(at,{className:"w-6 h-6"}):e.jsx(qe,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-green-800",children:d.name}),e.jsxs("div",{className:"text-sm text-green-600",children:[d.type," Application"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(oe,{variant:d.priority==="high"?"destructive":d.priority==="medium"?"default":"secondary",children:[d.priority," priority"]}),e.jsx(oe,{variant:"outline",className:"text-green-700 border-green-300",children:d.status.replace(/_/g," ")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(P,{size:"sm",onClick:()=>o("approved"),className:"bg-green-500 hover:bg-green-600 text-white",children:"Approve"}),e.jsx(P,{size:"sm",variant:"outline",onClick:()=>o("rejected"),children:"Reject"}),e.jsx(P,{size:"sm",variant:"ghost",children:"View Details"})]})]})]})},d.id))})]})})})}function $v({open:t,onOpenChange:s,type:r}){const[n,a]=p.useState("csv"),[i,l]=p.useState("all"),{toast:o}=tt(),c=()=>{o({title:"Export Started",description:`Exporting ${r} data in ${n.toUpperCase()} format...`}),s(!1)};return e.jsx(Lt,{open:t,onOpenChange:s,title:`Export ${r==="members"?"Members":"Organizations"}`,subtitle:"Download data in various formats",icon:Wt,colorVariant:"purple",maxWidth:"2xl",footer:{secondary:{label:"Cancel",onClick:()=>s(!1)},primary:{label:"Export Data",onClick:c}},children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 p-6 rounded-xl border border-purple-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-800 mb-4",children:"Export Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-purple-700 font-medium",children:"Export Format"}),e.jsxs(Ie,{value:n,onValueChange:a,children:[e.jsx(De,{className:"mt-2",children:e.jsx(Fe,{})}),e.jsxs(Me,{children:[e.jsx(D,{value:"csv",children:"CSV (Comma Separated)"}),e.jsx(D,{value:"xlsx",children:"Excel (XLSX)"}),e.jsx(D,{value:"pdf",children:"PDF Report"}),e.jsx(D,{value:"json",children:"JSON Data"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-purple-700 font-medium",children:"Date Range"}),e.jsxs(Ie,{value:i,onValueChange:l,children:[e.jsx(De,{className:"mt-2",children:e.jsx(Fe,{})}),e.jsxs(Me,{children:[e.jsx(D,{value:"all",children:"All Records"}),e.jsx(D,{value:"last_month",children:"Last Month"}),e.jsx(D,{value:"last_quarter",children:"Last Quarter"}),e.jsx(D,{value:"last_year",children:"Last Year"}),e.jsx(D,{value:"custom",children:"Custom Range"})]})]})]}),e.jsxs("div",{className:"bg-white/60 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-purple-800 mb-2",children:"Included Fields:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(r==="members"?["Name","Email","Phone","Member Type","Status","Join Date","CPD Points"]:["Organization Name","Email","Phone","Type","Registration","Status","Members Count"]).map(d=>e.jsx(oe,{variant:"outline",className:"text-purple-700 border-purple-300",children:d},d))})]})]})]})})})}function Vv({open:t,onOpenChange:s,onSuccess:r}){const[n,a]=p.useState("email"),[i,l]=p.useState("all"),[o,c]=p.useState(""),[d,u]=p.useState(""),{toast:m}=tt(),h=()=>{if(!o||!d){m({title:"Missing Information",description:"Please fill in both subject and message.",variant:"destructive"});return}m({title:"Notifications Sent",description:`${n} notifications sent to ${i} recipients.`}),r&&r(),s(!1)};return e.jsx(Lt,{open:t,onOpenChange:s,title:"Send Notifications",subtitle:"Send bulk notifications to members",icon:jt,colorVariant:"cyan",maxWidth:"3xl",footer:{secondary:{label:"Cancel",onClick:()=>s(!1)},primary:{label:"Send Notifications",onClick:h}},children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 p-6 rounded-xl border border-cyan-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-800 mb-4",children:"Notification Settings"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-cyan-700 font-medium",children:"Notification Type"}),e.jsxs(Ie,{value:n,onValueChange:a,children:[e.jsx(De,{className:"mt-2",children:e.jsx(Fe,{})}),e.jsxs(Me,{children:[e.jsx(D,{value:"email",children:"Email"}),e.jsx(D,{value:"sms",children:"SMS"}),e.jsx(D,{value:"both",children:"Email + SMS"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-cyan-700 font-medium",children:"Recipients"}),e.jsxs(Ie,{value:i,onValueChange:l,children:[e.jsx(De,{className:"mt-2",children:e.jsx(Fe,{})}),e.jsxs(Me,{children:[e.jsx(D,{value:"all",children:"All Members"}),e.jsx(D,{value:"active",children:"Active Members Only"}),e.jsx(D,{value:"organizations",children:"Organizations Only"}),e.jsx(D,{value:"individuals",children:"Individual Members Only"}),e.jsx(D,{value:"custom",children:"Custom Selection"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-cyan-700 font-medium",children:"Subject"}),e.jsx(Y,{value:o,onChange:f=>c(f.target.value),placeholder:"Enter notification subject...",className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-cyan-700 font-medium",children:"Message"}),e.jsx(kt,{value:d,onChange:f=>u(f.target.value),placeholder:"Enter your message here...",className:"mt-2 min-h-32"})]}),e.jsx("div",{className:"bg-white/60 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-cyan-700 font-medium",children:"Estimated Recipients:"}),e.jsxs(oe,{className:"bg-cyan-100 text-cyan-800",children:[i==="all"?"2,485":i==="active"?"2,234":i==="organizations"?"156":"2,329"," recipients"]})]})})]})]})})})}function Bv({open:t,onOpenChange:s,onSuccess:r}){const[n,a]=p.useState("upcoming"),{toast:i}=tt(),l=(o,c)=>{i({title:"Renewal Processed",description:`Renewal has been ${o} for member ${c}.`}),r&&r()};return e.jsx(Lt,{open:t,onOpenChange:s,title:"Manage Renewals",subtitle:"Process membership renewals and renewals",icon:ws,colorVariant:"orange",maxWidth:"5xl",footer:{secondary:{label:"Close",onClick:()=>s(!1)}},children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-yellow-50 p-6 rounded-xl border border-orange-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-800",children:"Membership Renewals"}),e.jsxs(Ie,{value:n,onValueChange:a,children:[e.jsx(De,{className:"w-48",children:e.jsx(Fe,{})}),e.jsxs(Me,{children:[e.jsx(D,{value:"upcoming",children:"Upcoming Renewals"}),e.jsx(D,{value:"overdue",children:"Overdue Renewals"}),e.jsx(D,{value:"completed",children:"Recently Completed"}),e.jsx(D,{value:"pending_payment",children:"Pending Payment"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white/80 p-4 rounded-lg text-center border border-orange-200",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-800",children:"234"}),e.jsx("div",{className:"text-sm text-orange-600",children:"Due This Month"})]}),e.jsxs("div",{className:"bg-white/80 p-4 rounded-lg text-center border border-red-200",children:[e.jsx("div",{className:"text-2xl font-bold text-red-800",children:"45"}),e.jsx("div",{className:"text-sm text-red-600",children:"Overdue"})]}),e.jsxs("div",{className:"bg-white/80 p-4 rounded-lg text-center border border-green-200",children:[e.jsx("div",{className:"text-2xl font-bold text-green-800",children:"189"}),e.jsx("div",{className:"text-sm text-green-600",children:"Completed"})]}),e.jsxs("div",{className:"bg-white/80 p-4 rounded-lg text-center border border-blue-200",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-800",children:"67"}),e.jsx("div",{className:"text-sm text-blue-600",children:"Pending Payment"})]})]}),e.jsx("div",{className:"space-y-3",children:[{id:"MBR-001",name:"John Smith",dueDate:"2024-01-15",status:"due_soon",amount:"$150"},{id:"MBR-002",name:"Jane Doe",dueDate:"2024-01-10",status:"overdue",amount:"$150"},{id:"MBR-003",name:"ABC Real Estate",dueDate:"2024-01-20",status:"pending_payment",amount:"$500"}].map(o=>e.jsx("div",{className:"bg-white/80 p-4 rounded-lg border border-orange-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx(ws,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-orange-800",children:o.name}),e.jsxs("div",{className:"text-sm text-orange-600",children:[o.id," • Due: ",o.dueDate]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(oe,{className:"bg-orange-100 text-orange-800",children:o.amount}),e.jsx(oe,{variant:o.status==="overdue"?"destructive":"outline",children:o.status.replace(/_/g," ")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(P,{size:"sm",onClick:()=>l("processed",o.id),children:"Process"}),e.jsx(P,{size:"sm",variant:"outline",children:"Send Reminder"})]})]})]})},o.id))})]})})})}function Xie({open:t,onOpenChange:s,onSuccess:r}){const[n,a]=p.useState("all"),{toast:i}=tt(),l=o=>{i({title:"Compliance Action",description:`${o} compliance check initiated.`}),r&&r()};return e.jsx(Lt,{open:t,onOpenChange:s,title:"Compliance Monitoring",subtitle:"Monitor and enforce regulatory compliance",icon:Je,colorVariant:"red",maxWidth:"4xl",footer:{secondary:{label:"Close",onClick:()=>s(!1)},primary:{label:"Generate Report",onClick:()=>l("Report generated")}},children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-orange-50 p-6 rounded-xl border border-red-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-4",children:"Compliance Overview"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white/80 p-4 rounded-lg text-center border border-green-200",children:[e.jsx("div",{className:"text-2xl font-bold text-green-800",children:"2,156"}),e.jsx("div",{className:"text-sm text-green-600",children:"Compliant"})]}),e.jsxs("div",{className:"bg-white/80 p-4 rounded-lg text-center border border-yellow-200",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-800",children:"89"}),e.jsx("div",{className:"text-sm text-yellow-600",children:"Warning"})]}),e.jsxs("div",{className:"bg-white/80 p-4 rounded-lg text-center border border-red-200",children:[e.jsx("div",{className:"text-2xl font-bold text-red-800",children:"12"}),e.jsx("div",{className:"text-sm text-red-600",children:"Non-Compliant"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-red-700 font-medium",children:"Compliance Check Type"}),e.jsxs(Ie,{value:n,onValueChange:a,children:[e.jsx(De,{className:"mt-2",children:e.jsx(Fe,{})}),e.jsxs(Me,{children:[e.jsx(D,{value:"all",children:"All Compliance Areas"}),e.jsx(D,{value:"cpd",children:"CPD Requirements"}),e.jsx(D,{value:"licensing",children:"License Validity"}),e.jsx(D,{value:"insurance",children:"Insurance Coverage"}),e.jsx(D,{value:"trust_accounts",children:"Trust Account Compliance"})]})]})]}),e.jsx("div",{className:"space-y-3",children:[{type:"CPD Shortfall",member:"John Smith",severity:"high",description:"Missing 8 CPD points for 2024"},{type:"License Expiry",member:"ABC Real Estate",severity:"medium",description:"License expires in 30 days"},{type:"Insurance Gap",member:"Jane Doe",severity:"high",description:"Professional indemnity insurance expired"}].map((o,c)=>e.jsx("div",{className:"bg-white/80 p-4 rounded-lg border border-red-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-red-800",children:o.type}),e.jsxs("div",{className:"text-sm text-red-600",children:[o.member," • ",o.description]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(oe,{variant:o.severity==="high"?"destructive":"secondary",children:[o.severity," priority"]}),e.jsx(P,{size:"sm",onClick:()=>l("Investigation started"),children:"Investigate"})]})]})},c))})]})]})})})}function YS(){var Ke,ot;const[t,s]=p.useState(""),[r,n]=p.useState("all"),[a,i]=p.useState("all"),[l,o]=p.useState(null),[c,d]=p.useState(!1),[u,m]=p.useState(!1),[h,f]=p.useState(!1),[b,x]=p.useState(!1),[v,g]=p.useState(!1),[y,j]=p.useState(!1),[w,N]=p.useState(!1),[_,k]=p.useState(!1),[S,A]=p.useState(""),[,z]=Xe(),{toast:re}=tt(),{user:F,isLoading:B}=St();if(!B&&!F)return z("/auth"),null;if(B)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:"Loading..."})});const{data:U=[],isLoading:W,refetch:E}=Ge({queryKey:["/api/admin/members"]}),{data:M=[]}=Ge({queryKey:["/api/organizations"]}),q=$e({mutationFn:({id:ce,updates:Ze})=>Be("PUT",`/api/members/${ce}`,Ze),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/admin/members"]}),re({title:"Success",description:"Member updated successfully."}),o(null)},onError:()=>{re({title:"Error",description:"Failed to update member.",variant:"destructive"})}}),R=$e({mutationFn:({memberId:ce,organizationId:Ze})=>Be("PUT",`/api/admin/members/${ce}/assign-organization`,{organizationId:Ze}),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/admin/members"]}),re({title:"Success",description:S?"Member assigned to organization successfully.":"Member removed from organization."}),k(!1),A(""),d(!1),o(null)},onError:()=>{re({title:"Error",description:"Failed to assign organization.",variant:"destructive"})}}),ie=U.filter(ce=>{var he;const Ze=!t||`${ce.firstName} ${ce.lastName}`.toLowerCase().includes(t.toLowerCase())||((he=ce.membershipNumber)==null?void 0:he.toLowerCase().includes(t.toLowerCase()))||ce.email.toLowerCase().includes(t.toLowerCase()),rt=r==="all"||ce.membershipStatus===r,We=a==="all"||ce.memberType===a,ze=ce.membershipStatus==="active";return Ze&&rt&&We&&ze}),O=ce=>{switch(ce){case"active":return"bg-green-100 text-green-800";case"standby":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-blue-100 text-blue-800";case"expired":return"bg-red-100 text-red-800";case"revoked":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},te=ce=>{switch(ce){case"active":return e.jsx(le,{className:"w-4 h-4"});case"pending":return e.jsx(ft,{className:"w-4 h-4"});case"expired":case"revoked":return e.jsx(Xt,{className:"w-4 h-4"});default:return e.jsx(Je,{className:"w-4 h-4"})}},se=(ce,Ze)=>{q.mutate({id:ce,updates:{membershipStatus:Ze}})},Te=()=>{const ce=[["Name","Membership Number","Email","Type","Status","Organization","Join Date"].join(","),...ie.map(ze=>{var he;return[`"${ze.firstName} ${ze.lastName}"`,ze.membershipNumber||"",ze.email,ze.memberType.replace(/_/g," "),ze.membershipStatus||"",((he=ze.organization)==null?void 0:he.name)||"",ze.createdAt?new Date(ze.createdAt).toLocaleDateString():""].join(",")})].join("\\n"),Ze=new Blob([ce],{type:"text/csv"}),rt=URL.createObjectURL(Ze),We=document.createElement("a");We.href=rt,We.download=`eacz-members-${new Date().toISOString().split("T")[0]}.csv`,We.click(),URL.revokeObjectURL(rt)};return e.jsxs(S6,{currentPage:"members",children:[e.jsxs("div",{className:"p-6",children:[e.jsx(Et,{items:[{label:"Admin Dashboard",href:"/admin-dashboard"},{label:"Member Management"}],className:"mb-6"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Member Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage all registered estate agents and professionals"})]}),e.jsx(zo,{title:"Quick Actions",description:"Streamline your member management workflow",actions:[{icon:Us,label:"Add Member",action:()=>m(!0),color:"text-blue-600",bg:"bg-blue-100",testId:"button-add-member"},{icon:at,label:"Bulk Import",action:()=>f(!0),color:"text-purple-600",bg:"bg-purple-100",testId:"button-bulk-import"},{icon:Le,label:"Review Apps",action:()=>z("/application-management"),color:"text-green-600",bg:"bg-green-100",testId:"button-review-applications"},{icon:Wt,label:"Export List",action:()=>g(!0),color:"text-violet-600",bg:"bg-violet-100",testId:"button-export-members"},{icon:ws,label:"Renewals",action:()=>N(!0),color:"text-orange-600",bg:"bg-orange-100",testId:"button-manage-renewals"},{icon:jt,label:"Notifications",action:()=>j(!0),color:"text-cyan-600",bg:"bg-cyan-100",testId:"button-send-notifications"}]}),e.jsx("div",{className:"mb-8"}),e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(P,{className:"gradient-button text-white border-0",onClick:()=>m(!0),"data-testid":"button-add-member-header",children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Add Member"]}),e.jsxs(P,{variant:"outline",onClick:Te,disabled:ie.length===0,children:[e.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Export"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(Y,{placeholder:"Search members...",value:t,onChange:ce=>s(ce.target.value),className:"pl-10 w-64","data-testid":"input-search-members"})]}),e.jsxs(Ie,{value:r,onValueChange:n,children:[e.jsx(De,{className:"w-32","data-testid":"select-status-filter",children:e.jsx(Fe,{placeholder:"Status"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"all",children:"All Status"}),e.jsx(D,{value:"active",children:"Active"}),e.jsx(D,{value:"standby",children:"Standby"}),e.jsx(D,{value:"pending",children:"Pending"}),e.jsx(D,{value:"expired",children:"Expired"}),e.jsx(D,{value:"revoked",children:"Revoked"})]})]}),e.jsxs(Ie,{value:a,onValueChange:i,children:[e.jsx(De,{className:"w-40","data-testid":"select-type-filter",children:e.jsx(Fe,{placeholder:"Type"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"all",children:"All Types"}),e.jsx(D,{value:"real_estate_agent",children:"Real Estate Agent"}),e.jsx(D,{value:"property_manager",children:"Property Manager"}),e.jsx(D,{value:"principal_real_estate_agent",children:"Principal Real Estate Agent"}),e.jsx(D,{value:"real_estate_negotiator",children:"Real Estate Negotiator"})]})]})]})]}),e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(at,{className:"w-5 h-5 mr-2"}),"Members (",ie.length,")"]})}),e.jsx(V,{children:W?e.jsx("div",{className:"text-center py-8",children:"Loading members..."}):ie.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Full Name"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Membership #"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Member Type"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Organization"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Date Joined"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Expiry Date"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:ie.map((ce,Ze)=>{var rt;return e.jsxs("tr",{className:`border-b cursor-pointer transition-colors ${Ze%2===0?"bg-white hover:bg-blue-50":"bg-blue-50/30 hover:bg-blue-100/40"}`,onClick:()=>{o(ce),d(!0)},children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[ce.firstName," ",ce.lastName]}),e.jsx("div",{className:"text-sm text-gray-500",children:ce.email})]})}),e.jsx("td",{className:"py-3 px-4 font-mono text-sm",children:ce.membershipNumber}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-sm capitalize",children:ce.memberType.replace(/_/g," ")})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(oe,{className:O(ce.membershipStatus||""),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[te(ce.membershipStatus||""),e.jsx("span",{children:ce.membershipStatus})]})})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-sm",children:((rt=ce.organization)==null?void 0:rt.name)||"Independent"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-sm",children:ce.createdAt?new Date(ce.createdAt).toLocaleDateString():"N/A"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-sm",children:ce.createdAt?(()=>{const We=new Date(ce.createdAt);return We.setFullYear(We.getFullYear()+1),We.toLocaleDateString()})():"N/A"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[ce.membershipStatus==="pending"&&e.jsxs(P,{size:"sm",variant:"outline",className:"h-8 px-3 text-green-600 border-green-200 hover:bg-green-50",onClick:We=>{We.stopPropagation(),se(ce.id,"active")},"data-testid":`button-approve-member-${ce.id}`,children:[e.jsx(xr,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs",children:"Approve"})]}),ce.membershipStatus==="active"&&e.jsxs(P,{size:"sm",variant:"outline",className:"h-8 px-3 text-red-600 border-red-200 hover:bg-red-50",onClick:We=>{We.stopPropagation(),se(ce.id,"revoked")},"data-testid":`button-revoke-member-${ce.id}`,children:[e.jsx(sR,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs",children:"Revoke"})]}),e.jsxs(P,{size:"sm",variant:"outline",className:"h-8 px-3 text-purple-600 border-purple-200 hover:bg-purple-50",onClick:We=>{We.stopPropagation(),re({title:"Member Management",description:`Managing member: ${ce.firstName} ${ce.lastName}`}),o(ce),d(!0)},"data-testid":`button-manage-member-${ce.id}`,children:[e.jsx(Tr,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs",children:"Manage"})]})]})})]},ce.id)})})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(at,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Members Found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:t||r!=="all"||a!=="all"?"Try adjusting your search criteria or filters.":"Get started by adding your first member."}),e.jsxs(P,{className:"gradient-button text-white border-0",onClick:()=>z("/member-registration"),children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Add First Member"]})]})})]})]}),e.jsx(zv,{open:h,onOpenChange:f,type:"members",onSuccess:E}),e.jsx(Uv,{open:b,onOpenChange:x,onSuccess:E}),e.jsx($v,{open:v,onOpenChange:g,type:"members"}),e.jsx(Vv,{open:y,onOpenChange:j,onSuccess:E}),e.jsx(Bv,{open:w,onOpenChange:N,onSuccess:E}),l&&e.jsx(Lt,{open:c,onOpenChange:d,title:`${l.firstName} ${l.lastName}`,subtitle:`Member ID: ${l.membershipNumber||"N/A"} • ${l.memberType.replace(/_/g," ")}`,icon:at,colorVariant:"blue",maxWidth:"3xl",footer:{secondary:{label:"Close",onClick:()=>{d(!1),o(null)},testId:"button-close-member-detail"},primary:{label:"Edit Profile",onClick:()=>{d(!1),o(null),z(`/member-registration?edit=${l.id}`)},testId:"button-edit-member-profile"}},children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-6 rounded-xl border border-emerald-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-emerald-800 mb-4 flex items-center",children:[e.jsx(ds,{className:"w-5 h-5 mr-2"}),"Member Status & Performance"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-emerald-700 mb-2 block",children:"Membership Status"}),e.jsxs(Ie,{value:l.membershipStatus||"",onValueChange:ce=>se(l.id,ce),children:[e.jsx(De,{className:"border-emerald-300 focus:border-emerald-500 bg-white/80",children:e.jsx(Fe,{})}),e.jsxs(Me,{children:[e.jsx(D,{value:"active",children:"Active"}),e.jsx(D,{value:"standby",children:"Standby"}),e.jsx(D,{value:"pending",children:"Pending"}),e.jsx(D,{value:"expired",children:"Expired"}),e.jsx(D,{value:"revoked",children:"Revoked"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-emerald-700 mb-2 block",children:"CPD Points Earned"}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-emerald-100 to-teal-100 border border-emerald-300 rounded-lg font-bold text-emerald-800",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{className:"w-4 h-4 mr-2 text-emerald-600"}),"0 points"]})})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-6 rounded-xl border border-blue-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[e.jsx(Rr,{className:"w-5 h-5 mr-2"}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-blue-700 mb-2 block",children:"Email Address"}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-100 to-cyan-100 border border-blue-300 rounded-lg text-blue-800 font-medium",children:l.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-blue-700 mb-2 block",children:"Phone Number"}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-100 to-cyan-100 border border-blue-300 rounded-lg text-blue-800 font-medium",children:l.phone||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-blue-700 mb-2 block",children:"National ID"}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-100 to-cyan-100 border border-blue-300 rounded-lg text-blue-800 font-medium",children:l.nationalId||"Not provided"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-xl border border-purple-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-purple-800 mb-4 flex items-center",children:[e.jsx(qe,{className:"w-5 h-5 mr-2"}),"Professional Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-purple-700 mb-2 block",children:"Member Type"}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-100 to-pink-100 border border-purple-300 rounded-lg text-purple-800 font-medium capitalize",children:l.memberType.replace(/_/g," ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-purple-700 mb-2 block",children:"Organization"}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-100 to-pink-100 border border-purple-300 rounded-lg text-purple-800 font-medium",children:((Ke=l.organization)==null?void 0:Ke.name)||"Independent Practitioner"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"text-sm font-semibold text-purple-700 mb-2 block",children:"Join Date"}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-100 to-pink-100 border border-purple-300 rounded-lg text-purple-800 font-medium",children:l.createdAt?new Date(l.createdAt).toLocaleDateString():"Not available"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 p-6 rounded-xl border border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(Tr,{className:"w-5 h-5 mr-2"}),"Quick Actions"]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(P,{className:"bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200",onClick:()=>{d(!1),o(null),z(`/certificate?member=${l.id}`)},children:[e.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Download Certificate"]}),e.jsxs(P,{className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200",onClick:()=>{A(l.organizationId||""),k(!0)},children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Assign Organization"]}),e.jsxs(P,{className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200",onClick:()=>se(l.id,"active"),children:[e.jsx(xr,{className:"w-4 h-4 mr-2"}),"Activate Member"]}),e.jsxs(P,{className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200",onClick:()=>{re({title:"Email Sent",description:`Notification sent to ${l.firstName} ${l.lastName}`})},children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Send Notification"]})]})]})]})}),e.jsx(Zie,{open:u,onOpenChange:m}),e.jsx(zv,{open:h,onOpenChange:f,type:"members"}),e.jsx(Uv,{open:b,onOpenChange:x}),e.jsx($v,{open:v,onOpenChange:g,type:"members"}),e.jsx(Bv,{open:w,onOpenChange:N}),e.jsx(Vv,{open:y,onOpenChange:j}),l&&e.jsx(Lt,{open:_,onOpenChange:k,title:"Assign Organization",subtitle:`Assign ${l.firstName} ${l.lastName} to an organization`,icon:qe,colorVariant:"purple",maxWidth:"xl",footer:{secondary:{label:"Cancel",onClick:()=>{k(!1),A("")},variant:"outline"},primary:{label:R.isPending?"Assigning...":"Assign Organization",onClick:()=>{R.mutate({memberId:l.id,organizationId:S||null})},disabled:R.isPending,loading:R.isPending}},children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-4 rounded-xl border border-blue-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-3 flex items-center",children:[e.jsx(qe,{className:"w-5 h-5 mr-2"}),"Current Organization"]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-lg border border-blue-300",children:e.jsx("p",{className:"text-sm font-medium text-blue-800",children:((ot=l.organization)==null?void 0:ot.name)||"Independent Practitioner"})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-xl border border-purple-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-purple-800 mb-4 flex items-center",children:[e.jsx(qe,{className:"w-5 h-5 mr-2"}),"Select New Organization"]}),e.jsxs(Ie,{value:S,onValueChange:A,children:[e.jsx(De,{className:"w-full border-purple-300 focus:border-purple-500 bg-white",children:e.jsx(Fe,{placeholder:"Select an organization"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"",children:"Independent Practitioner (No Organization)"}),M.filter(ce=>ce.status==="active").map(ce=>e.jsxs(D,{value:ce.id,children:[ce.name," (",ce.registrationNumber,")"]},ce.id))]})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 p-4 rounded-xl border border-amber-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Je,{className:"w-5 h-5 text-amber-600 mr-2 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-amber-800 mb-1",children:"Note"}),e.jsx("p",{className:"text-sm text-amber-700",children:`Assigning a member to an organization links them to that firm's activities and compliance records. Select "Independent Practitioner" to remove organization assignment.`})]})]})})]})})]})}const Jie=I.object({name:I.string().min(2,"Organization name must be at least 2 characters").max(100),businessType:I.enum(["real_estate_firm","property_management_firm","brokerage_firm","development_firm"],{errorMap:()=>({message:"Please select organization type"})}),registrationNumber:I.string().optional(),email:I.string().email("Invalid email address"),phone:I.string().min(10,"Phone number must be at least 10 digits"),physicalAddress:I.string().min(10,"Address must be at least 10 characters"),principalAgentId:I.string().optional(),trustAccountDetails:I.string().optional()});function ele({open:t,onOpenChange:s,trigger:r}){var re;const[n,a]=p.useState(1),[i,l]=p.useState(!1),[o,c]=p.useState(null),{toast:d}=tt(),{data:u=[]}=Ge({queryKey:["/api/members"]}),m=u.filter(F=>F.memberType==="principal_real_estate_agent"),{register:h,handleSubmit:f,watch:b,setValue:x,formState:{errors:v},reset:g,trigger:y}=It({resolver:Ft(Jie),defaultValues:{name:"",businessType:void 0,registrationNumber:"",email:"",phone:"",physicalAddress:"",principalAgentId:"",trustAccountDetails:""}}),j=b("businessType"),w=b("principalAgentId"),N=$e({mutationFn:async F=>await(await Be("POST","/api/organizations",{...F,status:"active"})).json(),onSuccess:F=>{st.invalidateQueries({queryKey:["/api/admin/organizations"]}),st.invalidateQueries({queryKey:["/api/organizations"]}),c(F),l(!0),g(),a(1),setTimeout(()=>{s(!1),l(!1)},2e3)},onError:F=>{d({title:"Error",description:F.message||"Failed to create organization. Please try again.",variant:"destructive"})}}),_=async()=>{let F=[];n===1?F=["name","businessType"]:n===2&&(F=["email","phone","physicalAddress"]),await y(F)&&a(U=>Math.min(U+1,3))},k=()=>{a(F=>Math.max(F-1,1))},S=F=>{N.mutate(F)},A=n/3*100,z=[{number:1,title:"Basic Information",icon:qe},{number:2,title:"Contact Details",icon:jt},{number:3,title:"Additional Details",icon:Le}];return e.jsxs(e.Fragment,{children:[e.jsx(Lt,{open:t&&!i,onOpenChange:F=>{s(F),F||(g(),a(1))},title:"Register New Organization",subtitle:`Step ${n} of 3: ${(re=z[n-1])==null?void 0:re.title}`,icon:qe,colorVariant:"purple",maxWidth:"2xl",children:e.jsxs("form",{onSubmit:f(S),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex justify-between items-center mb-2",children:z.map(F=>e.jsxs("div",{className:`flex items-center gap-2 ${n>=F.number?"text-purple-600":"text-gray-400"}`,children:[n>F.number?e.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center",children:e.jsx(No,{className:"w-5 h-5 text-white"})}):e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n===F.number?"bg-purple-600 text-white":"bg-gray-200 text-gray-500"}`,children:e.jsx(F.icon,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-sm font-medium hidden md:block",children:F.title})]},F.number))}),e.jsx(Ci,{value:A,className:"h-2"})]}),n===1&&e.jsxs("div",{className:"space-y-4 bg-gradient-to-br from-purple-50 to-pink-50 p-6 rounded-xl border border-purple-200",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ue,{htmlFor:"name",className:"text-purple-800 font-semibold",children:["Organization Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Y,{id:"name",...h("name"),className:"border-purple-300 focus:border-purple-500",placeholder:"Enter organization name"}),v.name&&e.jsx("p",{className:"text-sm text-red-600",children:v.name.message})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ue,{htmlFor:"businessType",className:"text-purple-800 font-semibold",children:["Organization Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Ie,{value:j,onValueChange:F=>x("businessType",F),children:[e.jsx(De,{className:"border-purple-300 focus:border-purple-500",children:e.jsx(Fe,{placeholder:"Select organization type"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"real_estate_firm",children:"Real Estate Firm"}),e.jsx(D,{value:"property_management_firm",children:"Property Management Firm"}),e.jsx(D,{value:"brokerage_firm",children:"Brokerage Firm"}),e.jsx(D,{value:"development_firm",children:"Development Firm"})]})]}),v.businessType&&e.jsx("p",{className:"text-sm text-red-600",children:v.businessType.message})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ue,{htmlFor:"registrationNumber",className:"text-purple-800 font-semibold",children:"Registration Number (Optional)"}),e.jsx(Y,{id:"registrationNumber",...h("registrationNumber"),className:"border-purple-300 focus:border-purple-500",placeholder:"Auto-generated if left blank"}),e.jsx("p",{className:"text-xs text-purple-600",children:"Leave blank to auto-generate (EAC-ORG-YYYY-XXXX format)"})]})]}),n===2&&e.jsxs("div",{className:"space-y-4 bg-gradient-to-br from-blue-50 to-cyan-50 p-6 rounded-xl border border-blue-200",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ue,{htmlFor:"email",className:"text-blue-800 font-semibold",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-blue-400 w-5 h-5"}),e.jsx(Y,{id:"email",type:"email",...h("email"),className:"pl-10 border-blue-300 focus:border-blue-500",placeholder:"organization@example.com"})]}),v.email&&e.jsx("p",{className:"text-sm text-red-600",children:v.email.message})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ue,{htmlFor:"phone",className:"text-blue-800 font-semibold",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Rr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-blue-400 w-5 h-5"}),e.jsx(Y,{id:"phone",...h("phone"),className:"pl-10 border-blue-300 focus:border-blue-500",placeholder:"+263 XX XXX XXXX"})]}),v.phone&&e.jsx("p",{className:"text-sm text-red-600",children:v.phone.message})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ue,{htmlFor:"physicalAddress",className:"text-blue-800 font-semibold",children:["Physical Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ma,{className:"absolute left-3 top-3 text-blue-400 w-5 h-5"}),e.jsx(kt,{id:"physicalAddress",...h("physicalAddress"),className:"pl-10 border-blue-300 focus:border-blue-500 min-h-[80px]",placeholder:"Enter physical address"})]}),v.physicalAddress&&e.jsx("p",{className:"text-sm text-red-600",children:v.physicalAddress.message})]})]}),n===3&&e.jsxs("div",{className:"space-y-4 bg-gradient-to-br from-green-50 to-emerald-50 p-6 rounded-xl border border-green-200",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(ue,{htmlFor:"principalAgentId",className:"text-green-800 font-semibold",children:"Principal Real Estate Agent (Optional)"}),e.jsxs(Ie,{value:w,onValueChange:F=>x("principalAgentId",F),children:[e.jsx(De,{className:"border-green-300 focus:border-green-500",children:e.jsx(Fe,{placeholder:"Select principal agent"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"",children:"No principal agent"}),m.map(F=>e.jsxs(D,{value:F.id,children:[F.firstName," ",F.lastName," (",F.membershipNumber,")"]},F.id))]})]}),e.jsx("p",{className:"text-xs text-green-600",children:"Select the principal agent responsible for this organization"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ue,{htmlFor:"trustAccountDetails",className:"text-green-800 font-semibold",children:"Trust Account Details (Optional)"}),e.jsx(kt,{id:"trustAccountDetails",...h("trustAccountDetails"),className:"border-green-300 focus:border-green-500 min-h-[100px]",placeholder:"Enter trust account details (bank name, account number, etc.)"}),e.jsx("p",{className:"text-xs text-green-600",children:"Provide bank details for the trust account"})]}),e.jsx("div",{className:"bg-green-100 border border-green-300 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(le,{className:"w-5 h-5 text-green-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-green-800",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Ready to Register"}),e.jsx("p",{children:'Review your information and click "Create Organization" to complete registration.'})]})]})})]}),e.jsxs("div",{className:"flex justify-between gap-4 pt-4 border-t",children:[n>1?e.jsxs(P,{type:"button",variant:"outline",onClick:k,className:"flex items-center gap-2",children:[e.jsx(Ws,{className:"w-4 h-4"}),"Back"]}):e.jsx(P,{type:"button",variant:"ghost",onClick:()=>s(!1),children:"Cancel"}),n<3?e.jsxs(P,{type:"button",onClick:_,className:"gradient-button text-white flex items-center gap-2",children:["Next",e.jsx(Io,{className:"w-4 h-4"})]}):e.jsx(P,{type:"submit",className:"gradient-button text-white flex items-center gap-2",disabled:N.isPending,children:N.isPending?e.jsx(e.Fragment,{children:"Creating..."}):e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"w-4 h-4"}),"Create Organization"]})})]})]})}),e.jsx(Lt,{open:i,onOpenChange:()=>{},title:"Organization Created Successfully!",subtitle:"The organization has been registered in the system",icon:le,colorVariant:"green",maxWidth:"md",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:e.jsx(le,{className:"w-10 h-10 text-green-600"})}),o&&e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("p",{className:"text-lg font-semibold text-green-800",children:o.name}),e.jsx("p",{className:"text-sm text-green-600 font-mono mt-1",children:o.registrationNumber})]}),e.jsx("p",{className:"text-gray-600",children:"Redirecting..."})]})})]})}function ZS(){var R,ie;const[t,s]=p.useState(""),[r,n]=p.useState("all"),[a,i]=p.useState("all"),[l,o]=p.useState(null),[c,d]=p.useState(!1),[u,m]=p.useState(!1),[h,f]=p.useState(!1),[b,x]=p.useState(!1),[v,g]=p.useState(!1),[y,j]=p.useState(!1),[w,N]=p.useState(!1),[,_]=Xe(),{toast:k}=tt(),{user:S,isLoading:A}=St();if(!A&&!S)return _("/auth"),null;if(A)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:"Loading..."})});const{data:z=[],isLoading:re,refetch:F}=Ge({queryKey:["/api/admin/organizations"]}),B=$e({mutationFn:({id:O,updates:te})=>Be("PUT",`/api/organizations/${O}`,te),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/admin/organizations"]}),k({title:"Success",description:"Organization updated successfully."}),o(null)},onError:()=>{k({title:"Error",description:"Failed to update organization.",variant:"destructive"})}}),U=z.filter(O=>{var Ke;const te=!t||O.name.toLowerCase().includes(t.toLowerCase())||((Ke=O.registrationNumber)==null?void 0:Ke.toLowerCase().includes(t.toLowerCase()))||O.email.toLowerCase().includes(t.toLowerCase()),se=r==="all"||O.status===r,Te=a==="all"||O.businessType===a;return te&&se&&Te}),W=O=>{switch(O){case"active":return"bg-green-100 text-green-800";case"standby":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-blue-100 text-blue-800";case"expired":return"bg-red-100 text-red-800";case"revoked":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},E=O=>{switch(O){case"active":return e.jsx(le,{className:"w-4 h-4"});case"pending":return e.jsx(ft,{className:"w-4 h-4"});case"expired":case"revoked":return e.jsx(Xt,{className:"w-4 h-4"});default:return e.jsx(Je,{className:"w-4 h-4"})}},M=(O,te)=>{B.mutate({id:O,updates:{status:te}})},q=()=>{const O=[["Name","Registration Number","Type","Status","Email","Phone","Address","Members"].join(","),...U.map(Ke=>{var ot;return[`"${Ke.name}"`,Ke.registrationNumber||"",((ot=Ke.businessType)==null?void 0:ot.replace(/_/g," "))||"",Ke.status||"",Ke.email,Ke.phone||"",`"${Ke.physicalAddress||""}"`,Ke.memberCount||0].join(",")})].join("\\n"),te=new Blob([O],{type:"text/csv"}),se=URL.createObjectURL(te),Te=document.createElement("a");Te.href=se,Te.download=`eacz-organizations-${new Date().toISOString().split("T")[0]}.csv`,Te.click(),URL.revokeObjectURL(se)};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(mn,{currentPage:"organizations"}),e.jsxs("div",{className:"p-6",children:[e.jsx(Et,{items:[{label:"Admin Dashboard",href:"/admin-dashboard"},{label:"Organization Management"}],className:"mb-6"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Organization Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage all registered real estate firms and organizations"})]}),e.jsx(zo,{title:"Quick Actions",description:"Streamline your organization management workflow",actions:[{icon:qe,label:"Register Org",action:()=>d(!0),color:"text-emerald-600",bg:"bg-emerald-100",testId:"button-add-organization"},{icon:at,label:"Bulk Import",action:()=>m(!0),color:"text-purple-600",bg:"bg-purple-100",testId:"button-bulk-import"},{icon:Le,label:"Review Apps",action:()=>f(!0),color:"text-green-600",bg:"bg-green-100",testId:"button-review-applications"},{icon:Wt,label:"Export List",action:()=>x(!0),color:"text-violet-600",bg:"bg-violet-100",testId:"button-export-organizations"},{icon:dt,label:"Renewals",action:()=>j(!0),color:"text-orange-600",bg:"bg-orange-100",testId:"button-manage-renewals"},{icon:Je,label:"Compliance",action:()=>N(!0),color:"text-rose-600",bg:"bg-rose-100",testId:"button-compliance-check"},{icon:jt,label:"Notifications",action:()=>g(!0),color:"text-cyan-600",bg:"bg-cyan-100",testId:"button-send-notifications"}]}),e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(P,{className:"gradient-button text-white border-0",onClick:()=>d(!0),children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Add Organization"]}),e.jsxs(P,{variant:"outline",onClick:q,disabled:U.length===0,children:[e.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Export"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(Y,{placeholder:"Search organizations...",value:t,onChange:O=>s(O.target.value),className:"pl-10 w-64","data-testid":"input-search-organizations"})]}),e.jsxs(Ie,{value:r,onValueChange:n,children:[e.jsx(De,{className:"w-32",children:e.jsx(Fe,{placeholder:"Status"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"all",children:"All Status"}),e.jsx(D,{value:"active",children:"Active"}),e.jsx(D,{value:"standby",children:"Standby"}),e.jsx(D,{value:"pending",children:"Pending"}),e.jsx(D,{value:"expired",children:"Expired"}),e.jsx(D,{value:"revoked",children:"Revoked"})]})]}),e.jsxs(Ie,{value:a,onValueChange:i,children:[e.jsx(De,{className:"w-40",children:e.jsx(Fe,{placeholder:"Type"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"all",children:"All Types"}),e.jsx(D,{value:"real_estate_firm",children:"Real Estate Firm"}),e.jsx(D,{value:"property_management_firm",children:"Property Management"}),e.jsx(D,{value:"brokerage_firm",children:"Brokerage Firm"}),e.jsx(D,{value:"development_firm",children:"Development Firm"})]})]})]})]}),re?e.jsx("div",{className:"text-center py-8",children:"Loading organizations..."}):U.length>0?e.jsx($,{children:e.jsx(V,{className:"p-0",children:e.jsxs(Sd,{children:[e.jsx(_d,{children:e.jsxs(Qn,{children:[e.jsx(yt,{children:"Organization"}),e.jsx(yt,{children:"Organization ID"}),e.jsx(yt,{children:"Type"}),e.jsx(yt,{children:"Status"}),e.jsx(yt,{children:"Members"}),e.jsx(yt,{children:"Contact"}),e.jsx(yt,{children:"Actions"})]})}),e.jsx(kd,{children:U.map((O,te)=>{var se;return e.jsxs(Qn,{className:te%2===0?"bg-white":"bg-blue-50/30",children:[e.jsx(vt,{children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(qe,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:O.name}),e.jsx("div",{className:"text-sm text-gray-500",children:O.email})]})]})}),e.jsx(vt,{className:"font-mono text-sm",children:O.registrationNumber}),e.jsx(vt,{className:"capitalize",children:((se=O.businessType)==null?void 0:se.replace(/_/g," "))||"Not specified"}),e.jsx(vt,{children:e.jsx(oe,{className:W(O.status||""),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[E(O.status||""),e.jsx("span",{children:O.status})]})})}),e.jsx(vt,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(at,{className:"w-4 h-4 mr-2 text-muted-foreground"}),O.memberCount||0]})}),e.jsx(vt,{children:O.phone&&e.jsx("a",{href:`tel:${O.phone}`,className:"text-primary hover:underline text-sm",children:O.phone})}),e.jsx(vt,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(P,{size:"sm",variant:"outline",className:"h-8 px-3 text-purple-600 border-purple-200 hover:bg-purple-50",onClick:()=>o(O),children:[e.jsx(us,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs",children:"View"})]}),e.jsxs(P,{size:"sm",variant:"outline",className:"h-8 px-3 text-blue-600 border-blue-200 hover:bg-blue-50",onClick:()=>_(`/admin-dashboard/organizations/${O.id}`),children:[e.jsx(sa,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs",children:"Edit"})]})]})})]},O.id)})})]})})}):e.jsx($,{children:e.jsxs(V,{className:"text-center py-8",children:[e.jsx(qe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Organizations Found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:t||r!=="all"||a!=="all"?"Try adjusting your search criteria or filters.":"Get started by registering your first organization."}),e.jsxs(P,{className:"gradient-button text-white border-0",onClick:()=>_("/organization-registration"),children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Register Organization"]})]})}),l&&e.jsx(Lt,{open:!!l,onOpenChange:()=>o(null),title:l.name,subtitle:`Organization Details - ${l.registrationNumber}`,icon:qe,colorVariant:"purple",maxWidth:"4xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-xl border border-purple-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-purple-800 mb-4 flex items-center",children:[e.jsx(le,{className:"w-5 h-5 mr-2"}),"Status & Classification"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-purple-700 mb-2 block",children:"Membership Status"}),e.jsxs(Ie,{value:l.status||"",onValueChange:O=>M(l.id,O),children:[e.jsx(De,{className:"border-purple-300 focus:border-purple-500 bg-white/80",children:e.jsx(Fe,{})}),e.jsxs(Me,{children:[e.jsx(D,{value:"active",children:"Active"}),e.jsx(D,{value:"standby",children:"Standby"}),e.jsx(D,{value:"pending",children:"Pending"}),e.jsx(D,{value:"expired",children:"Expired"}),e.jsx(D,{value:"revoked",children:"Revoked"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-purple-700 mb-2 block",children:"Organization Type"}),e.jsx("div",{className:"p-3 bg-purple-100 border border-purple-300 rounded-lg text-purple-800 font-medium capitalize",children:((R=l.businessType)==null?void 0:R.replace(/_/g," "))||"Not specified"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 p-4 rounded-xl border border-indigo-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-indigo-800 mb-4 flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 mr-2"}),"Registration Information"]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-indigo-700 mb-2 block",children:"Registration Number"}),e.jsx("div",{className:"p-3 bg-indigo-100 border border-indigo-300 rounded-lg font-mono text-indigo-800 font-bold text-center",children:l.registrationNumber||"Not assigned"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-4 rounded-xl border border-blue-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[e.jsx(jt,{className:"w-5 h-5 mr-2"}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-blue-700 mb-2 block",children:"Email Address"}),e.jsx("div",{className:"p-3 bg-blue-100 border border-blue-300 rounded-lg text-blue-800 font-medium",children:l.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-blue-700 mb-2 block",children:"Phone Number"}),e.jsx("div",{className:"p-3 bg-blue-100 border border-blue-300 rounded-lg text-blue-800 font-medium",children:l.phone||"Not provided"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-blue-700 mb-2 block",children:"Physical Address"}),e.jsx("div",{className:"p-3 bg-blue-100 border border-blue-300 rounded-lg text-blue-800 font-medium",children:l.physicalAddress||"Not provided"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-xl border border-green-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center",children:[e.jsx(at,{className:"w-5 h-5 mr-2"}),"Organization Members (",((ie=l.members)==null?void 0:ie.length)||0,")"]}),l.members&&l.members.length>0?e.jsx("div",{className:"space-y-2",children:l.members.map(O=>{var te;return e.jsxs("div",{className:"bg-white/80 p-3 rounded-lg border border-green-200 flex items-center justify-between hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(at,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-green-800",children:[O.firstName," ",O.lastName]}),e.jsx("div",{className:"text-sm text-green-600",children:O.membershipNumber})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{variant:"outline",className:"text-green-700 border-green-300 capitalize",children:(te=O.memberType)==null?void 0:te.replace(/_/g," ")}),e.jsx(oe,{className:O.membershipStatus==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:O.membershipStatus})]})]},O.id)})}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(at,{className:"w-12 h-12 text-green-300 mx-auto mb-2"}),e.jsx("p",{className:"text-green-600",children:"No members assigned to this organization yet."})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 p-4 rounded-xl border border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(Tr,{className:"w-5 h-5 mr-2"}),"Quick Actions"]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(P,{className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200",onClick:()=>_(`/admin-dashboard/organizations/${l.id}`),children:[e.jsx(sa,{className:"w-4 h-4 mr-2"}),"Edit Details"]}),e.jsxs(P,{className:"bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200",onClick:()=>{k({title:"Email Sent",description:`Notification sent to ${l.name}`})},children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Send Email"]})]})]})]})})]}),e.jsx(ele,{open:c,onOpenChange:d}),e.jsx(zv,{open:u,onOpenChange:m,type:"organizations",onSuccess:F}),e.jsx(Uv,{open:h,onOpenChange:f,onSuccess:F,type:"organization"}),e.jsx($v,{open:b,onOpenChange:x,type:"organizations"}),e.jsx(Vv,{open:v,onOpenChange:g,onSuccess:F}),e.jsx(Bv,{open:y,onOpenChange:j,onSuccess:F}),e.jsx(Xie,{open:w,onOpenChange:N,onSuccess:F})]})}function XS(){const[t,s]=p.useState(null),[r,n]=p.useState(""),[,a]=Xe(),{toast:i}=tt(),{user:l,isLoading:o}=St();if(!o&&!l)return a("/auth"),null;if(o)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:"Loading..."})});const{data:c=[],isLoading:d,refetch:u}=Ge({queryKey:["/api/applications"]}),{data:m=[],isLoading:h}=Ge({queryKey:["/api/organization-applications"],enabled:!0}),f=$e({mutationFn:({id:N,action:_,notes:k})=>Be("POST",`/api/applications/${N}/review`,{action:_,notes:k}),onSuccess:(N,{action:_})=>{st.invalidateQueries({queryKey:["/api/applications"]}),i({title:"Success",description:`Application ${_} successfully.`}),s(null),n("")},onError:()=>{i({title:"Error",description:"Failed to process application.",variant:"destructive"})}}),b=c.filter(N=>["submitted","under_review","document_verification","pending_approval","awaiting_documents"].includes(N.status||N.currentStage||"")),x=c.filter(N=>["eligibility_review","committee_review","final_review"].includes(N.status||N.currentStage||"")),v=c.filter(N=>["approved","rejected","completed"].includes(N.status||"")),g=N=>{switch(N){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"under_review":return"bg-yellow-100 text-yellow-800";case"submitted":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},y=N=>{switch(N){case"approved":return e.jsx(le,{className:"w-4 h-4"});case"rejected":return e.jsx(Xt,{className:"w-4 h-4"});case"under_review":return e.jsx(Je,{className:"w-4 h-4"});case"submitted":return e.jsx(ft,{className:"w-4 h-4"});default:return e.jsx(Le,{className:"w-4 h-4"})}},j=N=>{t&&f.mutate({id:t.id,action:N,notes:r||void 0})},w=({application:N})=>{var _,k,S;return e.jsxs($,{className:"hover:shadow-md transition-shadow",children:[e.jsx(J,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:N.organizationId?e.jsx(qe,{className:"w-5 h-5 text-primary"}):e.jsx(et,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsxs(ee,{className:"text-lg",children:[N.firstName," ",N.lastName]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[N.organizationId?"Organization":"Individual"," • ",((_=N.memberType)==null?void 0:_.replace(/_/g," "))||"N/A"]})]})]}),e.jsx(oe,{className:g(N.status||""),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[y(N.status||""),e.jsx("span",{children:N.status})]})})]})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(dt,{className:"w-4 h-4 mr-2 text-muted-foreground"}),"Applied: ",new Date(N.createdAt||"").toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Le,{className:"w-4 h-4 mr-2 text-muted-foreground"}),((k=N.documents)==null?void 0:k.length)||0," documents uploaded"]}),e.jsx("div",{className:"pt-3",children:e.jsxs(za,{children:[e.jsx(Vd,{asChild:!0,children:e.jsxs(P,{size:"sm",variant:"outline",onClick:()=>s(N),className:"w-full",children:[e.jsx(us,{className:"w-4 h-4 mr-2"}),"Review Application"]})}),e.jsxs(Ua,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx($a,{children:e.jsxs(Va,{children:["Application Review - ",N.firstName," ",N.lastName]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Full Name"}),e.jsxs("div",{className:"p-2 border rounded",children:[N.firstName," ",N.lastName]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email"}),e.jsx("div",{className:"p-2 border rounded",children:N.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Phone"}),e.jsx("div",{className:"p-2 border rounded",children:N.phone||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"National ID"}),e.jsx("div",{className:"p-2 border rounded",children:N.nationalId||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Date of Birth"}),e.jsx("div",{className:"p-2 border rounded",children:N.dateOfBirth?new Date(N.dateOfBirth).toLocaleDateString():"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Member Type"}),e.jsx("div",{className:"p-2 border rounded capitalize",children:N.memberType.replace(/_/g," ")})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Education & Experience"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Education Level"}),e.jsx("div",{className:"p-2 border rounded capitalize",children:((S=N.educationLevel)==null?void 0:S.replace(/_/g," "))||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Work Experience"}),e.jsxs("div",{className:"p-2 border rounded",children:[N.workExperience||"Not provided"," years"]})]})]}),N.currentEmployer&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"text-sm font-medium",children:"Current Employer"}),e.jsx("div",{className:"p-2 border rounded",children:N.currentEmployer})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Uploaded Documents"}),N.documents&&N.documents.length>0?e.jsx("div",{className:"space-y-2",children:N.documents.map(A=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Le,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:A.documentType}),e.jsx("div",{className:"text-sm text-gray-500",children:A.fileName})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[A.isVerified&&e.jsxs(oe,{variant:"secondary",children:[e.jsx(le,{className:"w-3 h-3 mr-1"}),"Verified"]}),e.jsxs(P,{size:"sm",variant:"outline",children:[e.jsx(Wt,{className:"w-4 h-4 mr-1"}),"View"]})]})]},A.id))}):e.jsxs("div",{className:"text-center py-4 border rounded",children:[e.jsx(Le,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No documents uploaded"})]})]}),N.status==="submitted"||N.currentStage==="initial_review"?e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Review Notes"}),e.jsx(kt,{placeholder:"Add review notes or feedback...",value:r,onChange:A=>n(A.target.value),rows:4})]}):N.reviewNotes&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Review Notes"}),e.jsx("div",{className:"p-3 border rounded bg-gray-50",children:N.reviewNotes})]}),(N.status==="submitted"||N.currentStage==="initial_review")&&e.jsxs("div",{className:"flex space-x-4 pt-4 border-t",children:[e.jsxs(P,{className:"gradient-button text-white border-0",onClick:()=>j("approved"),disabled:f.isPending,children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Approve Application"]}),e.jsxs(P,{variant:"destructive",onClick:()=>j("rejected"),disabled:f.isPending,children:[e.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Reject Application"]}),e.jsxs(P,{variant:"outline",onClick:()=>j("needs_applicant_action"),disabled:f.isPending,children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"Request More Info"]})]})]})]})]})})]})})]})};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(mn,{currentPage:"members"}),e.jsxs("div",{className:"p-6",children:[e.jsx(Et,{items:[{label:"Admin Dashboard",href:"/admin-dashboard"},{label:"Application Review"}],className:"mb-6"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Application Review"}),e.jsx("p",{className:"text-muted-foreground",children:"Review and process membership applications"})]}),e.jsxs(Zt,{defaultValue:"member-applications",className:"space-y-6",children:[e.jsxs(Ht,{className:"grid w-full grid-cols-2",children:[e.jsxs(Ae,{value:"member-applications",className:"flex items-center gap-2",children:[e.jsx(et,{className:"w-4 h-4"}),"Member Applications (",c.length,")"]}),e.jsxs(Ae,{value:"organization-applications",className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4"}),"Organization Applications (",m.length,")"]})]}),e.jsxs(Oe,{value:"member-applications",className:"space-y-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Individual Member Applications"}),e.jsx("p",{className:"text-muted-foreground",children:"Applications from individuals seeking membership registration"})]}),e.jsxs(Zt,{defaultValue:"pending",className:"space-y-4",children:[e.jsxs(Ht,{className:"grid w-full grid-cols-3",children:[e.jsxs(Ae,{value:"pending",children:["Pending (",b.length,")"]}),e.jsxs(Ae,{value:"under-review",children:["Under Review (",x.length,")"]}),e.jsxs(Ae,{value:"processed",children:["Processed (",v.length,")"]})]}),e.jsx(Oe,{value:"pending",className:"space-y-6",children:d?e.jsx("div",{className:"text-center py-8",children:"Loading applications..."}):b.length>0?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:b.map(N=>e.jsx(w,{application:N},N.id))}):e.jsx($,{children:e.jsxs(V,{className:"text-center py-8",children:[e.jsx(ft,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Pending Applications"}),e.jsx("p",{className:"text-gray-500",children:"All member applications have been reviewed."})]})})}),e.jsx(Oe,{value:"under-review",className:"space-y-6",children:x.length>0?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:x.map(N=>e.jsx(w,{application:N},N.id))}):e.jsx($,{children:e.jsxs(V,{className:"text-center py-8",children:[e.jsx(Je,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Applications Under Review"}),e.jsx("p",{className:"text-gray-500",children:"No member applications currently under review."})]})})}),e.jsx(Oe,{value:"processed",className:"space-y-6",children:v.length>0?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:v.map(N=>e.jsx(w,{application:N},N.id))}):e.jsx($,{children:e.jsxs(V,{className:"text-center py-8",children:[e.jsx(le,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Processed Applications"}),e.jsx("p",{className:"text-gray-500",children:"No member applications have been processed yet."})]})})})]})]}),e.jsxs(Oe,{value:"organization-applications",className:"space-y-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Organization Applications"}),e.jsx("p",{className:"text-muted-foreground",children:"Applications from real estate firms and organizations seeking registration"})]}),h?e.jsx("div",{className:"text-center py-8",children:"Loading organization applications..."}):m.length>0?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:m.map(N=>{var _;return e.jsx($,{children:e.jsxs(V,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(qe,{className:"w-5 h-5 text-blue-600"})}),e.jsxs(oe,{className:g(N.status||"draft"),children:[y(N.status||"draft"),e.jsx("span",{className:"ml-1 capitalize",children:((_=N.status)==null?void 0:_.replace(/_/g," "))||"Draft"})]})]}),e.jsx("h3",{className:"font-semibold mb-2","data-testid":`org-app-name-${N.id}`,children:JSON.parse(N.orgProfile||"{}").legalName||"Organization Name"}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["ID: ",N.applicationId||"Pending"]}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Submitted: ",N.submittedAt?new Date(N.submittedAt).toLocaleDateString():"Not submitted"]}),e.jsxs("div",{className:"flex space-x-2 mt-4",children:[e.jsx(P,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",disabled:!N.submittedAt,children:"Approve"}),e.jsx(P,{size:"sm",variant:"destructive",disabled:!N.submittedAt,children:"Reject"}),e.jsxs(P,{size:"sm",variant:"outline",children:[e.jsx(us,{className:"w-4 h-4 mr-1"}),"Review"]})]})]})},N.id)})}):e.jsx($,{children:e.jsxs(V,{className:"text-center py-12",children:[e.jsx(qe,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Organization Applications"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No organization applications have been submitted yet."}),e.jsxs(P,{variant:"outline",disabled:!0,children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"No Applications Available"]})]})})]})]})]}),e.jsx(wt,{})]})}function tle(){var U;const[t,s]=p.useState(null),[r,n]=p.useState(null),[a,i]=p.useState(""),[l,o]=p.useState("all"),[c,d]=p.useState(""),[u,m]=p.useState("applications"),[,h]=Xe(),{toast:f}=tt(),{user:b,isLoading:x}=St();if(!x&&!b)return h("/auth"),null;if(x)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:"Loading..."})});const{data:v=[],isLoading:g,refetch:y}=Ge({queryKey:["/api/admin/applicants"]}),{data:j=[],isLoading:w}=Ge({queryKey:["/api/admin/members"]}),N=$e({mutationFn:({id:W,updates:E})=>Be("PUT",`/api/admin/applicants/${W}`,E),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/admin/applicants"]}),f({title:"Success",description:"Application status updated successfully."}),s(null),d("")},onError:()=>{f({title:"Error",description:"Failed to update application.",variant:"destructive"})}}),_=$e({mutationFn:({id:W,updates:E})=>Be("PUT",`/api/members/${W}`,E),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/admin/members"]}),f({title:"Success",description:"Member updated successfully."}),n(null),d("")},onError:()=>{f({title:"Error",description:"Failed to update member.",variant:"destructive"})}}),k=v.filter(W=>{const E=!a||`${W.firstName} ${W.surname}`.toLowerCase().includes(a.toLowerCase())||W.applicantId.toLowerCase().includes(a.toLowerCase())||W.email.toLowerCase().includes(a.toLowerCase()),M=l==="all"||W.status===l;return E&&M}),S=j.filter(W=>{const E=!a||`${W.firstName} ${W.lastName}`.toLowerCase().includes(a.toLowerCase())||W.membershipNumber.toLowerCase().includes(a.toLowerCase())||W.email.toLowerCase().includes(a.toLowerCase()),M=l==="all"||W.membershipStatus===l;return E&&M});k.filter(W=>W.status==="registered"),k.filter(W=>W.status==="email_verified"),k.filter(W=>W.status==="under_review"),k.filter(W=>W.status==="approved"||W.status==="rejected");const A=W=>{switch(W){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"under_review":return"bg-yellow-100 text-yellow-800";case"email_verified":return"bg-blue-100 text-blue-800";case"registered":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},z=W=>{switch(W){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"standby":return"bg-blue-100 text-blue-800";case"revoked":return"bg-red-100 text-red-800";case"expired":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},re=W=>{switch(W){case"approved":return e.jsx(le,{className:"w-4 h-4"});case"rejected":return e.jsx(Xt,{className:"w-4 h-4"});case"under_review":return e.jsx(Je,{className:"w-4 h-4"});case"email_verified":return e.jsx(jt,{className:"w-4 h-4"});case"registered":return e.jsx(ft,{className:"w-4 h-4"});default:return e.jsx(Le,{className:"w-4 h-4"})}},F=W=>{t&&N.mutate({id:t.id,updates:{status:W}})},B=W=>{r&&_.mutate({id:r.id,updates:{membershipStatus:W}})};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(mn,{currentPage:"members"}),e.jsxs("div",{className:"p-6",children:[e.jsx(Et,{items:[{label:"Admin Dashboard",href:"/admin-dashboard"},{label:"AgentsHUB",href:"/admin-dashboard/members"},{label:"Individual Applications Review"}],className:"mb-6"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"AgentsHUB - Individual Member Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage individual estate agent members and applications"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(Y,{placeholder:"Search applications...",value:a,onChange:W=>i(W.target.value),className:"pl-10 w-64","data-testid":"input-search-applications"})]})}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",k.length," applications"]})]}),e.jsxs(Zt,{value:u,onValueChange:m,className:"w-full",children:[e.jsxs(Ht,{className:"grid w-full grid-cols-2",children:[e.jsxs(Ae,{value:"applications","data-testid":"tab-applications",children:["Applications (",k.length,")"]}),e.jsxs(Ae,{value:"members","data-testid":"tab-members",children:["Members (",S.length,")"]})]}),e.jsx(Oe,{value:"applications",className:"mt-6",children:g?e.jsx("div",{className:"space-y-6",children:Array.from({length:3}).map((W,E)=>e.jsx("div",{className:"animate-pulse bg-secondary rounded-lg h-32"},E))}):k.length>0?e.jsxs($,{children:[e.jsx(J,{children:e.jsx(ee,{children:"Agent Applications"})}),e.jsx(V,{children:e.jsxs(Sd,{children:[e.jsx(_d,{children:e.jsxs(Qn,{children:[e.jsx(yt,{children:"Name"}),e.jsx(yt,{children:"Applicant ID"}),e.jsx(yt,{children:"Email"}),e.jsx(yt,{children:"Status"}),e.jsx(yt,{children:"Email Verified"}),e.jsx(yt,{children:"Applied Date"}),e.jsx(yt,{children:"Actions"})]})}),e.jsx(kd,{children:k.map(W=>e.jsxs(Qn,{children:[e.jsx(vt,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(et,{className:"w-4 h-4 text-primary"})}),e.jsxs("span",{children:[W.firstName," ",W.surname]})]})}),e.jsx(vt,{children:e.jsx("span",{className:"font-mono text-sm",children:W.applicantId})}),e.jsx(vt,{children:W.email}),e.jsx(vt,{children:e.jsx(oe,{className:A(W.status),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[re(W.status),e.jsx("span",{className:"capitalize",children:W.status.replace("_"," ")})]})})}),e.jsx(vt,{children:W.emailVerified?e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(le,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-sm",children:"Verified"})]}):e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx(Xt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-sm",children:"Not Verified"})]})}),e.jsx(vt,{children:W.createdAt?new Date(W.createdAt).toLocaleDateString():"N/A"}),e.jsx(vt,{children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(P,{size:"sm",variant:"outline",className:"h-8 w-8 p-0 text-blue-600 border-blue-200 hover:bg-blue-50",onClick:()=>s(W),"data-testid":`button-view-applicant-${W.id}`,title:"Review Application",children:e.jsx(us,{className:"w-4 h-4"})}),e.jsx(P,{size:"sm",variant:"outline",className:"h-8 w-8 p-0 text-green-600 border-green-200 hover:bg-green-50",onClick:()=>N.mutate({id:W.id,updates:{status:"approved"}}),disabled:N.isPending,"data-testid":`button-approve-applicant-${W.id}`,title:"Approve Application",children:e.jsx(le,{className:"w-4 h-4"})}),e.jsx(P,{size:"sm",variant:"outline",className:"h-8 w-8 p-0 text-red-600 border-red-200 hover:bg-red-50",onClick:()=>N.mutate({id:W.id,updates:{status:"rejected"}}),disabled:N.isPending,"data-testid":`button-reject-applicant-${W.id}`,title:"Reject Application",children:e.jsx(Xt,{className:"w-4 h-4"})}),e.jsx(P,{size:"sm",variant:"outline",className:"h-8 w-8 p-0 text-yellow-600 border-yellow-200 hover:bg-yellow-50",onClick:()=>N.mutate({id:W.id,updates:{status:"under_review"}}),disabled:N.isPending,"data-testid":`button-review-applicant-${W.id}`,title:"Set Under Review",children:e.jsx(Je,{className:"w-4 h-4"})})]})})]},W.id))})]})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Le,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Applications Found"}),e.jsx("p",{className:"text-gray-500",children:"Applications matching your criteria will appear here."})]})}),e.jsx(Oe,{value:"members",className:"mt-6",children:w?e.jsx("div",{className:"space-y-6",children:Array.from({length:3}).map((W,E)=>e.jsx("div",{className:"animate-pulse bg-secondary rounded-lg h-32"},E))}):S.length>0?e.jsxs($,{children:[e.jsx(J,{children:e.jsx(ee,{children:"Current Members"})}),e.jsx(V,{children:e.jsxs(Sd,{children:[e.jsx(_d,{children:e.jsxs(Qn,{children:[e.jsx(yt,{children:"Name"}),e.jsx(yt,{children:"Membership #"}),e.jsx(yt,{children:"Email"}),e.jsx(yt,{children:"Type"}),e.jsx(yt,{children:"Status"}),e.jsx(yt,{children:"CPD Points"}),e.jsx(yt,{children:"Actions"})]})}),e.jsx(kd,{children:S.map(W=>{var E;return e.jsxs(Qn,{children:[e.jsxs(vt,{className:"font-medium",children:[W.firstName," ",W.lastName]}),e.jsx(vt,{children:e.jsx("span",{className:"font-mono text-sm",children:W.membershipNumber})}),e.jsx(vt,{children:W.email}),e.jsx(vt,{children:e.jsx(oe,{variant:"outline",className:"capitalize",children:(E=W.memberType)==null?void 0:E.replace("_"," ")})}),e.jsx(vt,{children:e.jsx(oe,{className:z(W.membershipStatus),children:W.membershipStatus})}),e.jsx(vt,{className:"text-center",children:W.cpdPoints}),e.jsx(vt,{children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(P,{size:"sm",variant:"outline",className:"h-8 w-8 p-0 text-blue-600 border-blue-200 hover:bg-blue-50",onClick:()=>n(W),"data-testid":`button-view-member-${W.id}`,children:e.jsx(us,{className:"w-4 h-4"})}),e.jsx(P,{size:"sm",variant:"outline",className:"h-8 w-8 p-0 text-purple-600 border-purple-200 hover:bg-purple-50","data-testid":`button-edit-member-${W.id}`,children:e.jsx(sa,{className:"w-4 h-4"})}),e.jsx(P,{size:"sm",variant:"outline",className:"h-8 w-8 p-0 text-orange-600 border-orange-200 hover:bg-orange-50","data-testid":`button-manage-member-${W.id}`,children:e.jsx(Tr,{className:"w-4 h-4"})})]})})]},W.id)})})]})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(et,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Members Found"}),e.jsx("p",{className:"text-gray-500",children:"All active members will appear here."})]})})]}),e.jsx(Lt,{open:!!t,onOpenChange:()=>s(null),title:t?`${t.firstName} ${t.surname}`:"Applicant Details",subtitle:"Review and process individual agent application",icon:xr,colorVariant:"indigo",maxWidth:"2xl",footer:{primary:{label:"Close",onClick:()=>s(null),testId:"button-close-applicant"}},children:t&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Application ID"}),e.jsx("div",{className:"p-2 border rounded font-mono text-sm",children:t.applicantId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email Status"}),e.jsx("div",{className:"p-2 border rounded",children:t.emailVerified?"Verified":"Not Verified"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email"}),e.jsx("div",{className:"p-2 border rounded",children:t.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Current Status"}),e.jsx("div",{className:"p-2 border rounded capitalize",children:t.status.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Review Notes"}),e.jsx(kt,{placeholder:"Add notes about this application...",value:c,onChange:W=>d(W.target.value),className:"mt-1","data-testid":"textarea-review-notes"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(P,{onClick:()=>F("under_review"),className:"bg-yellow-600 hover:bg-yellow-700 text-white","data-testid":"button-under-review",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"Under Review"]}),e.jsxs(P,{onClick:()=>F("approved"),className:"bg-green-600 hover:bg-green-700 text-white","data-testid":"button-approve",children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Approve"]}),e.jsxs(P,{onClick:()=>F("rejected"),variant:"destructive","data-testid":"button-reject",children:[e.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Reject"]})]})]})}),e.jsx(za,{open:!!r,onOpenChange:()=>n(null),children:e.jsxs(Ua,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx($a,{children:e.jsx(Va,{children:r?`${r.firstName} ${r.lastName}`:"Member Details"})}),r&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Member Number"}),e.jsx("div",{className:"p-2 bg-muted rounded font-mono text-sm",children:r.membershipNumber})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Full Name"}),e.jsxs("div",{className:"p-2 bg-muted rounded",children:[r.firstName," ",r.lastName]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),e.jsx("div",{className:"p-2 bg-muted rounded",children:r.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Member Type"}),e.jsx("div",{className:"p-2 bg-muted rounded capitalize",children:(U=r.memberType)==null?void 0:U.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Organization"}),e.jsx("div",{className:"p-2 bg-muted rounded",children:r.organizationName||"N/A"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Membership Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),e.jsx("div",{className:"p-2 bg-muted rounded",children:e.jsx(oe,{className:z(r.membershipStatus),children:r.membershipStatus})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"CPD Points"}),e.jsx("div",{className:"p-2 bg-muted rounded text-lg font-semibold",children:r.cpdPoints})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Joining Date"}),e.jsx("div",{className:"p-2 bg-muted rounded",children:r.joiningDate?new Date(r.joiningDate).toLocaleDateString():"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Expiry Date"}),e.jsx("div",{className:"p-2 bg-muted rounded",children:r.expiryDate?new Date(r.expiryDate).toLocaleDateString():"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email Verified"}),e.jsx("div",{className:"p-2 bg-muted rounded",children:r.emailVerified?e.jsx("span",{className:"text-green-600 font-medium",children:"✓ Verified"}):e.jsx("span",{className:"text-red-600 font-medium",children:"✗ Not Verified"})})]})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Actions"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(P,{onClick:()=>B("active"),className:"bg-green-600 hover:bg-green-700 text-white","data-testid":"button-activate-member",children:[e.jsx(xr,{className:"w-4 h-4 mr-2"}),"Activate"]}),e.jsxs(P,{onClick:()=>B("pending"),className:"bg-yellow-600 hover:bg-yellow-700 text-white","data-testid":"button-pending-member",children:[e.jsx(ft,{className:"w-4 h-4 mr-2"}),"Set Pending"]}),e.jsxs(P,{onClick:()=>B("standby"),className:"bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-standby-member",children:[e.jsx(k9,{className:"w-4 h-4 mr-2"}),"Standby"]}),e.jsxs(P,{onClick:()=>B("revoked"),variant:"destructive","data-testid":"button-revoke-member",children:[e.jsx(sR,{className:"w-4 h-4 mr-2"}),"Revoke"]})]})]})]})]})})]})]})}function sle(){const[t,s]=p.useState(null),[r,n]=p.useState(""),[a,i]=p.useState("all"),[l,o]=p.useState(""),[,c]=Xe(),{toast:d}=tt(),{user:u,isLoading:m}=St();if(!m&&!u)return c("/auth"),null;if(m)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:"Loading..."})});const{data:h=[],isLoading:f,refetch:b}=Ge({queryKey:["/api/admin/organization-applicants"]}),x=$e({mutationFn:({id:A,updates:z})=>Be("PUT",`/api/admin/organization-applicants/${A}`,z),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/admin/organization-applicants"]}),d({title:"Success",description:"Organization application status updated successfully."}),s(null),o("")},onError:()=>{d({title:"Error",description:"Failed to update organization application.",variant:"destructive"})}}),v=h.filter(A=>{const z=!r||A.companyName.toLowerCase().includes(r.toLowerCase())||A.applicantId.toLowerCase().includes(r.toLowerCase())||A.email.toLowerCase().includes(r.toLowerCase()),re=a==="all"||A.status===a;return z&&re}),g=v.filter(A=>A.status==="registered"),y=v.filter(A=>A.status==="email_verified"),j=v.filter(A=>A.status==="under_review"),w=v.filter(A=>A.status==="approved"||A.status==="rejected"),N=A=>{switch(A){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"under_review":return"bg-yellow-100 text-yellow-800";case"email_verified":return"bg-blue-100 text-blue-800";case"registered":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},_=A=>{switch(A){case"approved":return e.jsx(le,{className:"w-4 h-4"});case"rejected":return e.jsx(Xt,{className:"w-4 h-4"});case"under_review":return e.jsx(Je,{className:"w-4 h-4"});case"email_verified":return e.jsx(jt,{className:"w-4 h-4"});case"registered":return e.jsx(ft,{className:"w-4 h-4"});default:return e.jsx(Le,{className:"w-4 h-4"})}},k=A=>{t&&x.mutate({id:t.id,updates:{status:A}})},S=({applicant:A})=>e.jsxs($,{className:"hover:shadow-md transition-shadow",children:[e.jsx(J,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(qe,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx(ee,{className:"text-lg",children:A.companyName}),e.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:A.applicantId})]})]}),e.jsx(oe,{className:N(A.status),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[_(A.status),e.jsx("span",{className:"capitalize",children:A.status.replace("_"," ")})]})})]})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(jt,{className:"w-4 h-4 mr-2 text-muted-foreground"}),A.email]}),A.emailVerified&&e.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Email Verified"]}),A.createdAt&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(dt,{className:"w-4 h-4 mr-2 text-muted-foreground"}),"Applied: ",new Date(A.createdAt).toLocaleDateString()]}),e.jsx("div",{className:"flex space-x-2 pt-3",children:e.jsxs(za,{children:[e.jsx(Vd,{asChild:!0,children:e.jsxs(P,{size:"sm",variant:"outline",onClick:()=>s(A),"data-testid":`button-view-org-applicant-${A.id}`,children:[e.jsx(us,{className:"w-4 h-4 mr-1"}),"Review"]})}),e.jsxs(Ua,{className:"max-w-2xl",children:[e.jsx($a,{children:e.jsx(Va,{children:A.companyName})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Application ID"}),e.jsx("div",{className:"p-2 border rounded font-mono text-sm",children:A.applicantId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email Status"}),e.jsx("div",{className:"p-2 border rounded",children:A.emailVerified?"Verified":"Not Verified"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Company Email"}),e.jsx("div",{className:"p-2 border rounded",children:A.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Current Status"}),e.jsx("div",{className:"p-2 border rounded capitalize",children:A.status.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Review Notes"}),e.jsx(kt,{placeholder:"Add notes about this organization application...",value:l,onChange:z=>o(z.target.value),className:"mt-1","data-testid":"textarea-org-review-notes"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(P,{onClick:()=>k("under_review"),className:"bg-yellow-600 hover:bg-yellow-700 text-white","data-testid":"button-org-under-review",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"Under Review"]}),e.jsxs(P,{onClick:()=>k("approved"),className:"bg-green-600 hover:bg-green-700 text-white","data-testid":"button-org-approve",children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Approve"]}),e.jsxs(P,{onClick:()=>k("rejected"),variant:"destructive","data-testid":"button-org-reject",children:[e.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Reject"]})]})]})]})]})})]})})]});return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(mn,{currentPage:"organizations"}),e.jsxs("div",{className:"p-6",children:[e.jsx(Et,{items:[{label:"Admin Dashboard",href:"/admin-dashboard"},{label:"FirmsHUB",href:"/admin-dashboard/organizations"},{label:"Organization Applications Review"}],className:"mb-6"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Organization Applications"}),e.jsx("p",{className:"text-muted-foreground",children:"Review and manage real estate firm and organization membership applications"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(Y,{placeholder:"Search organization applications...",value:r,onChange:A=>n(A.target.value),className:"pl-10 w-64","data-testid":"input-search-org-applications"})]})}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",v.length," applications"]})]}),e.jsxs(Zt,{defaultValue:"registered",className:"w-full",children:[e.jsxs(Ht,{className:"grid w-full grid-cols-4",children:[e.jsxs(Ae,{value:"registered","data-testid":"tab-org-registered",children:["Registered (",g.length,")"]}),e.jsxs(Ae,{value:"verified","data-testid":"tab-org-verified",children:["Email Verified (",y.length,")"]}),e.jsxs(Ae,{value:"review","data-testid":"tab-org-review",children:["Under Review (",j.length,")"]}),e.jsxs(Ae,{value:"processed","data-testid":"tab-org-processed",children:["Processed (",w.length,")"]})]}),e.jsx(Oe,{value:"registered",className:"mt-6",children:f?e.jsx("div",{className:"text-center py-8",children:"Loading applications..."}):g.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(A=>e.jsx(S,{applicant:A},A.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Le,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No New Organization Registrations"}),e.jsx("p",{className:"text-gray-500",children:"All new organization registrations will appear here."})]})}),e.jsx(Oe,{value:"verified",className:"mt-6",children:y.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(A=>e.jsx(S,{applicant:A},A.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(jt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Email Verified Applications"}),e.jsx("p",{className:"text-gray-500",children:"Organization applications with verified emails will appear here."})]})}),e.jsx(Oe,{value:"review",className:"mt-6",children:j.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(A=>e.jsx(S,{applicant:A},A.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Je,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Applications Under Review"}),e.jsx("p",{className:"text-gray-500",children:"Organization applications currently being reviewed will appear here."})]})}),e.jsx(Oe,{value:"processed",className:"mt-6",children:w.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(A=>e.jsx(S,{applicant:A},A.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(le,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Processed Applications"}),e.jsx("p",{className:"text-gray-500",children:"Approved and rejected organization applications will appear here."})]})})]})]}),e.jsx(wt,{})]})}function rle(){const[t,s]=p.useState(null),[r,n]=p.useState(null),[a,i]=p.useState(""),[l,o]=p.useState(""),[c,d]=p.useState(""),[u,m]=p.useState("registered"),[h,f]=p.useState("applications"),[,b]=Xe(),{toast:x}=tt(),{user:v,isLoading:g}=St();if(!g&&!v)return b("/auth"),null;if(g)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:"Loading..."})});const{data:y=[],isLoading:j}=Ge({queryKey:["/api/admin/applicants"]}),{data:w=[],isLoading:N}=Ge({queryKey:["/api/admin/organization-applicants"]}),{data:_=[],isLoading:k}=Ge({queryKey:["/api/admin/documents"]}),S=$e({mutationFn:({id:he,updates:be})=>Be("PUT",`/api/admin/applicants/${he}`,be),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/admin/applicants"]}),x({title:"Success",description:"Application status updated successfully."}),s(null),o("")},onError:()=>{x({title:"Error",description:"Failed to update application.",variant:"destructive"})}}),A=$e({mutationFn:({id:he,updates:be})=>Be("PUT",`/api/admin/organization-applicants/${he}`,be),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/admin/organization-applicants"]}),x({title:"Success",description:"Application status updated successfully."}),s(null),o("")},onError:()=>{x({title:"Error",description:"Failed to update application.",variant:"destructive"})}}),z=$e({mutationFn:({applicationId:he,documentId:be,status:ct,notes:bt})=>Be("PUT",`/api/admin/applications/${he}/documents/${be}/verify`,{status:ct,notes:bt}),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/admin/documents"]}),x({title:"Success",description:"Document status updated successfully."}),n(null),d("")},onError:()=>{x({title:"Error",description:"Failed to update document.",variant:"destructive"})}}),re=[...y.map(he=>({...he,type:"individual"})),...w.map(he=>({...he,type:"organization"}))],F=j||N,B=re.filter(he=>{const be=he.type==="individual"?`${he.firstName} ${he.surname}`:he.companyName;return!a||be.toLowerCase().includes(a.toLowerCase())||he.applicantId.toLowerCase().includes(a.toLowerCase())||he.email.toLowerCase().includes(a.toLowerCase())}),U=_.filter(he=>!a||he.fileName.toLowerCase().includes(a.toLowerCase())||he.docType.toLowerCase().includes(a.toLowerCase())||he.applicationIdFk.toLowerCase().includes(a.toLowerCase())),W=B.filter(he=>he.status==="registered"),E=B.filter(he=>he.status==="email_verified"),M=B.filter(he=>he.status==="under_review"),q=B.filter(he=>he.status==="approved"),R=B.filter(he=>he.status==="rejected"),ie=U.filter(he=>he.status==="uploaded"),O=U.filter(he=>he.status==="verified"),te=U.filter(he=>he.status==="rejected"),se=he=>{switch(he){case"approved":case"verified":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"under_review":return"bg-yellow-100 text-yellow-800";case"email_verified":return"bg-blue-100 text-blue-800";case"registered":case"uploaded":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Te=he=>{switch(he){case"approved":case"verified":return e.jsx(le,{className:"w-4 h-4"});case"rejected":return e.jsx(Xt,{className:"w-4 h-4"});case"under_review":return e.jsx(Je,{className:"w-4 h-4"});case"email_verified":return e.jsx(jt,{className:"w-4 h-4"});case"registered":case"uploaded":return e.jsx(ft,{className:"w-4 h-4"});default:return e.jsx(Le,{className:"w-4 h-4"})}},Ke=he=>{t&&(t.type==="individual"?S.mutate({id:t.id,updates:{status:he}}):A.mutate({id:t.id,updates:{status:he}}))},ot=he=>{r&&z.mutate({applicationId:r.applicationIdFk,documentId:r.id,status:he,notes:c})},ce=he=>he.type==="individual"?`${he.firstName} ${he.surname}`:he.companyName,Ze=he=>{if(!he)return"N/A";const be=he/1024;return be<1024?`${be.toFixed(1)} KB`:`${(be/1024).toFixed(1)} MB`},rt=he=>he.split("_").map(be=>be.charAt(0).toUpperCase()+be.slice(1)).join(" "),We=({applicants:he})=>e.jsx("div",{className:"bg-white rounded-lg border",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Name"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Type"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Applicant ID"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Email"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Email Verified"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Applied Date"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Actions"})]})}),e.jsx("tbody",{children:he.map((be,ct)=>e.jsxs("tr",{className:`border-b cursor-pointer transition-colors ${ct%2===0?"bg-white hover:bg-blue-50":"bg-blue-50/30 hover:bg-blue-100/40"}`,onClick:()=>{s(be)},children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:be.type==="individual"?e.jsx(et,{className:"w-4 h-4 text-primary"}):e.jsx(qe,{className:"w-4 h-4 text-primary"})}),e.jsx("span",{className:"font-medium",children:ce(be)})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(oe,{variant:"outline",className:"capitalize",children:be.type==="individual"?"Individual":"Organization"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"font-mono text-sm",children:be.applicantId})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-sm",children:be.email})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(oe,{className:se(be.status),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[Te(be.status),e.jsx("span",{className:"capitalize",children:be.status.replace("_"," ")})]})})}),e.jsx("td",{className:"py-3 px-4",children:be.emailVerified?e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(le,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-sm",children:"Verified"})]}):e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx(Xt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-sm",children:"Not Verified"})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-sm",children:be.createdAt?new Date(be.createdAt).toLocaleDateString():"N/A"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsxs(P,{size:"sm",variant:"outline",className:"h-8 px-3 text-blue-600 border-blue-200 hover:bg-blue-50",onClick:bt=>{bt.stopPropagation(),s(be)},children:[e.jsx(us,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs",children:"Review"})]}),be.status!=="approved"&&e.jsxs(P,{size:"sm",variant:"outline",className:"h-8 px-3 text-green-600 border-green-200 hover:bg-green-50",onClick:bt=>{bt.stopPropagation(),be.type==="individual"?S.mutate({id:be.id,updates:{status:"approved"}}):A.mutate({id:be.id,updates:{status:"approved"}})},disabled:S.isPending||A.isPending,children:[e.jsx(le,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs",children:"Approve"})]}),be.status!=="rejected"&&be.status!=="approved"&&e.jsxs(P,{size:"sm",variant:"outline",className:"h-8 px-3 text-red-600 border-red-200 hover:bg-red-50",onClick:bt=>{bt.stopPropagation(),be.type==="individual"?S.mutate({id:be.id,updates:{status:"rejected"}}):A.mutate({id:be.id,updates:{status:"rejected"}})},disabled:S.isPending||A.isPending,children:[e.jsx(Xt,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs",children:"Reject"})]})]})})]},be.id))})]})}),ze=({documents:he})=>e.jsx("div",{className:"bg-white rounded-lg border",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Document Name"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Document Type"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Application Type"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Size"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Upload Date"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Actions"})]})}),e.jsx("tbody",{children:he.map((be,ct)=>e.jsxs("tr",{className:`border-b cursor-pointer transition-colors ${ct%2===0?"bg-white hover:bg-blue-50":"bg-blue-50/30 hover:bg-blue-100/40"}`,onClick:()=>{n(be),d(be.notes||"")},children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(Af,{className:"w-4 h-4 text-primary"})}),e.jsx("span",{className:"font-medium text-sm",children:be.fileName})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(oe,{variant:"outline",children:rt(be.docType)})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(oe,{variant:"outline",className:"capitalize",children:be.applicationType})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-sm",children:Ze(be.sizeBytes)})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(oe,{className:se(be.status),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[Te(be.status),e.jsx("span",{className:"capitalize",children:be.status})]})})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-sm",children:be.createdAt?new Date(be.createdAt).toLocaleDateString():"N/A"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsxs(P,{size:"sm",variant:"outline",className:"h-8 px-3 text-blue-600 border-blue-200 hover:bg-blue-50",onClick:bt=>{bt.stopPropagation(),n(be),d(be.notes||"")},children:[e.jsx(us,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs",children:"View"})]}),be.status==="uploaded"&&e.jsxs(e.Fragment,{children:[e.jsxs(P,{size:"sm",variant:"outline",className:"h-8 px-3 text-green-600 border-green-200 hover:bg-green-50",onClick:bt=>{bt.stopPropagation(),z.mutate({applicationId:be.applicationIdFk,documentId:be.id,status:"verified",notes:""})},disabled:z.isPending,children:[e.jsx(le,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs",children:"Verify"})]}),e.jsxs(P,{size:"sm",variant:"outline",className:"h-8 px-3 text-red-600 border-red-200 hover:bg-red-50",onClick:bt=>{bt.stopPropagation(),n(be),d(be.notes||"")},disabled:z.isPending,children:[e.jsx(Xt,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs",children:"Reject"})]})]})]})})]},be.id))})]})});return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(mn,{currentPage:"applications"}),e.jsxs("div",{className:"p-6",children:[e.jsx(Et,{items:[{label:"Admin Dashboard",href:"/admin-dashboard"},{label:"Application Management"}],className:"mb-6"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Application Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Review and manage all membership applications and uploaded documents"})]}),e.jsx(Zt,{value:h,onValueChange:he=>f(he),className:"w-full mb-6",children:e.jsxs(Ht,{className:"grid w-full grid-cols-2 max-w-md",children:[e.jsx(Ae,{value:"applications",children:"Applications"}),e.jsx(Ae,{value:"documents",children:"Documents Review"})]})}),h==="applications"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(Y,{placeholder:"Search applications...",value:a,onChange:he=>i(he.target.value),className:"pl-10 w-64"})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx($,{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(et,{className:"w-4 h-4 text-primary"}),e.jsxs("span",{className:"text-sm font-medium",children:[y.length," Individual"]})]})}),e.jsx($,{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"w-4 h-4 text-primary"}),e.jsxs("span",{className:"text-sm font-medium",children:[w.length," Organization"]})]})}),e.jsx($,{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Le,{className:"w-4 h-4 text-primary"}),e.jsxs("span",{className:"text-sm font-medium",children:[re.length," Total"]})]})})]})]}),e.jsxs(Zt,{value:u,onValueChange:m,className:"w-full",children:[e.jsxs(Ht,{className:"grid w-full grid-cols-5",children:[e.jsxs(Ae,{value:"registered",children:["Registered (",W.length,")"]}),e.jsxs(Ae,{value:"email_verified",children:["Email Verified (",E.length,")"]}),e.jsxs(Ae,{value:"under_review",children:["Under Review (",M.length,")"]}),e.jsxs(Ae,{value:"approved",children:["Approved (",q.length,")"]}),e.jsxs(Ae,{value:"rejected",children:["Rejected (",R.length,")"]})]}),e.jsx(Oe,{value:"registered",className:"mt-6",children:F?e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"text-muted-foreground",children:"Loading applications..."})}):W.length>0?e.jsx(We,{applicants:W}):e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border",children:[e.jsx(Le,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Registered Applications"}),e.jsx("p",{className:"text-gray-500",children:"Applications in registered status will appear here."})]})}),e.jsx(Oe,{value:"email_verified",className:"mt-6",children:F?e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"text-muted-foreground",children:"Loading applications..."})}):E.length>0?e.jsx(We,{applicants:E}):e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border",children:[e.jsx(jt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Email Verified Applications"}),e.jsx("p",{className:"text-gray-500",children:"Applications with verified emails will appear here."})]})}),e.jsx(Oe,{value:"under_review",className:"mt-6",children:F?e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"text-muted-foreground",children:"Loading applications..."})}):M.length>0?e.jsx(We,{applicants:M}):e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border",children:[e.jsx(Je,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Applications Under Review"}),e.jsx("p",{className:"text-gray-500",children:"Applications currently being reviewed will appear here."})]})}),e.jsx(Oe,{value:"approved",className:"mt-6",children:F?e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"text-muted-foreground",children:"Loading applications..."})}):q.length>0?e.jsx(We,{applicants:q}):e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border",children:[e.jsx(le,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Approved Applications"}),e.jsx("p",{className:"text-gray-500",children:"Approved applications will appear here."})]})}),e.jsx(Oe,{value:"rejected",className:"mt-6",children:F?e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"text-muted-foreground",children:"Loading applications..."})}):R.length>0?e.jsx(We,{applicants:R}):e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border",children:[e.jsx(Xt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Rejected Applications"}),e.jsx("p",{className:"text-gray-500",children:"Rejected applications will appear here."})]})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(Y,{placeholder:"Search documents...",value:a,onChange:he=>i(he.target.value),className:"pl-10 w-64"})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx($,{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Le,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm font-medium",children:[ie.length," Pending Review"]})]})}),e.jsx($,{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(le,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:"text-sm font-medium",children:[O.length," Verified"]})]})}),e.jsx($,{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xt,{className:"w-4 h-4 text-red-600"}),e.jsxs("span",{className:"text-sm font-medium",children:[te.length," Rejected"]})]})})]})]}),e.jsxs(Zt,{value:u,onValueChange:m,className:"w-full",children:[e.jsxs(Ht,{className:"grid w-full grid-cols-3 max-w-lg",children:[e.jsxs(Ae,{value:"uploaded",children:["Pending Review (",ie.length,")"]}),e.jsxs(Ae,{value:"verified",children:["Verified (",O.length,")"]}),e.jsxs(Ae,{value:"rejected",children:["Rejected (",te.length,")"]})]}),e.jsx(Oe,{value:"uploaded",className:"mt-6",children:k?e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"text-muted-foreground",children:"Loading documents..."})}):ie.length>0?e.jsx(ze,{documents:ie}):e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border",children:[e.jsx(Le,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Pending Documents"}),e.jsx("p",{className:"text-gray-500",children:"Documents awaiting review will appear here."})]})}),e.jsx(Oe,{value:"verified",className:"mt-6",children:k?e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"text-muted-foreground",children:"Loading documents..."})}):O.length>0?e.jsx(ze,{documents:O}):e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border",children:[e.jsx(le,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Verified Documents"}),e.jsx("p",{className:"text-gray-500",children:"Verified documents will appear here."})]})}),e.jsx(Oe,{value:"rejected",className:"mt-6",children:k?e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"text-muted-foreground",children:"Loading documents..."})}):te.length>0?e.jsx(ze,{documents:te}):e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border",children:[e.jsx(Xt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Rejected Documents"}),e.jsx("p",{className:"text-gray-500",children:"Rejected documents will appear here."})]})})]})]}),e.jsx(Lt,{open:!!t,onOpenChange:()=>s(null),title:t?ce(t):"Application Details",subtitle:(t==null?void 0:t.type)==="individual"?"Individual Application Review":"Organization Application Review",icon:(t==null?void 0:t.type)==="individual"?xr:qe,colorVariant:"indigo",maxWidth:"2xl",footer:{primary:{label:"Close",onClick:()=>s(null)}},children:t&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Application Type"}),e.jsx("div",{className:"p-2 border rounded capitalize",children:t.type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Application ID"}),e.jsx("div",{className:"p-2 border rounded font-mono text-sm",children:t.applicantId})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email Status"}),e.jsx("div",{className:"p-2 border rounded",children:t.emailVerified?e.jsx("span",{className:"text-green-600 font-medium",children:"✓ Verified"}):e.jsx("span",{className:"text-red-600 font-medium",children:"✗ Not Verified"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Current Status"}),e.jsx("div",{className:"p-2 border rounded capitalize",children:t.status.replace("_"," ")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email"}),e.jsx("div",{className:"p-2 border rounded",children:t.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Review Notes"}),e.jsx(kt,{placeholder:"Add notes about this application...",value:l,onChange:he=>o(he.target.value),className:"mt-1"})]}),e.jsxs("div",{className:"flex space-x-2 pt-4",children:[e.jsxs(P,{onClick:()=>Ke("under_review"),className:"bg-yellow-600 hover:bg-yellow-700 text-white",disabled:S.isPending||A.isPending,children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"Set Under Review"]}),e.jsxs(P,{onClick:()=>Ke("approved"),className:"bg-green-600 hover:bg-green-700 text-white",disabled:S.isPending||A.isPending,children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Approve"]}),e.jsxs(P,{onClick:()=>Ke("rejected"),variant:"destructive",disabled:S.isPending||A.isPending,children:[e.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Reject"]})]})]})}),e.jsx(Lt,{open:!!r,onOpenChange:()=>{n(null),d("")},title:(r==null?void 0:r.fileName)||"Document Details",subtitle:"Document Review and Verification",icon:Af,colorVariant:"purple",maxWidth:"2xl",footer:{primary:{label:"Close",onClick:()=>{n(null),d("")}}},children:r&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Document Type"}),e.jsx("div",{className:"p-2 border rounded",children:rt(r.docType)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"File Size"}),e.jsx("div",{className:"p-2 border rounded",children:Ze(r.sizeBytes)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Application Type"}),e.jsx("div",{className:"p-2 border rounded capitalize",children:r.applicationType})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Current Status"}),e.jsx("div",{className:"p-2 border rounded capitalize",children:e.jsx(oe,{className:se(r.status),children:r.status})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"File Name"}),e.jsx("div",{className:"p-2 border rounded font-mono text-sm",children:r.fileName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Uploaded On"}),e.jsx("div",{className:"p-2 border rounded",children:r.createdAt?new Date(r.createdAt).toLocaleString():"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Review Notes"}),e.jsx(kt,{placeholder:"Add notes about this document...",value:c,onChange:he=>d(he.target.value),className:"mt-1"})]}),r.status==="uploaded"&&e.jsxs("div",{className:"flex space-x-2 pt-4",children:[e.jsxs(P,{onClick:()=>ot("verified"),className:"bg-green-600 hover:bg-green-700 text-white",disabled:z.isPending,children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Verify Document"]}),e.jsxs(P,{onClick:()=>ot("rejected"),variant:"destructive",disabled:z.isPending,children:[e.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Reject Document"]})]}),r.status!=="uploaded"&&r.notes&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Previous Notes"}),e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:r.notes})]})]})})]})]})}function nle(){var R,ie,O,te;const[t,s]=p.useState(""),[r,n]=p.useState("all"),[a,i]=p.useState("all"),[l,o]=p.useState("all"),[c,d]=p.useState(null),[u,m]=p.useState(!1),[h,f]=p.useState(!1),[,b]=Xe(),{user:x,isLoading:v}=St(),{toast:g}=tt(),[y,j]=p.useState({memberId:"",organizationId:"",amount:"",purpose:"membership_fee",paymentMethod:"cash",reference:"",description:"",paidAt:new Date().toISOString().split("T")[0]});if(!v&&!x)return b("/auth"),null;if(v)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:"Loading..."})});const{data:w={},isLoading:N}=Ge({queryKey:["/api/admin/finance/stats"]}),{data:_=[],isLoading:k,refetch:S}=Ge({queryKey:["/api/admin/payments"]}),{data:A=[]}=Ge({queryKey:["/api/admin/payments/recent"]}),z=$e({mutationFn:async({id:se,status:Te})=>Be("PUT",`/api/admin/payments/${se}/status`,{status:Te}),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/admin/payments"]}),st.invalidateQueries({queryKey:["/api/admin/finance/stats"]}),g({title:"Success",description:"Payment status updated successfully"}),m(!1)},onError:se=>{g({title:"Error",description:se.message||"Failed to update payment status",variant:"destructive"})}}),re=$e({mutationFn:async se=>Be("POST","/api/admin/payments/record",{...se,amount:parseFloat(se.amount)*100,status:"completed"}),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/admin/payments"]}),st.invalidateQueries({queryKey:["/api/admin/finance/stats"]}),g({title:"Success",description:"Payment recorded successfully"}),f(!1),j({memberId:"",organizationId:"",amount:"",purpose:"membership_fee",paymentMethod:"cash",reference:"",description:"",paidAt:new Date().toISOString().split("T")[0]})},onError:se=>{g({title:"Error",description:se.message||"Failed to record payment",variant:"destructive"})}}),F=_.filter(se=>{var Ze,rt;const Te=!t||se.id.toLowerCase().includes(t.toLowerCase())||((Ze=se.description)==null?void 0:Ze.toLowerCase().includes(t.toLowerCase()))||((rt=se.reference)==null?void 0:rt.toLowerCase().includes(t.toLowerCase())),Ke=r==="all"||se.status===r,ot=a==="all"||se.purpose===a,ce=l==="all"||se.paymentMethod===l;return Te&&Ke&&ot&&ce}),B=se=>{switch(se){case"completed":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"failed":return"bg-red-100 text-red-800 border-red-200";case"cancelled":return"bg-gray-100 text-gray-800 border-gray-200";case"processing":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},U=se=>{switch(se){case"completed":return e.jsx(No,{className:"w-3 h-3"});case"pending":return e.jsx(ft,{className:"w-3 h-3"});case"failed":return e.jsx(ui,{className:"w-3 h-3"});case"cancelled":return e.jsx(ui,{className:"w-3 h-3"});case"processing":return e.jsx(ws,{className:"w-3 h-3 animate-spin"});default:return e.jsx(Js,{className:"w-3 h-3"})}},W=se=>{const Te=typeof se=="string"?parseFloat(se):se;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Te)},E=()=>{const se=[["Payment ID","Reference","Type","Method","Amount","Status","Date","Payer","Description"].join(","),...F.map(ce=>[ce.id,ce.reference||"",ce.purpose||"",ce.paymentMethod||"",ce.amount,ce.status||"",ce.createdAt?new Date(ce.createdAt).toISOString().split("T")[0]:"",ce.member?`${ce.member.firstName} ${ce.member.lastName}`:ce.organization?ce.organization.name:"",`"${ce.description||""}"`].join(","))].join("\\n"),Te=new Blob([se],{type:"text/csv"}),Ke=URL.createObjectURL(Te),ot=document.createElement("a");ot.href=Ke,ot.download=`eacz-finance-${new Date().toISOString().split("T")[0]}.csv`,ot.click(),URL.revokeObjectURL(Ke)},M=se=>{d(se),m(!0)},q=()=>{if(!y.amount||parseFloat(y.amount)<=0){g({title:"Validation Error",description:"Please enter a valid amount",variant:"destructive"});return}re.mutate(y)};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(mn,{currentPage:"finance"}),e.jsxs("div",{className:"p-6",children:[e.jsx(Et,{items:[{label:"Admin Dashboard",href:"/admin-dashboard"},{label:"Finance Dashboard"}],className:"mb-6"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Finance Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Monitor payments, revenue, and financial performance"})]}),e.jsx(zo,{title:"Quick Actions",description:"Streamline your financial operations",actions:[{icon:gs,label:"Record Payment",action:()=>f(!0),color:"text-emerald-600",bg:"bg-emerald-100",testId:"button-record-payment"},{icon:Wt,label:"Export Data",action:E,color:"text-blue-600",bg:"bg-blue-100",testId:"button-export-data"},{icon:yd,label:"Generate Reports",action:()=>g({title:"Feature Coming Soon",description:"Financial reports will be available soon."}),color:"text-purple-600",bg:"bg-purple-100",testId:"button-generate-reports"},{icon:ws,label:"Renewal Fees",action:()=>b("/admin/renewals"),color:"text-amber-600",bg:"bg-amber-100",testId:"button-renewal-fees"},{icon:Tf,label:"Create Invoice",action:()=>g({title:"Feature Coming Soon",description:"Invoice generation will be available soon."}),color:"text-violet-600",bg:"bg-violet-100",testId:"button-create-invoice"},{icon:ws,label:"Refresh Data",action:()=>S(),color:"text-cyan-600",bg:"bg-cyan-100",testId:"button-refresh-data"}]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(Er,{icon:Gr,title:"Total Revenue",value:W(w.totalRevenue||0),trend:"↗ 8%",trendText:"from last month",iconColor:"text-green-600",iconBg:"bg-green-100"}),e.jsx(Er,{icon:sl,title:"Monthly Revenue",value:W(w.monthlyRevenue||0),trend:"↗ 15%",trendText:"this month",iconColor:"text-blue-600",iconBg:"bg-blue-100"}),e.jsx(Er,{icon:Qt,title:"Pending Payments",value:((R=w.pendingPayments)==null?void 0:R.toString())||"0",trend:"3 urgent",trendText:"require attention",iconColor:"text-orange-600",iconBg:"bg-orange-100"}),e.jsx(Er,{icon:dt,title:"Completed Today",value:((ie=w.completedPayments)==null?void 0:ie.toString())||"0",trend:"↗ 12%",trendText:"vs yesterday",iconColor:"text-purple-600",iconBg:"bg-purple-100"})]}),e.jsxs(Zt,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(Ht,{className:"bg-muted",children:[e.jsx(Ae,{value:"overview",children:"Overview"}),e.jsx(Ae,{value:"payments",children:"All Payments"}),e.jsx(Ae,{value:"analytics",children:"Analytics"})]}),e.jsx(Oe,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(Gr,{className:"w-5 h-5 mr-2"}),"Revenue Breakdown"]})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:"Membership Fees"}),e.jsx("span",{className:"font-semibold text-green-700",children:W(w.membershipFees||0)})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:"Application Fees"}),e.jsx("span",{className:"font-semibold text-blue-700",children:W(w.applicationFees||0)})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:"Event Fees"}),e.jsx("span",{className:"font-semibold text-purple-700",children:W(w.eventFees||0)})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:"Renewal Fees"}),e.jsx("span",{className:"font-semibold text-orange-700",children:W(w.renewalFees||0)})]})]})})]}),e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(sl,{className:"w-5 h-5 mr-2"}),"Recent Transactions"]})}),e.jsx(V,{children:e.jsx("div",{className:"space-y-3",children:A.slice(0,5).map(se=>{var Te,Ke;return e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer",onClick:()=>M(se),children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:W(parseFloat(se.amount))}),e.jsxs("p",{className:"text-sm text-gray-600",children:[((Te=se.purpose)==null?void 0:Te.replace(/_/g," "))||"N/A"," • ",(Ke=se.paymentMethod)==null?void 0:Ke.replace(/_/g," ")]})]}),e.jsxs(oe,{className:`${B(se.status||"")} flex items-center gap-1`,children:[U(se.status||""),se.status]})]},se.id)})})})]})]})}),e.jsx(Oe,{value:"payments",children:e.jsxs($,{children:[e.jsx(J,{children:e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs(ee,{className:"flex items-center",children:[e.jsx(Qt,{className:"w-5 h-5 mr-2"}),"Payment Management"]}),e.jsxs(Gt,{className:"mt-2",children:["View and manage all payments (",F.length," of ",_.length,")"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(Y,{placeholder:"Search payments...",value:t,onChange:se=>s(se.target.value),className:"pl-10 w-64"})]}),e.jsxs(Ie,{value:r,onValueChange:n,children:[e.jsx(De,{className:"w-32",children:e.jsx(Fe,{placeholder:"Status"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"all",children:"All Status"}),e.jsx(D,{value:"completed",children:"Completed"}),e.jsx(D,{value:"pending",children:"Pending"}),e.jsx(D,{value:"processing",children:"Processing"}),e.jsx(D,{value:"failed",children:"Failed"}),e.jsx(D,{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs(Ie,{value:a,onValueChange:i,children:[e.jsx(De,{className:"w-40",children:e.jsx(Fe,{placeholder:"Type"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"all",children:"All Types"}),e.jsx(D,{value:"membership_fee",children:"Membership"}),e.jsx(D,{value:"application_fee",children:"Application"}),e.jsx(D,{value:"event_fee",children:"Event"}),e.jsx(D,{value:"renewal_fee",children:"Renewal"})]})]}),e.jsxs(Ie,{value:l,onValueChange:o,children:[e.jsx(De,{className:"w-40",children:e.jsx(Fe,{placeholder:"Method"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"all",children:"All Methods"}),e.jsx(D,{value:"cash",children:"Cash"}),e.jsx(D,{value:"paynow_ecocash",children:"PayNow Ecocash"}),e.jsx(D,{value:"paynow_onemoney",children:"PayNow OneMoney"}),e.jsx(D,{value:"bank_transfer",children:"Bank Transfer"}),e.jsx(D,{value:"stripe_card",children:"Card"})]})]}),e.jsxs(P,{variant:"outline",onClick:E,disabled:F.length===0,children:[e.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})}),e.jsx(V,{children:k?e.jsx("div",{className:"text-center py-8",children:"Loading payments..."}):F.length>0?e.jsx("div",{className:"space-y-2",children:F.map(se=>{var Te,Ke;return e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>M(se),children:[e.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Qt,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium truncate",children:se.description||((Te=se.purpose)==null?void 0:Te.replace(/_/g," "))}),se.reference&&e.jsxs(oe,{variant:"outline",className:"text-xs",children:["#",se.reference]})]}),e.jsxs("p",{className:"text-sm text-gray-600 truncate",children:[se.member?`${se.member.firstName} ${se.member.lastName}`:se.organization?se.organization.name:"N/A"," •",(Ke=se.paymentMethod)==null?void 0:Ke.replace(/_/g," ")," •",se.createdAt?new Date(se.createdAt).toLocaleDateString():"N/A"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 flex-shrink-0",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold",children:W(parseFloat(se.amount))}),e.jsxs(oe,{className:`${B(se.status||"")} flex items-center gap-1 mt-1`,children:[U(se.status||""),se.status]})]}),e.jsx(P,{variant:"ghost",size:"sm",onClick:ot=>{ot.stopPropagation(),M(se)},children:e.jsx(us,{className:"w-4 h-4"})})]})]},se.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Qt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Payments Found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No payments match your current filters."}),e.jsx(P,{onClick:()=>{s(""),n("all"),i("all"),o("all")},children:"Clear Filters"})]})})]})}),e.jsx(Oe,{value:"analytics",children:e.jsxs($,{children:[e.jsxs(J,{children:[e.jsx(ee,{children:"Payment Analytics"}),e.jsx(Gt,{children:"Detailed financial insights and trends"})]}),e.jsx(V,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(yd,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Analytics Dashboard Coming Soon"}),e.jsx("p",{className:"text-gray-500",children:"Advanced analytics and reporting features will be available here."})]})})]})})]})]}),c&&e.jsx(Lt,{open:u,onOpenChange:m,title:"Payment Details",subtitle:`Payment ID: ${c.id}`,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-muted-foreground",children:"Amount"}),e.jsx("p",{className:"text-2xl font-bold",children:W(parseFloat(c.amount))})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-muted-foreground",children:"Status"}),e.jsxs(oe,{className:`${B(c.status||"")} flex items-center gap-1 w-fit mt-1`,children:[U(c.status||""),c.status]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-muted-foreground",children:"Payment Method"}),e.jsx("p",{className:"font-medium mt-1",children:((O=c.paymentMethod)==null?void 0:O.replace(/_/g," "))||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-muted-foreground",children:"Reference"}),e.jsx("p",{className:"font-medium mt-1",children:c.reference||"N/A"})]})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-muted-foreground",children:"Purpose"}),e.jsx("p",{className:"font-medium mt-1",children:((te=c.purpose)==null?void 0:te.replace(/_/g," "))||"N/A"})]}),c.description&&e.jsxs("div",{children:[e.jsx(ue,{className:"text-muted-foreground",children:"Description"}),e.jsx("p",{className:"mt-1",children:c.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-muted-foreground",children:"Created"}),e.jsx("p",{className:"mt-1",children:c.createdAt?new Date(c.createdAt).toLocaleString():"N/A"})]}),c.paidAt&&e.jsxs("div",{children:[e.jsx(ue,{className:"text-muted-foreground",children:"Paid At"}),e.jsx("p",{className:"mt-1",children:new Date(c.paidAt).toLocaleString()})]})]}),c.member&&e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsxs(ue,{className:"text-muted-foreground flex items-center gap-2",children:[e.jsx(xr,{className:"w-4 h-4"}),"Member"]}),e.jsxs("p",{className:"font-medium mt-1",children:[c.member.firstName," ",c.member.lastName]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:c.member.email})]}),c.organization&&e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsxs(ue,{className:"text-muted-foreground flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4"}),"Organization"]}),e.jsx("p",{className:"font-medium mt-1",children:c.organization.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:c.organization.email})]}),c.status==="pending"&&e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.jsxs(P,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>z.mutate({id:c.id,status:"completed"}),disabled:z.isPending,children:[e.jsx(No,{className:"w-4 h-4 mr-2"}),"Mark as Completed"]}),e.jsxs(P,{variant:"destructive",className:"flex-1",onClick:()=>z.mutate({id:c.id,status:"failed"}),disabled:z.isPending,children:[e.jsx(ui,{className:"w-4 h-4 mr-2"}),"Mark as Failed"]})]})]})}),e.jsx(Lt,{open:h,onOpenChange:f,title:"Record Manual Payment",subtitle:"Record a payment that was made offline",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"amount",children:"Amount (USD) *"}),e.jsx(Y,{id:"amount",type:"number",step:"0.01",min:"0",value:y.amount,onChange:se=>j({...y,amount:se.target.value}),placeholder:"100.00"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"paidAt",children:"Payment Date *"}),e.jsx(Y,{id:"paidAt",type:"date",value:y.paidAt,onChange:se=>j({...y,paidAt:se.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"purpose",children:"Payment Type *"}),e.jsxs(Ie,{value:y.purpose,onValueChange:se=>j({...y,purpose:se}),children:[e.jsx(De,{id:"purpose",children:e.jsx(Fe,{})}),e.jsxs(Me,{children:[e.jsx(D,{value:"membership_fee",children:"Membership Fee"}),e.jsx(D,{value:"application_fee",children:"Application Fee"}),e.jsx(D,{value:"event_fee",children:"Event Fee"}),e.jsx(D,{value:"renewal_fee",children:"Renewal Fee"}),e.jsx(D,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"paymentMethod",children:"Payment Method *"}),e.jsxs(Ie,{value:y.paymentMethod,onValueChange:se=>j({...y,paymentMethod:se}),children:[e.jsx(De,{id:"paymentMethod",children:e.jsx(Fe,{})}),e.jsxs(Me,{children:[e.jsx(D,{value:"cash",children:"Cash"}),e.jsx(D,{value:"paynow_ecocash",children:"PayNow Ecocash"}),e.jsx(D,{value:"paynow_onemoney",children:"PayNow OneMoney"}),e.jsx(D,{value:"bank_transfer",children:"Bank Transfer"}),e.jsx(D,{value:"cheque",children:"Cheque"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"reference",children:"Reference Number"}),e.jsx(Y,{id:"reference",value:y.reference,onChange:se=>j({...y,reference:se.target.value}),placeholder:"e.g., CHQ123456, TXN789012"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"description",children:"Description"}),e.jsx(kt,{id:"description",value:y.description,onChange:se=>j({...y,description:se.target.value}),placeholder:"Additional payment details...",rows:3})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(P,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),e.jsx(P,{onClick:q,disabled:re.isPending,children:re.isPending?"Recording...":"Record Payment"})]})]})})]})}function ale(){const{user:t}=St(),{toast:s}=tt(),[r,n]=p.useState("thisMonth");p.useState(""),p.useState("all");const a={totalRevenue:125450,monthlyRevenue:28300,pendingPayments:12,completedPayments:234,failedPayments:8,revenueGrowth:15.3,averageTransactionValue:425.5,totalTransactions:254},i={membership:65e3,renewals:35e3,applications:15e3,events:7450,fines:2e3,other:1e3},l=[{method:"PayNow EcoCash",count:142,amount:72500,percentage:57.8},{method:"PayNow OneMoney",count:48,amount:24600,percentage:19.6},{method:"Bank Transfer",count:35,amount:18200,percentage:14.5},{method:"Cash",count:18,amount:8150,percentage:6.5},{method:"Card",count:11,amount:2e3,percentage:1.6}],{data:o=a}=Ge({queryKey:["/api/finance/metrics",r],enabled:!!t}),{data:c=i}=Ge({queryKey:["/api/finance/revenue-breakdown",r],enabled:!!t}),{data:d=l}=Ge({queryKey:["/api/finance/payment-methods",r],enabled:!!t});Ge({queryKey:["/api/payments/recent",r],enabled:!!t});const u=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h),m=h=>{s({title:"Exporting Report",description:`Generating ${h} report...`})};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(mn,{currentPage:"finance",title:"Finance Dashboard",subtitle:"Comprehensive financial analytics and reporting"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Finance Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Comprehensive financial analytics and reporting"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(Ie,{value:r,onValueChange:n,children:[e.jsx(De,{className:"w-[180px]",children:e.jsx(Fe,{placeholder:"Select period"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"today",children:"Today"}),e.jsx(D,{value:"thisWeek",children:"This Week"}),e.jsx(D,{value:"thisMonth",children:"This Month"}),e.jsx(D,{value:"lastMonth",children:"Last Month"}),e.jsx(D,{value:"thisQuarter",children:"This Quarter"}),e.jsx(D,{value:"thisYear",children:"This Year"}),e.jsx(D,{value:"custom",children:"Custom Range"})]})]}),e.jsxs(P,{variant:"outline",onClick:()=>m("comprehensive"),children:[e.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Export Report"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx($,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white border-0",children:e.jsxs(V,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Total Revenue"}),e.jsx("p",{className:"text-3xl font-bold",children:u(o.totalRevenue)})]}),e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(Gr,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(sl,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:["+",o.revenueGrowth,"% from last period"]})]})]})}),e.jsx($,{className:"bg-gradient-to-br from-green-500 to-green-600 text-white border-0",children:e.jsxs(V,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm mb-1",children:"This Month"}),e.jsx("p",{className:"text-3xl font-bold",children:u(o.monthlyRevenue)})]}),e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(dt,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(at,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:[o.totalTransactions," transactions"]})]})]})}),e.jsx($,{className:"bg-gradient-to-br from-orange-500 to-orange-600 text-white border-0",children:e.jsxs(V,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-100 text-sm mb-1",children:"Pending Payments"}),e.jsx("p",{className:"text-3xl font-bold",children:o.pendingPayments})]}),e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(ft,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Js,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Requires attention"})]})]})}),e.jsx($,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white border-0",children:e.jsxs(V,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-sm mb-1",children:"Avg Transaction"}),e.jsx("p",{className:"text-3xl font-bold",children:u(o.averageTransactionValue)})]}),e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(sl,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(le,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:[o.completedPayments," completed"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[e.jsxs($,{className:"lg:col-span-2",children:[e.jsxs(J,{children:[e.jsxs(ee,{className:"flex items-center",children:[e.jsx(A9,{className:"w-5 h-5 mr-2"}),"Revenue Breakdown"]}),e.jsx(Gt,{children:"Revenue distribution by category"})]}),e.jsx(V,{children:e.jsx("div",{className:"space-y-4",children:Object.entries(c).map(([h,f])=>{const b=f/o.totalRevenue*100;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium capitalize",children:h}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[u(f)," (",b.toFixed(1),"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all",style:{width:`${b}%`}})})]},h)})})})]}),e.jsxs($,{children:[e.jsxs(J,{children:[e.jsxs(ee,{className:"flex items-center",children:[e.jsx(Qt,{className:"w-5 h-5 mr-2"}),"Payment Methods"]}),e.jsx(Gt,{children:"Popular payment options"})]}),e.jsx(V,{children:e.jsx("div",{className:"space-y-4",children:d.map((h,f)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm",children:h.method}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[h.count," transactions"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold",children:u(h.amount)}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[h.percentage,"%"]})]})]},f))})})]})]}),e.jsxs($,{className:"mb-6",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(yd,{className:"w-5 h-5 mr-2"}),"Transaction Analysis"]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs(P,{variant:"outline",size:"sm",onClick:()=>m("transactions"),children:[e.jsx(Wt,{className:"w-4 h-4 mr-1"}),"Export"]})})]})}),e.jsx(V,{children:e.jsxs(Zt,{defaultValue:"overview",children:[e.jsxs(Ht,{children:[e.jsx(Ae,{value:"overview",children:"Overview"}),e.jsx(Ae,{value:"trends",children:"Trends"}),e.jsx(Ae,{value:"comparisons",children:"Comparisons"})]}),e.jsx(Oe,{value:"overview",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-green-800",children:"Completed"}),e.jsx(le,{className:"w-4 h-4 text-green-600"})]}),e.jsx("div",{className:"text-2xl font-bold text-green-900",children:o.completedPayments}),e.jsx("div",{className:"text-xs text-green-700 mt-1",children:"92.1% success rate"})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Pending"}),e.jsx(ft,{className:"w-4 h-4 text-yellow-600"})]}),e.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:o.pendingPayments}),e.jsx("div",{className:"text-xs text-yellow-700 mt-1",children:"Awaiting confirmation"})]}),e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-red-800",children:"Failed"}),e.jsx(Js,{className:"w-4 h-4 text-red-600"})]}),e.jsx("div",{className:"text-2xl font-bold text-red-900",children:o.failedPayments}),e.jsx("div",{className:"text-xs text-red-700 mt-1",children:"3.1% failure rate"})]})]})}),e.jsx(Oe,{value:"trends",className:"space-y-4",children:e.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx(yd,{className:"w-12 h-12 mx-auto text-gray-400 mb-2"}),e.jsx("p",{className:"text-muted-foreground",children:"Revenue trends chart"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Chart visualization would go here"})]})})}),e.jsx(Oe,{value:"comparisons",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Month-over-Month"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-2xl font-bold",children:u(o.monthlyRevenue)}),e.jsxs(oe,{className:"bg-green-100 text-green-800",children:[e.jsx(sl,{className:"w-3 h-3 mr-1"}),"+",o.revenueGrowth,"%"]})]})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Year-over-Year"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-2xl font-bold",children:u(o.totalRevenue)}),e.jsxs(oe,{className:"bg-green-100 text-green-800",children:[e.jsx(sl,{className:"w-3 h-3 mr-1"}),"+23.5%"]})]})]})]})})]})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Quick Actions"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Common financial operations and shortcuts"})]})}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[e.jsxs(P,{className:"group relative h-32 rounded-3xl bg-gradient-to-br from-emerald-400 via-emerald-300 to-teal-300 hover:from-emerald-500 hover:via-emerald-400 hover:to-teal-400 border-0 shadow-lg hover:shadow-xl hover:shadow-emerald-300/40 transition-all duration-300 ease-out hover:scale-105 active:scale-95 flex flex-col items-center justify-center text-white overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-emerald-600/10 to-transparent"}),e.jsx("div",{className:"relative z-10 w-12 h-12 rounded-2xl bg-white/30 backdrop-blur-sm group-hover:bg-white/40 flex items-center justify-center mb-3 transition-all duration-300 group-hover:scale-110 group-hover:rotate-6",children:e.jsx(Tf,{className:"w-6 h-6 group-hover:scale-110 transition-transform duration-300"})}),e.jsx("span",{className:"relative z-10 text-sm font-semibold text-center leading-tight tracking-wide drop-shadow-sm",children:"Generate Invoice"}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-20 h-20 bg-white/20 rounded-full blur-2xl"})]}),e.jsxs(P,{className:"group relative h-32 rounded-3xl bg-gradient-to-br from-blue-400 via-blue-300 to-sky-300 hover:from-blue-500 hover:via-blue-400 hover:to-sky-400 border-0 shadow-lg hover:shadow-xl hover:shadow-blue-300/40 transition-all duration-300 ease-out hover:scale-105 active:scale-95 flex flex-col items-center justify-center text-white overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-blue-600/10 to-transparent"}),e.jsx("div",{className:"relative z-10 w-12 h-12 rounded-2xl bg-white/30 backdrop-blur-sm group-hover:bg-white/40 flex items-center justify-center mb-3 transition-all duration-300 group-hover:scale-110 group-hover:rotate-6",children:e.jsx(Le,{className:"w-6 h-6 group-hover:scale-110 transition-transform duration-300"})}),e.jsx("span",{className:"relative z-10 text-sm font-semibold text-center leading-tight tracking-wide drop-shadow-sm",children:"Financial Report"}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-20 h-20 bg-white/20 rounded-full blur-2xl"})]}),e.jsxs(P,{className:"group relative h-32 rounded-3xl bg-gradient-to-br from-violet-400 via-violet-300 to-fuchsia-300 hover:from-violet-500 hover:via-violet-400 hover:to-fuchsia-400 border-0 shadow-lg hover:shadow-xl hover:shadow-violet-300/40 transition-all duration-300 ease-out hover:scale-105 active:scale-95 flex flex-col items-center justify-center text-white overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-violet-600/10 to-transparent"}),e.jsx("div",{className:"relative z-10 w-12 h-12 rounded-2xl bg-white/30 backdrop-blur-sm group-hover:bg-white/40 flex items-center justify-center mb-3 transition-all duration-300 group-hover:scale-110 group-hover:rotate-6",children:e.jsx(ws,{className:"w-6 h-6 group-hover:scale-110 transition-transform duration-300"})}),e.jsx("span",{className:"relative z-10 text-sm font-semibold text-center leading-tight tracking-wide drop-shadow-sm",children:"Process Refund"}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-20 h-20 bg-white/20 rounded-full blur-2xl"})]}),e.jsxs(P,{className:"group relative h-32 rounded-3xl bg-gradient-to-br from-amber-400 via-orange-300 to-yellow-300 hover:from-amber-500 hover:via-orange-400 hover:to-yellow-400 border-0 shadow-lg hover:shadow-xl hover:shadow-amber-300/40 transition-all duration-300 ease-out hover:scale-105 active:scale-95 flex flex-col items-center justify-center text-white overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-amber-600/10 to-transparent"}),e.jsx("div",{className:"relative z-10 w-12 h-12 rounded-2xl bg-white/30 backdrop-blur-sm group-hover:bg-white/40 flex items-center justify-center mb-3 transition-all duration-300 group-hover:scale-110 group-hover:rotate-6",children:e.jsx(K9,{className:"w-6 h-6 group-hover:scale-110 transition-transform duration-300"})}),e.jsx("span",{className:"relative z-10 text-sm font-semibold text-center leading-tight tracking-wide drop-shadow-sm",children:"Reconciliation"}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-20 h-20 bg-white/20 rounded-full blur-2xl"})]})]})]})]})]})}function ile(){const{toast:t}=tt(),[,s]=Xe(),[r,n]=p.useState({organizationName:"",contactEmail:"",phone:"",website:"",membershipFee:0,applicationFee:0,renewalDeadline:0,cpdRequirement:0,maxLoginAttempts:0,sessionTimeout:0,passwordMinLength:0,accountLockout:0,jwtExpiry:0,refreshTokenExpiry:0,apiRateLimit:0,smtpHost:"",smtpPort:0,smtpUsername:"",welcomeEmail:!1,paymentReminder:!1}),{data:a,isLoading:i,refetch:l}=Ge({queryKey:["/api/settings"],queryFn:async()=>{console.log("Fetching settings from API...");const m=await Be("GET","/api/settings");return console.log("Received settings:",m),m},staleTime:0,gcTime:0});p.useEffect(()=>{a&&(console.log("Updating local settings state with fetched data:",a),n(a))},[a]);const o=$e({mutationFn:async m=>{console.log("Saving settings:",Object.keys(m).length,"fields");const h=await Be("PUT","/api/settings",m);return console.log("Save response:",h),h},onSuccess:m=>{st.invalidateQueries({queryKey:["/api/settings"]}),m.failed&&m.failed>0?(t({title:"Partially Saved",description:`${m.saved} settings saved, ${m.failed} failed. Check console for details.`,variant:"destructive"}),console.error("Failed settings:",m.failures)):t({title:"Settings Saved",description:`Successfully saved ${m.count||m.saved} settings to the database.`})},onError:m=>{console.error("Settings save error:",m),t({title:"Error",description:m.message||"Failed to save settings. Please try again.",variant:"destructive"})}}),c=()=>{o.mutate(r)},d=async m=>{try{switch(m){case"add-member":s("/admin-dashboard/members");break;case"add-organization":s("/admin-dashboard/organizations");break;case"view-reports":s("/admin-dashboard/finance");break;case"manage-events":s("/event-management");break;case"backup":t({title:"Database Backup",description:"Database backup functionality will be implemented soon."});break;case"export-data":t({title:"Data Export",description:"Data export functionality will be implemented soon."});break;default:t({title:"Action Completed",description:`${m} completed successfully.`})}}catch{t({title:"Action Failed",description:"Failed to complete the action. Please try again.",variant:"destructive"})}},u=(m,h)=>{n(f=>({...f,[m]:h}))};return i?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx(ws,{className:"w-8 h-8 animate-spin text-primary"})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(mn,{currentPage:"settings",title:"EACZ Admin Settings",subtitle:"Manage system configuration and preferences"}),e.jsx("div",{className:"flex-1 p-4 lg:p-6",children:e.jsxs("div",{className:"max-w-full space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground mb-2",children:"System Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure system settings, user preferences, and security options"})]}),e.jsx(zo,{title:"Quick Actions",description:"Commonly used administrative actions",actions:[{icon:Us,label:"Add Member",action:()=>d("add-member"),color:"text-blue-600",bg:"bg-blue-100",testId:"quick-action-add-member"},{icon:qe,label:"Add Organization",action:()=>d("add-organization"),color:"text-emerald-600",bg:"bg-emerald-100",testId:"quick-action-add-organization"},{icon:yd,label:"View Reports",action:()=>d("view-reports"),color:"text-purple-600",bg:"bg-purple-100",testId:"quick-action-view-reports"},{icon:dt,label:"Manage Events",action:()=>d("manage-events"),color:"text-amber-600",bg:"bg-amber-100",testId:"quick-action-manage-events"},{icon:b0,label:"Backup Database",action:()=>d("backup"),color:"text-violet-600",bg:"bg-violet-100",testId:"quick-action-backup"},{icon:Wt,label:"Export Data",action:()=>d("export-data"),color:"text-cyan-600",bg:"bg-cyan-100",testId:"quick-action-export-data"}]}),e.jsxs(Zt,{defaultValue:"general",className:"space-y-6",children:[e.jsxs(Ht,{className:"grid w-full grid-cols-2 md:grid-cols-3 lg:grid-cols-5 h-auto",children:[e.jsxs(Ae,{value:"general",className:"flex items-center gap-2 p-3",children:[e.jsx(Tr,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"General"})]}),e.jsxs(Ae,{value:"users",className:"flex items-center gap-2 p-3",children:[e.jsx(et,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Users"})]}),e.jsxs(Ae,{value:"security",className:"flex items-center gap-2 p-3",children:[e.jsx(ds,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Security"})]}),e.jsxs(Ae,{value:"notifications",className:"flex items-center gap-2 p-3",children:[e.jsx(ho,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Notifications"})]}),e.jsxs(Ae,{value:"system",className:"flex items-center gap-2 p-3",children:[e.jsx(b0,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"System"})]})]}),e.jsxs(Oe,{value:"general",className:"space-y-6",children:[e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center gap-2",children:[e.jsx(JT,{className:"w-5 h-5"}),"Organization Settings"]})}),e.jsx(V,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"organization-name",children:"Organization Name"}),e.jsx(Y,{id:"organization-name",value:r.organizationName,onChange:m=>u("organizationName",m.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"contact-email",children:"Contact Email"}),e.jsx(Y,{id:"contact-email",type:"email",value:r.contactEmail,onChange:m=>u("contactEmail",m.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"phone",children:"Phone Number"}),e.jsx(Y,{id:"phone",value:r.phone,onChange:m=>u("phone",m.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"website",children:"Website"}),e.jsx(Y,{id:"website",value:r.website,onChange:m=>u("website",m.target.value)})]})]})})]}),e.jsxs($,{children:[e.jsx(J,{children:e.jsx(ee,{children:"Business Settings"})}),e.jsx(V,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"membership-fee",children:"Annual Membership Fee (USD)"}),e.jsx(Y,{id:"membership-fee",type:"number",value:r.membershipFee,onChange:m=>u("membershipFee",Number(m.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"application-fee",children:"Application Fee (USD)"}),e.jsx(Y,{id:"application-fee",type:"number",value:r.applicationFee,onChange:m=>u("applicationFee",Number(m.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"renewal-deadline",children:"Renewal Deadline (Days)"}),e.jsx(Y,{id:"renewal-deadline",type:"number",value:r.renewalDeadline,onChange:m=>u("renewalDeadline",Number(m.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"cpd-requirement",children:"Required CPD Points"}),e.jsx(Y,{id:"cpd-requirement",type:"number",value:r.cpdRequirement,onChange:m=>u("cpdRequirement",Number(m.target.value))})]})]})})]})]}),e.jsx(Oe,{value:"users",className:"space-y-6",children:e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center gap-2",children:[e.jsx(et,{className:"w-5 h-5"}),"User Management Settings"]})}),e.jsx(V,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"max-login-attempts",children:"Max Login Attempts"}),e.jsx(Y,{id:"max-login-attempts",type:"number",value:r.maxLoginAttempts,onChange:m=>u("maxLoginAttempts",Number(m.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"session-timeout",children:"Session Timeout (Minutes)"}),e.jsx(Y,{id:"session-timeout",type:"number",value:r.sessionTimeout,onChange:m=>u("sessionTimeout",Number(m.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"password-min-length",children:"Minimum Password Length"}),e.jsx(Y,{id:"password-min-length",type:"number",value:r.passwordMinLength,onChange:m=>u("passwordMinLength",Number(m.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"account-lockout",children:"Account Lockout Duration (Minutes)"}),e.jsx(Y,{id:"account-lockout",type:"number",value:r.accountLockout,onChange:m=>u("accountLockout",Number(m.target.value))})]})]})})]})}),e.jsx(Oe,{value:"security",className:"space-y-6",children:e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center gap-2",children:[e.jsx(ds,{className:"w-5 h-5"}),"Security Configuration"]})}),e.jsx(V,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"jwt-expiry",children:"JWT Token Expiry (Hours)"}),e.jsx(Y,{id:"jwt-expiry",type:"number",value:r.jwtExpiry,onChange:m=>u("jwtExpiry",Number(m.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"refresh-token-expiry",children:"Refresh Token Expiry (Days)"}),e.jsx(Y,{id:"refresh-token-expiry",type:"number",value:r.refreshTokenExpiry,onChange:m=>u("refreshTokenExpiry",Number(m.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"api-rate-limit",children:"API Rate Limit (Requests/Hour)"}),e.jsx(Y,{id:"api-rate-limit",type:"number",value:r.apiRateLimit,onChange:m=>u("apiRateLimit",Number(m.target.value))})]})]})})]})}),e.jsxs(Oe,{value:"notifications",className:"space-y-6",children:[e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center gap-2",children:[e.jsx(jt,{className:"w-5 h-5"}),"Email Settings"]})}),e.jsx(V,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"smtp-host",children:"SMTP Host"}),e.jsx(Y,{id:"smtp-host",value:r.smtpHost,onChange:m=>u("smtpHost",m.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"smtp-port",children:"SMTP Port"}),e.jsx(Y,{id:"smtp-port",type:"number",value:r.smtpPort,onChange:m=>u("smtpPort",Number(m.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"smtp-username",children:"SMTP Username"}),e.jsx(Y,{id:"smtp-username",value:r.smtpUsername,onChange:m=>u("smtpUsername",m.target.value)})]})]})})]}),e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center gap-2",children:[e.jsx(ho,{className:"w-5 h-5"}),"Notification Preferences"]})}),e.jsx(V,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"welcome-email",children:"Send Welcome Email"}),e.jsxs("select",{id:"welcome-email",className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:r.welcomeEmail?"true":"false",onChange:m=>u("welcomeEmail",m.target.value==="true"),children:[e.jsx("option",{value:"true",children:"Enabled"}),e.jsx("option",{value:"false",children:"Disabled"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"payment-reminder",children:"Payment Reminders"}),e.jsxs("select",{id:"payment-reminder",className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:r.paymentReminder?"true":"false",onChange:m=>u("paymentReminder",m.target.value==="true"),children:[e.jsx("option",{value:"true",children:"Enabled"}),e.jsx("option",{value:"false",children:"Disabled"})]})]})]})})]})]}),e.jsx(Oe,{value:"system",className:"space-y-6",children:e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center gap-2",children:[e.jsx(b0,{className:"w-5 h-5"}),"System Information"]})}),e.jsx(V,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"System Version"}),e.jsx("p",{className:"text-sm text-gray-600",children:"v2.1.0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Database Version"}),e.jsx("p",{className:"text-sm text-gray-600",children:"PostgreSQL 14.2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Server Status"}),e.jsx("p",{className:"text-sm text-green-600",children:"Online"})]})]})})]})})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsxs(P,{onClick:()=>{console.log("Manual reload triggered"),l()},variant:"outline",className:"flex items-center gap-2",children:[e.jsx(ws,{className:"w-4 h-4"}),"Reload from Database"]}),e.jsx(P,{onClick:c,disabled:o.isPending,className:"flex items-center gap-2",children:o.isPending?e.jsxs(e.Fragment,{children:[e.jsx(ws,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Vr,{className:"w-4 h-4"}),"Save Settings"]})})]})]})})]})})}const lle=I.object({email:I.string().email("Invalid email address"),role:I.enum(["admin","member_manager","case_manager","super_admin"]),password:I.string().min(8,"Password must be at least 8 characters")}),ole=I.object({password:I.string().min(8,"Password must be at least 8 characters"),confirmPassword:I.string()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function cle(){const{toast:t}=tt(),[s,r]=p.useState(""),[n,a]=p.useState("all"),[i,l]=p.useState([]),[o,c]=p.useState(!1),[d,u]=p.useState(!1),[m,h]=p.useState(null),f=It({resolver:Ft(lle),defaultValues:{email:"",role:"member_manager",password:""}}),b=It({resolver:Ft(ole),defaultValues:{password:"",confirmPassword:""}}),{data:x=[],isLoading:v}=Ge({queryKey:["/api/admin/users"]}),g=$e({mutationFn:async F=>(await Be("POST","/api/register",F)).json(),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/admin/users"]}),t({title:"User Created",description:"User has been created successfully."}),c(!1),f.reset()},onError:()=>{t({title:"Error",description:"Failed to create user.",variant:"destructive"})}});$e({mutationFn:async({id:F,updates:B})=>(await Be("PUT",`/api/admin/users/${F}`,B)).json(),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/admin/users"]}),t({title:"User Updated",description:"User has been updated successfully."})}});const y=$e({mutationFn:async F=>{const B=new Date(Date.now()+864e5);return(await Be("POST",`/api/admin/users/${F}/lock`,{lockedUntil:B})).json()},onSuccess:()=>{st.invalidateQueries({queryKey:["/api/admin/users"]}),t({title:"User Locked",description:"User account has been locked."})}}),j=$e({mutationFn:async F=>(await Be("POST",`/api/admin/users/${F}/unlock`,{})).json(),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/admin/users"]}),t({title:"User Unlocked",description:"User account has been unlocked."})}}),w=$e({mutationFn:async({id:F,password:B})=>(await Be("PUT",`/api/admin/users/${F}`,{password:B})).json(),onSuccess:()=>{t({title:"Password Reset",description:"Password has been reset successfully."}),u(!1),b.reset()}}),N=$e({mutationFn:async F=>(await Be("POST","/api/admin/users/welcome-emails",{userIds:F})).json(),onSuccess:()=>{t({title:"Welcome Emails Sent",description:`Welcome emails sent to ${i.length} users.`}),l([])}}),_=$e({mutationFn:async F=>(await Be("POST","/api/admin/users/password-reset-emails",{userIds:F})).json(),onSuccess:()=>{t({title:"Password Reset Emails Sent",description:`Password reset emails sent to ${i.length} users.`}),l([])}}),k=x.filter(F=>{const B=F.email.toLowerCase().includes(s.toLowerCase()),U=n==="all"||F.role===n;return B&&U}),S=F=>{l(B=>B.includes(F)?B.filter(U=>U!==F):[...B,F])},A=()=>{i.length===k.length?l([]):l(k.map(F=>F.id))},z=F=>{switch(F){case"super_admin":return"bg-red-100 text-red-800";case"admin":return"bg-blue-100 text-blue-800";case"member_manager":return"bg-green-100 text-green-800";case"case_manager":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},re=F=>{if(F.isLocked)return{label:"Locked",color:"bg-red-100 text-red-800",icon:oi};if(F.lastLogin){const B=new Date(F.lastLogin);if(Math.floor((Date.now()-B.getTime())/(1e3*60*60*24))>30)return{label:"Inactive",color:"bg-yellow-100 text-yellow-800",icon:ft}}return{label:"Active",color:"bg-green-100 text-green-800",icon:le}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(mn,{currentPage:"users",title:"User Management",subtitle:"Manage system users and permissions"}),e.jsx("div",{className:"flex-1 p-4 lg:p-6",children:e.jsxs("div",{className:"max-w-full space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"User Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage users, roles, and permissions"})]}),e.jsxs(P,{className:"gradient-button text-white border-0",onClick:()=>c(!0),"data-testid":"create-user-button",children:[e.jsx(Us,{className:"w-4 h-4 mr-2"}),"Add User"]})]}),e.jsx(zo,{title:"Quick Actions",description:"Commonly used user management actions",actions:[{icon:Us,label:"Add User",action:()=>c(!0),color:"text-blue-600",bg:"bg-blue-100",testId:"quick-add-user"},{icon:jt,label:"Send Welcome",action:()=>N.mutate(i),color:"text-emerald-600",bg:"bg-emerald-100",testId:"quick-send-welcome"},{icon:sp,label:"Reset Password",action:()=>_.mutate(i),color:"text-orange-600",bg:"bg-orange-100",testId:"quick-password-reset"},{icon:$p,label:"View Admins",action:()=>a("admin"),color:"text-purple-600",bg:"bg-purple-100",testId:"quick-filter-admins"},{icon:at,label:"View All Users",action:()=>a("all"),color:"text-violet-600",bg:"bg-violet-100",testId:"quick-view-all"},{icon:le,label:"Active Users",action:()=>t({title:"User Activity",description:"Viewing active users logged in the last 24 hours."}),color:"text-cyan-600",bg:"bg-cyan-100",testId:"quick-active-users"}]}),e.jsx(Lt,{open:o,onOpenChange:c,title:"Create New User",subtitle:"Add a new user to the system with appropriate permissions",icon:Us,colorVariant:"indigo",maxWidth:"2xl",footer:{secondary:{label:"Cancel",onClick:()=>c(!1),variant:"outline",testId:"button-cancel-user"},primary:{label:g.isPending?"Creating...":"Create User",onClick:f.handleSubmit(F=>g.mutate(F)),disabled:g.isPending,loading:g.isPending,testId:"button-submit-user"}},children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 p-4 rounded-xl border border-indigo-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-indigo-800 mb-4 flex items-center",children:[e.jsx(jt,{className:"w-5 h-5 mr-2"}),"Account Information"]}),e.jsx(Rt,{...f,children:e.jsx("div",{className:"space-y-4",children:e.jsx(Q,{control:f.control,name:"email",render:({field:F})=>e.jsxs(K,{children:[e.jsx(Z,{className:"text-indigo-700 font-semibold",children:"Email Address"}),e.jsx(G,{children:e.jsx(Y,{...F,type:"email","data-testid":"user-email",className:"border-indigo-300 focus:border-indigo-500 bg-white/80",placeholder:"user@eacz.co.zw"})}),e.jsx(X,{})]})})})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-xl border border-purple-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-purple-800 mb-4 flex items-center",children:[e.jsx($p,{className:"w-5 h-5 mr-2"}),"Role & Permissions"]}),e.jsx(Rt,{...f,children:e.jsx(Q,{control:f.control,name:"role",render:({field:F})=>e.jsxs(K,{children:[e.jsx(Z,{className:"text-purple-700 font-semibold",children:"User Role"}),e.jsxs(Ie,{onValueChange:F.onChange,defaultValue:F.value,children:[e.jsx(G,{children:e.jsx(De,{"data-testid":"user-role",className:"border-purple-300 focus:border-purple-500 bg-white/80",children:e.jsx(Fe,{placeholder:"Select a role"})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"member_manager",children:"👥 Member Manager"}),e.jsx(D,{value:"case_manager",children:"📋 Case Manager"}),e.jsx(D,{value:"admin",children:"⚙️ Admin"}),e.jsx(D,{value:"super_admin",children:"🔐 Super Admin"})]})]}),e.jsx(X,{})]})})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-xl border border-green-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center",children:[e.jsx(oi,{className:"w-5 h-5 mr-2"}),"Security Setup"]}),e.jsx(Rt,{...f,children:e.jsx(Q,{control:f.control,name:"password",render:({field:F})=>e.jsxs(K,{children:[e.jsx(Z,{className:"text-green-700 font-semibold",children:"Initial Password"}),e.jsx(G,{children:e.jsx(Y,{...F,type:"password","data-testid":"user-password",className:"border-green-300 focus:border-green-500 bg-white/80",placeholder:"Minimum 8 characters"})}),e.jsx(X,{}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"💡 User will be required to change password on first login"})]})})})]})]})}),e.jsxs(Zt,{defaultValue:"users",className:"space-y-6",children:[e.jsxs(Ht,{className:"grid w-full grid-cols-1 md:grid-cols-2 h-auto",children:[e.jsxs(Ae,{value:"users",className:"flex items-center gap-2 p-3",children:[e.jsx(at,{className:"w-4 h-4"}),e.jsx("span",{children:"All Users"})]}),e.jsxs(Ae,{value:"bulk-actions",className:"flex items-center gap-2 p-3",children:[e.jsx(jt,{className:"w-4 h-4"}),e.jsx("span",{children:"Bulk Actions"})]})]}),e.jsxs(Oe,{value:"users",className:"space-y-6",children:[e.jsx($,{children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(Y,{placeholder:"Search users by email...",value:s,onChange:F=>r(F.target.value),className:"pl-10","data-testid":"search-users"})]})}),e.jsxs(Ie,{value:n,onValueChange:a,children:[e.jsxs(De,{className:"w-full sm:w-48","data-testid":"filter-role",children:[e.jsx(XT,{className:"w-4 h-4 mr-2"}),e.jsx(Fe,{placeholder:"Filter by role"})]}),e.jsxs(Me,{children:[e.jsx(D,{value:"all",children:"All Roles"}),e.jsx(D,{value:"super_admin",children:"Super Admin"}),e.jsx(D,{value:"admin",children:"Admin"}),e.jsx(D,{value:"member_manager",children:"Member Manager"}),e.jsx(D,{value:"case_manager",children:"Case Manager"})]})]})]})})}),e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center justify-between",children:[e.jsxs("span",{children:["Users (",k.length,")"]}),i.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[i.length," selected"]}),e.jsx(P,{variant:"outline",size:"sm",onClick:()=>l([]),children:"Clear"})]})]})}),e.jsx(V,{children:v?e.jsx("div",{className:"text-center py-8",children:"Loading users..."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Sd,{children:[e.jsx(_d,{children:e.jsxs(Qn,{children:[e.jsx(yt,{className:"w-12",children:e.jsx(Xs,{checked:i.length===k.length,onCheckedChange:A,"data-testid":"select-all-users"})}),e.jsx(yt,{children:"Email"}),e.jsx(yt,{children:"Role"}),e.jsx(yt,{children:"Status"}),e.jsx(yt,{children:"Last Login"}),e.jsx(yt,{children:"Created"}),e.jsx(yt,{children:"Actions"})]})}),e.jsx(kd,{children:k.map((F,B)=>{const U=re(F),W=U.icon;return e.jsxs(Qn,{"data-testid":`user-row-${F.id}`,className:B%2===0?"bg-white":"bg-blue-50/30",children:[e.jsx(vt,{children:e.jsx(Xs,{checked:i.includes(F.id),onCheckedChange:()=>S(F.id),"data-testid":`select-user-${F.id}`})}),e.jsx(vt,{className:"font-medium",children:F.email}),e.jsx(vt,{children:e.jsx(oe,{className:z(F.role),children:F.role?F.role.replace(/_/g," ").replace(/\b\w/g,E=>E.toUpperCase()):"No Role"})}),e.jsx(vt,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4"}),e.jsx(oe,{className:U.color,children:U.label})]})}),e.jsx(vt,{children:F.lastLogin?new Date(F.lastLogin).toLocaleDateString():"Never"}),e.jsx(vt,{children:new Date(F.createdAt).toLocaleDateString()}),e.jsx(vt,{children:e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsxs(P,{variant:"outline",size:"sm",className:"h-8 px-3 text-blue-600 border-blue-200 hover:bg-blue-50",onClick:()=>{h(F.id),u(!0)},"data-testid":`reset-password-${F.id}`,children:[e.jsx($p,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs",children:"Reset Password"})]}),F.isLocked?e.jsxs(P,{variant:"outline",size:"sm",className:"h-8 px-3 text-green-600 border-green-200 hover:bg-green-50",onClick:()=>j.mutate(F.id),"data-testid":`unlock-user-${F.id}`,children:[e.jsx(z9,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs",children:"Unlock"})]}):e.jsxs(P,{variant:"outline",size:"sm",className:"h-8 px-3 text-red-600 border-red-200 hover:bg-red-50",onClick:()=>y.mutate(F.id),"data-testid":`lock-user-${F.id}`,children:[e.jsx(oi,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs",children:"Lock"})]})]})})]},F.id)})})]})})})]})]}),e.jsx(Oe,{value:"bulk-actions",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center gap-2",children:[e.jsx(jt,{className:"w-5 h-5"}),"Welcome Emails"]})}),e.jsxs(V,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Send welcome emails to selected users. This will include account setup instructions."}),e.jsxs(P,{onClick:()=>N.mutate(i),disabled:i.length===0||N.isPending,className:"w-full","data-testid":"send-welcome-emails",children:[e.jsx(B9,{className:"w-4 h-4 mr-2"}),N.isPending?"Sending...":`Send Welcome Emails (${i.length})`]})]})]}),e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center gap-2",children:[e.jsx(sp,{className:"w-5 h-5"}),"Password Reset Emails"]})}),e.jsxs(V,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Send password reset emails to selected users. They will receive a secure link to reset their password."}),e.jsxs(P,{onClick:()=>_.mutate(i),disabled:i.length===0||_.isPending,className:"w-full",variant:"outline","data-testid":"send-password-reset-emails",children:[e.jsx(sp,{className:"w-4 h-4 mr-2"}),_.isPending?"Sending...":`Send Reset Emails (${i.length})`]})]})]})]})})]})]})}),e.jsx(Lt,{open:d,onOpenChange:u,title:"Reset Password",subtitle:"Set a new secure password for this user account",icon:sp,colorVariant:"amber",maxWidth:"xl",footer:{secondary:{label:"Cancel",onClick:()=>u(!1),variant:"outline",testId:"button-cancel-password-reset"},primary:{label:w.isPending?"Resetting...":"Reset Password",onClick:b.handleSubmit(F=>{m&&w.mutate({id:m,password:F.password})}),disabled:w.isPending,loading:w.isPending,testId:"button-confirm-password-reset"}},children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 p-4 rounded-xl border border-amber-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-amber-800 mb-3 flex items-center",children:[e.jsx(Je,{className:"w-5 h-5 mr-2"}),"Security Notice"]}),e.jsx("div",{className:"bg-amber-100 p-3 rounded-lg border border-amber-300",children:e.jsx("p",{className:"text-sm font-medium text-amber-800",children:"🔐 This will immediately change the user's password. They will need to use the new password for their next login."})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 p-4 rounded-xl border border-red-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-red-800 mb-4 flex items-center",children:[e.jsx(oi,{className:"w-5 h-5 mr-2"}),"New Password Setup"]}),e.jsx(Rt,{...b,children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(Q,{control:b.control,name:"password",render:({field:F})=>e.jsxs(K,{children:[e.jsx(Z,{className:"text-red-700 font-semibold",children:"New Password"}),e.jsx(G,{children:e.jsx(Y,{...F,type:"password","data-testid":"new-password",className:"border-red-300 focus:border-red-500 bg-white/80",placeholder:"Enter secure password (min 8 characters)"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:b.control,name:"confirmPassword",render:({field:F})=>e.jsxs(K,{children:[e.jsx(Z,{className:"text-red-700 font-semibold",children:"Confirm New Password"}),e.jsx(G,{children:e.jsx(Y,{...F,type:"password","data-testid":"confirm-password",className:"border-red-300 focus:border-red-500 bg-white/80",placeholder:"Re-enter the same password"})}),e.jsx(X,{})]})})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-4 rounded-xl border border-blue-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-3 flex items-center",children:[e.jsx(le,{className:"w-5 h-5 mr-2"}),"Password Requirements"]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-lg border border-blue-300",children:e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2"}),"Minimum 8 characters long"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2"}),"Contains letters and numbers"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2"}),"User will be prompted to change on next login"]})]})})]})]})})]})}var AN="Switch",[dle,sce]=Gs(AN),[ule,mle]=dle(AN),EL=p.forwardRef((t,s)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:l,disabled:o,value:c="on",onCheckedChange:d,form:u,...m}=t,[h,f]=p.useState(null),b=Nt(s,j=>f(j)),x=p.useRef(!1),v=h?u||!!h.closest("form"):!0,[g=!1,y]=ta({prop:a,defaultProp:i,onChange:d});return e.jsxs(ule,{scope:r,checked:g,disabled:o,children:[e.jsx(Qe.button,{type:"button",role:"switch","aria-checked":g,"aria-required":l,"data-state":RL(g),"data-disabled":o?"":void 0,disabled:o,value:c,...m,ref:b,onClick:ke(t.onClick,j=>{y(w=>!w),v&&(x.current=j.isPropagationStopped(),x.current||j.stopPropagation())})}),v&&e.jsx(hle,{control:h,bubbles:!x.current,name:n,value:c,checked:g,required:l,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});EL.displayName=AN;var AL="SwitchThumb",TL=p.forwardRef((t,s)=>{const{__scopeSwitch:r,...n}=t,a=mle(AL,r);return e.jsx(Qe.span,{"data-state":RL(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:s})});TL.displayName=AL;var hle=t=>{const{control:s,checked:r,bubbles:n=!0,...a}=t,i=p.useRef(null),l=xg(r),o=ng(s);return p.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&m){const h=new Event("click",{bubbles:n});m.call(c,r),c.dispatchEvent(h)}},[l,r,n]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function RL(t){return t?"checked":"unchecked"}var DL=EL,ple=TL;const Xp=p.forwardRef(({className:t,...s},r)=>e.jsx(DL,{className:ye("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:r,children:e.jsx(ple,{className:ye("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Xp.displayName=DL.displayName;const fle=I.object({currentPassword:I.string().min(6,"Current password is required"),newPassword:I.string().min(8,"New password must be at least 8 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/,"Password must contain uppercase, lowercase, number and special character"),confirmPassword:I.string().min(8,"Please confirm your password")}).refine(t=>t.newPassword===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function ML(){const{toast:t}=tt(),[s,r]=p.useState(!1),[n,a]=p.useState(!1),[i,l]=p.useState(!1),o=It({resolver:Ft(fle),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),c=$e({mutationFn:async u=>await Be("PUT","/api/auth/change-password",{currentPassword:u.currentPassword,newPassword:u.newPassword}),onSuccess:()=>{t({title:"Success",description:"Password changed successfully."}),o.reset()},onError:u=>{t({title:"Error",description:u.message||"Failed to change password.",variant:"destructive"})}}),d=u=>{c.mutate(u)};return e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 shadow-lg",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center text-gray-900",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center mr-3",children:e.jsx(oi,{className:"w-4 h-4 text-white"})}),"Change Password"]})}),e.jsx(V,{children:e.jsx(Rt,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(d),className:"space-y-4",children:[e.jsx(Q,{control:o.control,name:"currentPassword",render:({field:u})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Current Password"}),e.jsx(G,{children:e.jsxs("div",{className:"relative",children:[e.jsx(Y,{...u,type:s?"text":"password",placeholder:"Enter current password","data-testid":"input-current-password"}),e.jsx(P,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(!s),children:s?e.jsx(vc,{className:"h-4 w-4"}):e.jsx(us,{className:"h-4 w-4"})})]})}),e.jsx(X,{})]})}),e.jsx(Q,{control:o.control,name:"newPassword",render:({field:u})=>e.jsxs(K,{children:[e.jsx(Z,{children:"New Password"}),e.jsx(G,{children:e.jsxs("div",{className:"relative",children:[e.jsx(Y,{...u,type:n?"text":"password",placeholder:"Enter new password","data-testid":"input-new-password"}),e.jsx(P,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(!n),children:n?e.jsx(vc,{className:"h-4 w-4"}):e.jsx(us,{className:"h-4 w-4"})})]})}),e.jsx(X,{}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Password must contain at least 8 characters with uppercase, lowercase, number and special character"})]})}),e.jsx(Q,{control:o.control,name:"confirmPassword",render:({field:u})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Confirm New Password"}),e.jsx(G,{children:e.jsxs("div",{className:"relative",children:[e.jsx(Y,{...u,type:i?"text":"password",placeholder:"Confirm new password","data-testid":"input-confirm-password"}),e.jsx(P,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!i),children:i?e.jsx(vc,{className:"h-4 w-4"}):e.jsx(us,{className:"h-4 w-4"})})]})}),e.jsx(X,{})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(P,{type:"submit",disabled:c.isPending,className:"gradient-button text-white border-0","data-testid":"button-change-password",children:c.isPending?"Changing...":"Change Password"})})]})})})]})}const xle=I.object({firstName:I.string().min(2,"First name must be at least 2 characters").optional(),lastName:I.string().min(2,"Last name must be at least 2 characters").optional(),email:I.string().email("Invalid email address"),phone:I.string().min(10,"Phone number must be at least 10 digits").optional().or(I.literal("")),department:I.string().optional(),jobTitle:I.string().optional(),notes:I.string().optional()}),gle=I.object({emailNotifications:I.boolean().default(!0),smsNotifications:I.boolean().default(!1),inAppNotifications:I.boolean().default(!0),dashboardView:I.string().default("default"),timezone:I.string().default("Africa/Harare"),language:I.string().default("en")});function ble(){var k,S,A,z,re,F,B;const{user:t}=St(),[,s]=Xe(),{toast:r}=tt(),[n,a]=p.useState(!1),[i,l]=p.useState(!1),[o,c]=p.useState("personal");p.useState(!1);const{data:d,isLoading:u}=Ge({queryKey:["/api/user/profile"],enabled:!!t}),{data:m}=Ge({queryKey:["/api/user/sessions"],enabled:!!t}),{data:h}=Ge({queryKey:["/api/user/activity"],enabled:!!t}),f=It({resolver:Ft(xle),defaultValues:{firstName:(d==null?void 0:d.firstName)||"",lastName:(d==null?void 0:d.lastName)||"",email:(d==null?void 0:d.email)||"",phone:(d==null?void 0:d.phone)||"",department:(d==null?void 0:d.department)||"",jobTitle:(d==null?void 0:d.jobTitle)||"",notes:(d==null?void 0:d.notes)||""}}),b=It({resolver:Ft(gle),defaultValues:{emailNotifications:!0,smsNotifications:!1,inAppNotifications:!0,dashboardView:"default",timezone:"Africa/Harare",language:"en"}}),x=$e({mutationFn:async U=>await Be("PUT","/api/user/profile",U),onSuccess:()=>{r({title:"Success",description:"Profile updated successfully."}),a(!1),st.invalidateQueries({queryKey:["/api/user/profile"]}),st.invalidateQueries({queryKey:["/api/user"]})},onError:U=>{r({title:"Error",description:U.message||"Failed to update profile.",variant:"destructive"})}}),v=$e({mutationFn:async U=>await Be("PUT","/api/user/preferences",U),onSuccess:()=>{r({title:"Success",description:"Preferences updated successfully."}),l(!1)},onError:U=>{r({title:"Error",description:U.message||"Failed to update preferences.",variant:"destructive"})}}),g=$e({mutationFn:async U=>{await Be("DELETE",`/api/user/sessions/${U}`)},onSuccess:()=>{r({title:"Success",description:"Session terminated successfully."}),st.invalidateQueries({queryKey:["/api/user/sessions"]})}}),y=U=>{x.mutate(U)},j=U=>{v.mutate(U)},w=U=>{var E;((E=U.target.files)==null?void 0:E[0])&&r({title:"Upload Started",description:"Profile picture upload functionality coming soon."})};if(!t)return s("/auth"),null;const N=U=>{switch(U){case"super_admin":return"bg-red-100 text-red-800 border-red-200";case"admin":return"bg-purple-100 text-purple-800 border-purple-200";case"member_manager":return"bg-blue-100 text-blue-800 border-blue-200";case"case_manager":return"bg-orange-100 text-orange-800 border-orange-200";case"accountant":return"bg-green-100 text-green-800 border-green-200";case"staff":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-slate-100 text-slate-800 border-slate-200"}},_=U=>{switch(U){case"active":return"bg-green-100 text-green-800 border-green-200";case"inactive":return"bg-gray-100 text-gray-800 border-gray-200";case"suspended":return"bg-red-100 text-red-800 border-red-200";case"locked":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-slate-100 text-slate-800 border-slate-200"}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(mn,{currentPage:"profile",title:"My Profile",subtitle:"Manage your account settings and preferences"}),e.jsx("div",{className:"flex-1 p-4 lg:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsx($,{className:"border-2 border-slate-200 shadow-lg",children:e.jsx(V,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-3xl font-bold shadow-lg",children:[(k=t.firstName)==null?void 0:k[0],(S=t.lastName)==null?void 0:S[0]]}),e.jsx("label",{htmlFor:"avatar-upload",className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:e.jsx(QT,{className:"w-6 h-6 text-white"})}),e.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:w})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-slate-900",children:[t.firstName," ",t.lastName]}),e.jsx("p",{className:"text-slate-600",children:t.jobTitle||((A=t.role)==null?void 0:A.replace(/_/g," ").toUpperCase())}),e.jsx("p",{className:"text-sm text-slate-500",children:t.email}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(oe,{className:N(t.role),children:(z=t.role)==null?void 0:z.replace(/_/g," ").toUpperCase()}),e.jsx(oe,{className:_(t.status),children:(re=t.status)==null?void 0:re.toUpperCase()}),t.emailVerified&&e.jsxs(oe,{className:"bg-blue-100 text-blue-800 border-blue-200",children:[e.jsx(le,{className:"w-3 h-3 mr-1"}),"Verified"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-blue-700",children:d!=null&&d.lastLoginAt?new Date(d.lastLoginAt).toLocaleDateString():"N/A"}),e.jsx("div",{className:"text-xs text-slate-600 uppercase",children:"Last Login"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-green-700",children:(m==null?void 0:m.length)||0}),e.jsx("div",{className:"text-xs text-slate-600 uppercase",children:"Active Sessions"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-purple-700",children:(d==null?void 0:d.loginAttempts)||0}),e.jsx("div",{className:"text-xs text-slate-600 uppercase",children:"Login Attempts"})]})]})]})})}),e.jsxs(Zt,{value:o,onValueChange:c,className:"w-full",children:[e.jsxs(Ht,{className:"bg-white border border-slate-200 rounded-xl p-1 grid w-full grid-cols-5 shadow-sm",children:[e.jsxs(Ae,{value:"personal",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:[e.jsx(et,{className:"w-4 h-4 mr-2"}),"Personal Info"]}),e.jsxs(Ae,{value:"professional",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:[e.jsx(Ay,{className:"w-4 h-4 mr-2"}),"Professional"]}),e.jsxs(Ae,{value:"security",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:[e.jsx(ds,{className:"w-4 h-4 mr-2"}),"Security"]}),e.jsxs(Ae,{value:"preferences",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:[e.jsx(Tr,{className:"w-4 h-4 mr-2"}),"Preferences"]}),e.jsxs(Ae,{value:"activity",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:[e.jsx(tp,{className:"w-4 h-4 mr-2"}),"Activity"]})]}),e.jsxs(Oe,{value:"personal",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Personal Information"}),e.jsxs(P,{onClick:()=>a(!n),variant:n?"outline":"default",children:[e.jsx(sa,{className:"w-4 h-4 mr-2"}),n?"Cancel":"Edit Profile"]})]}),e.jsx(Rt,{...f,children:e.jsxs("form",{onSubmit:f.handleSubmit(y),className:"space-y-6",children:[e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(et,{className:"w-5 h-5 mr-2"}),"Contact Information"]})}),e.jsx(V,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Q,{control:f.control,name:"firstName",render:({field:U})=>e.jsxs(K,{children:[e.jsx(Z,{children:"First Name"}),e.jsx(G,{children:e.jsx(Y,{...U,disabled:!n,className:n?"":"bg-slate-50"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:f.control,name:"lastName",render:({field:U})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Last Name"}),e.jsx(G,{children:e.jsx(Y,{...U,disabled:!n,className:n?"":"bg-slate-50"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:f.control,name:"email",render:({field:U})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Email Address"}),e.jsx(G,{children:e.jsx(Y,{...U,type:"email",disabled:!n,className:n?"":"bg-slate-50"})}),e.jsx(uc,{children:t.emailVerified?e.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[e.jsx(le,{className:"w-3 h-3"})," Verified"]}):e.jsx("span",{className:"text-orange-600",children:"Not verified"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:f.control,name:"phone",render:({field:U})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Phone Number"}),e.jsx(G,{children:e.jsx(Y,{...U,disabled:!n,className:n?"":"bg-slate-50",placeholder:"+263..."})}),e.jsx(X,{})]})})]})})]}),e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(Ay,{className:"w-5 h-5 mr-2"}),"Work Information"]})}),e.jsxs(V,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Q,{control:f.control,name:"department",render:({field:U})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Department"}),e.jsxs(Ie,{disabled:!n,onValueChange:U.onChange,defaultValue:U.value,children:[e.jsx(G,{children:e.jsx(De,{className:n?"":"bg-slate-50",children:e.jsx(Fe,{placeholder:"Select department"})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"administration",children:"Administration"}),e.jsx(D,{value:"finance",children:"Finance"}),e.jsx(D,{value:"legal",children:"Legal"}),e.jsx(D,{value:"operations",children:"Operations"}),e.jsx(D,{value:"hr",children:"Human Resources"}),e.jsx(D,{value:"it",children:"Information Technology"}),e.jsx(D,{value:"member_services",children:"Member Services"})]})]}),e.jsx(X,{})]})}),e.jsx(Q,{control:f.control,name:"jobTitle",render:({field:U})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Job Title"}),e.jsx(G,{children:e.jsx(Y,{...U,disabled:!n,className:n?"":"bg-slate-50",placeholder:"e.g., Senior Case Manager"})}),e.jsx(X,{})]})})]}),e.jsx(Q,{control:f.control,name:"notes",render:({field:U})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Bio / Notes"}),e.jsx(G,{children:e.jsx(kt,{...U,disabled:!n,className:n?"":"bg-slate-50",rows:4,placeholder:"Add a brief bio or notes about yourself..."})}),e.jsx(X,{})]})}),n&&e.jsxs(P,{type:"submit",className:"w-full md:w-auto",disabled:x.isPending,children:[e.jsx(Vr,{className:"w-4 h-4 mr-2"}),x.isPending?"Saving...":"Save Changes"]})]})]})]})})]}),e.jsxs(Oe,{value:"professional",className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Professional Details"}),e.jsxs($,{children:[e.jsx(J,{children:e.jsx(ee,{children:"Account Information"})}),e.jsx(V,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-slate-600",children:"User ID"}),e.jsx("div",{className:"p-2 border rounded bg-slate-50 font-mono text-sm",children:t.id})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-slate-600",children:"User Role"}),e.jsx("div",{className:"p-2 border rounded bg-slate-50",children:e.jsx(oe,{className:N(t.role),children:(F=t.role)==null?void 0:F.replace(/_/g," ").toUpperCase()})})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-slate-600",children:"Account Status"}),e.jsx("div",{className:"p-2 border rounded bg-slate-50",children:e.jsx(oe,{className:_(t.status),children:(B=t.status)==null?void 0:B.toUpperCase()})})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-slate-600",children:"Member Since"}),e.jsx("div",{className:"p-2 border rounded bg-slate-50",children:d!=null&&d.createdAt?new Date(d.createdAt).toLocaleDateString():"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-slate-600",children:"Last Password Change"}),e.jsx("div",{className:"p-2 border rounded bg-slate-50",children:d!=null&&d.passwordChangedAt?new Date(d.passwordChangedAt).toLocaleDateString():"Never"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-slate-600",children:"Two-Factor Auth"}),e.jsx("div",{className:"p-2 border rounded bg-slate-50",children:e.jsx(oe,{className:t.twoFactorEnabled?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800",children:t.twoFactorEnabled?"Enabled":"Disabled"})})]})]})})]}),e.jsxs($,{children:[e.jsxs(J,{children:[e.jsx(ee,{children:"Permissions"}),e.jsx(Gt,{children:"Your assigned system permissions"})]}),e.jsx(V,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:t.permissions?JSON.parse(t.permissions).map((U,W)=>e.jsx(oe,{variant:"outline",className:"text-xs",children:U},W)):e.jsx("p",{className:"text-slate-500 text-sm",children:"No specific permissions assigned. Using role-based permissions."})})})]})]}),e.jsxs(Oe,{value:"security",className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Security & Privacy"}),e.jsx(ML,{}),e.jsxs($,{children:[e.jsxs(J,{children:[e.jsxs(ee,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(F2,{className:"w-5 h-5 mr-2"}),"Active Sessions"]}),e.jsxs(oe,{variant:"secondary",children:[(m==null?void 0:m.length)||0," Active"]})]}),e.jsx(Gt,{children:"Manage your active login sessions across devices"})]}),e.jsx(V,{children:e.jsx("div",{className:"space-y-3",children:m&&m.length>0?m.map(U=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(F2,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900",children:U.deviceType||"Unknown Device"}),e.jsxs("div",{className:"text-sm text-slate-600",children:[U.ipAddress," • ",U.location||"Unknown Location"]}),e.jsxs("div",{className:"text-xs text-slate-500",children:["Last active: ",U.lastActivity?new Date(U.lastActivity).toLocaleString():"N/A"]})]})]}),e.jsxs(P,{variant:"outline",size:"sm",onClick:()=>g.mutate(U.id),children:[e.jsx(Jx,{className:"w-4 h-4 mr-1"}),"Terminate"]})]},U.id)):e.jsx("p",{className:"text-slate-500 text-sm text-center py-4",children:"No active sessions found"})})})]}),e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(ds,{className:"w-5 h-5 mr-2"}),"Security Information"]})}),e.jsxs(V,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(jt,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"text-sm",children:"Email Verification"})]}),e.jsx(oe,{className:t.emailVerified?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800",children:t.emailVerified?"Verified":"Not Verified"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($p,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"text-sm",children:"Two-Factor Authentication"})]}),e.jsx(oe,{className:t.twoFactorEnabled?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800",children:t.twoFactorEnabled?"Enabled":"Disabled"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"text-sm",children:"Failed Login Attempts"})]}),e.jsx(oe,{variant:"outline",children:t.loginAttempts||0})]}),t.lockedUntil&&new Date(t.lockedUntil)>new Date&&e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oi,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-sm text-red-900",children:"Account Locked Until"})]}),e.jsx("span",{className:"text-sm text-red-700",children:new Date(t.lockedUntil).toLocaleString()})]})]})]}),e.jsxs($,{className:"bg-blue-50 border-blue-200",children:[e.jsx(J,{children:e.jsx(ee,{className:"text-blue-900",children:"Security Best Practices"})}),e.jsx(V,{children:e.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(le,{className:"w-4 h-4 mt-0.5 text-blue-600"}),e.jsx("span",{children:"Use a strong, unique password with at least 12 characters"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(le,{className:"w-4 h-4 mt-0.5 text-blue-600"}),e.jsx("span",{children:"Enable two-factor authentication for extra security"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(le,{className:"w-4 h-4 mt-0.5 text-blue-600"}),e.jsx("span",{children:"Review active sessions regularly and terminate suspicious ones"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(le,{className:"w-4 h-4 mt-0.5 text-blue-600"}),e.jsx("span",{children:"Never share your login credentials with anyone"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(le,{className:"w-4 h-4 mt-0.5 text-blue-600"}),e.jsx("span",{children:"Always log out when using shared or public devices"})]})]})})]})]}),e.jsxs(Oe,{value:"preferences",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Preferences & Settings"}),e.jsxs(P,{onClick:()=>l(!i),variant:i?"outline":"default",children:[e.jsx(sa,{className:"w-4 h-4 mr-2"}),i?"Cancel":"Edit Preferences"]})]}),e.jsx(Rt,{...b,children:e.jsxs("form",{onSubmit:b.handleSubmit(j),className:"space-y-6",children:[e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(ho,{className:"w-5 h-5 mr-2"}),"Notification Preferences"]})}),e.jsxs(V,{className:"space-y-4",children:[e.jsx(Q,{control:b.control,name:"emailNotifications",render:({field:U})=>e.jsxs(K,{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Z,{className:"text-base",children:"Email Notifications"}),e.jsx(uc,{children:"Receive notifications via email"})]}),e.jsx(G,{children:e.jsx(Xp,{checked:U.value,onCheckedChange:U.onChange,disabled:!i})})]})}),e.jsx(Q,{control:b.control,name:"smsNotifications",render:({field:U})=>e.jsxs(K,{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Z,{className:"text-base",children:"SMS Notifications"}),e.jsx(uc,{children:"Receive notifications via SMS"})]}),e.jsx(G,{children:e.jsx(Xp,{checked:U.value,onCheckedChange:U.onChange,disabled:!i})})]})}),e.jsx(Q,{control:b.control,name:"inAppNotifications",render:({field:U})=>e.jsxs(K,{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Z,{className:"text-base",children:"In-App Notifications"}),e.jsx(uc,{children:"Receive notifications within the application"})]}),e.jsx(G,{children:e.jsx(Xp,{checked:U.value,onCheckedChange:U.onChange,disabled:!i})})]})})]})]}),e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(Tr,{className:"w-5 h-5 mr-2"}),"Application Settings"]})}),e.jsxs(V,{className:"space-y-4",children:[e.jsx(Q,{control:b.control,name:"dashboardView",render:({field:U})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Dashboard Default View"}),e.jsxs(Ie,{disabled:!i,onValueChange:U.onChange,defaultValue:U.value,children:[e.jsx(G,{children:e.jsx(De,{className:i?"":"bg-slate-50",children:e.jsx(Fe,{placeholder:"Select default view"})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"default",children:"Default Dashboard"}),e.jsx(D,{value:"analytics",children:"Analytics View"}),e.jsx(D,{value:"list",children:"List View"}),e.jsx(D,{value:"compact",children:"Compact View"})]})]}),e.jsx(X,{})]})}),e.jsx(Q,{control:b.control,name:"timezone",render:({field:U})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Timezone"}),e.jsxs(Ie,{disabled:!i,onValueChange:U.onChange,defaultValue:U.value,children:[e.jsx(G,{children:e.jsx(De,{className:i?"":"bg-slate-50",children:e.jsx(Fe,{placeholder:"Select timezone"})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"Africa/Harare",children:"Africa/Harare (CAT)"}),e.jsx(D,{value:"Africa/Johannesburg",children:"Africa/Johannesburg (SAST)"}),e.jsx(D,{value:"UTC",children:"UTC"}),e.jsx(D,{value:"America/New_York",children:"America/New York (EST)"}),e.jsx(D,{value:"Europe/London",children:"Europe/London (GMT)"})]})]}),e.jsx(X,{})]})}),e.jsx(Q,{control:b.control,name:"language",render:({field:U})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Language"}),e.jsxs(Ie,{disabled:!i,onValueChange:U.onChange,defaultValue:U.value,children:[e.jsx(G,{children:e.jsx(De,{className:i?"":"bg-slate-50",children:e.jsx(Fe,{placeholder:"Select language"})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"en",children:"English"}),e.jsx(D,{value:"sn",children:"Shona"}),e.jsx(D,{value:"nd",children:"Ndebele"})]})]}),e.jsx(X,{})]})}),i&&e.jsxs(P,{type:"submit",className:"w-full md:w-auto",disabled:v.isPending,children:[e.jsx(Vr,{className:"w-4 h-4 mr-2"}),v.isPending?"Saving...":"Save Preferences"]})]})]})]})})]}),e.jsxs(Oe,{value:"activity",className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Recent Activity"}),e.jsxs($,{children:[e.jsxs(J,{children:[e.jsxs(ee,{className:"flex items-center",children:[e.jsx(tp,{className:"w-5 h-5 mr-2"}),"Activity Log"]}),e.jsx(Gt,{children:"Your recent actions and system events"})]}),e.jsx(V,{children:e.jsx("div",{className:"space-y-3",children:h&&h.length>0?h.slice(0,10).map(U=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-slate-50 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(tp,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"font-medium text-slate-900",children:U.action}),e.jsx("span",{className:"text-xs text-slate-500",children:U.timestamp?new Date(U.timestamp).toLocaleString():"N/A"})]}),e.jsx("p",{className:"text-sm text-slate-600",children:U.description}),U.ipAddress&&e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["IP: ",U.ipAddress]})]})]},U.id)):e.jsxs("div",{className:"text-center py-8 text-slate-500",children:[e.jsx(tp,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),e.jsx("p",{children:"No recent activity found"})]})})})]})]})]})]})})]})}const yle={Trophy:Dy,Medal:U9,Award:js,Star:So,Crown:Ol,Shield:ds,User:et,FileText:Le,GraduationCap:Co,Calendar:dt,CheckCircle:le,Target:tR,Sparkles:Ry};function OL({badge:t,earned:s=!1,progress:r=0,size:n="md",showProgress:a=!1,onClick:i}){const[l,o]=p.useState(!1),c=f=>{switch(f){case"bronze":return{bg:"from-amber-600 to-amber-800",border:"border-amber-500",glow:"shadow-amber-500/20"};case"silver":return{bg:"from-gray-400 to-gray-600",border:"border-gray-400",glow:"shadow-gray-400/20"};case"gold":return{bg:"from-yellow-400 to-yellow-600",border:"border-yellow-400",glow:"shadow-yellow-400/20"};case"platinum":return{bg:"from-blue-400 to-blue-600",border:"border-blue-400",glow:"shadow-blue-400/20"};default:return{bg:"from-gray-500 to-gray-700",border:"border-gray-500",glow:"shadow-gray-500/20"}}},d=f=>{switch(f){case"sm":return{container:"w-16 h-16",icon:"w-8 h-8",text:"text-xs"};case"lg":return{container:"w-24 h-24",icon:"w-12 h-12",text:"text-base"};default:return{container:"w-20 h-20",icon:"w-10 h-10",text:"text-sm"}}},u=c(t.difficulty),m=d(n),h=yle[t.icon]||js;return e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:`
          ${m.container} 
          rounded-full 
          border-4 
          ${u.border}
          ${s?`bg-gradient-to-br ${u.bg}`:"bg-gray-300"}
          ${s?`shadow-lg ${u.glow}`:""}
          ${s&&l?"scale-110":"scale-100"}
          transition-all duration-300 ease-in-out
          cursor-pointer
          flex items-center justify-center
          relative
          overflow-hidden
        `,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onClick:i,children:[s&&e.jsxs("div",{className:"absolute inset-0 animate-pulse",children:[e.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-white rounded-full opacity-60"}),e.jsx("div",{className:"absolute bottom-2 left-2 w-1 h-1 bg-white rounded-full opacity-40"}),e.jsx("div",{className:"absolute top-3 left-1 w-1.5 h-1.5 bg-white rounded-full opacity-50"})]}),e.jsx(h,{className:`
            ${m.icon} 
            ${s?"text-white":"text-gray-500"}
            transition-all duration-300
          `}),!s&&a&&r>0&&e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent",children:e.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 36 36",children:[e.jsx("path",{className:"text-gray-300",d:`M18 2.0845
                  a 15.9155 15.9155 0 0 1 0 31.831
                  a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"currentColor",strokeWidth:"3"}),e.jsx("path",{className:"text-blue-600",d:`M18 2.0845
                  a 15.9155 15.9155 0 0 1 0 31.831
                  a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${r}, 100`})]})})]}),l&&e.jsxs("div",{className:"absolute -top-16 left-1/2 transform -translate-x-1/2 z-10",children:[e.jsxs("div",{className:"bg-gray-900 text-white text-xs px-3 py-2 rounded-lg shadow-lg whitespace-nowrap",children:[e.jsx("div",{className:"font-semibold",children:t.name}),e.jsx("div",{className:"text-gray-300",children:t.description}),t.points>0&&e.jsxs("div",{className:"text-yellow-400 mt-1",children:[t.points," points"]}),!s&&r>0&&e.jsxs("div",{className:"text-blue-400 mt-1",children:[r,"% complete"]})]}),e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]})}function vle({badges:t,earnedBadges:s=[],badgeProgress:r={},onBadgeClick:n}){return e.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 gap-4 p-4",children:t.map(a=>e.jsx(OL,{badge:a,earned:s.includes(a.id),progress:r[a.id]||0,showProgress:!s.includes(a.id),onClick:()=>n==null?void 0:n(a)},a.id))})}function jle({badges:t,title:s="Recent Achievements",maxDisplay:r=5}){const n=t.slice(0,r);return e.jsx($,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:e.jsxs(V,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s}),e.jsxs(oe,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[t.length," earned"]})]}),e.jsxs("div",{className:"flex space-x-3 overflow-x-auto pb-2",children:[n.map(a=>e.jsx("div",{className:"flex-shrink-0",children:e.jsx(OL,{badge:a,earned:!0,size:"lg"})},a.id)),t.length>r&&e.jsx("div",{className:"flex-shrink-0 flex items-center justify-center w-24 h-24 rounded-full border-4 border-dashed border-gray-300 text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-bold",children:["+",t.length-r]}),e.jsx("div",{className:"text-xs",children:"more"})]})})]})]})})}function wle({member:t,documents:s=[],payments:r=[],cpdActivities:n=[]}){const a=p.useMemo(()=>[{label:"Basic Info",completed:!!(t.firstName&&t.lastName&&t.email),icon:et,weight:15,description:"Name and email address"},{label:"Contact Details",completed:!!(t.phone&&t.nationalId),icon:Rr,weight:10,description:"Phone number and National ID"},{label:"Date of Birth",completed:!!t.dateOfBirth,icon:dt,weight:5,description:"Age verification for membership eligibility"},{label:"Organization",completed:!!t.organizationId,icon:qe,weight:15,description:"Associated real estate organization"},{label:"Member Type",completed:!!t.memberType,icon:js,weight:10,description:"Professional designation and role"},{label:"Documents Uploaded",completed:s.length>=3,icon:Le,weight:20,description:"Required professional documents and certificates"},{label:"Payment Completed",completed:r.some(m=>m.status==="completed"),icon:le,weight:15,description:"Membership or application fees paid"},{label:"CPD Activities",completed:n.length>=3,icon:js,weight:10,description:"Continuing Professional Development participation"}],[t,s,r,n]),i=a.filter(m=>m.completed),l=a.reduce((m,h)=>m+h.weight,0),o=i.reduce((m,h)=>m+h.weight,0),c=Math.round(o/l*100),d=m=>m>=90?"text-green-600":m>=70?"text-blue-600":m>=50?"text-yellow-600":"text-red-600",u=m=>m>=90?"from-green-500 to-green-600":m>=70?"from-blue-500 to-blue-600":m>=50?"from-yellow-500 to-yellow-600":"from-red-500 to-red-600";return e.jsxs($,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-900",children:"Profile Completion"}),e.jsxs(oe,{variant:"secondary",className:`${d(c)} bg-white`,children:[c,"%"]})]})}),e.jsxs(V,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Overall Progress"}),e.jsxs("span",{className:`font-semibold ${d(c)}`,children:[i.length,"/",a.length," completed"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ci,{value:c,className:"h-3"}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${u(c)} rounded-full transition-all duration-500`,style:{width:`${c}%`}})]})]}),e.jsx("div",{className:"space-y-3",children:a.map((m,h)=>{const f=m.icon;return e.jsxs("div",{className:`
                  flex items-center justify-between p-3 rounded-lg transition-colors
                  ${m.completed?"bg-green-50 border border-green-200":"bg-gray-50 border border-gray-200"}
                `,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`
                    p-2 rounded-full
                    ${m.completed?"bg-green-100 text-green-600":"bg-gray-100 text-gray-500"}
                  `,children:e.jsx(f,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${m.completed?"text-green-900":"text-gray-700"}`,children:m.label}),e.jsx("div",{className:"text-xs text-gray-500",children:m.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(oe,{variant:"outline",className:`text-xs ${m.completed?"border-green-300 text-green-600":"border-gray-300 text-gray-500"}`,children:[m.weight,"%"]}),m.completed?e.jsx(le,{className:"w-5 h-5 text-green-600"}):e.jsx(Js,{className:"w-5 h-5 text-gray-400"})]})]},h)})}),c<100&&e.jsxs("div",{className:"mt-6 p-4 bg-blue-100 border border-blue-200 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Next Steps"}),e.jsx("ul",{className:"space-y-1 text-sm text-blue-800",children:a.filter(m=>!m.completed).slice(0,3).map((m,h)=>e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),e.jsxs("span",{children:["Complete ",m.label.toLowerCase()]})]},h))})]}),c===100&&e.jsxs("div",{className:"mt-6 p-4 bg-green-100 border border-green-200 rounded-lg text-center",children:[e.jsx(le,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-semibold text-green-900",children:"Profile Complete!"}),e.jsx("p",{className:"text-sm text-green-800",children:`You've earned the "Profile Master" achievement badge!`})]})]})]})}const Nle=[{name:"Getting Started",description:"Complete your basic profile information",type:"profile_basic",difficulty:"bronze",icon:"User",color:"#CD7F32",criteria:JSON.stringify({requirements:["firstName","lastName","email"],threshold:3}),points:10,isActive:!0},{name:"Profile Master",description:"Complete your entire profile with all details",type:"profile_complete",difficulty:"gold",icon:"Crown",color:"#FFD700",criteria:JSON.stringify({requirements:["basicInfo","contactDetails","dateOfBirth","organization","memberType"],threshold:5}),points:50,isActive:!0},{name:"Document Collector",description:"Upload your first professional document",type:"documents_verified",difficulty:"bronze",icon:"FileText",color:"#CD7F32",criteria:JSON.stringify({requirements:["documentCount"],threshold:1}),points:15,isActive:!0},{name:"Verified Professional",description:"Complete all required document uploads",type:"documents_verified",difficulty:"silver",icon:"Shield",color:"#C0C0C0",criteria:JSON.stringify({requirements:["documentCount"],threshold:3}),points:30,isActive:!0},{name:"Learning Enthusiast",description:"Earn your first CPD points",type:"cpd_achiever",difficulty:"bronze",icon:"GraduationCap",color:"#CD7F32",criteria:JSON.stringify({requirements:["cpdPoints"],threshold:5}),points:20,isActive:!0},{name:"CPD Champion",description:"Accumulate 25 CPD points",type:"cpd_achiever",difficulty:"silver",icon:"Award",color:"#C0C0C0",criteria:JSON.stringify({requirements:["cpdPoints"],threshold:25}),points:40,isActive:!0},{name:"Master Learner",description:"Reach 50 CPD points",type:"cpd_achiever",difficulty:"gold",icon:"Trophy",color:"#FFD700",criteria:JSON.stringify({requirements:["cpdPoints"],threshold:50}),points:75,isActive:!0},{name:"Event Attendee",description:"Attend your first EACZ event",type:"event_participant",difficulty:"bronze",icon:"Calendar",color:"#CD7F32",criteria:JSON.stringify({requirements:["eventAttendance"],threshold:1}),points:15,isActive:!0},{name:"Community Connector",description:"Attend 5 EACZ events",type:"event_participant",difficulty:"silver",icon:"Star",color:"#C0C0C0",criteria:JSON.stringify({requirements:["eventAttendance"],threshold:5}),points:35,isActive:!0},{name:"Financial Contributor",description:"Complete your first payment",type:"payment_complete",difficulty:"bronze",icon:"CheckCircle",color:"#CD7F32",criteria:JSON.stringify({requirements:["paymentCompleted"],threshold:1}),points:25,isActive:!0},{name:"Membership Supporter",description:"Complete membership fee payment",type:"payment_complete",difficulty:"silver",icon:"Medal",color:"#C0C0C0",criteria:JSON.stringify({requirements:["membershipPayment"],threshold:1}),points:40,isActive:!0},{name:"Early Adopter",description:"Among the first members to join the digital platform",type:"early_bird",difficulty:"platinum",icon:"Sparkles",color:"#E5E4E2",criteria:JSON.stringify({requirements:["registrationDate"],threshold:"2024-06-01"}),points:100,isActive:!0},{name:"Organization Member",description:"Successfully join a real estate organization",type:"organization_member",difficulty:"bronze",icon:"Building2",color:"#CD7F32",criteria:JSON.stringify({requirements:["organizationMembership"],threshold:1}),points:20,isActive:!0}];class Cle{static checkBadgeEligibility(s,r,n=[],a=[],i=[],l=0){const o=JSON.parse(s.criteria),c=o.requirements,d=o.threshold;let u=0,m=d;switch(s.type){case"profile_basic":u=[r.firstName,r.lastName,r.email].filter(Boolean).length;break;case"profile_complete":u=[!!(r.firstName&&r.lastName&&r.email),!!(r.phone&&r.nationalId),!!r.dateOfBirth,!!r.organizationId,!!r.memberType].filter(Boolean).length;break;case"documents_verified":u=n.filter(x=>x.isVerified).length;break;case"cpd_achiever":u=r.cpdPoints||0;break;case"event_participant":u=l;break;case"payment_complete":c.includes("membershipPayment")?u=a.filter(x=>x.status==="completed"&&x.purpose==="membership").length:u=a.filter(x=>x.status==="completed").length;break;case"organization_member":u=r.organizationId?1:0;break;case"early_bird":r.createdAt&&new Date(r.createdAt)<=new Date(d)&&(u=1),m=1;break;default:u=0}const h=m>0?Math.min(u/m*100,100):0,f=u>=d;return{eligible:f,progress:h,nextThreshold:f?void 0:d,requirements:c}}static getEligibleBadges(s,r,n,a=[],i=[],l=[],o=0){return s.filter(c=>!c.isActive||r.includes(c.id)?!1:this.checkBadgeEligibility(c,n,a,i,l,o).eligible)}static calculateBadgeProgress(s,r,n,a=[],i=[],l=[],o=0){const c={};return s.forEach(d=>{if(!r.includes(d.id)){const u=this.checkBadgeEligibility(d,n,a,i,l,o);c[d.id]=u.progress}}),c}static getBadgeStats(s,r){const n=s.filter(o=>o.isActive).length,a=r.length,i=r.reduce((o,c)=>{const d=s.find(u=>u.id===c.badgeId);return o+((d==null?void 0:d.points)||0)},0),l={bronze:r.filter(o=>{const c=s.find(d=>d.id===o.badgeId);return(c==null?void 0:c.difficulty)==="bronze"}).length,silver:r.filter(o=>{const c=s.find(d=>d.id===o.badgeId);return(c==null?void 0:c.difficulty)==="silver"}).length,gold:r.filter(o=>{const c=s.find(d=>d.id===o.badgeId);return(c==null?void 0:c.difficulty)==="gold"}).length,platinum:r.filter(o=>{const c=s.find(d=>d.id===o.badgeId);return(c==null?void 0:c.difficulty)==="platinum"}).length};return{totalBadges:n,earnedCount:a,totalPoints:i,completionPercentage:Math.round(a/n*100),difficultyCount:l}}}const Sle=I.object({firstName:I.string().min(2,"First name must be at least 2 characters"),lastName:I.string().min(2,"Last name must be at least 2 characters"),email:I.string().email("Invalid email address"),phone:I.string().min(10,"Phone number must be at least 10 digits").optional().or(I.literal("")),address:I.string().min(5,"Address must be at least 5 characters").optional().or(I.literal("")),dateOfBirth:I.string().optional(),nationalId:I.string().min(8,"National ID must be at least 8 characters").optional().or(I.literal("")),emergencyContactName:I.string().min(2,"Emergency contact name must be at least 2 characters").optional().or(I.literal("")),emergencyContactPhone:I.string().min(10,"Emergency contact phone must be at least 10 digits").optional().or(I.literal("")),emergencyContactRelation:I.string().optional()}),_le=I.object({educationLevel:I.string().optional(),yearsOfExperience:I.number().min(0,"Years of experience must be 0 or more").optional(),currentEmployer:I.string().optional(),jobTitle:I.string().optional(),specializations:I.string().optional(),certifications:I.string().optional(),previousEmployment:I.string().optional()});function kle(){var A,z,re,F;const{user:t}=St(),[,s]=Xe(),{toast:r}=tt(),[n,a]=p.useState(!1),[i,l]=p.useState(!1),[o,c]=p.useState("profile"),d={id:"member-profile-test-id",userId:"member-test-user-id",membershipNumber:"EACZ2024001",firstName:"John",lastName:"Doe",email:"member@eacz.org",phone:"+263712345678",dateOfBirth:new Date("1985-06-15"),nationalId:"ID123456789",memberType:"principal_real_estate_agent",membershipStatus:"active",joiningDate:new Date("2024-01-01"),expiryDate:new Date("2025-01-01"),cpdPoints:35,annualFee:"500.00",isMatureEntry:!1,organizationId:"org-1",createdAt:new Date("2024-01-01"),updatedAt:new Date},u=[{id:"doc-1",memberId:"member-profile-test-id",organizationId:null,applicationId:null,documentType:"qualification_certificate",fileName:"degree.pdf",filePath:"/documents/degree.pdf",fileSize:2048e3,mimeType:"application/pdf",isVerified:!0,verifiedBy:"admin-1",verificationDate:new Date("2024-01-15"),createdAt:new Date("2024-01-10")},{id:"doc-2",memberId:"member-profile-test-id",organizationId:null,applicationId:null,documentType:"identity_document",fileName:"id_copy.pdf",filePath:"/documents/id_copy.pdf",fileSize:1024e3,mimeType:"application/pdf",isVerified:!0,verifiedBy:"admin-1",verificationDate:new Date("2024-01-15"),createdAt:new Date("2024-01-10")},{id:"doc-3",memberId:"member-profile-test-id",organizationId:null,applicationId:null,documentType:"professional_certificate",fileName:"certification.pdf",filePath:"/documents/certification.pdf",fileSize:1536e3,mimeType:"application/pdf",isVerified:!0,verifiedBy:"admin-1",verificationDate:new Date("2024-01-20"),createdAt:new Date("2024-01-15")}],m=[{id:"pay-1",memberId:"member-profile-test-id",organizationId:null,amount:"500.00",currency:"USD",paymentMethod:"paynow_ecocash",status:"completed",purpose:"membership",referenceNumber:"PAY-001-2024",transactionId:"TXN-123456789",paymentDate:new Date("2024-01-10"),createdAt:new Date("2024-01-10")}],h=[{id:"cpd-1",memberId:"member-profile-test-id",eventId:"event-1",activityTitle:"Real Estate Law Workshop",activityType:"workshop",pointsEarned:15,completionDate:new Date("2024-02-15"),certificateUrl:"/certificates/cpd1.pdf",verifiedBy:"admin-1",isVerified:!0,createdAt:new Date("2024-02-15")},{id:"cpd-2",memberId:"member-profile-test-id",eventId:"event-2",activityTitle:"Property Valuation Seminar",activityType:"seminar",pointsEarned:20,completionDate:new Date("2024-03-10"),certificateUrl:"/certificates/cpd2.pdf",verifiedBy:"admin-1",isVerified:!0,createdAt:new Date("2024-03-10")}],f=["badge-1","badge-2","badge-3","badge-4","badge-5"],b=Nle.map((B,U)=>({...B,id:`badge-${U+1}`,createdAt:new Date})),x=Cle.calculateBadgeProgress(b,f,d,u,m,h,2),v=b.filter(B=>f.includes(B.id)),{data:g,isLoading:y}=Ge({queryKey:["/api/members/profile"],enabled:!!t,initialData:d}),j=It({resolver:Ft(Sle),defaultValues:{firstName:(g==null?void 0:g.firstName)||"",lastName:(g==null?void 0:g.lastName)||"",email:(g==null?void 0:g.email)||"",phone:(g==null?void 0:g.phone)||"",address:"",dateOfBirth:g!=null&&g.dateOfBirth?new Date(g.dateOfBirth).toISOString().split("T")[0]:"",nationalId:(g==null?void 0:g.nationalId)||"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelation:""}}),w=It({resolver:Ft(_le),defaultValues:{educationLevel:"",yearsOfExperience:0,currentEmployer:"",jobTitle:"",specializations:"",certifications:"",previousEmployment:""}}),N=$e({mutationFn:async B=>await Be("PUT","/api/members/profile",B),onSuccess:()=>{r({title:"Success",description:"Profile updated successfully."}),a(!1),st.invalidateQueries({queryKey:["/api/members/profile"]})},onError:B=>{r({title:"Error",description:B.message||"Failed to update profile.",variant:"destructive"})}}),_=$e({mutationFn:async B=>await Be("PUT","/api/members/professional",B),onSuccess:()=>{r({title:"Success",description:"Professional details updated successfully."}),l(!1),st.invalidateQueries({queryKey:["/api/members/profile"]})},onError:B=>{r({title:"Error",description:B.message||"Failed to update professional details.",variant:"destructive"})}}),k=B=>{N.mutate(B)},S=B=>{_.mutate(B)};return t?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(El,{currentPage:"profile"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"My Profile"}),e.jsx("p",{className:"text-slate-600 text-lg",children:"Manage your personal and professional information"})]}),e.jsx("div",{className:"hidden md:flex items-center space-x-4",children:e.jsx("div",{className:"w-14 h-14 bg-blue-600 rounded-xl flex items-center justify-center shadow-md",children:e.jsx(et,{className:"w-7 h-7 text-white"})})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900 mb-1",children:"85%"}),e.jsx("div",{className:"text-xs text-slate-600 uppercase tracking-wider",children:"Profile Complete"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold text-green-700 mb-1",children:"Active"}),e.jsx("div",{className:"text-xs text-slate-600 uppercase tracking-wider",children:"Status"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-700 mb-1",children:"1 Year"}),e.jsx("div",{className:"text-xs text-slate-600 uppercase tracking-wider",children:"Member Since"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx($,{className:"border border-slate-200 shadow-sm hover:shadow-md transition-shadow duration-200",children:e.jsxs(V,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Profile Completion"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Complete your profile information"})]}),e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(le,{className:"w-5 h-5 text-blue-600"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-2xl font-bold text-slate-900",children:"85%"}),e.jsx("span",{className:"text-slate-500 text-sm",children:"15% remaining"})]}),e.jsx("div",{className:"bg-slate-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-blue-600 rounded-full h-2 transition-all duration-500",style:{width:"85%"}})})]})]})}),e.jsx($,{className:"border border-slate-200 shadow-sm hover:shadow-md transition-shadow duration-200",children:e.jsxs(V,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Member Status"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Verified & Active Member"})]}),e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(ds,{className:"w-5 h-5 text-green-600"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(P9,{className:"bg-green-100 text-green-800 border-green-200 text-sm px-3 py-1",children:"✓ ACTIVE MEMBER"}),e.jsxs("div",{className:"flex items-center space-x-2 text-slate-600",children:[e.jsx(le,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm",children:"All documents verified"})]})]})]})}),e.jsx($,{className:"border border-slate-200 shadow-sm hover:shadow-md transition-shadow duration-200",children:e.jsxs(V,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Membership Journey"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Member ID: EAC-MBR-0001"})]}),e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(js,{className:"w-5 h-5 text-blue-600"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:"1 Year"}),e.jsx("div",{className:"text-slate-600 text-sm",children:"Member since January 2024"}),e.jsxs("div",{className:"flex items-center space-x-2 text-slate-600",children:[e.jsx(So,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm",children:"Professional Member"})]})]})]})})]}),e.jsx("div",{className:"max-w-6xl mx-auto space-y-6",children:e.jsxs(Zt,{value:o,onValueChange:c,className:"w-full",children:[e.jsxs(Ht,{className:"bg-white border border-slate-200 rounded-xl p-1 grid w-full grid-cols-4 shadow-sm",children:[e.jsxs(Ae,{value:"profile",className:"text-slate-600 data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=active]:shadow-sm rounded-lg transition-all duration-200",children:[e.jsx(et,{className:"w-4 h-4 mr-2"}),"Personal Details"]}),e.jsxs(Ae,{value:"professional",className:"text-slate-600 data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=active]:shadow-sm rounded-lg transition-all duration-200",children:[e.jsx(Co,{className:"w-4 h-4 mr-2"}),"Professional Details"]}),e.jsxs(Ae,{value:"achievements",className:"text-slate-600 data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=active]:shadow-sm rounded-lg transition-all duration-200",children:[e.jsx(js,{className:"w-4 h-4 mr-2"}),"Achievements"]}),e.jsxs(Ae,{value:"security",className:"text-slate-600 data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=active]:shadow-sm rounded-lg transition-all duration-200",children:[e.jsx(ds,{className:"w-4 h-4 mr-2"}),"Security Settings"]})]}),e.jsxs(Oe,{value:"profile",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Personal Information"}),e.jsxs(P,{onClick:()=>a(!n),variant:n?"outline":"default",className:n?"bg-white/90 text-gray-900 hover:bg-white":"gradient-button text-white border-0","data-testid":"button-edit-profile",children:[e.jsx(sa,{className:"w-4 h-4 mr-2"}),n?"Cancel Edit":"Edit Profile"]})]}),e.jsx(Rt,{...j,children:e.jsxs("form",{onSubmit:j.handleSubmit(k),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 shadow-lg",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center text-gray-900",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center mr-3",children:e.jsx(et,{className:"w-4 h-4 text-white"})}),"Contact Information"]})}),e.jsxs(V,{children:[e.jsxs("div",{className:"flex items-center space-x-6 mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:[(A=g==null?void 0:g.firstName)==null?void 0:A[0],(z=g==null?void 0:g.lastName)==null?void 0:z[0]]}),e.jsx(P,{size:"sm",className:"absolute -bottom-2 -right-2 w-8 h-8 rounded-full p-0 bg-blue-600 hover:bg-blue-700","data-testid":"button-upload-photo",children:e.jsx(QT,{className:"w-4 h-4"})})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[g==null?void 0:g.firstName," ",g==null?void 0:g.lastName]}),e.jsx("p",{className:"text-gray-600 capitalize",children:(re=g==null?void 0:g.memberType)==null?void 0:re.replace(/_/g," ")}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Member ID: ",g==null?void 0:g.membershipNumber]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Q,{control:j.control,name:"firstName",render:({field:B})=>e.jsxs(K,{children:[e.jsx(Z,{children:"First Name"}),e.jsx(G,{children:e.jsx(Y,{...B,disabled:!n,className:n?"":"bg-gray-50","data-testid":"input-first-name"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:j.control,name:"lastName",render:({field:B})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Last Name"}),e.jsx(G,{children:e.jsx(Y,{...B,disabled:!n,className:n?"":"bg-gray-50","data-testid":"input-last-name"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:j.control,name:"email",render:({field:B})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Email Address"}),e.jsx(G,{children:e.jsx(Y,{...B,type:"email",disabled:!n,className:n?"":"bg-gray-50","data-testid":"input-email"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:j.control,name:"phone",render:({field:B})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Phone Number"}),e.jsx(G,{children:e.jsx(Y,{...B,disabled:!n,className:n?"":"bg-gray-50",placeholder:"+263...","data-testid":"input-phone"})}),e.jsx(X,{})]})})]})]})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 shadow-lg",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center text-gray-900",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center mr-3",children:e.jsx(Rr,{className:"w-4 h-4 text-white"})}),"Emergency Contact"]})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(Q,{control:j.control,name:"emergencyContactName",render:({field:B})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Contact Name"}),e.jsx(G,{children:e.jsx(Y,{...B,disabled:!n,className:n?"":"bg-gray-50",placeholder:"Full name","data-testid":"input-emergency-name"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:j.control,name:"emergencyContactPhone",render:({field:B})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Contact Phone"}),e.jsx(G,{children:e.jsx(Y,{...B,disabled:!n,className:n?"":"bg-gray-50",placeholder:"+263...","data-testid":"input-emergency-phone"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:j.control,name:"emergencyContactRelation",render:({field:B})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Relationship"}),e.jsxs(Ie,{disabled:!n,onValueChange:B.onChange,defaultValue:B.value,children:[e.jsx(G,{children:e.jsx(De,{className:n?"":"bg-gray-50",children:e.jsx(Fe,{placeholder:"Select relationship"})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"spouse",children:"Spouse"}),e.jsx(D,{value:"parent",children:"Parent"}),e.jsx(D,{value:"sibling",children:"Sibling"}),e.jsx(D,{value:"child",children:"Child"}),e.jsx(D,{value:"friend",children:"Friend"}),e.jsx(D,{value:"other",children:"Other"})]})]}),e.jsx(X,{})]})})]})})]})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 shadow-lg",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center text-gray-900",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center mr-3",children:e.jsx(Le,{className:"w-4 h-4 text-white"})}),"Additional Information"]})}),e.jsxs(V,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Q,{control:j.control,name:"dateOfBirth",render:({field:B})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Date of Birth"}),e.jsx(G,{children:e.jsx(Y,{...B,type:"date",disabled:!n,className:n?"":"bg-gray-50","data-testid":"input-date-of-birth"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:j.control,name:"nationalId",render:({field:B})=>e.jsxs(K,{children:[e.jsx(Z,{children:"National ID"}),e.jsx(G,{children:e.jsx(Y,{...B,disabled:!n,className:n?"":"bg-gray-50","data-testid":"input-national-id"})}),e.jsx(X,{})]})})]}),e.jsx(Q,{control:j.control,name:"address",render:({field:B})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Address"}),e.jsx(G,{children:e.jsx(kt,{...B,disabled:!n,className:n?"":"bg-gray-50",rows:3,"data-testid":"textarea-address"})}),e.jsx(X,{})]})}),n&&e.jsxs(P,{type:"submit",className:"gradient-button text-white border-0",disabled:N.isPending,"data-testid":"button-save-personal",children:[e.jsx(Vr,{className:"w-4 h-4 mr-2"}),N.isPending?"Saving...":"Save Changes"]})]})]})]})})]}),e.jsxs(Oe,{value:"professional",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Professional Information"}),e.jsxs(P,{onClick:()=>l(!i),variant:i?"outline":"default",className:i?"bg-white/90 text-gray-900 hover:bg-white":"gradient-button text-white border-0","data-testid":"button-edit-professional",children:[e.jsx(sa,{className:"w-4 h-4 mr-2"}),i?"Cancel Edit":"Edit Professional"]})]}),e.jsx(Rt,{...w,children:e.jsx("form",{onSubmit:w.handleSubmit(S),className:"space-y-6",children:e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 shadow-lg",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center text-gray-900",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center mr-3",children:e.jsx(qe,{className:"w-4 h-4 text-white"})}),"Professional Details"]})}),e.jsxs(V,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Member Type"}),e.jsx("div",{className:"p-2 border rounded bg-gray-50 capitalize",children:(F=g==null?void 0:g.memberType)==null?void 0:F.replace(/_/g," ")})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Membership Number"}),e.jsx("div",{className:"p-2 border rounded bg-gray-50 font-mono",children:g==null?void 0:g.membershipNumber})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Q,{control:w.control,name:"educationLevel",render:({field:B})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Education Level"}),e.jsxs(Ie,{disabled:!i,onValueChange:B.onChange,defaultValue:B.value,children:[e.jsx(G,{children:e.jsx(De,{className:i?"":"bg-gray-50",children:e.jsx(Fe,{placeholder:"Select education level"})})}),e.jsxs(Me,{children:[e.jsx(D,{value:"certificate",children:"Certificate"}),e.jsx(D,{value:"diploma",children:"Diploma"}),e.jsx(D,{value:"bachelors_degree",children:"Bachelor's Degree"}),e.jsx(D,{value:"masters_degree",children:"Master's Degree"}),e.jsx(D,{value:"doctorate",children:"Doctorate"})]})]}),e.jsx(X,{})]})}),e.jsx(Q,{control:w.control,name:"yearsOfExperience",render:({field:B})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Years of Experience"}),e.jsx(G,{children:e.jsx(Y,{...B,type:"number",min:"0",disabled:!i,className:i?"":"bg-gray-50","data-testid":"input-years-experience",onChange:U=>B.onChange(parseInt(U.target.value)||0)})}),e.jsx(X,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Q,{control:w.control,name:"currentEmployer",render:({field:B})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Current Employer"}),e.jsx(G,{children:e.jsx(Y,{...B,disabled:!i,className:i?"":"bg-gray-50",placeholder:"Current company name","data-testid":"input-current-employer"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:w.control,name:"jobTitle",render:({field:B})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Job Title"}),e.jsx(G,{children:e.jsx(Y,{...B,disabled:!i,className:i?"":"bg-gray-50",placeholder:"Your current position","data-testid":"input-job-title"})}),e.jsx(X,{})]})})]}),e.jsx(Q,{control:w.control,name:"specializations",render:({field:B})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Specializations"}),e.jsx(G,{children:e.jsx(kt,{...B,disabled:!i,className:i?"":"bg-gray-50",rows:3,placeholder:"Describe your areas of specialization...","data-testid":"textarea-specializations"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:w.control,name:"certifications",render:({field:B})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Certifications"}),e.jsx(G,{children:e.jsx(kt,{...B,disabled:!i,className:i?"":"bg-gray-50",rows:3,placeholder:"List your professional certifications...","data-testid":"textarea-certifications"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:w.control,name:"previousEmployment",render:({field:B})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Previous Employment"}),e.jsx(G,{children:e.jsx(kt,{...B,disabled:!i,className:i?"":"bg-gray-50",rows:4,placeholder:"Describe your previous work experience...","data-testid":"textarea-previous-employment"})}),e.jsx(X,{})]})}),i&&e.jsxs(P,{type:"submit",className:"gradient-button text-white border-0",disabled:_.isPending,"data-testid":"button-save-professional",children:[e.jsx(Vr,{className:"w-4 h-4 mr-2"}),_.isPending?"Saving...":"Save Professional Details"]})]})]})})})]}),e.jsxs(Oe,{value:"achievements",className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Achievements & Badges"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-6",children:e.jsx(wle,{member:d,documents:u,payments:m,cpdActivities:h})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(jle,{badges:v,title:"Recent Achievements",maxDisplay:4}),e.jsx($,{className:"bg-gradient-to-br from-purple-50 to-indigo-50 border-purple-200",children:e.jsxs(V,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Achievement Stats"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:v.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Badges Earned"})]}),e.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:v.reduce((B,U)=>B+(U.points||0),0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Points"})]}),e.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.cpdPoints}),e.jsx("div",{className:"text-sm text-gray-600",children:"CPD Points"})]}),e.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[Math.round(v.length/b.length*100),"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Completion"})]})]})]})})]})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 shadow-lg",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center text-gray-900",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center mr-3",children:e.jsx(js,{className:"w-4 h-4 text-white"})}),"All Achievement Badges"]})}),e.jsx(V,{children:e.jsx(vle,{badges:b,earnedBadges:f,badgeProgress:x,onBadgeClick:B=>{r({title:B.name,description:B.description,duration:3e3})}})})]}),e.jsxs($,{className:"bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-200",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center text-gray-900",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center mr-3",children:e.jsx(So,{className:"w-4 h-4 text-white"})}),"Upcoming Achievements"]})}),e.jsx(V,{children:e.jsx("div",{className:"space-y-4",children:b.filter(B=>!f.includes(B.id)).slice(0,3).map(B=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx(js,{className:"w-6 h-6 text-gray-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:B.name}),e.jsx("div",{className:"text-sm text-gray-600",children:B.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium text-orange-600",children:[x[B.id]||0,"% complete"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[B.points," points"]})]})]},B.id))})})]})]}),e.jsxs(Oe,{value:"security",className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Security Settings"}),e.jsx(ML,{}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 shadow-lg",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center text-gray-900",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center mr-3",children:e.jsx(et,{className:"w-4 h-4 text-white"})}),"Account Security"]})}),e.jsxs(V,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-900",children:"Account Status"}),e.jsx("p",{className:"text-sm text-green-700",children:"Your account is secure and verified"})]}),e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(et,{className:"w-4 h-4 text-green-600"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Email Verification"}),e.jsx("span",{className:"text-green-600 font-medium",children:"Verified"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Two-Factor Authentication"}),e.jsx("span",{className:"text-orange-600 font-medium",children:"Not Enabled"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Last Password Change"}),e.jsx("span",{className:"text-gray-500",children:"Never"})]})]}),e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:"Security Tips"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Use a strong, unique password"}),e.jsx("li",{children:"• Change your password regularly"}),e.jsx("li",{children:"• Never share your login credentials"}),e.jsx("li",{children:"• Log out from shared devices"})]})]})]})]})]})]})})]})})]}):(s("/login"),null)}function Ple(){St(),Xe();const{toast:t}=tt(),[s,r]=p.useState(!1),[n,a]=p.useState(""),[i,l]=p.useState(0),c=[{id:"doc-1",documentType:"education",filePath:"/documents/degree.pdf",fileName:"degree_certificate.pdf",fileSize:2621440,mimeType:"application/pdf",isVerified:!0,verifiedBy:"admin",memberId:"member-profile-test-id",applicationId:null,organizationId:null,createdAt:new Date("2024-01-15"),verificationDate:new Date("2024-01-16")},{id:"doc-2",documentType:"practicing_certificate",filePath:"/documents/practicing_cert.pdf",fileName:"practicing_certificate.pdf",fileSize:1887436,mimeType:"application/pdf",isVerified:!1,verifiedBy:null,memberId:"member-profile-test-id",applicationId:null,organizationId:null,createdAt:new Date("2024-02-01"),verificationDate:null}],d=$e({mutationFn:async v=>{console.log("Uploading document:",v),l(0);for(let g=0;g<=100;g+=10)await new Promise(y=>setTimeout(y,100)),l(g);return Promise.resolve({success:!0,documentId:"doc-123"})},onSuccess:()=>{t({title:"Success",description:"Document uploaded and queued for verification."}),r(!1),a(""),l(0)},onError:()=>{t({title:"Error",description:"Failed to upload document. Please try again.",variant:"destructive"}),l(0)}}),u=$e({mutationFn:async v=>(console.log("Deleting document:",v),Promise.resolve({success:!0})),onSuccess:()=>{t({title:"Success",description:"Document deleted successfully."})},onError:()=>{t({title:"Error",description:"Failed to delete document.",variant:"destructive"})}}),m=v=>v.isVerified?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800",h=v=>v.isVerified?e.jsx(le,{className:"w-4 h-4"}):e.jsx(ft,{className:"w-4 h-4"}),f=v=>v.isVerified?"Approved":"Submitted for Approval",b=v=>{var y;const g=(y=v.target.files)==null?void 0:y[0];if(g){if(!n){t({title:"Document Type Required",description:"Please select a document type before uploading.",variant:"destructive"});return}if(g.size>10*1024*1024){t({title:"File Too Large",description:"File size must be less than 10MB.",variant:"destructive"});return}const j=new FormData;j.append("file",g),j.append("documentType",n),d.mutate(j)}},x=[{type:"ID Document",description:"National ID or Passport copy"},{type:"Educational Certificate",description:"Relevant educational qualifications"},{type:"Experience Letter",description:"Previous work experience documentation"},{type:"CPD Certificate",description:"Continuing Professional Development certificates"}];return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(El,{currentPage:"documents"}),e.jsx("div",{className:"p-6",children:e.jsx("main",{className:"w-full",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Document Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Upload and manage your professional documents"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[e.jsx($,{className:"bg-white/95 backdrop-blur border-white/20",children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Documents"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.length})]}),e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(Le,{className:"w-5 h-5 text-white"})})]})})}),e.jsx($,{className:"bg-white/95 backdrop-blur border-white/20",children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.filter(v=>v.isVerified).length})]}),e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:e.jsx(le,{className:"w-5 h-5 text-white"})})]})})}),e.jsx($,{className:"bg-white/95 backdrop-blur border-white/20",children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Submitted for Approval"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c.filter(v=>!v.isVerified).length})]}),e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(ft,{className:"w-5 h-5 text-white"})})]})})})]})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 mb-6",children:[e.jsx(J,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ee,{className:"flex items-center",children:[e.jsx(hr,{className:"w-5 h-5 mr-2"}),"Upload Documents"]}),e.jsxs(za,{open:s,onOpenChange:r,children:[e.jsx(Vd,{asChild:!0,children:e.jsxs(P,{className:"gradient-button text-white border-0",children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Upload Document"]})}),e.jsxs(Ua,{children:[e.jsx($a,{children:e.jsx(Va,{children:"Upload New Document"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Document Type *"}),e.jsxs("select",{className:"w-full p-2 border rounded",value:n,onChange:v=>a(v.target.value),"data-testid":"select-document-type",children:[e.jsx("option",{value:"",children:"Select document type..."}),e.jsx("option",{value:"id_document",children:"National ID / Passport"}),e.jsx("option",{value:"educational_certificate",children:"Educational Certificate"}),e.jsx("option",{value:"experience_letter",children:"Work Experience Letter"}),e.jsx("option",{value:"cpd_certificate",children:"CPD Certificate"}),e.jsx("option",{value:"professional_license",children:"Professional License"}),e.jsx("option",{value:"other",children:"Other Document"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select File"}),e.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:b,className:"w-full p-2 border rounded","data-testid":"input-file-upload"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported formats: PDF, JPG, PNG (Max 10MB)"}),i>0&&i<100&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{children:"Uploading..."}),e.jsxs("span",{children:[i,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${i}%`}})})]})]})]})]})]})]})}),e.jsx(V,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:x.map((v,g)=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Le,{className:"w-5 h-5 text-primary mr-2"}),e.jsx("h3",{className:"font-medium",children:v.type})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:v.description}),e.jsx("div",{className:"flex items-center justify-between",children:c.some(y=>y.documentType===v.type.toLowerCase().replace(/\s+/g,"_"))?e.jsxs(oe,{variant:"secondary",children:[e.jsx(le,{className:"w-3 h-3 mr-1"}),"Uploaded"]}):e.jsxs(oe,{variant:"outline",children:[e.jsx(Je,{className:"w-3 h-3 mr-1"}),"Required"]})})]},g))})})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 mb-6",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 mr-2"}),"My Documents (",c.length,")"]})}),e.jsx(V,{children:c.length>0?e.jsx("div",{className:"space-y-4",children:c.map(v=>{var g;return e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(Le,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:v.fileName}),e.jsx("p",{className:"text-sm text-gray-600 capitalize",children:(g=v.documentType)==null?void 0:g.replace(/_/g," ")}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded: ",new Date(v.createdAt||"").toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(oe,{className:m(v),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[h(v),e.jsx("span",{children:f(v)})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(P,{size:"sm",variant:"outline",children:[e.jsx(us,{className:"w-4 h-4 mr-1"}),"View"]}),e.jsxs(P,{size:"sm",variant:"outline",children:[e.jsx(Wt,{className:"w-4 h-4 mr-1"}),"Download"]}),e.jsxs(P,{size:"sm",variant:"outline",onClick:()=>u.mutate(v.id),disabled:u.isPending,children:[e.jsx(Oa,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]},v.id)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Le,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Documents Uploaded"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Upload your required documents to complete your profile."}),e.jsxs(P,{className:"gradient-button text-white border-0",onClick:()=>r(!0),children:[e.jsx(hr,{className:"w-4 h-4 mr-2"}),"Upload First Document"]})]})})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(Je,{className:"w-5 h-5 mr-2"}),"Document Guidelines"]})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(le,{className:"w-5 h-5 text-green-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"File formats"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Upload files in PDF, JPG, or PNG format"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(le,{className:"w-5 h-5 text-green-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"File size"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Maximum file size is 10MB per document"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(le,{className:"w-5 h-5 text-green-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Document quality"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ensure documents are clear and legible"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(le,{className:"w-5 h-5 text-green-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Verification"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Documents will be reviewed by EACZ staff within 3-5 business days"})]})]})]})})]})]})})})]})}function Ele(){St(),Xe();const t=[{id:"event-1",title:"CPD Workshop: Real Estate Valuations",description:"Comprehensive workshop on modern real estate valuation techniques and market analysis",startDate:new Date("2024-03-15T09:00:00"),endDate:new Date("2024-03-15T17:00:00"),address:"EACZ Conference Center, Harare",capacity:50,registeredCount:35,cpdPoints:8,price:"150.00",type:"workshop",status:"upcoming",instructor:"John Smith",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"event-2",title:"Annual General Meeting",description:"EACZ Annual General Meeting - All members are encouraged to attend",startDate:new Date("2024-04-20T10:00:00"),endDate:new Date("2024-04-20T16:00:00"),address:"Rainbow Towers Hotel, Harare",capacity:200,registeredCount:120,cpdPoints:4,price:"0.00",type:"conference",status:"upcoming",instructor:"EACZ Board",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"event-3",title:"Ethics and Professional Conduct Seminar",description:"Seminar on professional ethics and conduct in real estate practice",startDate:new Date("2024-02-10T14:00:00"),endDate:new Date("2024-02-10T18:00:00"),address:"Online Webinar",capacity:100,registeredCount:85,cpdPoints:6,price:"75.00",type:"seminar",status:"completed",instructor:"Jane Doe",isActive:!0,createdAt:new Date,updatedAt:new Date}],s=t.filter(i=>i.status==="upcoming"),r=t.filter(i=>i.status==="completed"),n=i=>new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(i),a=i=>{switch(i){case"upcoming":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(El,{currentPage:"events"}),e.jsx("div",{className:"p-6",children:e.jsxs("main",{className:"w-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Events & Training"}),e.jsx("p",{className:"text-muted-foreground",children:"View upcoming events and track your CPD progress"})]}),e.jsxs(Zt,{defaultValue:"upcoming",className:"space-y-6",children:[e.jsxs(Ht,{className:"bg-white/10 backdrop-blur border-white/20",children:[e.jsx(Ae,{value:"upcoming",className:"text-white data-[state=active]:bg-white data-[state=active]:text-blue-900",children:"Upcoming Events"}),e.jsx(Ae,{value:"past",className:"text-white data-[state=active]:bg-white data-[state=active]:text-blue-900",children:"Past Events"})]}),e.jsx(Oe,{value:"upcoming",className:"space-y-4",children:s.map(i=>e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 hover:bg-white transition-colors",children:[e.jsx(J,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(ee,{className:"text-xl text-gray-900",children:i.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.description})]}),e.jsx(oe,{className:a(i.status),children:i.status.charAt(0).toUpperCase()+i.status.slice(1)})]})}),e.jsxs(V,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(dt,{className:"w-4 h-4 mr-2 text-blue-600"}),e.jsx("span",{className:"text-sm",children:n(i.startDate)})]}),e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(Ma,{className:"w-4 h-4 mr-2 text-blue-600"}),e.jsx("span",{className:"text-sm",children:i.address})]}),e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(at,{className:"w-4 h-4 mr-2 text-blue-600"}),e.jsxs("span",{className:"text-sm",children:[i.registeredCount,"/",i.capacity," registered"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[i.cpdPoints&&i.cpdPoints>0&&e.jsxs("div",{className:"flex items-center text-green-700",children:[e.jsx(So,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{className:"text-sm font-medium",children:[i.cpdPoints," CPD Points"]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Fee: ",e.jsxs("span",{className:"font-medium",children:["$",i.price]})]})]}),e.jsxs(P,{className:"gradient-button text-white border-0","data-testid":`button-register-${i.id}`,children:["Register Now",e.jsx(om,{className:"w-4 h-4 ml-1"})]})]})]})]},i.id))}),e.jsx(Oe,{value:"past",className:"space-y-4",children:r.map(i=>e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsx(J,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(ee,{className:"text-xl text-gray-900",children:i.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.description})]}),e.jsx(oe,{className:a(i.status),children:i.status.charAt(0).toUpperCase()+i.status.slice(1)})]})}),e.jsxs(V,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(dt,{className:"w-4 h-4 mr-2 text-blue-600"}),e.jsx("span",{className:"text-sm",children:n(i.startDate)})]}),e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(Ma,{className:"w-4 h-4 mr-2 text-blue-600"}),e.jsx("span",{className:"text-sm",children:i.address})]}),e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(at,{className:"w-4 h-4 mr-2 text-blue-600"}),e.jsxs("span",{className:"text-sm",children:[i.registeredCount,"/",i.capacity," attended"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:i.cpdPoints&&i.cpdPoints>0&&e.jsxs("div",{className:"flex items-center text-green-700",children:[e.jsx(So,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{className:"text-sm font-medium",children:[i.cpdPoints," CPD Points Earned"]})]})}),e.jsx(P,{variant:"outline",className:"border-blue-200 text-blue-700 hover:bg-blue-50","data-testid":`button-view-${i.id}`,children:"View Details"})]})]})]},i.id))})]})]})}),e.jsx(wt,{})]})}function Ale(){St();const[,t]=Xe(),s=[{id:"payment-1",amount:"500.00",currency:"USD",paymentMethod:"ecocash",status:"completed",purpose:"Annual Membership Fee",referenceNumber:"PAY001",transactionId:"TXN123456",paymentDate:new Date("2024-01-15"),createdAt:new Date("2024-01-15"),description:"Annual Membership Fee 2024"},{id:"payment-2",amount:"150.00",currency:"USD",paymentMethod:"bank_transfer",status:"completed",purpose:"CPD Workshop Fee",referenceNumber:"PAY002",transactionId:"TXN789012",paymentDate:new Date("2024-02-20"),createdAt:new Date("2024-02-20"),description:"CPD Workshop: Real Estate Valuations"},{id:"payment-3",amount:"75.00",currency:"USD",paymentMethod:"stripe",status:"pending",purpose:"Event Registration",referenceNumber:"PAY003",transactionId:null,paymentDate:null,createdAt:new Date("2024-03-01"),description:"Ethics Seminar Registration"}],r=s,n=s.filter(m=>m.status==="pending"),a=m=>{switch(m){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"refunded":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},i=m=>{switch(m){case"completed":return e.jsx(le,{className:"w-4 h-4"});case"pending":return e.jsx(ft,{className:"w-4 h-4"});case"failed":return e.jsx(Xt,{className:"w-4 h-4"});case"refunded":return e.jsx(Je,{className:"w-4 h-4"});default:return e.jsx(Qt,{className:"w-4 h-4"})}},l=m=>{switch(m){case"paynow":return"PayNow";case"stripe":return"Credit/Debit Card";case"bank_transfer":return"Bank Transfer";case"cash":return"Cash";default:return m}},o=()=>{const m=[["Date","Description","Amount","Method","Status","Reference"].join(","),...r.map(x=>[new Date(x.paymentDate||x.createdAt||"").toLocaleDateString(),x.description||"Payment",`$${x.amount}`,l(x.paymentMethod||""),x.status||"",x.referenceNumber||""].join(","))].join("\\n"),h=new Blob([m],{type:"text/csv"}),f=URL.createObjectURL(h),b=document.createElement("a");b.href=f,b.download=`eacz-payment-history-${new Date().toISOString().split("T")[0]}.csv`,b.click(),URL.revokeObjectURL(f)},c=r.filter(m=>m.status==="completed"),d=r.filter(m=>m.status==="pending"),u=c.reduce((m,h)=>m+parseFloat(h.amount),0);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(El,{currentPage:"payments"}),e.jsx("div",{className:"p-6",children:e.jsxs("main",{className:"w-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Payment History"}),e.jsx("p",{className:"text-muted-foreground",children:"View your payment history and manage your billing"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ee,{className:"text-sm font-medium text-gray-900",children:"Total Paid"}),e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:e.jsx(Gr,{className:"h-4 w-4 text-white"})})]}),e.jsxs(V,{children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",u.toFixed(2)]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All time payments"})]})]}),e.jsxs($,{children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ee,{className:"text-sm font-medium",children:"Completed"}),e.jsx(le,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(V,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Successful payments"})]})]}),e.jsxs($,{children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ee,{className:"text-sm font-medium",children:"Pending"}),e.jsx(ft,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(V,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:d.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting processing"})]})]}),e.jsxs($,{children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ee,{className:"text-sm font-medium",children:"Actions"}),e.jsx(Tf,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(V,{children:e.jsxs(P,{size:"sm",variant:"outline",onClick:o,className:"w-full",disabled:r.length===0,children:[e.jsx(Wt,{className:"w-3 h-3 mr-1"}),"Export"]})})]})]}),e.jsxs(Zt,{defaultValue:"history",className:"space-y-6",children:[e.jsxs(Ht,{className:"grid w-full grid-cols-2",children:[e.jsx(Ae,{value:"history",children:"Payment History"}),e.jsx(Ae,{value:"upcoming",children:"Upcoming Payments"})]}),e.jsx(Oe,{value:"history",className:"space-y-6",children:e.jsxs($,{children:[e.jsx(J,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ee,{className:"flex items-center",children:[e.jsx(Qt,{className:"w-5 h-5 mr-2"}),"Payment History (",r.length,")"]}),e.jsxs(P,{variant:"outline",onClick:o,disabled:r.length===0,children:[e.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Export"]})]})}),e.jsx(V,{children:r.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Description"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Amount"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Method"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Reference"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:r.map(m=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(dt,{className:"w-4 h-4 mr-2 text-gray-400"}),new Date(m.paymentDate||m.createdAt||"").toLocaleDateString()]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:m.description||"Payment"}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Invoice #",m.referenceNumber||m.id.slice(-8)]})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"font-semibold text-green-600",children:["$",m.amount]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qt,{className:"w-4 h-4 mr-2 text-gray-400"}),l(m.paymentMethod||"")]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(oe,{className:a(m.status||""),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[i(m.status||""),e.jsx("span",{children:m.status})]})})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"font-mono text-sm",children:m.referenceNumber||"N/A"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(P,{size:"sm",variant:"outline",children:[e.jsx(Tf,{className:"w-4 h-4 mr-1"}),"Receipt"]}),m.status==="failed"&&e.jsx(P,{size:"sm",className:"gradient-button text-white border-0",onClick:()=>t("/payment"),children:"Retry"})]})})]},m.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Qt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Payment History"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't made any payments yet."}),e.jsxs(P,{className:"gradient-button text-white border-0",onClick:()=>t("/payment"),children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Make a Payment"]})]})})]})}),e.jsxs(Oe,{value:"upcoming",className:"space-y-6",children:[e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(Je,{className:"w-5 h-5 mr-2"}),"Upcoming Payments"]})}),e.jsx(V,{children:n.length>0?e.jsx("div",{className:"space-y-4",children:n.map(m=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(ft,{className:"w-5 h-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:m.description}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Due: ",new Date(m.paymentDate||"").toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold",children:["$",m.amount]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Amount due"})]}),e.jsx(P,{className:"gradient-button text-white border-0",onClick:()=>t("/payment"),children:"Pay Now"})]})]},m.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(le,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Upcoming Payments"}),e.jsx("p",{className:"text-gray-500",children:"You're all caught up! No payments are currently due."})]})})]}),e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(dt,{className:"w-5 h-5 mr-2"}),"Payment Schedule"]})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Annual Membership Fee"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Renews every January"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold",children:"$150.00"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Annual"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"CPD Event Fees"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Per event registration"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold",children:"$25.00 - $75.00"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Per event"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Late Payment Fee"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Applied after 30 days"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold",children:"$25.00"}),e.jsx("div",{className:"text-sm text-gray-500",children:"One-time"})]})]})]})})]})]})]})]})}),e.jsx(wt,{})]})}function Tle(){St(),Xe();const{toast:t}=tt(),r={id:"member-profile-test-id",membershipNumber:"EACZ2024001",firstName:"John",lastName:"Doe",email:"member@eacz.org",memberType:"principal_real_estate_agent",membershipStatus:"active",joiningDate:new Date("2024-01-01"),expiryDate:new Date("2025-01-01"),cpdPoints:15},n=c=>{switch(c){case"real_estate_agent":return"Real Estate Agent";case"property_manager":return"Property Manager";case"principal_real_estate_agent":return"Principal Real Estate Agent";case"real_estate_negotiator":return"Real Estate Negotiator";default:return c.replace(/_/g," ")}},a=async()=>{try{const c=o(),d=new Blob([c],{type:"text/html"}),u=URL.createObjectURL(d),m=document.createElement("a");m.href=u,m.download=`EACZ_Certificate_${r.membershipNumber}.html`,m.click(),URL.revokeObjectURL(u),t({title:"Certificate Downloaded",description:"Your digital certificate has been downloaded successfully."})}catch{t({title:"Download Failed",description:"Failed to download certificate. Please try again.",variant:"destructive"})}},i=async()=>{const c=`${window.location.origin}/public-verification?member=${r.membershipNumber}`;navigator.share?await navigator.share({title:"EACZ Membership Certificate",text:`${r.firstName} ${r.lastName} - EACZ Member`,url:c}):(navigator.clipboard.writeText(c),t({title:"Link Copied",description:"Certificate verification link copied to clipboard."}))},l=()=>`${window.location.origin}/public-verification?member=${r.membershipNumber}`,o=()=>{const c=l();return`
    <!DOCTYPE html>
    <html>
    <head>
        <title>EACZ Certificate - ${r.membershipNumber}</title>
        <style>
            body { font-family: 'Times New Roman', serif; margin: 0; padding: 40px; background: white; }
            .certificate { max-width: 800px; margin: 0 auto; border: 3px solid #1e40af; padding: 40px; position: relative; }
            .header { text-align: center; margin-bottom: 30px; }
            .logo { width: 80px; height: 80px; margin: 0 auto 20px; }
            .title { font-size: 24px; font-weight: bold; color: #1e40af; margin-bottom: 10px; }
            .subtitle { font-size: 18px; color: #374151; margin-bottom: 30px; }
            .content { text-align: center; line-height: 1.8; }
            .member-name { font-size: 28px; font-weight: bold; color: #1e40af; margin: 20px 0; }
            .details { font-size: 16px; margin: 10px 0; }
            .qr-section { text-align: center; margin-top: 30px; }
            .signature { margin-top: 40px; text-align: right; }
            .footer { margin-top: 30px; text-align: center; font-size: 12px; color: #6b7280; }
        </style>
    </head>
    <body>
        <div class="certificate">
            <div class="header">
                <div class="logo">🏛️</div>
                <div class="title">ESTATE AGENTS COUNCIL OF ZIMBABWE</div>
                <div class="subtitle">CERTIFICATE OF REGISTRATION</div>
            </div>
            
            <div class="content">
                <p>This is to certify that</p>
                <div class="member-name">${r.firstName} ${r.lastName}</div>
                <p>is a registered ${n(r.memberType)} with the Estate Agents Council of Zimbabwe</p>
                
                <div class="details">
                    <p><strong>Membership Number:</strong> ${r.membershipNumber}</p>
                    <p><strong>Date of Registration:</strong> ${new Date(r.joiningDate).toLocaleDateString()}</p>
                    <p><strong>Valid Until:</strong> ${new Date(r.expiryDate||new Date(Date.now()+365*24*60*60*1e3)).toLocaleDateString()}</p>
                </div>
                
                <div class="qr-section">
                    <p><strong>Verify this certificate at:</strong></p>
                    <p style="font-family: monospace; font-size: 14px;">${c}</p>
                    <div style="border: 2px solid #1e40af; width: 120px; height: 120px; margin: 20px auto; display: flex; align-items: center; justify-content: center;">
                        QR CODE
                    </div>
                </div>
            </div>
            
            <div class="signature">
                <div style="border-top: 2px solid #1e40af; width: 200px; margin-left: auto; padding-top: 10px;">
                    <p><strong>Registrar</strong></p>
                    <p>Estate Agents Council of Zimbabwe</p>
                </div>
            </div>
            
            <div class="footer">
                <p>This certificate is valid only when accompanied by proper identification.</p>
                <p>For verification, visit: ${window.location.origin}/public-verification</p>
            </div>
        </div>
    </body>
    </html>
    `};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(El,{currentPage:"certificate"}),e.jsx("div",{className:"p-6",children:e.jsxs("main",{className:"w-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Digital Certificate"}),e.jsx("p",{className:"text-muted-foreground",children:"Download and verify your professional registration certificate"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ee,{className:"text-sm font-medium text-gray-900",children:"Certificate Status"}),e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:e.jsx(le,{className:"h-4 w-4 text-white"})})]}),e.jsxs(V,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"Active"}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Valid until ",r.expiryDate.toLocaleDateString()]})]})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ee,{className:"text-sm font-medium text-gray-900",children:"Member Type"}),e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(js,{className:"h-4 w-4 text-white"})})]}),e.jsxs(V,{children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:n(r.memberType)}),e.jsx("p",{className:"text-xs text-gray-600",children:"Professional designation"})]})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ee,{className:"text-sm font-medium text-gray-900",children:"Verification"}),e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(ds,{className:"h-4 w-4 text-white"})})]}),e.jsxs(V,{children:[e.jsx("div",{className:"text-lg font-bold text-purple-600",children:"Verified"}),e.jsx("p",{className:"text-xs text-gray-600",children:"QR code enabled"})]})]})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 mb-6",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center text-gray-900 text-center justify-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-lg flex items-center justify-center mr-3",children:e.jsx(ZT,{className:"w-4 h-4 text-white"})}),"Digital Certificate of Registration"]})}),e.jsx(V,{children:e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-8 rounded-lg border-2 border-blue-200",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-4",children:e.jsx(ds,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Estate Agents Council of Zimbabwe"}),e.jsx("p",{className:"text-blue-700 font-medium",children:"Certificate of Registration"})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"This is to certify that"}),e.jsxs("h3",{className:"text-3xl font-bold text-blue-900 mb-2",children:[r.firstName," ",r.lastName]}),e.jsxs("p",{className:"text-lg text-gray-700 mb-4",children:["is a registered ",e.jsx("strong",{children:n(r.memberType)})]}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs(oe,{className:"bg-blue-600 text-white px-4 py-2 text-lg",children:["Registration No: ",r.membershipNumber]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-center mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Date of Registration"}),e.jsx("p",{className:"font-bold text-gray-900",children:r.joiningDate.toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Valid Until"}),e.jsx("p",{className:"font-bold text-gray-900",children:r.expiryDate.toLocaleDateString()})]})]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-300",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded flex items-center justify-center",children:e.jsx(Ty,{className:"w-8 h-8 text-gray-500"})}),e.jsx("p",{className:"text-xs text-gray-600 mt-2 text-center",children:"Verification QR"})]})}),e.jsxs("div",{className:"text-center border-t border-blue-200 pt-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"This digital certificate is valid and can be verified at"}),e.jsxs("p",{className:"text-sm font-mono text-blue-600",children:["https://eacz.org/verify/",r.membershipNumber]})]})]})})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[e.jsxs(P,{onClick:a,className:"gradient-button text-white border-0","data-testid":"button-download-certificate",children:[e.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Download PDF Certificate"]}),e.jsxs(P,{onClick:i,variant:"outline",className:"border-blue-200 text-blue-700 hover:bg-blue-50","data-testid":"button-share-certificate",children:[e.jsx(eR,{className:"w-4 h-4 mr-2"}),"Share Certificate"]}),e.jsxs(P,{onClick:()=>window.open(`https://eacz.org/verify/${r.membershipNumber}`,"_blank"),variant:"outline",className:"border-purple-200 text-purple-700 hover:bg-purple-50","data-testid":"button-verify-certificate",children:[e.jsx(ds,{className:"w-4 h-4 mr-2"}),"Verify Online"]})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 mt-8",children:[e.jsx(J,{children:e.jsx(ee,{className:"text-gray-900",children:"Membership Benefits"})}),e.jsx(V,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(js,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Professional Recognition"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Official recognition as a qualified real estate professional in Zimbabwe"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(dt,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Education and Development"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Access to CPD programs, workshops, and professional development opportunities"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(ds,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Business Support"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Networking opportunities, industry resources, and professional advocacy"})]})]})})]})]})}),e.jsx(wt,{})]})}function Rle(){const{user:t}=St(),[,s]=Xe(),{toast:r}=tt();p.useState(null);const n={id:"sub-1",planName:"Professional Member - Annual",status:"active",amount:500,currency:"USD",billingCycle:"annual",startDate:new Date("2024-01-01"),endDate:new Date("2024-12-31"),nextBillingDate:new Date("2025-01-01"),autoRenew:!0,paymentMethod:"PayNow EcoCash"},{data:a,isLoading:i}=Ge({queryKey:["/api/members/subscription"],enabled:!!t,initialData:n});Ge({queryKey:["/api/payments/upcoming"],enabled:!!t});const l=$e({mutationFn:async u=>{const m=await fetch("/api/members/subscription/auto-renew",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({autoRenew:u}),credentials:"include"});if(!m.ok)throw new Error("Failed to update auto-renew");return m.json()},onSuccess:()=>{st.invalidateQueries({queryKey:["/api/members/subscription"]}),r({title:"Success",description:"Auto-renew settings updated successfully."})},onError:()=>{r({title:"Error",description:"Failed to update auto-renew settings.",variant:"destructive"})}}),o=$e({mutationFn:async()=>{const u=await fetch("/api/payments/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:(a==null?void 0:a.amount)||500,purpose:"renewal",paymentMethod:"paynow_ecocash"}),credentials:"include"});if(!u.ok)throw new Error("Failed to initiate renewal");return u.json()},onSuccess:u=>{var m;(m=u.paynow)!=null&&m.redirectUrl?window.location.href=u.paynow.redirectUrl:r({title:"Success",description:"Renewal payment initiated. Check your phone for payment prompt."})},onError:()=>{r({title:"Error",description:"Failed to initiate renewal payment.",variant:"destructive"})}});if(!t)return s("/login"),null;const c=u=>{switch(u){case"active":return e.jsxs(oe,{className:"bg-green-100 text-green-800",children:[e.jsx(le,{className:"w-3 h-3 mr-1"}),"Active"]});case"pending":return e.jsxs(oe,{className:"bg-yellow-100 text-yellow-800",children:[e.jsx(ft,{className:"w-3 h-3 mr-1"}),"Pending"]});case"expired":return e.jsxs(oe,{className:"bg-red-100 text-red-800",children:[e.jsx(Je,{className:"w-3 h-3 mr-1"}),"Expired"]});case"cancelled":return e.jsx(oe,{className:"bg-gray-100 text-gray-800",children:"Cancelled"});default:return e.jsx(oe,{children:u})}},d=a?Math.ceil((new Date(a.endDate).getTime()-Date.now())/(1e3*60*60*24)):0;return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(El,{currentPage:"subscriptions"}),e.jsx("div",{className:"p-6",children:e.jsxs("main",{className:"w-full max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Membership & Subscriptions"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your membership plan, payments, and renewals"})]}),e.jsx($,{className:"mb-6 bg-gradient-to-r from-blue-500 to-purple-600 text-white border-0",children:e.jsxs(V,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:a==null?void 0:a.planName}),e.jsxs("div",{className:"flex items-center space-x-2",children:[a&&c(a.status),e.jsx("span",{className:"text-sm opacity-90",children:(a==null?void 0:a.billingCycle)==="annual"?"Billed Annually":(a==null?void 0:a.billingCycle)==="monthly"?"Billed Monthly":"Billed Quarterly"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-3xl font-bold",children:["$",a==null?void 0:a.amount]}),e.jsxs("div",{className:"text-sm opacity-90",children:["per ",(a==null?void 0:a.billingCycle)==="annual"?"year":(a==null?void 0:a.billingCycle)==="monthly"?"month":"quarter"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(dt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Next Billing"})]}),e.jsx("div",{className:"text-lg font-semibold",children:a!=null&&a.nextBillingDate?new Date(a.nextBillingDate).toLocaleDateString():"N/A"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(ft,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Days Remaining"})]}),e.jsxs("div",{className:"text-lg font-semibold",children:[d," days"]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Qt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Payment Method"})]}),e.jsx("div",{className:"text-lg font-semibold",children:a==null?void 0:a.paymentMethod})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-white/20",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ws,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:["Auto-Renew: ",a!=null&&a.autoRenew?"On":"Off"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(P,{variant:"outline",size:"sm",className:"bg-white/10 border-white/30 text-white hover:bg-white/20",onClick:()=>l.mutate(!(a!=null&&a.autoRenew)),children:[a!=null&&a.autoRenew?"Turn Off":"Turn On"," Auto-Renew"]}),d<60&&e.jsxs(P,{size:"sm",className:"bg-white text-blue-600 hover:bg-white/90",onClick:()=>o.mutate(),children:["Renew Now",e.jsx(Io,{className:"w-4 h-4 ml-2"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"text-sm font-medium flex items-center",children:[e.jsx(Gr,{className:"w-4 h-4 mr-2 text-green-600"}),"Total Paid This Year"]})}),e.jsxs(V,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",(a==null?void 0:a.amount)||0]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"100% of subscription"})]})]}),e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"text-sm font-medium flex items-center",children:[e.jsx(sl,{className:"w-4 h-4 mr-2 text-blue-600"}),"Member Since"]})}),e.jsxs(V,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a!=null&&a.startDate?new Date(a.startDate).toLocaleDateString("en-US",{month:"short",year:"numeric"}):"N/A"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active member"})]})]}),e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"text-sm font-medium flex items-center",children:[e.jsx(ds,{className:"w-4 h-4 mr-2 text-purple-600"}),"Coverage Status"]})}),e.jsxs(V,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"Protected"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Full benefits active"})]})]})]}),e.jsxs($,{className:"mb-6",children:[e.jsxs(J,{children:[e.jsx(ee,{children:"Available Membership Plans"}),e.jsx(Gt,{children:"Choose the plan that best fits your needs"})]}),e.jsx(V,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs($,{className:"border-2 hover:border-blue-500 transition-colors cursor-pointer",children:[e.jsxs(J,{children:[e.jsx(ee,{className:"text-lg",children:"Monthly Plan"}),e.jsx(Gt,{children:"Perfect for short-term needs"})]}),e.jsxs(V,{children:[e.jsxs("div",{className:"text-3xl font-bold mb-4",children:["$50",e.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/month"})]}),e.jsxs("ul",{className:"space-y-2 mb-4",children:[e.jsxs("li",{className:"flex items-center text-sm",children:[e.jsx(le,{className:"w-4 h-4 mr-2 text-green-600"}),"All basic features"]}),e.jsxs("li",{className:"flex items-center text-sm",children:[e.jsx(le,{className:"w-4 h-4 mr-2 text-green-600"}),"CPD tracking"]}),e.jsxs("li",{className:"flex items-center text-sm",children:[e.jsx(le,{className:"w-4 h-4 mr-2 text-green-600"}),"Event access"]})]}),e.jsx(P,{className:"w-full",variant:"outline",children:"Select Plan"})]})]}),e.jsxs($,{className:"border-2 hover:border-blue-500 transition-colors cursor-pointer",children:[e.jsxs(J,{children:[e.jsx(ee,{className:"text-lg",children:"Quarterly Plan"}),e.jsx(Gt,{children:"Save 10% with quarterly billing"})]}),e.jsxs(V,{children:[e.jsxs("div",{className:"text-3xl font-bold mb-4",children:["$135",e.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/quarter"})]}),e.jsxs("ul",{className:"space-y-2 mb-4",children:[e.jsxs("li",{className:"flex items-center text-sm",children:[e.jsx(le,{className:"w-4 h-4 mr-2 text-green-600"}),"All monthly features"]}),e.jsxs("li",{className:"flex items-center text-sm",children:[e.jsx(le,{className:"w-4 h-4 mr-2 text-green-600"}),"Priority support"]}),e.jsxs("li",{className:"flex items-center text-sm",children:[e.jsx(le,{className:"w-4 h-4 mr-2 text-green-600"}),"10% savings"]})]}),e.jsx(P,{className:"w-full",variant:"outline",children:"Select Plan"})]})]}),e.jsxs($,{className:"border-2 border-blue-500 bg-blue-50 relative",children:[e.jsx("div",{className:"absolute top-0 right-0 bg-blue-500 text-white px-3 py-1 text-xs font-semibold rounded-bl",children:"MOST POPULAR"}),e.jsxs(J,{children:[e.jsx(ee,{className:"text-lg",children:"Annual Plan"}),e.jsx(Gt,{children:"Best value - Save 20%"})]}),e.jsxs(V,{children:[e.jsxs("div",{className:"text-3xl font-bold mb-4",children:["$500",e.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/year"})]}),e.jsxs("ul",{className:"space-y-2 mb-4",children:[e.jsxs("li",{className:"flex items-center text-sm",children:[e.jsx(le,{className:"w-4 h-4 mr-2 text-green-600"}),"All quarterly features"]}),e.jsxs("li",{className:"flex items-center text-sm",children:[e.jsx(le,{className:"w-4 h-4 mr-2 text-green-600"}),"Premium support"]}),e.jsxs("li",{className:"flex items-center text-sm",children:[e.jsx(le,{className:"w-4 h-4 mr-2 text-green-600"}),"20% savings"]}),e.jsxs("li",{className:"flex items-center text-sm",children:[e.jsx(le,{className:"w-4 h-4 mr-2 text-green-600"}),"Exclusive benefits"]})]}),e.jsx(P,{className:"w-full gradient-button text-white border-0",children:"Current Plan"})]})]})]})})]}),e.jsxs($,{children:[e.jsxs(J,{children:[e.jsx(ee,{children:"Payment Methods"}),e.jsx(Gt,{children:"Manage your payment options"})]}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:e.jsx(Qt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"EcoCash"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"+263 77 123 4567"})]})]}),e.jsx(oe,{children:"Primary"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg opacity-60",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center",children:e.jsx(Qt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"OneMoney"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Not connected"})]})]}),e.jsx(P,{variant:"outline",size:"sm",children:"Connect"})]}),e.jsx(P,{variant:"outline",className:"w-full",children:"+ Add Payment Method"})]})})]})]})})]})}function er(t){const s=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&s==="[object Date]"?new t.constructor(+t):typeof t=="number"||s==="[object Number]"||typeof t=="string"||s==="[object String]"?new Date(t):new Date(NaN)}function Dle(t,s){return t instanceof Date?new t.constructor(s):new Date(s)}const wp=43200,JS=1440;let Mle={};function Ole(){return Mle}function e_(t){const s=er(t),r=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return r.setUTCFullYear(s.getFullYear()),+t-+r}function Jp(t,s){const r=er(t),n=er(s),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Ile(t){return Dle(t,Date.now())}function Fle(t,s){const r=er(t),n=er(s),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Lle(t){return s=>{const n=(t?Math[t]:Math.trunc)(s);return n===0?0:n}}function zle(t,s){return+er(t)-+er(s)}function Ule(t){const s=er(t);return s.setHours(23,59,59,999),s}function $le(t){const s=er(t),r=s.getMonth();return s.setFullYear(s.getFullYear(),r+1,0),s.setHours(23,59,59,999),s}function Vle(t){const s=er(t);return+Ule(s)==+$le(s)}function Ble(t,s){const r=er(t),n=er(s),a=Jp(r,n),i=Math.abs(Fle(r,n));let l;if(i<1)l=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let o=Jp(r,n)===-a;Vle(er(t))&&i===1&&Jp(t,n)===1&&(o=!1),l=a*(i-Number(o))}return l===0?0:l}function qle(t,s,r){const n=zle(t,s)/1e3;return Lle(r==null?void 0:r.roundingMethod)(n)}const Wle={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Hle=(t,s,r)=>{let n;const a=Wle[t];return typeof a=="string"?n=a:s===1?n=a.one:n=a.other.replace("{{count}}",s.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ib(t){return(s={})=>{const r=s.width?String(s.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Kle={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Gle={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Qle={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yle={date:ib({formats:Kle,defaultWidth:"full"}),time:ib({formats:Gle,defaultWidth:"full"}),dateTime:ib({formats:Qle,defaultWidth:"full"})},Zle={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Xle=(t,s,r,n)=>Zle[t];function lu(t){return(s,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):l;a=t.formattingValues[o]||t.formattingValues[l]}else{const l=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[o]||t.values[l]}const i=t.argumentCallback?t.argumentCallback(s):s;return a[i]}}const Jle={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eoe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},toe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},soe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},roe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},noe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},aoe=(t,s)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ioe={ordinalNumber:aoe,era:lu({values:Jle,defaultWidth:"wide"}),quarter:lu({values:eoe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:lu({values:toe,defaultWidth:"wide"}),day:lu({values:soe,defaultWidth:"wide"}),dayPeriod:lu({values:roe,defaultWidth:"wide",formattingValues:noe,defaultFormattingWidth:"wide"})};function ou(t){return(s,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=s.match(a);if(!i)return null;const l=i[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?ooe(o,m=>m.test(l)):loe(o,m=>m.test(l));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=s.slice(l.length);return{value:d,rest:u}}}function loe(t,s){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&s(t[r]))return r}function ooe(t,s){for(let r=0;r<t.length;r++)if(s(t[r]))return r}function coe(t){return(s,r={})=>{const n=s.match(t.matchPattern);if(!n)return null;const a=n[0],i=s.match(t.parsePattern);if(!i)return null;let l=t.valueCallback?t.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;const o=s.slice(a.length);return{value:l,rest:o}}}const doe=/^(\d+)(th|st|nd|rd)?/i,uoe=/\d+/i,moe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hoe={any:[/^b/i,/^(a|c)/i]},poe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},foe={any:[/1/i,/2/i,/3/i,/4/i]},xoe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},goe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},boe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yoe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},voe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},joe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},woe={ordinalNumber:coe({matchPattern:doe,parsePattern:uoe,valueCallback:t=>parseInt(t,10)}),era:ou({matchPatterns:moe,defaultMatchWidth:"wide",parsePatterns:hoe,defaultParseWidth:"any"}),quarter:ou({matchPatterns:poe,defaultMatchWidth:"wide",parsePatterns:foe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ou({matchPatterns:xoe,defaultMatchWidth:"wide",parsePatterns:goe,defaultParseWidth:"any"}),day:ou({matchPatterns:boe,defaultMatchWidth:"wide",parsePatterns:yoe,defaultParseWidth:"any"}),dayPeriod:ou({matchPatterns:voe,defaultMatchWidth:"any",parsePatterns:joe,defaultParseWidth:"any"})},Noe={code:"en-US",formatDistance:Hle,formatLong:Yle,formatRelative:Xle,localize:ioe,match:woe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Coe(t,s,r){const n=Ole(),a=(r==null?void 0:r.locale)??n.locale??Noe,i=2520,l=Jp(t,s);if(isNaN(l))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:l});let c,d;l>0?(c=er(s),d=er(t)):(c=er(t),d=er(s));const u=qle(d,c),m=(e_(d)-e_(c))/1e3,h=Math.round((u-m)/60);let f;if(h<2)return r!=null&&r.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,o):u<10?a.formatDistance("lessThanXSeconds",10,o):u<20?a.formatDistance("lessThanXSeconds",20,o):u<40?a.formatDistance("halfAMinute",0,o):u<60?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",1,o):h===0?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",h,o);if(h<45)return a.formatDistance("xMinutes",h,o);if(h<90)return a.formatDistance("aboutXHours",1,o);if(h<JS){const b=Math.round(h/60);return a.formatDistance("aboutXHours",b,o)}else{if(h<i)return a.formatDistance("xDays",1,o);if(h<wp){const b=Math.round(h/JS);return a.formatDistance("xDays",b,o)}else if(h<wp*2)return f=Math.round(h/wp),a.formatDistance("aboutXMonths",f,o)}if(f=Ble(d,c),f<12){const b=Math.round(h/wp);return a.formatDistance("xMonths",b,o)}else{const b=f%12,x=Math.trunc(f/12);return b<3?a.formatDistance("aboutXYears",x,o):b<9?a.formatDistance("overXYears",x,o):a.formatDistance("almostXYears",x+1,o)}}function Soe(t,s){return Coe(t,Ile(t),s)}function _oe(){const[t,s]=p.useState("all"),{toast:r}=tt(),n=Yj(),{data:a,isLoading:i}=Ge({queryKey:["/api/notifications"]}),l=(a==null?void 0:a.notifications)||[],{data:o}=Ge({queryKey:["/api/notifications/unread"]}),c=(o==null?void 0:o.count)||0,d=$e({mutationFn:async j=>{const w=await fetch(`/api/notifications/${j}/mark-read`,{method:"PUT",credentials:"include"});if(!w.ok)throw new Error("Failed to mark as read");return w.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/notifications"]}),n.invalidateQueries({queryKey:["/api/notifications/unread"]})}}),u=$e({mutationFn:async()=>{const j=await fetch("/api/notifications/mark-all-read",{method:"PUT",credentials:"include"});if(!j.ok)throw new Error("Failed to mark all as read");return j.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/notifications"]}),n.invalidateQueries({queryKey:["/api/notifications/unread"]}),r({title:"Success",description:"All notifications marked as read",variant:"success"})}}),m=$e({mutationFn:async j=>{const w=await fetch(`/api/notifications/${j}`,{method:"DELETE",credentials:"include"});if(!w.ok)throw new Error("Failed to delete notification");return w.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/notifications"]}),n.invalidateQueries({queryKey:["/api/notifications/unread"]}),r({title:"Deleted",description:"Notification deleted successfully"})}}),h=j=>{switch(j){case"email":return e.jsx(jt,{className:"w-5 h-5"});case"sms":return e.jsx(V9,{className:"w-5 h-5"});case"push":return e.jsx(rw,{className:"w-5 h-5"});case"in_app":return e.jsx(ho,{className:"w-5 h-5"});default:return e.jsx(L9,{className:"w-5 h-5"})}},f=j=>{const w={pending:{variant:"outline",label:"Pending"},sent:{variant:"secondary",label:"Sent"},delivered:{variant:"default",label:"Delivered"},failed:{variant:"destructive",label:"Failed"},opened:{variant:"secondary",label:"Read"}},N=w[j]||w.pending;return e.jsx(oe,{variant:N.variant,className:"ml-2",children:N.label})},b=j=>j.status==="failed"?"border-l-red-500 bg-red-50/50":j.openedAt?"border-l-gray-300 bg-gray-50/50":"border-l-blue-500 bg-blue-50/50",x=(j,w)=>{w||d.mutate(j)},v=j=>{confirm("Are you sure you want to delete this notification?")&&m.mutate(j)},y=(j=>{switch(t){case"unread":return j.filter(w=>!w.openedAt);case"read":return j.filter(w=>w.openedAt);default:return j}})(l);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-6",children:e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsxs($,{className:"shadow-xl",children:[e.jsx(J,{className:"border-b bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(ho,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx(ee,{className:"text-2xl",children:"Notifications"}),e.jsx(Gt,{className:"text-blue-100",children:"Stay updated with your account activity"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:c>0&&e.jsxs(oe,{className:"bg-red-500 text-white border-0 text-lg px-3 py-1",children:[c," new"]})})]})}),e.jsx(V,{className:"p-6",children:e.jsxs(Zt,{value:t,onValueChange:s,className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(Ht,{className:"grid w-[400px] grid-cols-3",children:[e.jsxs(Ae,{value:"all",children:["All (",l.length,")"]}),e.jsxs(Ae,{value:"unread",children:["Unread (",c,")"]}),e.jsxs(Ae,{value:"read",children:["Read (",l.length-c,")"]})]}),c>0&&e.jsxs(P,{onClick:()=>u.mutate(),variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(T9,{className:"w-4 h-4"}),"Mark all as read"]})]}),e.jsx(Oe,{value:t,className:"mt-0",children:i?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading notifications..."})]}):y.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ho,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No notifications"}),e.jsx("p",{className:"text-gray-500",children:t==="unread"?"You're all caught up!":t==="read"?"No read notifications yet":"You don't have any notifications yet"})]}):e.jsx("div",{className:"space-y-3",children:y.map(j=>{const w=!!j.openedAt;return e.jsx("div",{className:ye("p-4 border-l-4 rounded-lg shadow-sm transition-all hover:shadow-md cursor-pointer",b(j)),onClick:()=>x(j.id,w),children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:ye("flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center",w?"bg-gray-200 text-gray-600":"bg-blue-100 text-blue-600"),children:h(j.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsx("h4",{className:ye("text-sm font-semibold",w?"text-gray-700":"text-gray-900"),children:j.title}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[!w&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),f(j.status)]})]}),e.jsx("p",{className:ye("text-sm mb-2",w?"text-gray-600":"text-gray-800"),children:j.message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(dt,{className:"w-3 h-3"}),Soe(new Date(j.createdAt),{addSuffix:!0})]}),j.deliveredAt&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(le,{className:"w-3 h-3 text-green-500"}),"Delivered"]})]}),e.jsx(P,{variant:"ghost",size:"sm",onClick:N=>{N.stopPropagation(),v(j.id)},className:"h-8 w-8 p-0 text-gray-400 hover:text-red-600",children:e.jsx(Oa,{className:"w-4 h-4"})})]})]})]})},j.id)})})})]})})]})})})}const koe=I.object({name:I.string().min(2,"Organization name must be at least 2 characters"),email:I.string().email("Invalid email address"),phone:I.string().optional(),address:I.string().optional(),trustAccountDetails:I.string().optional()});function Poe(){var h,f;const{user:t}=St(),[,s]=Xe(),{toast:r}=tt(),{data:n,isLoading:a}=Ge({queryKey:["/api/organization/profile"],enabled:!!t}),{data:i=[]}=Ge({queryKey:["/api/organization/members"],enabled:!!t&&!!n}),l=It({resolver:Ft(koe),defaultValues:{name:(n==null?void 0:n.name)||"",email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",address:(n==null?void 0:n.address)||"",trustAccountDetails:(n==null?void 0:n.trustAccountDetails)||""}}),o=$e({mutationFn:b=>Be("PUT","/api/organization/profile",b),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/organization/profile"]}),r({title:"Success",description:"Organization profile updated successfully."})},onError:()=>{r({title:"Error",description:"Failed to update organization profile.",variant:"destructive"})}}),c=[{icon:qe,label:"Organization",href:"/organization/profile",active:!0},{icon:at,label:"Members",href:"/organization/members"},{icon:Le,label:"Documents",href:"/organization/documents"},{icon:Gr,label:"Payments",href:"/organization/payments"},{icon:dt,label:"Events",href:"/organization/events"},{icon:Tr,label:"Settings",href:"/organization/settings"}],d=b=>{o.mutate(b)};if(a)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx("div",{children:"Loading organization profile..."})});const u=i.filter(b=>b.membershipStatus==="active"),m=i.filter(b=>b.membershipStatus==="pending");return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Uo,{items:c,title:"Organization Portal",subtitle:"EACZ Organization Management"}),e.jsxs("div",{className:"pl-64",children:[e.jsx(Kt,{title:"Organization Profile",subtitle:"Manage your organization's information and settings"}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsx($,{className:"mb-6",children:e.jsx(J,{children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-20 h-20 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(qe,{className:"w-10 h-10 text-primary"})}),e.jsxs("div",{children:[e.jsx(ee,{className:"text-2xl",children:n==null?void 0:n.name}),e.jsxs("p",{className:"text-muted-foreground",children:[n==null?void 0:n.registrationNumber," • ",(h=n==null?void 0:n.type)==null?void 0:h.replace(/_/g," ")]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Registered: ",n!=null&&n.registrationDate?new Date(n.registrationDate).toLocaleDateString():"N/A"]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsxs($,{children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ee,{className:"text-sm font-medium",children:"Total Members"}),e.jsx(at,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(V,{children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:i.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered agents"})]})]}),e.jsxs($,{children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ee,{className:"text-sm font-medium",children:"Active Members"}),e.jsx(at,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(V,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:u.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),e.jsxs($,{children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ee,{className:"text-sm font-medium",children:"Pending"}),e.jsx(Je,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(V,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:m.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting approval"})]})]}),e.jsxs($,{children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ee,{className:"text-sm font-medium",children:"Status"}),e.jsx(qe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(V,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 capitalize",children:n==null?void 0:n.membershipStatus}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Organization status"})]})]})]}),e.jsxs(Zt,{defaultValue:"profile",className:"space-y-6",children:[e.jsxs(Ht,{className:"grid w-full grid-cols-4",children:[e.jsx(Ae,{value:"profile",children:"Profile Information"}),e.jsx(Ae,{value:"registration",children:"Registration Details"}),e.jsx(Ae,{value:"financial",children:"Financial Information"}),e.jsx(Ae,{value:"compliance",children:"Compliance"})]}),e.jsx(Oe,{value:"profile",className:"space-y-6",children:e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(qe,{className:"w-5 h-5 mr-2"}),"Organization Information"]})}),e.jsx(V,{children:e.jsx(Rt,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(d),className:"space-y-4",children:[e.jsx(Q,{control:l.control,name:"name",render:({field:b})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Organization Name"}),e.jsx(G,{children:e.jsx(Y,{...b,"data-testid":"input-org-name"})}),e.jsx(X,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Q,{control:l.control,name:"email",render:({field:b})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Email Address"}),e.jsx(G,{children:e.jsx(Y,{...b,type:"email","data-testid":"input-org-email"})}),e.jsx(X,{})]})}),e.jsx(Q,{control:l.control,name:"phone",render:({field:b})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Phone Number"}),e.jsx(G,{children:e.jsx(Y,{...b,"data-testid":"input-org-phone"})}),e.jsx(X,{})]})})]}),e.jsx(Q,{control:l.control,name:"address",render:({field:b})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Business Address"}),e.jsx(G,{children:e.jsx(kt,{...b,rows:3,"data-testid":"textarea-org-address"})}),e.jsx(X,{})]})}),e.jsxs(P,{type:"submit",className:"gradient-button text-white border-0",disabled:o.isPending,"data-testid":"button-save-org-profile",children:[e.jsx(Vr,{className:"w-4 h-4 mr-2"}),o.isPending?"Saving...":"Save Changes"]})]})})})]})}),e.jsx(Oe,{value:"registration",className:"space-y-6",children:e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 mr-2"}),"Registration Details"]})}),e.jsxs(V,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Registration Number"}),e.jsx("div",{className:"p-2 border rounded bg-gray-50 font-mono",children:(n==null?void 0:n.registrationNumber)||"Not assigned"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Organization Type"}),e.jsx("div",{className:"p-2 border rounded bg-gray-50 capitalize",children:(f=n==null?void 0:n.type)==null?void 0:f.replace(/_/g," ")})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Registration Date"}),e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:n!=null&&n.registrationDate?new Date(n.registrationDate).toLocaleDateString():"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Expiry Date"}),e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:n!=null&&n.expiryDate?new Date(n.expiryDate).toLocaleDateString():"Not specified"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Principal Agent"}),e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:n!=null&&n.principalAgentId?`Principal Agent ID: ${n.principalAgentId}`:"Not assigned"})]})]})]})}),e.jsx(Oe,{value:"financial",className:"space-y-6",children:e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(Gr,{className:"w-5 h-5 mr-2"}),"Financial Information"]})}),e.jsxs(V,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Annual Fee"}),e.jsxs("div",{className:"p-2 border rounded bg-gray-50",children:["$",(n==null?void 0:n.annualFee)||"Not set"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Payment Status"}),e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:"Current"})]})]}),e.jsx("div",{children:e.jsx(Rt,{...l,children:e.jsx(Q,{control:l.control,name:"trustAccountDetails",render:({field:b})=>e.jsxs(K,{children:[e.jsx(Z,{children:"Trust Account Details"}),e.jsx(G,{children:e.jsx(kt,{...b,rows:4,placeholder:"Enter trust account information including bank name, account number, and other relevant details...","data-testid":"textarea-trust-account"})}),e.jsx(X,{})]})})})}),e.jsxs(P,{onClick:l.handleSubmit(d),className:"gradient-button text-white border-0",disabled:o.isPending,"data-testid":"button-save-financial",children:[e.jsx(Vr,{className:"w-4 h-4 mr-2"}),"Save Financial Information"]})]})]})}),e.jsx(Oe,{value:"compliance",className:"space-y-6",children:e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(Je,{className:"w-5 h-5 mr-2"}),"Compliance & Requirements"]})}),e.jsxs(V,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Principal Agent Assignment"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Organization must have an assigned principal agent"})]}),e.jsx("div",{className:"flex items-center",children:n!=null&&n.principalAgentId?e.jsx("span",{className:"text-green-600 font-medium",children:"✓ Assigned"}):e.jsx("span",{className:"text-red-600 font-medium",children:"✗ Required"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Trust Account Registration"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Valid trust account details on file"})]}),e.jsx("div",{className:"flex items-center",children:n!=null&&n.trustAccountDetails?e.jsx("span",{className:"text-green-600 font-medium",children:"✓ Complete"}):e.jsx("span",{className:"text-red-600 font-medium",children:"✗ Required"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Annual Fee Payment"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Current year membership fee paid"})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"text-green-600 font-medium",children:"✓ Current"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Member Registration"}),e.jsx("p",{className:"text-sm text-gray-600",children:"At least one active member registered"})]}),e.jsx("div",{className:"flex items-center",children:u.length>0?e.jsxs("span",{className:"text-green-600 font-medium",children:["✓ ",u.length," Active"]}):e.jsx("span",{className:"text-red-600 font-medium",children:"✗ Required"})})]})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Actions Required"}),e.jsxs("div",{className:"space-y-2",children:[!(n!=null&&n.principalAgentId)&&e.jsx(P,{variant:"outline",onClick:()=>s("/organization/members?action=assign-principal"),children:"Assign Principal Agent"}),!(n!=null&&n.trustAccountDetails)&&e.jsx(P,{variant:"outline",onClick:()=>s("/organization/profile?tab=financial"),children:"Add Trust Account Details"}),u.length===0&&e.jsx(P,{variant:"outline",onClick:()=>s("/member-registration"),children:"Register First Member"})]})]})]})]})})]})]}),e.jsx(wt,{})]})]})}function Eoe(){const{user:t}=St(),[s,r]=p.useState(""),[n,a]=p.useState("all"),[i,l]=p.useState(null),[o,c]=p.useState(!1),[d,u]=p.useState(!1),[m,h]=p.useState(""),[,f]=Xe(),{toast:b}=tt(),{data:x=[],isLoading:v}=Ge({queryKey:["/api/organization/members"],enabled:!!t}),g=$e({mutationFn:({id:z,updates:re})=>Be("PUT",`/api/organization/members/${z}`,re),onSuccess:()=>{st.invalidateQueries({queryKey:["/api/organization/members"]}),b({title:"Success",description:"Member updated successfully."}),l(null)},onError:()=>{b({title:"Error",description:"Failed to update member.",variant:"destructive"})}}),y=$e({mutationFn:z=>Be("POST","/api/organization/members/invite",{email:z}),onSuccess:()=>{b({title:"Success",description:"Invitation sent successfully."}),u(!1),h("")},onError:()=>{b({title:"Error",description:"Failed to send invitation.",variant:"destructive"})}}),j=[{icon:qe,label:"Organization",href:"/organization/profile"},{icon:at,label:"Members",href:"/organization/members",active:!0},{icon:Le,label:"Documents",href:"/organization/documents"},{icon:Gr,label:"Payments",href:"/organization/payments"},{icon:dt,label:"Events",href:"/organization/events"},{icon:Tr,label:"Settings",href:"/organization/settings"}],w=x.filter(z=>{var B;const re=!s||`${z.firstName} ${z.lastName}`.toLowerCase().includes(s.toLowerCase())||((B=z.membershipNumber)==null?void 0:B.toLowerCase().includes(s.toLowerCase()))||z.email.toLowerCase().includes(s.toLowerCase()),F=n==="all"||z.membershipStatus===n;return re&&F}),N=z=>{switch(z){case"active":return"bg-green-100 text-green-800";case"standby":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-blue-100 text-blue-800";case"expired":return"bg-red-100 text-red-800";case"revoked":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},_=z=>{switch(z){case"active":return e.jsx(le,{className:"w-4 h-4"});case"pending":return e.jsx(ft,{className:"w-4 h-4"});case"expired":case"revoked":return e.jsx(Xt,{className:"w-4 h-4"});default:return e.jsx(Je,{className:"w-4 h-4"})}},k=x.filter(z=>z.membershipStatus==="active"),S=x.filter(z=>z.membershipStatus==="pending"),A=x.find(z=>z.memberType==="principal_real_estate_agent");return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-purple-900",children:[e.jsx(Uo,{items:j,title:"Organization Portal",subtitle:"EACZ Member Management"}),e.jsxs("div",{className:"pl-64",children:[e.jsx(Kt,{title:"Member Management",subtitle:"Manage your organization's registered members"}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsxs($,{children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ee,{className:"text-sm font-medium",children:"Total Members"}),e.jsx(at,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(V,{children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:x.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All members"})]})]}),e.jsxs($,{children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ee,{className:"text-sm font-medium",children:"Active"}),e.jsx(le,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(V,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:k.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),e.jsxs($,{children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ee,{className:"text-sm font-medium",children:"Pending"}),e.jsx(ft,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(V,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:S.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting approval"})]})]}),e.jsxs($,{children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ee,{className:"text-sm font-medium",children:"Principal Agent"}),e.jsx(Ol,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(V,{children:[e.jsx("div",{className:"text-lg font-bold text-purple-600",children:A?"Assigned":"Not Set"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:A?A.firstName+" "+A.lastName:"Required"})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(P,{className:"gradient-button text-white border-0",onClick:()=>f("/member-registration"),children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Add Member"]}),e.jsxs(P,{variant:"outline",onClick:()=>u(!0),"data-testid":"button-invite-member",children:[e.jsx(Us,{className:"w-4 h-4 mr-2"}),"Invite Member"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(Y,{placeholder:"Search members...",value:s,onChange:z=>r(z.target.value),className:"pl-10 w-64","data-testid":"input-search-members"})]}),e.jsxs(Ie,{value:n,onValueChange:a,children:[e.jsx(De,{className:"w-32",children:e.jsx(Fe,{placeholder:"Status"})}),e.jsxs(Me,{children:[e.jsx(D,{value:"all",children:"All Status"}),e.jsx(D,{value:"active",children:"Active"}),e.jsx(D,{value:"standby",children:"Standby"}),e.jsx(D,{value:"pending",children:"Pending"}),e.jsx(D,{value:"expired",children:"Expired"})]})]})]})]}),e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center",children:[e.jsx(at,{className:"w-5 h-5 mr-2"}),"Organization Members (",w.length,")"]})}),e.jsx(V,{children:v?e.jsx("div",{className:"text-center py-8",children:"Loading members..."}):w.length>0?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:w.map(z=>e.jsxs($,{className:"hover:shadow-md transition-shadow",children:[e.jsx(J,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:z.memberType==="principal_real_estate_agent"?e.jsx(Ol,{className:"w-6 h-6 text-purple-600"}):e.jsx(at,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsxs(ee,{className:"text-lg",children:[z.firstName," ",z.lastName,z.memberType==="principal_real_estate_agent"&&e.jsx(Ol,{className:"w-4 h-4 inline ml-2 text-purple-600"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:z.membershipNumber})]})]}),e.jsx(oe,{className:N(z.membershipStatus||""),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[_(z.membershipStatus||""),e.jsx("span",{children:z.membershipStatus})]})})]})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(at,{className:"w-4 h-4 mr-2 text-muted-foreground"}),z.memberType.replace(/_/g," ")]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(jt,{className:"w-4 h-4 mr-2 text-muted-foreground"}),e.jsx("a",{href:`mailto:${z.email}`,className:"text-primary hover:underline",children:z.email})]}),z.phone&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Rr,{className:"w-4 h-4 mr-2 text-muted-foreground"}),e.jsx("a",{href:`tel:${z.phone}`,className:"text-primary hover:underline",children:z.phone})]}),z.cpdPoints!==void 0&&e.jsx("div",{className:"pt-2 border-t",children:e.jsxs("span",{className:"text-sm font-medium",children:["CPD Points: ",z.cpdPoints]})}),e.jsxs("div",{className:"flex space-x-2 pt-3",children:[e.jsxs(P,{size:"sm",variant:"outline",onClick:()=>{l(z),c(!0)},"data-testid":`button-view-member-${z.id}`,children:[e.jsx(us,{className:"w-4 h-4 mr-1"}),"View"]}),e.jsxs(P,{size:"sm",variant:"outline",onClick:()=>f(`/member-registration?edit=${z.id}`),children:[e.jsx(sa,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]})})]},z.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(at,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Members Found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:s||n!=="all"?"Try adjusting your search criteria or filters.":"Get started by adding your first member."}),e.jsxs(P,{className:"gradient-button text-white border-0",onClick:()=>f("/member-registration"),children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Add First Member"]})]})})]})]}),e.jsx(wt,{})]}),e.jsx(Lt,{open:d,onOpenChange:u,title:"Invite New Member",subtitle:"Send an invitation to join your organization",icon:Us,colorVariant:"green",maxWidth:"xl",footer:{secondary:{label:"Cancel",onClick:()=>{u(!1),h("")},testId:"button-cancel-invite"},primary:{label:"Send Invitation",onClick:()=>y.mutate(m),loading:y.isPending,testId:"button-send-invite"}},children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg border border-green-200",children:e.jsx("p",{className:"text-sm text-green-700",children:"The invited member will receive an email with instructions to join your organization and complete their registration with EACZ."})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx(Y,{type:"email",placeholder:"member@example.com",value:m,onChange:z=>h(z.target.value),"data-testid":"input-invite-email",className:"w-full"})]})]})}),i&&e.jsx(Lt,{open:o,onOpenChange:c,title:`${i.firstName} ${i.lastName}`,subtitle:`${i.membershipNumber||"N/A"} • ${i.memberType.replace(/_/g," ")}`,icon:at,colorVariant:"blue",maxWidth:"2xl",footer:{secondary:{label:"Close",onClick:()=>{c(!1),l(null)},testId:"button-close-member-detail"},primary:{label:"Edit Details",onClick:()=>{c(!1),l(null),f(`/member-registration?edit=${i.id}`)},testId:"button-edit-member-details"}},children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-4 rounded-xl border border-blue-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[e.jsx(le,{className:"w-5 h-5 mr-2"}),"Member Status & Type"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-blue-700 mb-2 block",children:"Member Type"}),e.jsxs("div",{className:"p-3 bg-gradient-to-r from-blue-100 to-cyan-100 border border-blue-300 rounded-lg text-blue-800 font-medium capitalize",children:[i.memberType.replace(/_/g," "),i.memberType==="principal_real_estate_agent"&&e.jsx(Ol,{className:"w-4 h-4 inline ml-2 text-purple-600"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-blue-700 mb-2 block",children:"Status"}),e.jsxs(Ie,{value:i.membershipStatus||"",onValueChange:z=>g.mutate({id:i.id,updates:{membershipStatus:z}}),children:[e.jsx(De,{className:"border-blue-300 focus:border-blue-500 bg-white/80",children:e.jsx(Fe,{})}),e.jsxs(Me,{children:[e.jsx(D,{value:"active",children:"Active"}),e.jsx(D,{value:"standby",children:"Standby"}),e.jsx(D,{value:"pending",children:"Pending"}),e.jsx(D,{value:"expired",children:"Expired"})]})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-xl border border-purple-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-purple-800 mb-4 flex items-center",children:[e.jsx(Rr,{className:"w-5 h-5 mr-2"}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-purple-700 mb-2 block",children:"Email"}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-100 to-pink-100 border border-purple-300 rounded-lg text-purple-800 font-medium",children:i.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-purple-700 mb-2 block",children:"Phone"}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-100 to-pink-100 border border-purple-300 rounded-lg text-purple-800 font-medium",children:i.phone||"Not provided"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-4 rounded-xl border border-emerald-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-emerald-800 mb-4 flex items-center",children:[e.jsx(Co,{className:"w-5 h-5 mr-2"}),"Professional Development"]}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-emerald-100 to-teal-100 border border-emerald-300 rounded-lg text-emerald-800 font-bold",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{className:"w-4 h-4 mr-2 text-emerald-600"}),"CPD Points: ",i.cpdPoints||0]})})]}),i.memberType!=="principal_real_estate_agent"&&e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 p-4 rounded-xl border border-orange-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-orange-800 mb-4 flex items-center",children:[e.jsx(Ol,{className:"w-5 h-5 mr-2"}),"Administrative Actions"]}),e.jsxs(P,{className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200",onClick:()=>g.mutate({id:i.id,updates:{memberType:"principal_real_estate_agent"}}),children:[e.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Make Principal Agent"]})]})]})})]})}function Aoe(){St();const[,t]=Xe(),s={id:"org-1",name:"Prime Properties Real Estate",type:"real_estate_firm",registrationNumber:"EAC-ORG-0001",email:"info@primeproperties.co.zw",phone:"+263712345678",address:"123 Main Street, Harare, Zimbabwe",principalAgentId:"member-1",membershipStatus:"active",registrationDate:new Date("2024-01-01"),expiryDate:new Date("2025-01-01"),annualFee:"2500.00"},r={id:"member-1",firstName:"Sarah",lastName:"Johnson",email:"sarah.johnson@primeproperties.co.zw",membershipNumber:"EAC-MBR-0001",memberType:"principal_real_estate_agent"},n=[{id:"agent-1",firstName:"John",lastName:"Smith",email:"john.smith@primeproperties.co.zw",membershipNumber:"EAC-MBR-0002",memberType:"real_estate_agent",status:"active",joiningDate:new Date("2024-02-01")},{id:"agent-2",firstName:"Mary",lastName:"Williams",email:"mary.williams@primeproperties.co.zw",membershipNumber:"EAC-MBR-0003",memberType:"property_manager",status:"active",joiningDate:new Date("2024-03-01")}],a=s,i=r,l=n,o=d=>{switch(d){case"real_estate_firm":return"Real Estate Firm";case"property_management_firm":return"Property Management Firm";case"brokerage_firm":return"Brokerage Firm";case"real_estate_development_firm":return"Real Estate Development Firm";default:return d.replace(/_/g," ")}},c=d=>{switch(d){case"real_estate_agent":return"Real Estate Agent";case"property_manager":return"Property Manager";case"principal_real_estate_agent":return"Principal Real Estate Agent";case"real_estate_negotiator":return"Real Estate Negotiator";default:return d.replace(/_/g," ")}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(vg,{currentPage:"dashboard"}),e.jsx("div",{className:"p-6",children:e.jsx("main",{className:"w-full",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Organization Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your organization, agents, and compliance"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6",children:[e.jsx($,{className:"bg-white/95 backdrop-blur border-white/20",children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Agents"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.length})]}),e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(at,{className:"w-5 h-5 text-white"})})]})})}),e.jsx($,{className:"bg-white/95 backdrop-blur border-white/20",children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Principal Agent"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Active"})]}),e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:e.jsx(ds,{className:"w-5 h-5 text-white"})})]})})}),e.jsx($,{className:"bg-white/95 backdrop-blur border-white/20",children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Registration"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"Valid"})]}),e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(js,{className:"w-5 h-5 text-white"})})]})})}),e.jsx($,{className:"bg-white/95 backdrop-blur border-white/20",children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Annual Fee"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["$",a.annualFee]})]}),e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:e.jsx(Qt,{className:"w-5 h-5 text-white"})})]})})})]})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 mb-6",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center text-gray-900",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center mr-3",children:e.jsx(qe,{className:"w-4 h-4 text-white"})}),a.name]})}),e.jsxs(V,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Organization Type"}),e.jsx("p",{className:"font-semibold text-gray-900",children:o(a.type)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Registration Number"}),e.jsx("p",{className:"font-semibold text-gray-900",children:a.registrationNumber})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),e.jsx(oe,{className:"bg-green-100 text-green-800",children:a.membershipStatus.charAt(0).toUpperCase()+a.membershipStatus.slice(1)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Valid Until"}),e.jsx("p",{className:"font-semibold text-gray-900",children:a.expiryDate.toLocaleDateString()})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(jt,{className:"w-4 h-4 text-blue-600 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:a.email})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Rr,{className:"w-4 h-4 text-blue-600 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:a.phone})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ma,{className:"w-4 h-4 text-blue-600 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:a.address})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ee,{className:"text-sm font-medium text-gray-900",children:"Total Agents"}),e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(at,{className:"h-4 w-4 text-white"})})]}),e.jsxs(V,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.length}),e.jsx("p",{className:"text-xs text-gray-600",children:"Registered agents"})]})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ee,{className:"text-sm font-medium text-gray-900",children:"Active Agents"}),e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:e.jsx(le,{className:"h-4 w-4 text-white"})})]}),e.jsxs(V,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.filter(d=>d.status==="active").length}),e.jsx("p",{className:"text-xs text-gray-600",children:"Currently active"})]})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ee,{className:"text-sm font-medium text-gray-900",children:"Compliance"}),e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-lg flex items-center justify-center",children:e.jsx(ds,{className:"h-4 w-4 text-white"})})]}),e.jsxs(V,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"Good"}),e.jsx("p",{className:"text-xs text-gray-600",children:"All requirements met"})]})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ee,{className:"text-sm font-medium text-gray-900",children:"Next Renewal"}),e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(dt,{className:"h-4 w-4 text-white"})})]}),e.jsxs(V,{children:[e.jsx("div",{className:"text-lg font-bold text-purple-600",children:a.expiryDate.toLocaleDateString()}),e.jsx("p",{className:"text-xs text-gray-600",children:"Annual renewal due"})]})]})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 mb-6",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center text-gray-900",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-purple-500 to-purple-600 rounded-full flex items-center justify-center mr-2",children:e.jsx(xr,{className:"w-3 h-3 text-white"})}),"Company Directors"]})}),e.jsxs(V,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-purple-600 rounded-full flex items-center justify-center",children:e.jsx(et,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Michael Roberts"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Managing Director"}),e.jsx("p",{className:"text-xs text-blue-600",children:"m.roberts@primeproperties.co.zw"})]})]}),e.jsx(oe,{className:"bg-green-100 text-green-800",children:"Active"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx(et,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Jennifer Thompson"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Operations Director"}),e.jsx("p",{className:"text-xs text-blue-600",children:"j.thompson@primeproperties.co.zw"})]})]}),e.jsx(oe,{className:"bg-green-100 text-green-800",children:"Active"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center",children:e.jsx(et,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"David Wilson"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Finance Director"}),e.jsx("p",{className:"text-xs text-blue-600",children:"d.wilson@primeproperties.co.zw"})]})]}),e.jsx(oe,{className:"bg-green-100 text-green-800",children:"Active"})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs(P,{variant:"outline",className:"w-full border-purple-200 text-purple-700 hover:bg-purple-50",onClick:()=>t("/organization/directors"),"data-testid":"button-manage-directors",children:[e.jsx(xr,{className:"w-4 h-4 mr-2"}),"Manage Directors"]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center text-gray-900",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full flex items-center justify-center mr-2",children:e.jsx(So,{className:"w-3 h-3 text-white"})}),"Designated Principal Agent"]})}),e.jsxs(V,{children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx(et,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:[i.firstName," ",i.lastName]}),e.jsx("p",{className:"text-sm text-gray-600",children:i.email}),e.jsxs("p",{className:"text-xs text-blue-600",children:["Member: ",i.membershipNumber]})]}),e.jsxs(P,{variant:"outline",size:"sm",onClick:()=>t("/organization/principal"),"data-testid":"button-manage-principal",children:[e.jsx(Tr,{className:"w-4 h-4 mr-1"}),"Manage"]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"License Type:"})," ",c(i.memberType)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",e.jsx("span",{className:"text-green-600 font-semibold",children:"Active & Compliant"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last Renewal:"})," ",a.registrationDate.toLocaleDateString()]})]})})]})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsx(J,{children:e.jsx(ee,{className:"text-gray-900",children:"Quick Actions"})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(P,{className:"w-full justify-start gradient-button text-white border-0",onClick:()=>t("/organization/certificate"),"data-testid":"button-download-certificate",children:[e.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Download Organization Certificate"]}),e.jsxs(P,{variant:"outline",className:"w-full justify-start border-blue-200 text-blue-700 hover:bg-blue-50",onClick:()=>t("/organization/agents"),"data-testid":"button-manage-agents",children:[e.jsx(at,{className:"w-4 h-4 mr-2"}),"Manage Agents"]}),e.jsxs(P,{variant:"outline",className:"w-full justify-start border-green-200 text-green-700 hover:bg-green-50",onClick:()=>t("/organization/renewals"),"data-testid":"button-renew-membership",children:[e.jsx(dt,{className:"w-4 h-4 mr-2"}),"Renew Membership"]})]})})]})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsx(J,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ee,{className:"flex items-center text-gray-900",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center mr-2",children:e.jsx(at,{className:"w-3 h-3 text-white"})}),"Registered Agents"]}),e.jsx(P,{variant:"outline",size:"sm",onClick:()=>t("/organization/agents"),"data-testid":"button-view-all-agents",children:"View All"})]})}),e.jsx(V,{children:e.jsx("div",{className:"space-y-4",children:l.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx(et,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:[d.firstName," ",d.lastName]}),e.jsx("p",{className:"text-sm text-gray-600",children:c(d.memberType)}),e.jsx("p",{className:"text-xs text-blue-600",children:d.membershipNumber})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(oe,{className:"bg-green-100 text-green-800 mb-1",children:d.status}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Joined ",d.joiningDate.toLocaleDateString()]})]})]},d.id))})})]})]})})}),e.jsx(wt,{})]})}function Toe(){St();const[,t]=Xe(),{toast:s}=tt(),[r,n]=p.useState(!1),a={id:"member-1",firstName:"Sarah",lastName:"Johnson",email:"sarah.johnson@primeproperties.co.zw",phone:"+263712345678",membershipNumber:"EAC-MBR-0001",memberType:"principal_real_estate_agent",licenseNumber:"PRA-2024-001",dateAppointed:new Date("2024-01-01"),qualifications:["BSc Real Estate","RICS Certified"],experience:"10 years",status:"active"},i=[{icon:qe,label:"Dashboard",href:"/organization/dashboard"},{icon:et,label:"Principal Agent",href:"/organization/principal",active:!0},{icon:at,label:"Agents",href:"/organization/agents"},{icon:Le,label:"Documents",href:"/organization/documents"},{icon:js,label:"Certificate",href:"/organization/certificate"},{icon:Qt,label:"Payments",href:"/organization/payments"},{icon:dt,label:"Renewals",href:"/organization/renewals"}],l=()=>{s({title:"Success",description:"Principal agent information updated successfully."}),n(!1)},o=()=>{s({title:"Change Principal Agent",description:"This action requires board approval and EACZ verification."})};return e.jsxs("div",{className:"min-h-screen gradient-bg",children:[e.jsx(Kt,{title:"EACZ Organization Portal",subtitle:"Principal Agent Management"}),e.jsxs("div",{className:"flex min-h-screen",children:[e.jsx(Uo,{items:i,title:"Organization Portal",subtitle:"Manage your organization"}),e.jsx("main",{className:"flex-1 p-6 pt-6 ml-64",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Principal Agent Management"}),e.jsx("p",{className:"text-blue-100",children:"Manage your designated principal real estate agent"})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 mb-6",children:[e.jsx(J,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ee,{className:"flex items-center text-gray-900",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg flex items-center justify-center mr-3",children:e.jsx(So,{className:"w-4 h-4 text-white"})}),"Designated Principal Agent"]}),e.jsx("div",{className:"flex space-x-2",children:r?e.jsxs(e.Fragment,{children:[e.jsxs(P,{size:"sm",onClick:l,className:"gradient-button text-white border-0",children:[e.jsx(Vr,{className:"w-4 h-4 mr-1"}),"Save"]}),e.jsxs(P,{size:"sm",variant:"outline",onClick:()=>n(!1),children:[e.jsx(ui,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}):e.jsxs(P,{size:"sm",variant:"outline",onClick:()=>n(!0),children:[e.jsx(sa,{className:"w-4 h-4 mr-1"}),"Edit"]})})]})}),e.jsx(V,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx(et,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:[a.firstName," ",a.lastName]}),e.jsx(oe,{className:"bg-green-100 text-green-800",children:a.status})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"First Name"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:a.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Last Name"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:a.lastName})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(jt,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-gray-700",children:a.email})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Rr,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-gray-700",children:a.phone})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Professional Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Membership Number"}),e.jsx("p",{className:"text-blue-600 font-semibold",children:a.membershipNumber})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"License Number"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:a.licenseNumber})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Date Appointed"}),e.jsx("p",{className:"text-gray-900",children:a.dateAppointed.toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Experience"}),e.jsx("p",{className:"text-gray-900",children:a.experience})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Qualifications"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:a.qualifications.map((c,d)=>e.jsx(oe,{variant:"outline",className:"text-xs",children:c},d))})]})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center text-gray-900",children:[e.jsx(ds,{className:"w-5 h-5 mr-2 text-blue-600"}),"Responsibilities"]})}),e.jsx(V,{children:e.jsxs("ul",{className:"space-y-3 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"}),e.jsx("span",{children:"Oversee all real estate transactions"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"}),e.jsx("span",{children:"Ensure compliance with EACZ regulations"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"}),e.jsx("span",{children:"Supervise junior agents and staff"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"}),e.jsx("span",{children:"Maintain professional standards"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"}),e.jsx("span",{children:"Handle client complaints and disputes"})]})]})})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center text-gray-900",children:[e.jsx(xr,{className:"w-5 h-5 mr-2 text-green-600"}),"Requirements Met"]})}),e.jsx(V,{children:e.jsxs("ul",{className:"space-y-3 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),e.jsx("span",{children:"✓ Valid EACZ membership"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),e.jsx("span",{children:"✓ Minimum 5 years experience"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),e.jsx("span",{children:"✓ Professional qualifications"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),e.jsx("span",{children:"✓ Clean disciplinary record"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),e.jsx("span",{children:"✓ Current CPD compliance"})]})]})})]})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsx(J,{children:e.jsx(ee,{className:"text-gray-900",children:"Principal Agent Actions"})}),e.jsx(V,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(P,{variant:"outline",className:"border-orange-200 text-orange-700 hover:bg-orange-50",onClick:o,children:[e.jsx(xr,{className:"w-4 h-4 mr-2"}),"Change Principal Agent"]}),e.jsxs(P,{variant:"outline",className:"border-blue-200 text-blue-700 hover:bg-blue-50",onClick:()=>t("/organization/documents"),children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"View Documents"]}),e.jsxs(P,{className:"gradient-button text-white border-0",onClick:()=>t("/organization/certificate"),children:[e.jsx(js,{className:"w-4 h-4 mr-2"}),"Download Certificate"]})]})})]})]})})]})]})}function Roe({onSuccess:t,endpoint:s="/api/admin/members/bulk-import",invalidateKeys:r=["/api/admin/members"]}){const[n,a]=p.useState(!1),[i,l]=p.useState(null),[o,c]=p.useState([]),[d,u]=p.useState(null),[m,h]=p.useState(!1),f=p.useRef(null),{toast:b}=tt(),x=$e({mutationFn:async w=>{const N=new FormData;return N.append("csvFile",w),await(await Be("POST",s,N)).json()},onSuccess:w=>{u(w),r.forEach(N=>{st.invalidateQueries({queryKey:[N]})}),w.success&&w.succeeded>0&&b({title:"Import Completed",description:`Successfully imported ${w.succeeded} members. ${w.failed>0?`${w.failed} failed.`:""}`}),t&&t()},onError:w=>{b({title:"Import Failed",description:w.message||"Failed to process bulk import. Please try again.",variant:"destructive"})}}),v=p.useCallback(w=>{var k;const N=(k=w.target.files)==null?void 0:k[0];if(!N)return;if(!N.name.toLowerCase().endsWith(".csv")){b({title:"Invalid File",description:"Please select a CSV file.",variant:"destructive"});return}l(N),u(null);const _=new FileReader;_.onload=S=>{var F;const re=((F=S.target)==null?void 0:F.result).split(`
`).slice(0,6).map(B=>B.split(",").map(U=>U.trim()));c(re)},_.readAsText(N)},[b]),g=p.useCallback(()=>{i&&(h(!0),x.mutate(i,{onSettled:()=>h(!1)}))},[i,x]),y=p.useCallback(()=>{const w=["firstName","lastName","email","dateOfBirth","countryOfResidence","nationality","memberType","educationLevel","employmentStatus","organizationName"],N=["John","Doe","john.doe@example.com","1985-03-15","Zimbabwe","Zimbabwean","real_estate_agent","normal_entry","employed","ABC Real Estate Ltd"],_=[w.join(","),N.join(",")].join(`
`),k=new Blob([_],{type:"text/csv"}),S=URL.createObjectURL(k),A=document.createElement("a");A.href=S,A.download="bulk-member-import-template.csv",A.click(),URL.revokeObjectURL(S)},[]),j=p.useCallback(()=>{l(null),c([]),u(null),h(!1),f.current&&(f.current.value="")},[]);return e.jsxs(za,{open:n,onOpenChange:w=>{a(w),w||j()},children:[e.jsx(Vd,{asChild:!0,children:e.jsxs(P,{className:"h-24 flex flex-col items-center justify-center bg-blue-100 hover:bg-blue-200 text-blue-700 border-0","data-testid":"button-bulk-import-members",children:[e.jsx(at,{className:"w-6 h-6 mb-2"}),e.jsx("span",{className:"text-sm",children:"Bulk Import"})]})}),e.jsxs(Ua,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs($a,{children:[e.jsxs(Va,{className:"flex items-center gap-2",children:[e.jsx(at,{className:"w-5 h-5"}),"Bulk Member Import"]}),e.jsx(Yw,{children:"Import multiple members from a CSV file. User accounts will be created and email notifications sent automatically."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs($,{children:[e.jsxs(J,{children:[e.jsx(ee,{className:"text-sm",children:"CSV Template"}),e.jsx(Gt,{children:"Download the template to see the required format and column headers."})]}),e.jsxs(V,{children:[e.jsxs(P,{onClick:y,variant:"outline",className:"w-full",children:[e.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Download CSV Template"]}),e.jsxs("div",{className:"mt-4 text-xs text-muted-foreground",children:[e.jsx("p",{children:e.jsx("strong",{children:"Required columns:"})}),e.jsx("p",{children:"firstName, lastName, email, dateOfBirth, countryOfResidence, nationality, memberType, educationLevel, employmentStatus"}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Optional columns:"})," organizationName (required if employmentStatus is 'employed')"]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Member Types:"})," real_estate_agent, property_manager, principal_agent, negotiator"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Education Level:"})," normal_entry, mature_entry"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Employment Status:"})," employed, self_employed"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"csv-upload",children:"Select CSV File"}),e.jsx(Y,{id:"csv-upload",ref:f,type:"file",accept:".csv",onChange:v,disabled:m,"data-testid":"input-csv-upload"})]}),o.length>0&&e.jsxs($,{children:[e.jsxs(J,{children:[e.jsx(ee,{className:"text-sm",children:"File Preview"}),e.jsx(Gt,{children:"First few rows of your CSV file (showing max 6 rows)"})]}),e.jsx(V,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsx("table",{className:"w-full text-xs border-collapse border border-gray-200",children:e.jsx("tbody",{children:o.map((w,N)=>e.jsx("tr",{className:N===0?"bg-gray-50 font-semibold":"",children:w.map((_,k)=>e.jsx("td",{className:"border border-gray-200 px-2 py-1",children:_||"-"},k))},N))})})})})]}),m&&e.jsx($,{children:e.jsx(V,{className:"pt-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hr,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Processing import..."})]}),e.jsx(Ci,{value:void 0,className:"w-full"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Creating member accounts and sending email notifications..."})]})})}),d&&e.jsxs($,{children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center gap-2",children:[d.success?e.jsx(le,{className:"w-5 h-5 text-green-600"}):e.jsx(Xt,{className:"w-5 h-5 text-red-600"}),"Import Results"]})}),e.jsxs(V,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(oe,{variant:"outline",children:["Total: ",d.processed]}),e.jsxs(oe,{variant:"secondary",className:"text-green-700 bg-green-100",children:[e.jsx(le,{className:"w-3 h-3 mr-1"}),"Success: ",d.succeeded]}),d.failed>0&&e.jsxs(oe,{variant:"secondary",className:"text-red-700 bg-red-100",children:[e.jsx(Xt,{className:"w-3 h-3 mr-1"}),"Failed: ",d.failed]})]}),d.members&&d.members.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-green-700",children:"Successfully Created Members:"}),e.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:d.members.map((w,N)=>e.jsxs("div",{className:"text-xs p-2 bg-green-50 rounded border",children:[e.jsxs("strong",{children:[w.firstName," ",w.lastName]})," (",w.email,") - ",w.membershipNumber]},N))})]}),d.errors&&d.errors.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-red-700",children:"Import Errors:"}),e.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:d.errors.map((w,N)=>e.jsxs(jl,{className:"text-xs",children:[e.jsx(Je,{className:"w-3 h-3"}),e.jsxs(wl,{children:[e.jsxs("strong",{children:["Row ",w.row,":"]})," ",w.field&&`${w.field} - `,w.error,w.data&&e.jsx("div",{className:"mt-1 text-gray-600",children:JSON.stringify(w.data,null,2)})]})]},N))})]})]})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(P,{variant:"outline",onClick:()=>a(!1),disabled:m,"data-testid":"button-cancel-import",children:d?"Close":"Cancel"}),i&&!d&&e.jsx(P,{onClick:g,disabled:m,"data-testid":"button-start-import",children:m?e.jsxs(e.Fragment,{children:[e.jsx(hr,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"Start Import"]})})]})]})]})]})}function Doe(){const{user:t}=St();Xe();const[s,r]=p.useState(""),[n,a]=p.useState("all"),{data:i=[],isLoading:l,error:o}=Ge({queryKey:["/api/organizations/current/members"],enabled:!!t}),c=[{icon:qe,label:"Dashboard",href:"/organization/dashboard"},{icon:et,label:"Principal Agent",href:"/organization/principal"},{icon:at,label:"Agents",href:"/organization/agents",active:!0},{icon:Le,label:"Documents",href:"/organization/documents"},{icon:js,label:"Certificate",href:"/organization/certificate"},{icon:Qt,label:"Payments",href:"/organization/payments"},{icon:dt,label:"Renewals",href:"/organization/renewals"}],d=h=>{switch(h){case"real_estate_agent":return"Real Estate Agent";case"property_manager":return"Property Manager";case"principal_real_estate_agent":return"Principal Real Estate Agent";case"real_estate_negotiator":return"Real Estate Negotiator";default:return h.replace(/_/g," ")}},u=h=>{switch(h){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},m=i.filter(h=>{const f=`${h.firstName} ${h.lastName}`.toLowerCase().includes(s.toLowerCase())||h.email.toLowerCase().includes(s.toLowerCase())||h.membershipNumber&&h.membershipNumber.toLowerCase().includes(s.toLowerCase()),b=n==="all"||h.membershipStatus===n;return f&&b});return e.jsxs("div",{className:"min-h-screen gradient-bg",children:[e.jsx(Kt,{title:"EACZ Organization Portal",subtitle:"Agent Management"}),e.jsxs("div",{className:"flex min-h-screen",children:[e.jsx(Uo,{items:c,title:"Organization Portal",subtitle:"Manage your organization"}),e.jsx("main",{className:"flex-1 p-6 pt-6 ml-64",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Agent Management"}),e.jsx("p",{className:"text-blue-100",children:"Manage your organization's registered agents"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6",children:[e.jsx($,{className:"bg-white/95 backdrop-blur border-white/20",children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Agents"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.length})]}),e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(at,{className:"w-5 h-5 text-white"})})]})})}),e.jsx($,{className:"bg-white/95 backdrop-blur border-white/20",children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.filter(h=>h.membershipStatus==="active").length})]}),e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:e.jsx(le,{className:"w-5 h-5 text-white"})})]})})}),e.jsx($,{className:"bg-white/95 backdrop-blur border-white/20",children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:i.filter(h=>h.membershipStatus==="pending").length})]}),e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-lg flex items-center justify-center",children:e.jsx(ft,{className:"w-5 h-5 text-white"})})]})})}),e.jsx($,{className:"bg-white/95 backdrop-blur border-white/20",children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg CPD Points"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:i.length>0?Math.round(i.reduce((h,f)=>h+(f.cpdPoints||0),0)/i.length):0})]}),e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(js,{className:"w-5 h-5 text-white"})})]})})})]})]}),e.jsx($,{className:"bg-white/95 backdrop-blur border-white/20 mb-6",children:e.jsx(V,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search agents by name, email, or membership number...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:s,onChange:h=>r(h.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:n,onChange:h=>a(h.target.value),children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"suspended",children:"Suspended"})]}),e.jsxs(P,{className:"gradient-button text-white border-0",children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Add Agent"]}),e.jsx(Roe,{endpoint:"/api/organizations/current/members/bulk-import",invalidateKeys:["/api/organizations/current/members"],onSuccess:()=>{}})]})]})})}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsx(J,{children:e.jsxs(ee,{className:"text-gray-900",children:["Registered Agents (",m.length,")"]})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-4",children:[m.map(h=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx(et,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:[h.firstName," ",h.lastName]}),e.jsx("p",{className:"text-sm text-gray-600",children:d(h.memberType)}),e.jsxs("p",{className:"text-xs text-blue-600",children:["Member: ",h.membershipNumber]})]})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(jt,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:h.email})]}),e.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[e.jsx(Rr,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:h.phone})]})]}),e.jsxs("div",{className:"text-sm text-center",children:[e.jsx("p",{className:"text-gray-600",children:"CPD Points"}),e.jsx("p",{className:"font-semibold text-purple-600",children:h.cpdPoints})]}),e.jsxs("div",{className:"text-sm text-center",children:[e.jsx("p",{className:"text-gray-600",children:"Joined"}),e.jsx("p",{className:"font-semibold",children:h.joiningDate?new Date(h.joiningDate).toLocaleDateString():"N/A"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(oe,{className:u(h.membershipStatus||"pending"),children:(h.membershipStatus||"pending").charAt(0).toUpperCase()+(h.membershipStatus||"pending").slice(1)}),e.jsx(P,{variant:"ghost",size:"sm",children:e.jsx(M9,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"md:hidden mt-3 pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:["Email: ",h.email]}),e.jsxs("p",{className:"text-gray-600",children:["Phone: ",h.phone]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:["CPD Points: ",e.jsx("span",{className:"font-semibold text-purple-600",children:h.cpdPoints})]}),e.jsxs("p",{className:"text-gray-600",children:["Joined: ",h.joiningDate?new Date(h.joiningDate).toLocaleDateString():"N/A"]})]})]})})]},h.id)),m.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(at,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No agents found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:s||n!=="all"?"Try adjusting your search or filter criteria.":"Get started by adding your first agent to the organization."}),e.jsxs(P,{className:"gradient-button text-white border-0",children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Add Agent"]})]})]})})]})]})})]})]})}function Moe(){St(),Xe();const{toast:t}=tt();p.useState(!1);const s=[{id:"doc-1",name:"Certificate of Incorporation",type:"incorporation_certificate",uploadDate:new Date("2024-01-15"),status:"approved",size:"2.4 MB",url:"/documents/incorporation.pdf"},{id:"doc-2",name:"Business License",type:"business_license",uploadDate:new Date("2024-02-01"),status:"approved",size:"1.8 MB",url:"/documents/business_license.pdf"},{id:"doc-3",name:"Trust Account Certificate",type:"trust_account",uploadDate:new Date("2024-02-15"),status:"submitted_for_approval",size:"3.2 MB",url:"/documents/trust_account.pdf"},{id:"doc-4",name:"Professional Indemnity Insurance",type:"insurance",uploadDate:new Date("2024-03-01"),status:"approved",size:"1.5 MB",url:"/documents/insurance.pdf"}],r=[{icon:qe,label:"Dashboard",href:"/organization/dashboard"},{icon:et,label:"Principal Agent",href:"/organization/principal"},{icon:at,label:"Agents",href:"/organization/agents"},{icon:Le,label:"Documents",href:"/organization/documents",active:!0},{icon:js,label:"Certificate",href:"/organization/certificate"},{icon:Qt,label:"Payments",href:"/organization/payments"},{icon:dt,label:"Renewals",href:"/organization/renewals"}],n=u=>{switch(u){case"approved":return"bg-green-100 text-green-800";case"submitted_for_approval":return"bg-blue-100 text-blue-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},a=u=>{switch(u){case"approved":return e.jsx(le,{className:"w-4 h-4"});case"submitted_for_approval":return e.jsx(ft,{className:"w-4 h-4"});case"rejected":return e.jsx(Je,{className:"w-4 h-4"});default:return e.jsx(Af,{className:"w-4 h-4"})}},i=u=>{switch(u){case"approved":return"Approved";case"submitted_for_approval":return"Submitted for Approval";case"rejected":return"Rejected";default:return u.replace(/_/g," ")}},l=[{type:"Certificate of Incorporation",description:"Official company registration document"},{type:"Business License",description:"Valid business operating license"},{type:"Trust Account Certificate",description:"Trust account compliance certificate"},{type:"Professional Indemnity Insurance",description:"Current insurance coverage certificate"},{type:"Audited Financial Statements",description:"Latest audited financial statements"},{type:"Principal Agent Certificate",description:"Principal agent qualification certificate"}],o=()=>{t({title:"Upload Started",description:"Document upload initiated successfully."})},c=u=>{t({title:"Download Started",description:`Downloading ${u}...`})},d=u=>{t({title:"Document Deleted",description:`${u} has been removed.`,variant:"destructive"})};return e.jsxs("div",{className:"min-h-screen gradient-bg",children:[e.jsx(Kt,{title:"EACZ Organization Portal",subtitle:"Document Management"}),e.jsxs("div",{className:"flex min-h-screen",children:[e.jsx(Uo,{items:r,title:"Organization Portal",subtitle:"Manage your organization"}),e.jsx("main",{className:"flex-1 p-6 pt-6 ml-64",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Document Management"}),e.jsx("p",{className:"text-blue-100",children:"Manage your organization's required documents"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[e.jsx($,{className:"bg-white/95 backdrop-blur border-white/20",children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Documents"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.length})]}),e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(Le,{className:"w-5 h-5 text-white"})})]})})}),e.jsx($,{className:"bg-white/95 backdrop-blur border-white/20",children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.filter(u=>u.status==="approved").length})]}),e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:e.jsx(le,{className:"w-5 h-5 text-white"})})]})})}),e.jsx($,{className:"bg-white/95 backdrop-blur border-white/20",children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.filter(u=>u.status==="submitted_for_approval").length})]}),e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(ft,{className:"w-5 h-5 text-white"})})]})})})]})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 mb-6",children:[e.jsx(J,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ee,{className:"flex items-center text-gray-900",children:[e.jsx(hr,{className:"w-5 h-5 mr-2"}),"Upload Documents"]}),e.jsxs(P,{className:"gradient-button text-white border-0",onClick:o,children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Upload Document"]})]})}),e.jsx(V,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map((u,m)=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Le,{className:"w-5 h-5 text-primary mr-2"}),e.jsx("h3",{className:"font-medium",children:u.type})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:u.description}),e.jsx("div",{className:"flex items-center justify-between",children:s.some(h=>h.name.includes(u.type.split(" ")[0]))?e.jsxs(oe,{className:"bg-green-100 text-green-800",children:[e.jsx(le,{className:"w-3 h-3 mr-1"}),"Uploaded"]}):e.jsxs(oe,{variant:"outline",children:[e.jsx(hr,{className:"w-3 h-3 mr-1"}),"Required"]})})]},m))})})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 mb-6",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center text-gray-900",children:[e.jsx(Le,{className:"w-5 h-5 mr-2"}),"Uploaded Documents (",s.length,")"]})}),e.jsx(V,{children:e.jsx("div",{className:"space-y-4",children:s.map(u=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(Le,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:u.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Uploaded: ",u.uploadDate.toLocaleDateString()," • ",u.size]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(oe,{className:n(u.status),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[a(u.status),e.jsx("span",{children:i(u.status)})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{variant:"ghost",size:"sm",onClick:()=>c(u.name),children:e.jsx(us,{className:"w-4 h-4"})}),e.jsx(P,{variant:"ghost",size:"sm",onClick:()=>c(u.name),children:e.jsx(Wt,{className:"w-4 h-4"})}),e.jsx(P,{variant:"ghost",size:"sm",onClick:()=>d(u.name),children:e.jsx(Oa,{className:"w-4 h-4"})})]})]})]},u.id))})})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center text-gray-900",children:[e.jsx(Je,{className:"w-5 h-5 mr-2"}),"Document Guidelines"]})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(le,{className:"w-5 h-5 text-green-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"File formats"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Upload files in PDF format for official documents"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(le,{className:"w-5 h-5 text-green-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"File size"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Maximum file size is 10MB per document"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(le,{className:"w-5 h-5 text-green-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Document quality"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ensure documents are clear, legible, and up-to-date"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(le,{className:"w-5 h-5 text-green-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Verification"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Documents will be reviewed by EACZ staff within 5-7 business days"})]})]})]})})]})]})})]})]})}function Ooe(){St(),Xe();const{toast:t}=tt(),s={id:"org-1",name:"Prime Properties Real Estate",type:"real_estate_firm",registrationNumber:"EAC-ORG-0001",email:"info@primeproperties.co.zw",phone:"+263712345678",address:"123 Main Street, Harare, Zimbabwe",principalAgent:"Sarah Johnson",membershipStatus:"active",registrationDate:new Date("2024-01-01"),expiryDate:new Date("2025-01-01"),certificateNumber:"CERT-ORG-2024-0001"},r=l=>{switch(l){case"real_estate_firm":return"Real Estate Firm";case"property_management_firm":return"Property Management Firm";case"brokerage_firm":return"Brokerage Firm";case"real_estate_development_firm":return"Real Estate Development Firm";default:return l.replace(/_/g," ")}},n=()=>{t({title:"Download Started",description:"Your organization certificate is being downloaded..."})},a=()=>{t({title:"Share Link Generated",description:"Certificate verification link copied to clipboard."})},i=`${window.location.origin}/verify/organization/${s.registrationNumber}`;return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(vg,{currentPage:"certificate"}),e.jsx("div",{className:"p-6",children:e.jsx("main",{className:"w-full",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Organization Certificate"}),e.jsx("p",{className:"text-muted-foreground",children:"Download and share your official EACZ organization certificate"})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 mb-6",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center text-gray-900 text-center justify-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-lg flex items-center justify-center mr-3",children:e.jsx(js,{className:"w-4 h-4 text-white"})}),"Digital Certificate of Registration"]})}),e.jsx(V,{children:e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 p-8 rounded-lg border-2 border-blue-200",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-600 to-blue-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ds,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Estate Agents Council of Zimbabwe"}),e.jsx("h3",{className:"text-xl font-semibold text-blue-800",children:"Certificate of Organization Registration"})]}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"This is to certify that"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:s.name}),e.jsxs("p",{className:"text-lg text-gray-700 mb-2",children:["is a registered ",e.jsx("strong",{children:r(s.type)})]}),e.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"under the Estate Agents Council of Zimbabwe"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Registration Number"}),e.jsx("p",{className:"text-lg font-bold text-blue-800",children:s.registrationNumber})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificate Number"}),e.jsx("p",{className:"text-lg font-bold text-blue-800",children:s.certificateNumber})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Principal Agent"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:s.principalAgent})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Registration Date"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:s.registrationDate.toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Valid Until"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:s.expiryDate.toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Status"}),e.jsxs(oe,{className:"bg-green-100 text-green-800",children:[e.jsx(le,{className:"w-3 h-3 mr-1"}),"Active"]})]})]})]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-32 h-32 bg-white border-2 border-gray-300 rounded-lg flex items-center justify-center mb-4",children:e.jsx(Ty,{className:"w-20 h-20 text-gray-400"})}),e.jsx("p",{className:"text-sm text-gray-600",children:"Scan to verify certificate"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Certificate ID: ",s.certificateNumber]})]})}),e.jsxs("div",{className:"text-center border-t border-gray-300 pt-6",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["This certificate is valid and can be verified at",e.jsx("a",{href:i,className:"text-blue-600 hover:underline ml-1",children:i})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Issued by Estate Agents Council of Zimbabwe • ",new Date().getFullYear()]})]})]})})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 mb-6",children:[e.jsx(J,{children:e.jsx(ee,{className:"text-gray-900",children:"Organization Benefits"})}),e.jsx(V,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center mx-auto mb-3",children:e.jsx(ds,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Legal Recognition"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Official recognition as a registered real estate organization in Zimbabwe"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center mx-auto mb-3",children:e.jsx(at,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Professional Network"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Access to EACZ professional network and industry resources"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center mx-auto mb-3",children:e.jsx(js,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Industry Standards"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Compliance with industry standards and professional practices"})]})]})})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsx(J,{children:e.jsx(ee,{className:"text-gray-900",children:"Certificate Actions"})}),e.jsx(V,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(P,{className:"gradient-button text-white border-0",onClick:n,children:[e.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Download Certificate"]}),e.jsxs(P,{variant:"outline",className:"border-blue-200 text-blue-700 hover:bg-blue-50",onClick:a,children:[e.jsx(eR,{className:"w-4 h-4 mr-2"}),"Share Certificate"]}),e.jsxs(P,{variant:"outline",className:"border-green-200 text-green-700 hover:bg-green-50",onClick:()=>window.open(i,"_blank"),children:[e.jsx(Ty,{className:"w-4 h-4 mr-2"}),"Verify Online"]})]})})]})]})})})]})}function Ioe(){St(),Xe();const{toast:t}=tt(),[s,r]=p.useState(""),[n,a]=p.useState("all"),i=[{id:"pay-1",description:"Annual Organization Fee 2024",amount:2500,currency:"USD",status:"completed",paymentMethod:"paynow",paymentDate:new Date("2024-01-15"),dueDate:new Date("2024-01-31"),referenceNumber:"PAY-ORG-2024-001",receiptNumber:"RCP-001-2024"},{id:"pay-2",description:"Trust Account Certificate Fee",amount:150,currency:"USD",status:"completed",paymentMethod:"cash",paymentDate:new Date("2024-02-10"),dueDate:new Date("2024-02-15"),referenceNumber:"PAY-ORG-2024-002",receiptNumber:"RCP-002-2024"},{id:"pay-3",description:"Document Processing Fee",amount:75,currency:"USD",status:"pending",paymentMethod:"stripe",paymentDate:null,dueDate:new Date("2024-12-31"),referenceNumber:"PAY-ORG-2024-003",receiptNumber:null},{id:"pay-4",description:"Principal Agent Change Fee",amount:200,currency:"USD",status:"overdue",paymentMethod:null,paymentDate:null,dueDate:new Date("2024-11-30"),referenceNumber:"PAY-ORG-2024-004",receiptNumber:null}],l=x=>{switch(x){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"overdue":return"bg-red-100 text-red-800";case"processing":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},o=x=>{switch(x){case"completed":return e.jsx(le,{className:"w-4 h-4"});case"pending":return e.jsx(ft,{className:"w-4 h-4"});case"overdue":return e.jsx(Je,{className:"w-4 h-4"});case"processing":return e.jsx(ft,{className:"w-4 h-4"});default:return e.jsx(ft,{className:"w-4 h-4"})}},c=x=>{switch(x){case"paynow":return"PayNow";case"stripe":return"Credit Card";case"cash":return"Cash";case"bank_transfer":return"Bank Transfer";default:return x||"Pending"}},d=i.filter(x=>{const v=x.description.toLowerCase().includes(s.toLowerCase())||x.referenceNumber.toLowerCase().includes(s.toLowerCase()),g=n==="all"||x.status===n;return v&&g}),u=i.filter(x=>x.status==="completed").reduce((x,v)=>x+v.amount,0),m=i.filter(x=>x.status==="pending").reduce((x,v)=>x+v.amount,0),h=i.filter(x=>x.status==="overdue").reduce((x,v)=>x+v.amount,0),f=x=>{t({title:"Payment Initiated",description:"Redirecting to payment gateway..."})},b=x=>{t({title:"Download Started",description:`Downloading receipt ${x}...`})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(vg,{currentPage:"payments",title:"EACZ Organization Portal",subtitle:"Payment Management"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Payment Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your organization's payments and financial obligations"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6",children:[e.jsx($,{className:"bg-white/95 backdrop-blur border-white/20",children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Paid"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",u.toFixed(2)]})]}),e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:e.jsx(le,{className:"w-5 h-5 text-white"})})]})})}),e.jsx($,{className:"bg-white/95 backdrop-blur border-white/20",children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:["$",m.toFixed(2)]})]}),e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-lg flex items-center justify-center",children:e.jsx(ft,{className:"w-5 h-5 text-white"})})]})})}),e.jsx($,{className:"bg-white/95 backdrop-blur border-white/20",children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),e.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["$",h.toFixed(2)]})]}),e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:e.jsx(Je,{className:"w-5 h-5 text-white"})})]})})}),e.jsx($,{className:"bg-white/95 backdrop-blur border-white/20",children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Payments"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:i.length})]}),e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(Qt,{className:"w-5 h-5 text-white"})})]})})})]})]}),e.jsx($,{className:"bg-white/95 backdrop-blur border-white/20 mb-6",children:e.jsx(V,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search payments by description or reference number...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:s,onChange:x=>r(x.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:n,onChange:x=>a(x.target.value),children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"overdue",children:"Overdue"})]}),e.jsxs(P,{className:"gradient-button text-white border-0",children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Make Payment"]})]})]})})}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsx(J,{children:e.jsxs(ee,{className:"text-gray-900",children:["Payment History (",d.length,")"]})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-4",children:[d.map(x=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx(Gr,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:x.description}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Reference: ",x.referenceNumber," • Due: ",x.dueDate.toLocaleDateString()]}),e.jsxs("p",{className:"text-xs text-blue-600",children:[x.paymentDate&&`Paid: ${x.paymentDate.toLocaleDateString()}`,x.receiptNumber&&` • Receipt: ${x.receiptNumber}`]})]})]}),e.jsx("div",{className:"hidden md:flex items-center space-x-6",children:e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",x.amount.toFixed(2)," ",x.currency]}),e.jsx("p",{className:"text-sm text-gray-600",children:c(x.paymentMethod||"pending")})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(oe,{className:l(x.status),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[o(x.status),e.jsx("span",{children:x.status.charAt(0).toUpperCase()+x.status.slice(1)})]})}),e.jsxs("div",{className:"flex items-center space-x-1",children:[x.status==="completed"&&x.receiptNumber&&e.jsx(P,{variant:"ghost",size:"sm",onClick:()=>b(x.receiptNumber),children:e.jsx(Wt,{className:"w-4 h-4"})}),(x.status==="pending"||x.status==="overdue")&&e.jsx(P,{size:"sm",className:"gradient-button text-white border-0",onClick:()=>f(x.id),children:"Pay Now"}),e.jsx(P,{variant:"ghost",size:"sm",children:e.jsx(us,{className:"w-4 h-4"})})]})]})]}),e.jsx("div",{className:"md:hidden mt-3 pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",x.amount.toFixed(2)," ",x.currency]}),e.jsx("p",{className:"text-sm text-gray-600",children:c(x.paymentMethod||"pending")})]}),(x.status==="pending"||x.status==="overdue")&&e.jsx(P,{size:"sm",className:"gradient-button text-white border-0",onClick:()=>f(x.id),children:"Pay Now"})]})})]},x.id)),d.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Qt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No payments found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:s||n!=="all"?"Try adjusting your search or filter criteria.":"Payment history will appear here as you make payments."})]})]})})]})]})]})})}function Foe(){St();const[,t]=Xe(),{toast:s}=tt(),r={currentExpiryDate:new Date("2025-01-01"),renewalDueDate:new Date("2024-12-01"),daysUntilExpiry:28,renewalFee:2500,currency:"USD",status:"due_soon",lastRenewalDate:new Date("2024-01-01"),renewalPeriod:"12 months"},n=[{id:"ren-1",renewalDate:new Date("2024-01-01"),expiryDate:new Date("2025-01-01"),fee:2500,status:"completed",paymentMethod:"paynow",receiptNumber:"RCP-REN-2024-001"},{id:"ren-2",renewalDate:new Date("2023-01-01"),expiryDate:new Date("2024-01-01"),fee:2200,status:"completed",paymentMethod:"cash",receiptNumber:"RCP-REN-2023-001"},{id:"ren-3",renewalDate:new Date("2022-01-01"),expiryDate:new Date("2023-01-01"),fee:2e3,status:"completed",paymentMethod:"stripe",receiptNumber:"RCP-REN-2022-001"}],a=[{icon:qe,label:"Dashboard",href:"/organization/dashboard"},{icon:et,label:"Principal Agent",href:"/organization/principal"},{icon:at,label:"Agents",href:"/organization/agents"},{icon:Le,label:"Documents",href:"/organization/documents"},{icon:js,label:"Certificate",href:"/organization/certificate"},{icon:Qt,label:"Payments",href:"/organization/payments"},{icon:dt,label:"Renewals",href:"/organization/renewals",active:!0}],i=d=>"warning",l=()=>{s({title:"Renewal Process Started",description:"Redirecting to renewal payment..."})},o=()=>{s({title:"Reminder Set",description:"You will be notified about upcoming renewal deadlines."})},c=i();return e.jsxs("div",{className:"min-h-screen gradient-bg",children:[e.jsx(Kt,{title:"EACZ Organization Portal",subtitle:"Renewal Management"}),e.jsxs("div",{className:"flex min-h-screen",children:[e.jsx(Uo,{items:a,title:"Organization Portal",subtitle:"Manage your organization"}),e.jsx("main",{className:"flex-1 p-6 pt-6 ml-64",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Renewal Management"}),e.jsx("p",{className:"text-blue-100",children:"Manage your organization registration renewals"})]}),c!=="normal"&&e.jsx($,{className:`mb-6 ${c==="critical"||c==="expired"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"}`,children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Je,{className:`w-6 h-6 ${c==="critical"||c==="expired"?"text-red-600":"text-yellow-600"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`font-semibold ${c==="critical"||c==="expired"?"text-red-900":"text-yellow-900"}`,children:c==="expired"?"Registration Expired!":c==="critical"?"Urgent: Registration Expires Soon!":"Renewal Reminder"}),e.jsx("p",{className:`text-sm ${c==="critical"||c==="expired"?"text-red-700":"text-yellow-700"}`,children:c==="expired"?`Your registration expired ${Math.abs(r.daysUntilExpiry)} days ago. Renew immediately to avoid penalties.`:`Your registration expires in ${r.daysUntilExpiry} days. Renew now to avoid service interruption.`})]}),e.jsx(P,{className:c==="critical"||c==="expired"?"bg-red-600 hover:bg-red-700":"bg-yellow-600 hover:bg-yellow-700",onClick:l,children:"Renew Now"})]})})}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20 mb-6",children:[e.jsx(J,{children:e.jsxs(ee,{className:"flex items-center text-gray-900",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center mr-3",children:e.jsx(dt,{className:"w-4 h-4 text-white"})}),"Current Registration Status"]})}),e.jsx(V,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(le,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Registration Valid"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Until ",r.currentExpiryDate.toLocaleDateString()]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`w-16 h-16 ${c==="critical"?"bg-gradient-to-r from-red-500 to-red-600":c==="warning"?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-blue-500 to-blue-600"} rounded-full flex items-center justify-center mx-auto mb-3`,children:e.jsx(ft,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Days Until Expiry"}),e.jsx("p",{className:`text-2xl font-bold ${c==="critical"?"text-red-600":c==="warning"?"text-yellow-600":"text-blue-600"}`,children:r.daysUntilExpiry})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Gr,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Renewal Fee"}),e.jsxs("p",{className:"text-xl font-bold text-purple-600",children:["$",r.renewalFee.toFixed(2)]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(ws,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Renewal Period"}),e.jsx("p",{className:"text-sm text-gray-600",children:r.renewalPeriod})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsx(J,{children:e.jsx(ee,{className:"text-gray-900",children:"Renewal Actions"})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(P,{className:"w-full gradient-button text-white border-0",onClick:l,children:[e.jsx(ws,{className:"w-4 h-4 mr-2"}),"Renew Registration Now"]}),e.jsxs(P,{variant:"outline",className:"w-full border-blue-200 text-blue-700 hover:bg-blue-50",onClick:()=>t("/organization/payments"),children:[e.jsx(Qt,{className:"w-4 h-4 mr-2"}),"View Payment Options"]}),e.jsxs(P,{variant:"outline",className:"w-full border-orange-200 text-orange-700 hover:bg-orange-50",onClick:o,children:[e.jsx(ho,{className:"w-4 h-4 mr-2"}),"Set Renewal Reminder"]}),e.jsxs(P,{variant:"outline",className:"w-full border-green-200 text-green-700 hover:bg-green-50",onClick:()=>t("/organization/documents"),children:[e.jsx(ZT,{className:"w-4 h-4 mr-2"}),"Update Documents"]})]})})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsx(J,{children:e.jsx(ee,{className:"text-gray-900",children:"Renewal Requirements"})}),e.jsx(V,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(le,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Current organization documents"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(le,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Valid principal agent appointment"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(le,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Professional indemnity insurance"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(le,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Trust account compliance certificate"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(le,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Payment of renewal fees"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ft,{className:"w-5 h-5 text-yellow-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Audited financial statements (if applicable)"})]})]})})]})]}),e.jsxs($,{className:"bg-white/95 backdrop-blur border-white/20",children:[e.jsx(J,{children:e.jsx(ee,{className:"text-gray-900",children:"Renewal History"})}),e.jsx(V,{children:e.jsx("div",{className:"space-y-4",children:n.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center",children:e.jsx(le,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Registration Renewed"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Renewed: ",d.renewalDate.toLocaleDateString()," • Valid until: ",d.expiryDate.toLocaleDateString()]}),e.jsxs("p",{className:"text-xs text-blue-600",children:["Receipt: ",d.receiptNumber]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",d.fee.toFixed(2)]}),e.jsx(oe,{className:"bg-green-100 text-green-800",children:"Completed"})]})]},d.id))})})]})]})})]})]})}function Loe(){return e.jsxs(e7,{children:[e.jsx(ss,{path:"/",component:$H}),e.jsx(mt,{path:"/dashboard",component:UH}),e.jsx(mt,{path:"/member-portal",component:cY}),e.jsx(mt,{path:"/admin-dashboard",component:VY}),e.jsx(mt,{path:"/organization-portal",component:BY}),e.jsx(mt,{path:"/case-management",component:PX}),e.jsx(mt,{path:"/organization-registration",component:UC}),e.jsx(mt,{path:"/event-management",component:Aie}),e.jsx(mt,{path:"/payment",component:Rie}),e.jsx(mt,{path:"/payment-test",component:Iie}),e.jsx(ss,{path:"/payment-test-paynow",component:Fie}),e.jsx(mt,{path:"/certificate",component:Mie}),e.jsx(ss,{path:"/auth",component:IG}),e.jsx(ss,{path:"/verify",component:QS}),e.jsx(ss,{path:"/certificates/verify",component:QS}),e.jsx(ss,{path:"/apply",component:BJ}),e.jsx(ss,{path:"/apply-landing",component:qJ}),e.jsx(ss,{path:"/application-login-choice",component:WJ}),e.jsx(ss,{path:"/application-type-choice",component:HJ}),e.jsx(ss,{path:"/applicant-registration",component:VJ}),e.jsx(ss,{path:"/applicant-login",component:QJ}),e.jsx(ss,{path:"/organization-applicant-registration",component:ZJ}),e.jsx(ss,{path:"/organization-applicant-login",component:JJ}),e.jsx(ss,{path:"/organization-application",component:wie}),e.jsx(ss,{path:"/organization/verify-email",component:Sie}),e.jsx(ss,{path:"/verify-email",component:Pie}),e.jsx(ss,{path:"/apply/individual",component:KJ}),e.jsx(ss,{path:"/apply/firm",component:Nie}),e.jsx(FH,{path:"/member-registration",component:aJ}),e.jsx(ss,{path:"/cases/report",component:VX}),e.jsx(ss,{path:"/cases/track",component:Lie}),e.jsx(ss,{path:"/track-application",component:zie}),e.jsx(mt,{path:"/cpd-tracking",component:$ie}),e.jsx(ss,{path:"/member-directory",component:Qie}),e.jsx(mt,{path:"/admin/members",component:YS}),e.jsx(mt,{path:"/admin-dashboard/members",component:YS}),e.jsx(mt,{path:"/admin/organizations",component:ZS}),e.jsx(mt,{path:"/admin-dashboard/organizations",component:ZS}),e.jsx(mt,{path:"/admin/organizations/register",component:UC}),e.jsx(mt,{path:"/admin/applications",component:XS}),e.jsx(mt,{path:"/admin-dashboard/applications",component:XS}),e.jsx(mt,{path:"/application-management",component:rle}),e.jsx(mt,{path:"/admin-dashboard/agents-applications",component:tle}),e.jsx(mt,{path:"/admin-dashboard/firms-applications",component:sle}),e.jsx(mt,{path:"/admin-dashboard/users",component:cle}),e.jsx(mt,{path:"/admin-dashboard/finance",component:nle}),e.jsx(mt,{path:"/admin-dashboard/finance-enhanced",component:ale}),e.jsx(mt,{path:"/admin-dashboard/settings",component:ile}),e.jsx(mt,{path:"/admin-dashboard/profile",component:ble}),e.jsx(mt,{path:"/member/profile",component:kle}),e.jsx(mt,{path:"/member/documents",component:Ple}),e.jsx(mt,{path:"/member/events",component:Ele}),e.jsx(mt,{path:"/member/payments",component:Ale}),e.jsx(mt,{path:"/member/subscriptions",component:Rle}),e.jsx(mt,{path:"/member/certificate",component:Tle}),e.jsx(mt,{path:"/notifications",component:_oe}),e.jsx(mt,{path:"/organization/dashboard",component:Aoe}),e.jsx(mt,{path:"/organization/principal",component:Toe}),e.jsx(mt,{path:"/organization/agents",component:Doe}),e.jsx(mt,{path:"/organization/documents",component:Moe}),e.jsx(mt,{path:"/organization/certificate",component:Ooe}),e.jsx(mt,{path:"/organization/payments",component:Ioe}),e.jsx(mt,{path:"/organization/renewals",component:Foe}),e.jsx(mt,{path:"/organization/profile",component:Poe}),e.jsx(mt,{path:"/organization/members",component:Eoe}),e.jsx(ss,{component:zH})]})}function zoe(){return e.jsx(v7,{client:st,children:e.jsx(fW,{children:e.jsx(IH,{children:e.jsx(xW,{children:e.jsxs(hW,{children:[e.jsx(EB,{}),e.jsx(Loe,{})]})})})})})}d5(document.getElementById("root")).render(e.jsx(zoe,{}));
